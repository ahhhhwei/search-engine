阮一峰的网络日志    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);        阮一峰的网络日志document.addEventListener("DOMContentLoaded", function(event) {  enableTooltips("latest-comments");});/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#homepage_cre');  }, 1000);});*/if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');                                                阮一峰的网络日志                                                                                                                                                                  科技爱好者周刊（第 343 期）：如何阻止 AI 爬虫分类：周刊                             这里记录每周值得分享的科技内容，周五发布。（[通知] 下周清明假期，周刊休息。）                            继续阅读全文 »                                       2025年3月28日 08:09                        | 留言（26）                                         最新文章  2025年03月21日 » 科技爱好者周刊（第 342 期）：面试的 AI 作弊----用数字人去面试  2025年03月14日 » 科技爱好者周刊（第 341 期）：低代码编程，恐怕不会成功  2025年03月 7日 » 科技爱好者周刊（第 340 期）：技术炒作三十年  2025年03月 3日 » Trae 国内版出来了，真的好用吗？  2025年02月28日 » 科技爱好者周刊（第 339 期）：代币是什么  2025年02月21日 » 科技爱好者周刊（第 338 期）：重新思考 6G  2025年02月14日 » 科技爱好者周刊（第 337 期）：互联网创业几乎没了    更多文章……                                                                                                                                                                                     最新留言                        姓王者                              solitas                              Karlbaey                              Felix                              Mr.he                              ww                              Hu                              rammiah                        关于          个人简介，访谈    Email：yifeng.ruan@gmail.com    文章：2162    留言：75507                                                                Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}                              (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9491c894cf45',t:'MTc0MzI0MzA1Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog.html
阮一峰的网络日志  ： 全部文章（按分类查看）    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);    阮一峰的网络日志  ： 全部文章（按分类查看）if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                          文章存档按日期排列            科技爱好者周刊（第 343 期）：如何阻止 AI 爬虫分类：周刊                             这里记录每周值得分享的科技内容，周五发布。（[通知] 下周清明假期，周刊休息。）                            继续阅读全文 »                                       2025年3月28日 08:09                        | 留言（26）                          最近的20篇文章（共2162篇）              2025.03.21：科技爱好者周刊（第 342 期）：面试的 AI 作弊----用数字人去面试（52条评论）                     2025.03.14：科技爱好者周刊（第 341 期）：低代码编程，恐怕不会成功（78条评论）                     2025.03.07：科技爱好者周刊（第 340 期）：技术炒作三十年（40条评论）                     2025.03.03：Trae 国内版出来了，真的好用吗？（28条评论）                     2025.02.28：科技爱好者周刊（第 339 期）：代币是什么（51条评论）                     2025.02.21：科技爱好者周刊（第 338 期）：重新思考 6G（64条评论）                     2025.02.14：科技爱好者周刊（第 337 期）：互联网创业几乎没了（63条评论）                     2025.02.07：科技爱好者周刊（第 336 期）：面对 AI，互联网正在衰落（79条评论）                     2025.01.24：科技爱好者周刊（第 335 期）：年底的未来已来（57条评论）                     2025.01.17：科技爱好者周刊（第 334 期）：年终笔记四则（51条评论）                     2025.01.16：AI 搞定微信小程序（13条评论）                     2025.01.10：科技爱好者周刊（第 333 期）：一切都要支付两次（99条评论）                     2025.01.03：科技爱好者周刊（第 332 期）：西蒙·威利森的年终总结，梁文锋的访谈（52条评论）                     2024.12.27：科技爱好者周刊（第 331 期）：你可能是一个 NPC（86条评论）                     2024.12.20：科技爱好者周刊（第 330 期）：李开复梳理人工智能（54条评论）                     2024.12.13：科技爱好者周刊（第 329 期）：示意图利器 D2（45条评论）                     2024.12.06：科技爱好者周刊（第 328 期）：AI 模型不是一门好生意（46条评论）                     2024.12.02：AI 应用无代码开发教程：工作流模式详解（16条评论）                     2024.11.29：科技爱好者周刊（第 327 期）：没有链接的互联网（54条评论）                                                                                                          分类                散文（159）                                          观点与感想（195）                                          算法与数学（32）                                          开发者手册（223）                                          理解计算机（63）                                          JavaScript（100）                                          计算机行业历史（39）                                          周刊（343）                                          创业（58）                                          译文集（46）                                          科技爱好者（149）                                          文学爱好者（36）                                          英语爱好者（66）                                          剪贴板（162）                                          笔记本（179）                                          杂物间（288）                                          Joel谈软件（14）                                          USENET（7）                                                                                                       Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9499ad41cf45',t:'MTc0MzI0MzA1OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/archives.html
科技爱好者周刊（第 340 期）：技术炒作三十年 - 阮一峰的网络日志    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    科技爱好者周刊（第 340 期）：技术炒作三十年 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：Trae&nbsp;国内版出来了下一篇：科技爱好者周刊（第&nbsp;3                                                                                分类：                                                                                    周刊                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              科技爱好者周刊（第 340 期）：技术炒作三十年                                                                                    作者： 阮一峰                                    日期： 2025年3月 7日                                                                                                                                            这里记录每周值得分享的科技内容，周五发布。                                                                                                                本杂志开源，欢迎投稿。另有《谁在招人》服务，发布程序员招聘信息。合作请邮件联系（[email&#160;protected]）。封面图成都建筑师刘家琨，本周获得号称"建筑界诺贝尔奖"的普利兹克奖，上图是他的作品苏州御窑金砖博物馆。（via）技术炒作三十年大家有没有发现，每隔一段时间，媒体就会大肆炒作一种新技术，宣扬它将对人类产生巨大影响，全社会都在关注，人人都在谈论。这种炒作就是大家常说的"风口"吧。突然之间，风就起来了，如果正好站在风口，猪也能飞起来。你能举出多少个这种炒作的例子？一个国外程序员根据回忆，列出了过去三十年主要的几次技术炒作。  1998-2001 年：互联网 WWW1999-2006 年：Java2004-2007 年：Web 2.02007-2010：云计算2010-2015：社交媒体2012-2015：物联网2013-2015：大数据2017-2021：区块链2021 年至今：人工智能大家觉得，这个时间列表是否准确？我的亲身感受是差不多。这是主要的几次技术炒作，而且这些技术都成功了，所以炒作的时间才会持续这么久，两年到五年，然后被下一个热点取代。当中，还有许多次小的技术炒作，但都没有那么成功，持续时间就没有这么久，很快退潮了，比如元宇宙、Web 3、AR/VR 眼镜、3D 打印、自动驾驶等等。一种新技术能够带来大规模、长时间的炒作，有一个前提条件，那就是它有真东西，确实能对社会经济带来非常有感的变化。上面列表的每一种新技术，确实都是大的突破，改变了技术方向，没有一个是虚的。如果再加上智能手机、短视频、加密货币，可能就把最近三十年大的技术"风口"都包括了。我以前有一个误区，看不起技术炒作，认为那只是一窝蜂的音浪，跟娱乐版的明星炒作没什么不同。人到中年，我才意识到，这种观念大错特错，技术从业者千万不能有这种想法。每一次技术炒作，不仅是音浪，更是机会，会带来空前的关注、疯狂涌入的资金、以及切切实实的需求。炒作规模越大、程度越厉害，带来的机会和资金也就越大。每一次大规模的技术炒作，都会诞生一些快速增长的指标公司，创造巨大的财富效应。如果你正好身在其中，事业和财富都会随之起飞。让我们现实一点，一个工程师最有技术生产力、创造力、事业起飞的时间窗口，就只有那么几年。如果个人事业要快速起来、为未来铺好道路，光有技术还不够，还必须赶上至少一个大的技术风口，用外部的资金和需求放大个人努力。否则，单靠自己的成果积累，就太慢了，很难快速到达更高的层次，很可能辛辛苦苦干了二十年，还是在做一些基础的事情。如果出现技术升级，使得你的技能过时了，后面的路就难了。技术风口其实是实现个人阶层飞跃、人生翻转的最可行的路径。所以，每一轮大的技术风口并不完全是一哄而上的炒作，里面包含了一些真正的机会，值得关注和跟上。这也是为什么周刊每一次都对新技术倍加关注、积极评价的原因。当然，赶上技术风口的前提，还是要有真才实学，能做出实打实的产品。否则，真遇到风口，你也无法脱颖而出，拿到技术炒作的红利。[活动] AI FOR CODE 创意挑战赛上周提到的全国 AI 编程大赛，大家还有印象吗。这次大赛为了让更多人参与，除了常规的"应用赛道"，还特别设置了"创意赛道"。只要有创意，就能参加，不需要具体的实现，实现交给 AI。创意赛道从今天（3月7日）开始，就可以提交作品了，到3月27日截止。如果你有想让 AI 实现的创意（点子），不妨发布到作品提交专区。发布时，需要按照模版要求提交。注意，发布的创意需要公开可见，这样才能让大家投票。得票高的创意，将有丰富的奖品。每个人最多提交5个创意。如有团队使用你的创意完成项目开发，你将获得神秘大礼！不要错过本次大赛，只要你有想法，就有机会得奖。提交创意和投票的详细介绍，可以点击这里，或者扫描上面海报的二维码。修复壁画的新方法意大利帕多瓦教堂，曾经有一幅巨大的中世纪壁画，非常精美。但是，这幅壁画在1944年的第二次世界大战被炸毁。下面是壁画的虚拟重建图（局部）。壁画被炸毁时，人们把墙壁的碎片收集起来，一共有88000多块，存放在博物馆。下面是碎片的照片，这些碎片大概只占原始壁画的10%。碎片的数量太大，缺失又太多，从来没人敢于尝试将它们还原。但是，1992年的时候，博物馆曾经将所有碎片拍成了数码照片。慕尼黑工业大学的数学教授马西莫·福纳西耶（Massimo Fornasier）得知了这件事，决定基于这些数码照片，使用计算机进行壁画还原。这幅壁画在战前，曾经有过一张黑白照片（下图），可以作为修复的依据。马西莫教授的第一步，是将这张照片上色，还原成彩色照片。然后，将碎片进行图像吻合，一块块找到它们的位置（下图）。下面是碎片上墙的样子。缺失的部分，团队用灰白颜色补全。全彩的虚拟效果图如下。科技动态1、美国萤火虫航天公司的"蓝色幽灵"登陆器，成功登陆月球，成为第一家登陆月球的民营企业。2、一家美国生物技术公司，改造了老鼠的毛发基因，成功培养出了长毛鼠。他们下一步的目标，是培育长毛象。3、本田公司推出一款口袋妖怪摩托车，外形非常惊艳（下图）。4、联想推出一款太阳能笔记本，上盖覆盖了太阳能电池。据说阳光下放20分钟，可以播放视频1小时。但是怎么看，都不如外接一个太阳能发电板实用。5、微软将在今年5月关闭通信服务 Skype，由 Teams 替代。智能手机出现之前，Skype 是最流行的国际电话软件。文章1、流式 HTML（英文）AI 的聊天对话都是流式加载的，本文介绍一个技巧，不使用 JS 也能加载流式内容。2、不要用 TypeScript 枚举（英文）TypeScript 官方已经不建议使用 enum（枚举）语法，作者建议改用字符串的联合类型代替。3、我如何使用 roboscribe 音频转文本（英文）一篇教程，作者使用软件 roboscribe 将播客转成可用的文本，这事要比听上去麻烦。4、如何测试电梯（中文）本文将电梯抽象成一个"有限状态机"，设计测试用例。（@lezhi12 投稿）5、我为什么选择 Firefox（英文）作者介绍 Firefox 浏览器胜过 Chrome 的几个地方，有些功能大家可能未必知道。6、脚本代替别名（英文）常用的终端命令，往往可以设置别名（alias）作为快捷方式，作者提出一种新的方式，用脚本代替别名，更容易维护。7、Tailscale 对我很有用（英文）作者介绍自己的 Tailscale 用法，将不同的设备组成一个虚拟局域网。工具1、Yaak一个测试 API 的开源桌面软件，功能比较全。2、cleanmac清理 macOS 系统的一个命令行脚本。3、Lynx字节开源的一款跨平台原生应用开发工具，使用 Web 语法，生成各个平台的原生应用，类似于 React Native。4、appstat监控 Windows 应用的资源占用（内存、CPU、网络）的一款工具。5、Maestro一个 Web 和 手机的 UI 测试工具，只要写好配置文件，就能自动运行测试。6、Git Worktree ManagerVS Code 插件，方便在不同的 Git 仓库、不同的分支之间切换。（@jackiotyu 投稿）7、Hugo Translator一个 Python 脚本，将 markdown 格式的中文 Hugo 博客帖子，翻译成英文。（@Rico00121 投稿）8、O-Spy一个 Web 应用的记录并回放用户操作的工具，用来远程调试。（@wqcstrong 投稿）9、MTranServer开源的离线翻译服务器，号称资源消耗低，CPU + 1G 内存即可运行，支持调用沉浸式翻译。（@xxnuo 投稿）10、Screen Sharing Application一个开源的 Next.js 应用，通过点对点通信，实时分享你的屏幕。它会生成一个房间码，其他人访问这个房间，就能看到你的屏幕。AI 相关1、olmOCR一个使用 AI 模型进行文字识别（OCR）的 Python 工具。2、Probly一个基于 AI 的电子表格软件，可以在浏览器中对表格运行 Python 代码。3、Hacker News 每日播报每天自动抓取 Hacker News 热门文章，通过 AI 生成中文播客。（@Y024 投稿）4、语析基于大模型，进行知识库管理与生成知识图谱的工具。（@xerrors 投稿）5、DiffRhythm西北工业大学 ASLP 实验室开发的一个 AI 音乐生成模型。（@JoeDeanx 投稿）资源1、Meta 的 AI DemoMeta 公司的 AI 实验室，展示最新的成果。2、ProWords一个基于 AI 的单词记忆平台，根据职业身份生成例句，代码开源。（@winterfx 投稿）3、圣彼得大教堂 3D 导览梵蒂冈的圣彼特大教堂（St. Peter's Basilica）是世界最大教堂，这个网站提供它的 3D 模型还原。4、Shapecatcher这个网站根据你画出的形状，返回匹配的 Unicode 字符，包括 Emoji 字符和东亚文字。图片1、奥乐齐的条形码奥乐齐（Aldi）是一家德国连锁超市，为了方便用户扫描条形码，把条形码印刷得特别长。小包装商品无法放置那么长的条形码，奥乐齐就会设法放置多个条形码。上图的奶酪通心粉，在侧面和底部都有条形码。2、乐高日心仪国外网友使用乐高积木，搭建了一个可以转动的日心仪。上图中，中间黄色的是太阳，地球围绕太阳公转，并且有22.5°的倾斜角。地球的旁边还有月亮。月亮其实有5.15°倾角，但是肉眼不容易察觉。它是可以实际运转的，内部结构很复杂，有大量齿轮。文摘1、高管与普通员工的脱节作者：伊森·埃文斯（Ethan Evans）我是已经退休的亚马逊副总裁，在亚马逊待了超过15年，领导过800多人的国际团队。我任职期间，亚马逊股票涨幅高达9082%，因此我对普通人的许多生活困境并不了解。比我更高级的副总裁和首席执行官，就更是如此了。谈论自己的财富是大多数高管都避而不谈的禁忌话题。今天我想谈谈一个小问题，先介绍一下我自己的情况，就举四点：1) 我没有任何抵押贷款，2) 每两周有一个女佣为我打扫一次住宅，3) 我付钱请别人帮我的花园割草， 4) 我50岁就退休了。普通家庭，即使是工程师和知识分子，也没有这些福利。在我上面的高管，享有的福利就更多了，我看到的就有：1) 有专门的度假屋，雇了多个工作人员长期看守；2) 私人飞机；3) 私人助理，不用自己付账单、买杂货或接孩子，助理处理一切；4）私人司机；5）孩子上贵得惊人的私立学校；6）他们想住哪儿就住哪儿。经济成本从来不是这一类人的障碍。现在让我们看一个例子，说明高管与员工是如何脱节的：结束远程工作，重返办公室。高管的财富使他们有不同的选择。大多数高管把工作和职业成功放在生活的首位。如果他们不这样做，他们很少能成为高管。他们中的大多数人（包括我自己），利用财富为自己购买时间。他们大部分时间都花在工作上，小部分时间花在家人身上。如果工作是你生活的重心，那么重返办公室就自然是一个优先事项。你想象一下高管的工作场景：无需通勤，司机会送你到家，你一心工作，无需赶回家接孩子，助理会帮你做这些，你也无需购物、打扫或做饭，佣人会做这些，无需辅导作业，好学校会提供辅导。在这种情况下，回到办公室感觉非常"值得"。这不是一篇反对高管个人财富的长篇大论。毕竟，我付出了25年的生命，得到了一些财富。相反，这是一种解释，以便你了解高管与普通员工的脱节。如果你需要影响高管，而他们的经历可能与你的现实生活脱节，请通过故事、视频和数据帮助他们看到现实。请记住，他们确实生活在另一个世界。这并不一定会使他们变得邪恶，只是脱节了。我不想发生"脱节"，但必须承认这种情况确实会随着时间的推移而发生。言论1、兼职创业不是可以长期坚持的事情。如果你上班时整天面对电脑，回家后又坐在另一台电脑前开发自己的软件，那将让你筋疲力尽。你可以这样做几个月，但问题是，企业通常需要更长的时间才能起步，很多人就会放弃。-- 《关于独立开发》2、在开始一个项目时，一定程度的天真是必不可少的。如果我知道这条路有多难，我可能永远不会开始。但由于我完全不了解未来的挑战，所以我只是一头扎进去，一路摸索。 -- 金茨·齐巴洛迪斯（Gints Zilbalodis），拉脱维亚导演，他的作品《猫猫的奇幻漂流》（Flow）获得今年的奥斯卡最佳动画片奖3、你编写的每一行代码都可能是一个潜在的 bug。除非你绝对需要这行代码，缺了它程序就会受影响，否则就不要写。不要编写你用不到的抽象层。如果优化会增加任何复杂性，就坚决不要优化。-- 《每一代码都可能是 bug》4、我对 AI 的看法是，AI 本身不会创造，需要人类与它共同创造，创造的结果好坏与使用它的人的质量高度相关。与 AI 交谈不像在与一个人交谈，而像在与人类的集体思维交谈。AI 不应该让你减少思考，而应该帮助你增加思考，AI 是你的杠杆，可以让你拓展自己。-- Alex Komoroske，美国程序员5、10个人开会，可以没有主持人。100个人开会，必须有主持人。1000个人开会，需要一个组委会。扩大10倍，需要将知识/资源推向极限，但是扩大100倍，需要跳出现有的维度，重新安排一切。-- 《你的下两个零》往年回顾一周是一年的2%（#293）与孔子 AI 聊天（#243）前端与后端，谁更难？（#193）世界尽头与冷酷仙境（#143）（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2025年3月 7日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.03.21: 科技爱好者周刊（第 342 期）：面试的 AI 作弊----用数字人去面试                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.03.14: 科技爱好者周刊（第 341 期）：低代码编程，恐怕不会成功                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.28: 科技爱好者周刊（第 339 期）：代币是什么                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.21: 科技爱好者周刊（第 338 期）：重新思考 6G                                                         这里记录每周值得分享的科技内容，周五发布。                            广告（购买广告位）云手机                                                              留言（40条）                                                                                                    ccc 说：                                                        4、我对 AI 的看法是，AI 本身不会创造，需要人类与它共同创造，创造的结果好坏与使用它的人的质量高度相关。与 AI 交谈不像在与一个人交谈，而像在与人类的集体思维交谈。AI 不应该让你减少思考，而应该帮助你增加思考，AI 是你的杠杆，可以让你拓展自己。-- Alex Komoroske，美国程序员这期这个说出了目前 AI 的用法。                           2025年3月 7日 08:34 | # | 引用                                                                                                                Hu 说：                                                        AR/VR 眼镜、3D 打印、自动驾驶。AR/VR眼镜在游戏上是很成功的，怎么能说他是昙花一现呢？3D打印至少这个技术是真实存在的，淘宝上也很多人用3d打印卖东西。自动驾驶，很多车也有了啊，只是不能完全自动驾驶而已，只是开累了让自动驾驶顶替一会，或者让车在停车场自动找停车位。                           2025年3月 7日 08:51 | # | 引用                                                                                                                Ken 说：                                                        公司昨天已通知全部装Teams，替换skype。好好的钉钉，几乎只用于打卡和请假，人家就是不用。                           2025年3月 7日 09:10 | # | 引用                                                                                                                姜珹 说：                                                        对于技术炒作，借用黑神话里的一句话，你不炒作别人怎么知道这东西牛逼肯砸钱给你呢？                           2025年3月 7日 09:11 | # | 引用                                                                                                                稻草人 说：                                                        最近发现 我周围新开了很多看护和送葬服务的店铺，可能是人口老龄化特别严重吧。以后的技术发展可能真的像科幻电影中，有钱人老死后可以把自己的意识移植到他人身上。                           2025年3月 7日 09:36 | # | 引用                                                                                                                和光同尘 说：                                                        Proword的创意不错，但是我使用15分钟后发现，这款背单词软件有致命的缺陷，就是缺乏复习功能和趣味性，所有单词都没有英文释意，另外有些单词的释意并不准确，甚至有缺漏。大家有什么更好的选择吗？最好是手机端和网页端都能用的那种，谢谢                           2025年3月 7日 09:53 | # | 引用                                                                                                                zone 说：                                                        趁着AI还未定型赶紧用，将来少不了买各种普通会员，VIP会员，超级会员。从古至今，书籍的垄断、知识的垄断、信息的垄断，接下来是可能是算力的垄断。                           2025年3月 7日 10:08 | # | 引用                                                                                                                CryptoMichael 说：                                                        那个电梯测试，我说一个痛点，就是很多联动电梯完全不考虑1层的特殊情况，上下班高峰的时候，1层必须停，否则两个电梯从-1同时往上走，一个停一个不停，极大地浪费了运力，1层还一堆人上不去。                           2025年3月 7日 10:12 | # | 引用                                                                                                                花楹 说：                                                        引用CryptoMichael的发言：那个电梯测试，我说一个痛点，就是很多联动电梯完全不考虑1层的特殊情况，上下班高峰的时候，1层必须停，否则两个电梯从-1同时往上走，一个停一个不停，极大地浪费了运力，1层还一堆人上不去。同意，1层不同电梯的上行按钮应该独立控制，而不应该一个停了，另一个就灭了                           2025年3月 7日 10:39 | # | 引用                                                                                                                sam 说：                                                        我觉得关于炒作有点幸存者偏差只记载下来成功的炒作 失败的炒作避而不谈                           2025年3月 7日 10:40 | # | 引用                                                                                                                Albert 说：                                                        引用和光同尘的发言：Proword的创意不错，但是我使用15分钟后发现，这款背单词软件有致命的缺陷，就是缺乏复习功能和趣味性，所有单词都没有英文释意，另外有些单词的释意并不准确，甚至有缺漏。大家有什么更好的选择吗？最好是手机端和网页端都能用的那种，谢谢他这个程序应该是AI自动生成的，我猜用的是 https://replit.com/ 这个网站                           2025年3月 7日 10:47 | # | 引用                                                                                                                信天翁大跌眼镜 说：                                                        引用和光同尘的发言：Proword的创意不错，但是我使用15分钟后发现，这款背单词软件有致命的缺陷，就是缺乏复习功能和趣味性，所有单词都没有英文释意，另外有些单词的释意并不准确，甚至有缺漏。大家有什么更好的选择吗？最好是手机端和网页端都能用的那种，谢谢谢谢使用和反馈，因为开发时间比较短，所以很多功能没有做，比如你说的复习,也有很多地方比较粗糙。如果有其他好用的希望也能分享给我，谢谢                           2025年3月 7日 10:48 | # | 引用                                                                                                                callen 说：                                                        不知不觉，做了快20年的技术了。看着一波波的风口，从身边吹过。真是小富靠勤，大富靠运啊。很赞同下面的话：让我们现实一点，一个工程师最有技术生产力、创造力、事业起飞的时间窗口，就只有那么几年。如果个人事业要快速起来、为未来铺好道路，光有技术还不够，还必须赶上至少一个大的技术风口，用外部的资金和需求放大个人努力。否则，单靠自己的成果积累，就太慢了，很难快速到达更高的层次，很可能辛辛苦苦干了二十年，还是在做一些基础的事情。如果出现技术升级，使得你的技能过时了，后面的路就难了。技术风口其实是实现个人阶层飞跃、人生翻转的最可行的路径。                           2025年3月 7日 10:51 | # | 引用                                                                                                                觅楽 说：                                                        引用ccc的发言：4、我对 AI 的看法是，AI 本身不会创造，需要人类与它共同创造，创造的结果好坏与使用它的人的质量高度相关。与 AI 交谈不像在与一个人交谈，而像在与人类的集体思维交谈。AI 不应该让你减少思考，而应该帮助你增加思考，AI 是你的杠杆，可以让你拓展自己。-- Alex Komoroske，美国程序员这期这个说出了目前 AI 的用法。或许我们应该像看待望远镜的发明一样理解AI：当伽利略第一次指向星空时，望远镜没有替代天文学家的思考，而是重构了人类对宇宙的认知维度。AI正在成为人类认知的"引力波探测器"，让我们得以感知思维宇宙中那些原本不可见的涟漪。                           2025年3月 7日 10:54 | # | 引用                                                                                                                bestcoder 说：                                                        三个人开会，也得有主持人                           2025年3月 7日 10:57 | # | 引用                                                                                                                DD 说：                                                        我一直无法理解元宇宙究竟想搞什么，可能是因为我喜欢玩mmorpg吧                           2025年3月 7日 10:59 | # | 引用                                                                                                                lin 说：                                                        引用姜珹的发言：对于技术炒作，借用黑神话里的一句话，你不炒作别人怎么知道这东西牛逼肯砸钱给你呢？是这样的，看你想要的规模吧                           2025年3月 7日 11:21 | # | 引用                                                                                                                sa1l 说：                                                        引用和光同尘的发言：Proword的创意不错，但是我使用15分钟后发现，这款背单词软件有致命的缺陷，就是缺乏复习功能和趣味性，所有单词都没有英文释意，另外有些单词的释意并不准确，甚至有缺漏。大家有什么更好的选择吗？最好是手机端和网页端都能用的那种，谢谢欧陆词典我用着挺好的，手机上可以导入mdx词典，手机上看英文书能直接查词，查的词进入生词本后还方便后续背词，还支持自定义AI模型，放入自己的apikey                           2025年3月 7日 11:24 | # | 引用                                                                                                                水桶腰男孩 说：                                                        引用Hu的发言：AR/VR 眼镜、3D 打印、自动驾驶。AR/VR眼镜在游戏上是很成功的，怎么能说他是昙花一现呢？3D打印至少这个技术是真实存在的，淘宝上也很多人用3d打印卖东西。自动驾驶，很多车也有了啊，只是不能完全自动驾驶而已，只是开累了让自动驾驶顶替一会，或者让车在停车场自动找停车位。就问个问题你身边的人使用了这些技术了吗，我是觉得没有达到那种普遍的消费级别                           2025年3月 7日 11:51 | # | 引用                                                                                                                lunone 说：                                                        enum的那个,跟人抬杠了好久,终于可以骄傲的说,我TM是对的                           2025年3月 7日 11:57 | # | 引用                                                                                                                吉吉如律令 说：                                                        引用和光同尘的发言：Proword的创意不错，但是我使用15分钟后发现，这款背单词软件有致命的缺陷，就是缺乏复习功能和趣味性，所有单词都没有英文释意，另外有些单词的释意并不准确，甚至有缺漏。大家有什么更好的选择吗？最好是手机端和网页端都能用的那种，谢谢多邻国呗                           2025年3月 7日 12:09 | # | 引用                                                                                                                sunflower 说：                                                        高管与普通员工的脱节，这并不一定会使他们变得邪恶，只是脱节了-----------------------------------------特权阶层内部人士的有限自省，将问题简化为“认知脱节”，回避了财富分配机制和权力结构的深层追问                           2025年3月 7日 12:11 | # | 引用                                                                                                                lin 说：                                                        引用稻草人的发言：最近发现 我周围新开了很多看护和送葬服务的店铺，可能是人口老龄化特别严重吧。以后的技术发展可能真的像科幻电影中，有钱人老死后可以把自己的意识移植到他人身上。你觉得这能实现吗？你这种感觉太天真了                           2025年3月 7日 13:34 | # | 引用                                                                                                                dwy 说：                                                        引用lin的发言：你觉得这能实现吗？你这种感觉太天真了不过现在确实有类似的，比如富豪购买血液，定期为自己换血，保持自己年轻，类似将别人的身体移植到自己的身体，保持自己的意识                           2025年3月 7日 16:50 | # | 引用                                                                                                                RedNax 说：                                                        物联网,大数据和区块链都不能算成功。VR也不算（现在就Meta一家还在死撑）不过3D打印肯定算是成功了，毕竟3D打印的成功就在于快速做原型和一些传统大规模工业制造很难造的领域（比如火箭发动机），用3D打印取代工业化大规模制造本来就没有意义。                           2025年3月 8日 03:06 | # | 引用                                                                                                                leech 说：                                                        引用姜珹的发言：对于技术炒作，借用黑神话里的一句话，你不炒作别人怎么知道这东西牛逼肯砸钱给你呢？黑神话里哪里有这句话？                           2025年3月 8日 08:42 | # | 引用                                                                                                                Liu 说：                                                        10个人开会，可以没有主持人。100个人开会，必须有主持人。1000个人开会，需要一个组委会。真的是量变引起质变，数量多起来以后事情就会变得特别复杂。                           2025年3月 8日 09:03 | # | 引用                                                                                                                nono 说：                                                        引用leech的发言：黑神话里哪里有这句话？若不披上这件衣裳，众生又怎知我尘缘已断，金海尽干                           2025年3月 8日 14:26 | # | 引用                                                                                                                leo 说：                                                        博客能不能加一个目录导航呢，现在不太方便在各个分类中跳转                           2025年3月 8日 14:47 | # | 引用                                                                                                                xiaolong 说：                                                        元宇宙他么到底是个啥玩意，忽悠                           2025年3月 8日 16:20 | # | 引用                                                                                                                kvii 说：                                                        我到不用命令行 alias，而是用 ctrl + r 搜索之前执行过的命令。要是命令行也能像 IDE 那样提供补全就好了。比如输入 g s 就提示 git status 这样。                           2025年3月 8日 17:55 | # | 引用                                                                                                                Bread 说：                                                        对我来说PC上区别不明显，但是Firefox手机版支持插件（之前的chromium阵营只有kivi，并不好用，现在edge似乎已经在测试这个功能了，但无论如何，Firefox在这方面是领先的），输入框可以设在下方方便单手操控，并且常规网络即可多设备同步，这是我选择Firefox的理由                           2025年3月 8日 21:59 | # | 引用                                                                                                                495425 说：                                                        是否再github上也有如此的科技周刊？感觉刚刚看过                           2025年3月 9日 10:52 | # | 引用                                                                                                                Lionad 说：                                                        “创造”这个词很虚，“AI不会创造”相当于什么也没说。举个例子，DeepSeek R1 在创造“精巧的比喻”这个点状能力层面就远比大部人好。                           2025年3月11日 00:34 | # | 引用                                                                                                                igeo 说：                                                        文中有一处不妥：地球围绕太阳公转，并且有22.5°的倾斜角。实际角度为23°26′，约23.5°。                           2025年3月11日 14:58 | # | 引用                                                                                                                姓王者 说：                                                        人工智能上个世纪也有"热潮",只是现在才发扬光大                           2025年3月11日 21:15 | # | 引用                                                                                                                踵华 说：                                                        引用Ken的发言：公司昨天已通知全部装Teams，替换skype。好好的钉钉，几乎只用于打卡和请假，人家就是不用。钉钉能有飞书好用，国内我用过最舒服的办公软件就是飞书了，没有之一。                           2025年3月14日 11:57 | # | 引用                                                                                                                Randy 说：                                                        Enum那个如果是联合类型，那只能通过下标取值了吗？                           2025年3月14日 16:28 | # | 引用                                                                                                                月华 说：                                                        shapecatcher.com无法识别东亚文字，作者你好像把网页的意思写反了。Chinese, Japanese and Korean are not currently supported.                            2025年3月21日 00:10 | # | 引用                                                                                                                dh 说：                                                        博主对各个工具资源的投稿线索似乎缺乏有效的检查类似于 O-Spy 工具在278期已经推介过一次，名字叫page-spy-web这期又换个名字，链接地址都没有变，重新再介绍一遍。                           2025年3月24日 08:18 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e94a0f962cf45',t:'MTc0MzI0MzA1OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2025/03/weekly-issue-340.html
Trae 国内版出来了，真的好用吗？ - 阮一峰的网络日志    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Trae 国内版出来了，真的好用吗？ - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：科技爱好者周刊（第&nbsp;3下一篇：科技爱好者周刊（第&nbsp;3                                                                                分类：                                                                                    开发者手册                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Trae 国内版出来了，真的好用吗？                                                                                    作者： 阮一峰                                    日期： 2025年3月 3日                                                                                                                                            年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。                                                                                                                我心想，现在的 IDE 都有 AI 插件，功能完备，字节自己也有 MarsCode 插件，有必要再做一款单独的 IDE 吗？我就没有特别关注这个工具。上周，我遇到字节的同学，得知 Trae 国内版就在本周发布，我还提前拿到了内测版，这可是国内市场的首个 AI 原生 IDE。今天，就来说说我的使用心得，顺便也探讨一个更大的问题：AI 工具已经这么多了，该不该造新的轮子？先透露一下结论：Trae 国内版值得用。它作为一个 AI IDE，整体比插件好用，而且内置的大模型----豆包 1.5 pro、DeepSeek 满血版----无限量免费使用。一、国外版与国内版介绍使用体会之前，我先解释一下，两个版本的区别，主要是模型的差异。Trae 国外版使用国外的模型，对于国内用户来说，存在连接不上、等待时间长、网速较慢等问题。Trae 国内版使用国内的模型，连接可以保证稳定快速，界面也根据国内用户的习惯进行了定制。我也问了字节的同学，Trae 国内版和 MarsCode 是什么关系。回答是，它们是同一个团队的作品，适用于不同场景。如果你想保留原来使用的 IDE，只增加 AI 编程相关功能，那就用 MarsCode 插件。如果想体验一个全新的围绕 AI 设计的原生 IDE，那就试试 Trae。这两个产品后续都会长期开发，可以根据自己的需要选择。二、安装Trae 国内版需要去官网 trae.com.cn下载。目前，有三个版本：Windows 版、macOS Intel 芯片版、macOS M 系列芯片版。安装启动后，会出现下面的画面。接着，让你选择亮色/暗色主题，以及语言（简体中文）。它还会问你，要不要导入原来 IDE（VS Code/Cursor）的配置，算是很贴心的设计了。最后，问你要不要登录。不登录也可以用，只是某些功能会受到限制。登录的话，就跳转到 Trae 官网，用你的手机号登录。一切完毕，就会进入使用界面。三、使用界面Trae 的使用界面，相当简洁。左侧就是 VS Code 的界面，熟悉的话，上手没有任何难度。界面的右侧是 AI 区域。可以看到，它分成两个模式：Chat 和 Builder。Chat 模式是默认模式，也就是问答模式。AI 回答问题，也可以生成代码，但不会生成项目，需要自己手动把代码复制过去。Builder 模式是项目模式，你给出文字描述，让 AI 一键生成项目。下面，就来试试这两个模式。四、Chat 模式Chat 模式的主体就是一个对话框，右下角按钮可以选择底层模型。国内版目前有三个模型可供选择。  豆包 1.5 proDeepSeek R1DeepSeek V3这三个模型都是免费无限量使用，DeepSeek 系列模型都是满血版。我实测，速度令人满意，能够较快地给出回答，没有遇到"服务器繁忙"的提示，包括最耗时的 DeepSeek R1 模型都是如此。至于，回答问题的质量，老实说，现阶段领先的大模型，这方面已经没有太多可挑剔的了。任何问题都可以问，包括非技术类的问题。我直接让它生成代码，回答的格式非常友好。大家注意，上图中，第一个代码块是终端代码，右上角有三个按钮（下图）。上图右上角的三个按钮，分别是"复制"、"添加到终端"和"运行"。如果点击后两个按钮，会直接把代码传入 Trae 内置的终端，就像下面这样。这部分，我感觉用起来比插件版流畅，整体感更强，这大概就是把 AI 做成 IDE 的好处了。五、Builder 模式再看 Builder 模式，它可以一键生成项目。点击上方的标签页，切换到该模式。可以看到，第一次进入，会有一个"启动 Builder"按钮（下图）。系统会提示你（下图），这里可以从零到一完成项目构建，并且所有修改会自动保存，并显示两个示例项目：贪吃蛇和 Todo List。为了测试正常的流程，我就直接在下方的对话框输入："请用 React 生成一个 Todo List 应用。"系统会提示你指定一个目录，作为项目目录。然后，它不断给出操作步骤（下图）。上图中，需要执行具体的命令时，它会附有"运行"按钮，要你点击确认。点击后，Trae 会自动打开内置的终端，执行该命令（下图）。然后，它会一个个生成所需的文件，要求你审查。所有文件生成完毕，就出现了启动本地预览服务器的命令。运行后，Trae 会启动一个内置的 webview 页面，展示渲染效果，实时更新。这个很赞，任何修改都可以马上看到结果。但是我必须说，不知道是不是内测版的缘故，Builder 模式目前还不完善，只适合为项目生成架构，做不到一步到位，离理想状态有些差距。我试了多次，如果需求复杂一点，生成的代码很难一次就跑起来，需要多次修改。大家对它要抱有合理期待，这个模式后续还需要不断完善。六、其他功能除了两大模式，Trae 的其他功能也可圈可点。（1）代码智能补全。这是 AI 编程助手的基本功能，就不多说了。只要按回车键换行，Trae 会阅读并理解当前代码，然后自动补全后续代码。如果有注释，它会根据注释，生成缺少的代码。（2）指定上下文。Trae 允许指定对话的范围（上下文）。具体方法是在对话框输入#号。上图中，在对话框输入#后，系统就会自动弹出一个菜单，让你选择上下文（context），一共有四种。  Code（代码）File（文件）Folder（文件夹）Workspace（工作区）默认的上下文是当前工作区（Workspace，即目前打开的项目），也可以指定为某个函数或类（Code）、某个文件（File）、某个文件夹（Folder）。一旦指定了上下文，AI 的回答会更有针对性。比如生成代码时，就会结合上下文的场景。（3）一键转对话。为了方便地将代码编辑框的内容，传送给 AI，Trae 提供"一键转对话"按钮，省去了复制粘贴的麻烦。上图中，选中某段代码，系统就会弹出"添加到对话"的浮动菜单，一键复制到 AI 对话框，便于提问。终端窗口的报错信息，也有这个功能（下图），这就很方便让 AI 来 debug。（4）模型自定义功能。我听字节的同学说，Trae 后面会支持模型自定义功能，用户可根据自己的喜好，接入对应的模型API。七、总结我试用 Trae 国内版后，感到它有几个显著优点。（1）产品设计周全，最常用的场景都考虑到了，用户体验比较流畅。（2）界面友好，交互设计良好，开发者容易上手。（3）AI 模型（包括满血版 DeepSeek）无限量免费使用，响应始终稳定快速。不足之处是 Builder 模式还不够强，生成的程序有 bug，第一次生成往往跑不起来，需要不断调整，耗时较多。总结就是，一个完整的 AI IDE 还是比 AI 插件，用起来更容易，有"一体感"，达到了更大的定制程度。随着 AI 的能力进一步发展，AI IDE 的想象空间会更大，也许会成为未来 IDE 发展的主要方向。Trae 国内版刚刚上线，开发团队希望大家下载试用，多提宝贵意见。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2025年3月 3日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.01.16: AI 搞定微信小程序                                                         一、前言AI 生成代码，早不是新鲜事了，但是 AI 生成微信小程序，似乎还不多见。                            2024.12.02: AI 应用无代码开发教程：工作流模式详解                                                         一、引言一个月前，我写了一篇《AI 开发的捷径：工作流模式》，引起了很多读者的兴趣。                            2024.10.31: AI 开发的捷径：工作流模式                                                         一、引言大部分人使用 AI，大概都跟我一样，停留在初级阶段。                            2024.09.11: 白话多集群：工具和应用助手                                                         一、引言上周，我参加了腾讯全球数字生态大会。今天，就跟大家分享，我的一点收获，就是理解了多集群工具。                            广告（购买广告位）云手机                                                              留言（28条）                                                                                                    sam 说：                                                        简单的试用了一下样例里 贪吃蛇的页面根本没法玩让他生成个可以预览pdf的小工具=》一堆bug 最后打不开总结：与copilot功能类似 优点就是调研/debug时后能方便点当然 最大的优点 就是免费 不知道后续会收费不                            2025年3月 3日 16:16 | # | 引用                                                                                                                Kevin 说：                                                        上周已经开始使用了，在Builder 模式下可以让它做一些小的效果，响应速度还不错。给出的代码逻辑性也很强。                           2025年3月 3日 17:22 | # | 引用                                                                                                                leo 说：                                                        和cursor比还是有差距，希望不断迭代，不断变好                           2025年3月 3日 19:22 | # | 引用                                                                                                                ggg 说：                                                        并不是免费无限量吧。有次数限制的。                           2025年3月 3日 19:40 | # | 引用                                                                                                                zukuan 说：                                                        随着 AI 的能力进一步发展，AI IDE 的想象空间会更大，也许会成为未来 IDE 发展的主要方向。-----------------------------我觉得这个毋庸置疑了                           2025年3月 3日 21:31 | # | 引用                                                                                                                e 说：                                                        cursor最舒服的还是不停的tab补全，节约很多时间。                           2025年3月 4日 09:33 | # | 引用                                                                                                                老罗 说：                                                        trae IDE的隐私条款里写明了会收集用户代码，安全风险还是较高的。                            2025年3月 4日 10:18 | # | 引用                                                                                                                henry 说：                                                        trae的remote似乎不太好用                           2025年3月 4日 10:54 | # | 引用                                                                                                                Gorvey 说：                                                        代码生成最强的模型是claude。cursor厉害的原因之一就是默认使用claude 3.5.这个国内版不支持自己添加模型。什么时候支持了才会变得好用                           2025年3月 4日 11:06 | # | 引用                                                                                                                ll 说：                                                        简直就是垃圾，很难用，和cursor比差太远                           2025年3月 4日 12:37 | # | 引用                                                                                                                大脑袋比目鱼 说：                                                        windows 一个简单的vue3 demo项目，内存使用上了1.3G左右，好夸张                           2025年3月 4日 12:46 | # | 引用                                                                                                                小王 说：                                                        引用老罗的发言：trae IDE的隐私条款里写明了会收集用户代码，安全风险还是较高的。 这可不太好                           2025年3月 4日 14:49 | # | 引用                                                                                                                andrew 说：                                                        感觉除了builder模式和vscode的copilot差不太多。                           2025年3月 4日 17:52 | # | 引用                                                                                                                kingcwt 说：                                                        说实话 这个ide界面主题 真的丑                            2025年3月 6日 09:30 | # | 引用                                                                                                                迅鹿 说：                                                        最大的问题是慢，不方便，和cursor比还有差距，跟效率相比，我更愿意花钱买服务。cursor比trae快了太多，也方便了太多                           2025年3月 6日 11:10 | # | 引用                                                                                                                无名 说：                                                        试了登录和不登录，每次到使用那一步就直接退出了                           2025年3月 6日 14:25 | # | 引用                                                                                                                的 说：                                                        广告打的可以                           2025年3月 7日 08:57 | # | 引用                                                                                                                叶子 说：                                                        还是要看隐私协议的，今早刚看到一个视频，就是各大AI平台的条款，除deepseek外，其他都有些不好说，有的ai平台你投喂给他的和生产的产品都属于AI平台，不属于你，这一点特别是对于有些需要申请著作权的项目，打起官司来就是坑吧，我很慎重的在一些地方考虑是否使用它(AI)!                           2025年3月 7日 10:50 | # | 引用                                                                                                                华仔0515 说：                                                        AI IDE使用起来是比AI插件方便，好比自动驾驶汽车跟自动挡的差距。不知道后面会不会收费                           2025年3月 7日 15:48 | # | 引用                                                                                                                WuJoy 说：                                                        引用老罗的发言：trae IDE的隐私条款里写明了会收集用户代码，安全风险还是较高的。 这就是商业公司恶心的地方, 活还没干好就想着吃肉了                           2025年3月 7日 17:14 | # | 引用                                                                                                                Leon 说：                                                        引用老罗的发言：trae IDE的隐私条款里写明了会收集用户代码，安全风险还是较高的。 我把他们官网上的用户协议和隐私政策下载下来，让AI帮忙总结关于收集用户代码相关的条款：```- 代码知识图谱（Code Knowledge Graph）：  使用此功能时，用户代码库中的代码会被上传至公司服务器以计算嵌入向量（embeddings），构建代码库索引。  明确不保留实际代码：纯文本代码仅在请求处理期间存在，处理结束后即被销毁，仅存储嵌入向量和元数据（如哈希值、文件名），不保留实际代码内容（1.2.(4)）。这与《用户协议》第7节一致，即公司不永久存储用户代码库的明文文件。```虽然不存储明文代码，但是感觉还是有一定风险。                           2025年3月 7日 20:46 | # | 引用                                                                                                                匿名用户 说：                                                        我认为代码上传没有想象中那么重要。github上有大量的项目与代码，很有可能我们做的东西早都有了一个更好的开源成熟方案，同时，很有可能这些代码早都被用于训练ai了；我们自己的项目代码对ai的价值并不一定会很高，最有价值的地方可能是想法、思路、灵感、点子而不是具体的代码实现。值得注意的是文件名和非代码的文本部分，可能文件名或者目录中有一些隐私相关的文件，或者某个txt明文记载了密码之类的，这些非代码的文本文件一定要仔细检查避免发生隐私泄露。这些东西反而比代码本身要重要的多。对商业来说代码不泄露是一件重要的事情，但对我们个人来说是否有那么多需要保密的代码？                           2025年3月 7日 23:59 | # | 引用                                                                                                                yoran 说：                                                        宁愿花钱，这玩意儿老排队                           2025年3月 8日 23:00 | # | 引用                                                                                                                freekevin 说：                                                        国内通义灵码 应该是主要竞争对手 不过可能有创业公司也在搞这块                           2025年3月10日 10:39 | # | 引用                                                                                                                探索者Seekeren 说：                                                        搞不懂字节为啥要做IDE                           2025年3月19日 10:47 | # | 引用                                                                                                                ttl 说：                                                        国内版目前不支持上传图片。海外版是可以识别图片的                           2025年3月20日 10:19 | # | 引用                                                                                                                高工 说：                                                        引用sam的发言：简单的试用了一下样例里 贪吃蛇的页面根本没法玩让他生成个可以预览pdf的小工具=》一堆bug 最后打不开总结：与copilot功能类似 优点就是调研/debug时后能方便点当然 最大的优点 就是免费 不知道后续会收费不 我用它自动生成的贪吃蛇，是可以玩起来的。让它改改功能，它也很快改好了。                           2025年3月21日 09:39 | # | 引用                                                                                                                mttsui 说：                                                        昨天试了下，豆包模型在胡说八道。deepseek R1模型生成的代码基本可用。                           2025年3月21日 11:07 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e98115b3fcf45',t:'MTc0MzI0MzIwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2025/03/trae.html
科技爱好者周刊（第 335 期）：年底的未来已来 - 阮一峰的网络日志    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    科技爱好者周刊（第 335 期）：年底的未来已来 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：科技爱好者周刊（第&nbsp;3下一篇：科技爱好者周刊（第&nbsp;3                                                                                分类：                                                                                    周刊                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              科技爱好者周刊（第 335 期）：年底的未来已来                                                                                    作者： 阮一峰                                    日期： 2025年1月24日                                                                                                                                            这里记录每周值得分享的科技内容，周五发布。（[通知] 下周春节假期，周刊休息。）                                                                                                                本杂志开源，欢迎投稿。另有《谁在招人》服务，发布程序员招聘信息。合作请邮件联系（[email&#160;protected]）。封面图香港历史建筑"和昌大押"，布置了一条盘旋两层楼的金蛇，迎接蛇年。（via）年底的未来已来大概两周前，我就在想，龙年的最后一期周刊，要写什么？正好这一个月，有很多新发明、新技术发布。我想到，可以把它们放在一起，作为下一年的展望。编辑过程中，它们勾起了我的一点回忆。十年前，我接了一个活，为北京的一家杂志写文章，向普通读者介绍技术的新进展，以此赚一点稿费。写久了，我就有一个感觉，技术进展太快了，快于所有人的预期。我明明写的是真实事件，但是很多时候像在写科幻小说。就是在那个时候，我开始意识到，那句有名的话是千真万确："未来已来，只是尚未流行"。那些我们觉得很遥远、很科幻的事情，其实已经是活生生的现实，很快就会强烈地、不可避免地影响每个人的生活，可能是好的影响，也可能是不好的影响（技能过时了，行业消失了）。2017年，我把那些文章结集，起了一个书名《未来世界的幸存者》，表达我的这种想法，希望读者对即将到来的时代变革有所准备。十年后的今天，世界仿佛全然不同，我发现自己还在做同样的事情，还在介绍那些像科幻小说一样的真实技术。不同的是，我已经很明白了，为未来做准备，就是在为现在做准备，做一个未来世界的幸存者，就是做一个今日世界的幸存者。科技动态1、AI 陪护新加坡最近世界首个将 AI 引入了养老院，用来陪护老人。这个 AI 是一个女护士的样子，每天早上带领老人做早操、玩游戏、唱歌。她承担不了具体的医疗照护工作（比如喂饭打针），但是可以一天24小时，跟老人互动聊天，减少孤独感。她还会按时提醒老人吃药，一旦侦测到老人有异常，立刻发出警报。这是一个信号，养老行业很可能是 AI 和机器人最先落地的传统行业，因为老龄化社会实在太缺少照护人力了。2、澳网动画直播澳网公开赛正在澳大利亚举行，组委会为国际观众准备了 3D 动画直播。它将真实的运动员和比赛场面转成了实时的 3D 动画，配上球场原声和评论，逼真地还原了比赛。在欧美，澳网是付费观看直播，很多人看不到。免费的 3D 动画直播，有助于让更多的人关注澳网。该技术使用12台摄像机追踪29个骨骼点，通过实时计算，在两分钟的延迟内生成动画。这种动画直播，值得各种体育大赛采用。除了免费观看，它还有一个优点，就是相比实况直播，占用带宽小很多，如果做成矢量动画带宽就更小了。3、边框码二维码已经得到广泛采用，但是很多场合，它并不是理想的选择。一位国外程序员打印了一张新年卡片，原想在上面加一个二维码，手机扫描后，可以访问网站。但是，加了二维码就破坏了卡片的整体设计，于是他想了一个别出心裁的方法。他为照片设计了一圈特殊的边框（上图），这个边框经过二进制编码，是可以扫码的。具体规则是，从左上角开始，按照顺时针，黑色方块为0，白色方块为1，按照 ASCII 码，可以还原出一个网址。这真是一个好主意，将二维码变成边框码，可能适合很多场合。4、咸味勺日本麒麟啤酒公司，推出了一种咸味勺，用它吃清淡的食物，也能感到咸味。它的原理是发出弱电流（勺子自带电池），浓缩食物中的钠离子，从而增加鲜味和咸味。麒麟公司希望，这种勺子可以减少食盐的添加，同时又让食物不会清淡无味。因为过多摄入食盐，可能导致高血压。5、自适应遮阳伞遮阳伞有一个很麻烦的地方，就是有太阳的时候需要打开，没太阳的时候需要收起来。德国斯图加特大学的一个研究团队，发明了不需要任何能源、自动打开和收起的遮阳伞。它的奥妙在于，遮阳伞的伞面全部是特殊设计的纤维素鳞片。这种鳞片会随着湿度的变化而展开和卷起。没有太阳时，湿度高，纤维素材料吸收水分并收缩，导致鳞片蜷曲，相当于遮阳伞收起（上图右）。相反地，太阳直射时，湿度低，纤维素材料释放水分并展开，导致鳞片变平，相当于遮阳伞打开（上图左）。这种材料还能用来制作窗帘（上图），随着日照自动打开和收起，不需要消耗能量。这对于那些日照充分的热带地区，可能是非常重要的发明。6、Pi Box树莓派是最流行的单板计算机，使用时，需要自己准备一大堆外设，很不方便也不好携带。一位印度开发者，为树莓派设计了一个外壳，起名为 Pi Box，令人耳目一新。这个外壳将树莓派、电池、液晶显示屏封装在一起，并配上了提手。它看上去美观，又很实用，让人很想要一个。作者已经将外壳和供电电路的设计，都公开了，你可以自己动手做。7、纸板支架一家韩国设计公司，发明了再生纸制作的笔记本电脑支架。这家公司称，只需要45克再生纸，就能支撑世界上最重的笔记本电脑。它的折纸结构，还能保持通风，有助于笔记本散热。不用的时候，可以把支架收起来，厚度只有3厘米，非常轻巧。支架的凹口还能放手机。8、卷屏笔记本联想展出了世界第一台卷屏笔记本。这台笔记本打开后，14寸的屏幕可以向上展开为16.7寸。它的重量为1.7公斤，预计将在今年6月份发售，价格未知。它的屏幕来自三星公司。如果下一步能够推出左右扩展的带鱼屏笔记本，市场估计就更大了。文章1、如何减少 Docker 的日志体积（英文）Docker 容器会产生日志，长年累月变得越来越大，本文教你怎么减少日志文件的大小。2、如何包装 try...catch（英文）JavaScript 语言的 try...catch 用起来非常不直观，作者提供了一种方法，将其包装成函数用法。3、iTerm2 的一些鲜为人知的功能（英文）iTerm2 是 Mac 平台的终端模拟器，有许多内置的功能，但是很多人都不知道这些功能。4、架设家庭 DNS 服务器的6个原因（英文）本文介绍为什么你应该在家里架设自己的 DNS 服务器。5、寻找易记忆的质数（英文）本文介绍数学家如何寻找容易记忆的质数，其中提到两个大质数：1234567891 和1、2、3、4、5、6、7、8、9、10、9、8、7、6、5、4、3、2、1（把顿号去掉）。6、Python 的链式表达式（英文）作者作为面试官，发现面试者用了上图的奇怪语法。他认为这是错的，但实际却是 Python 的合法语法。7、推特的纯 CSS 点赞效果（英文）推特的点赞按钮是一颗心（上图），点击后出现一段动画效果。它是用 CSS Sprite 实现的，本文介绍如何做这个效果。工具1、DeskPad一个开源的 Mac 应用，在应用窗口里面，新建一个虚拟桌面，便于当众演示或分享给他人。2、Superdiff一个 JS 库，对两个对象或数组进行 diff 操作，返回差异的部分。3、VS Code Pets一个 VS Code 插件，会在编辑器界面插入一个小宠物（小猫、小狗、小鸭等），显示不同动画，提升工作效率。4、AcousticKeyBoard一个 Web 应用，可以根据击键声，判断输入内容，另有 App。（@ZhuoZhuoCrayon 投稿）5、筷字输入法开源的安卓汉语拼音输入法。（@flytreeleft 投稿）6、MusicCard输入网易云音乐链接，自动提取歌曲信息，生成音乐海报。（@aidaox 投稿）7、Melody Workshop基于 Web Audio API 实现纯前端的音频处理工具。（@RylanBot 投稿）8、lemon-template-react一个基于 React 的移动端 web 应用模板。（@sankeyangshu 投稿）9、Audiblez这个工具可以将 Epub 电子书转成有声书，支持中文。10、PhotoStack为图片添加水印的在线工具，代码开源。12、story-flicks一个开源的 AI 工具，一句话生成故事短视频。（@alecm20 投稿）资源1、Learn YjsYjs 是多个客户端实时同步状态的 JS 库，这里是它的官方互动教程。2、1000行代码的操作系统（Operating System in 1,000 Lines）（英文）免费电子书，讲解如何用 C 语言一步步从头构建一个小型操作系统。（@sir2024 投稿）3、欧洲程序员工资地图这张地图列出欧洲各国程序员的平均工资，可以看到第一名是瑞士，第二名英国，第三名爱尔兰，总体比美国低不少。4、玛雅金字塔玛雅金字塔的 3D 游览，包括内部隧道。图片1、嘉兴火车站嘉兴火车站，初建于1907年，2019年改建，2021年6月完工启用。改建后，整个火车站搬到地下，是中国首个全下沉式火车站。地面腾出大量公共空间，改为公园。设计师马岩松希望将其打造成"森林中的火车站"，集火车站与公园于一体。"中国的火车站一个比一个大，像城市中一个个高大的宫殿，人在其中却感到非常渺小，周边通常是大马路、高架桥、和没有人去的大广场。我想，城市中的火车站有没有可能不追求宏大的纪念性，而具有优美的环境，舒适宜人的尺度，和便捷、人性的交通与城市功能？成为让人们不只是奔波，而是愿意停留、放松的城市公共空间？"2、仙女座星系全景图仙女座星系就在银河系的旁边，是人类肉眼可见的最远星系。天文学家利用哈勃太空望远镜，创建了一幅仙女座星系全景图，包括4.17亿像素，由600多张照片拼接而成。这张全景图包含了2亿颗恒星，但仙女座星系估计总计有一万亿颗恒星，所以照片拍到的只是很小一部分。下面是这张全景图的局部。文摘1、如果建筑师像程序员一样工作如果建筑师的工作条件像程序员一样，那么他可能收到下面这样的工作指示。亲爱的建筑师先生！请为我设计并建造一座房子。我不太确定我需要什么样的房子，所以你应该自行判断。我的房子应该有两到四十五间卧室。当你把蓝图带给我时，我会做出我想要的最终决定，到时你只需确保能够轻松添加或删除卧室即可。另外，请给我提供每种配置的成本明细，以便我可以任意选择一种。请记住，我最终选择的房子的成本必须低于我目前居住的房子。但是，请确保改正我当前房子存在的所有缺陷（比如，厨房地板会振动，以及墙壁几乎没有足够的隔热层）。在设计时，还要记住，我希望每年的维护成本尽可能低。请注意在房屋的建造中使用现代设计实践和最新的材料，因为我希望它成为最新想法和方法的展示场所。但请注意，厨房的设计应能容纳我的1952年冰箱等物品。请务必仔细权衡所有这些选项并做出正确的决定。然而，我保留否决您做出的任何决定的权利。当你专门为我设计这座房子时，请记住，迟早我必须把它卖给别人。因此，它应该能够吸引各种各样的潜在买家。在最终确定计划之前，请确保我所在地区的人们一致认为他们喜欢这座房子的功能。现在请不要用小细节来打扰我。你的工作是制定房子的总体规划。例如，现阶段不需要选定地毯颜色，但是请记住，我的妻子喜欢蓝色。另外，现阶段不要考虑获取建造房屋本身的资源，您的首要任务是制定详细的计划和规范。然而，一旦我批准了这些计划，我预计房子将在48小时内准备好施工。请准备一套完整的蓝图。目前没有必要进行真正的设计，因为它们将仅用于施工投标。但请注意，您将承担因后期设计变更而导致的任何建筑成本增加。您一定很高兴能够从事这样一个有趣的项目！能够使用最新的技术和材料并在设计中获得如此的自由度是很少见的。请尽快与我联系并告知您完整的想法和计划。附：我的妻子刚刚告诉我，她不同意我在这封信中给你的许多指示。作为建筑师，您有责任解决这些差异。我过去曾尝试过，但未能实现这一目标。如果你不能承担这个责任，我就不得不另找建筑师了。言论1、OpenAI 相比 DeepSeek 有无限的资金，但是无限的资金能做的只是6个月～12个月的领先优势。-- Hacker News 网友，评论本周发布的 DeepSeek R1 模型性能相当于 OpenAI o1 模型2、人的智力高低，未来不会像现在这样重要，AI 可以弥补人的智力。提出正确问题的能力，在未来比找到答案的能力更重要。-- Sam Altman，OpenAI 公司的 CEO。这令人想到，中国的应试教育考察的是，谁能记住最多的正确答案，真的需要改了。3、爱因斯坦一定承受了沉重的心理负担。到处都是白痴。-- 大卫·林奇，美国著名电影导演，上周去世4、在中国有一种很奇怪的现象，互联网公司喜欢把 API 称为"开放平台"。例如，微信有一个"开放平台" open.weixin.qq.com，支付宝也有一个 open.alipay.com，还有阿里云 open.aliyun.com。-- Hacker News 读者5、SpaceX 公司的每一项战略，都是根据是否有利于登陆火星来评估的，这解释了那些在外界看来疯狂的举动。在 SpaceX 看来，无法登陆火星才是唯一重要的风险。如果马斯克觉得，摧毁 SpaceX 公司会增加登陆火星的机率，他会毫不犹豫地这么做。-- SpaceX 公司传记《Reentry》（重返大气层）的读后感往年回顾技术写作的首要诀窍（#288）停止寻找的最佳时间（#238）音乐是反社交（#188）失业难以避免，重构人生规划（#138）（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2025年1月24日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.03.21: 科技爱好者周刊（第 342 期）：面试的 AI 作弊----用数字人去面试                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.03.14: 科技爱好者周刊（第 341 期）：低代码编程，恐怕不会成功                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.03.07: 科技爱好者周刊（第 340 期）：技术炒作三十年                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.28: 科技爱好者周刊（第 339 期）：代币是什么                                                         这里记录每周值得分享的科技内容，周五发布。                            广告（购买广告位）云手机                                                              留言（57条）                                                                                                    rossroma 说：                                                        那个咸味勺子，B站有UP做过测评，结论是屁用没有                           2025年1月24日 08:49 | # | 引用                                                                                                                haja 说：                                                        看了龙年最后一期，屌！                           2025年1月24日 09:06 | # | 引用                                                                                                                徐徐 说：                                                        雷打不动周五必读                           2025年1月24日 09:17 | # | 引用                                                                                                                Meekdai 说：                                                        预祝大家新年快乐！！嘉兴火车站在公园的地下，这种如果在公园玩，有火车驶过就会感觉有摇晃。                           2025年1月24日 09:26 | # | 引用                                                                                                                fmsun 说：                                                        我不太确定我需要什么样的房子，所以你应该自行判断。                           2025年1月24日 09:29 | # | 引用                                                                                                                yufeng 说：                                                        今年差不多周刊都看了，明年继续加油，大伙一起冲冲冲                           2025年1月24日 09:38 | # | 引用                                                                                                                波多黎各仔 说：                                                        AI机器人养老项目，真是硬需求                           2025年1月24日 09:45 | # | 引用                                                                                                                lixingyang 说：                                                        龙年最后一期！感谢分享，                           2025年1月24日 09:49 | # | 引用                                                                                                                dante 说：                                                        跟机器人聊天真的能减少孤独感吗？？                           2025年1月24日 10:01 | # | 引用                                                                                                                胡子老板 说：                                                        感谢阮老师分享，愿大家蛇年大吉，万事如意~我们明年再见！                           2025年1月24日 10:07 | # | 引用                                                                                                                AA 说：                                                        感谢分享，新年快乐~                           2025年1月24日 10:19 | # | 引用                                                                                                                lofayo 说：                                                        引用dante的发言：跟机器人聊天真的能减少孤独感吗？？好问题，我觉得没有。但是一些监控功能应该会有用                           2025年1月24日 10:22 | # | 引用                                                                                                                0xsunsama 说：                                                        质量极高的一期！                           2025年1月24日 10:23 | # | 引用                                                                                                                acelit 说：                                                        新年快乐～                           2025年1月24日 10:26 | # | 引用                                                                                                                Wooork 说：                                                        引用rossroma的发言：那个咸味勺子，B站有UP做过测评，结论是屁用没有我也看过，UP 是 LKS。                           2025年1月24日 10:28 | # | 引用                                                                                                                justalamb 说：                                                        勺子那个lks是不是测试，好像没有啥用...                           2025年1月24日 10:29 | # | 引用                                                                                                                sygkyo 说：                                                        我想起了很多年前，看到的一张星空图，20多G，当时为了打开这张图，电脑直接死机了                           2025年1月24日 10:29 | # | 引用                                                                                                                rrr 说：                                                        都回家了，看周刊的人也少了                           2025年1月24日 10:31 | # | 引用                                                                                                                奋战到最后一天的牛马 说：                                                        我看大家都放假了吧，今天评论明显少了。                           2025年1月24日 10:35 | # | 引用                                                                                                                sun 说：                                                        提出正确问题的能力，在未来比找到答案的能力更重要。这个说法其实要区别看待，不同的研究领域关注的重点不同。在研究、创新等领域，提出问题的能力可能更重要，比如说物理或者数学基础理论；而在执行、操作等领域，找到答案的能力可能更关键，比如工程、医学领域。但是从另一方面来说，提出问题这种能力比单纯记忆或查找答案更具挑战性，它需要对问题的背景、逻辑和可能性有深入的理解。尤其是阅读理解能力这种最基础的能力，这个反而是中国教育和国外教育差距很大的地方。                           2025年1月24日 10:36 | # | 引用                                                                                                                xingo 说：                                                        "中国的火车站一个比一个大，像城市中一个个高大的宫殿，人在其中却感到非常渺小，周边通常是大马路、高架桥、和没有人去的大广场。我想，城市中的火车站有没有可能不追求宏大的纪念性，而具有优美的环境，舒适宜人的尺度，和便捷、人性的交通与城市功能？成为让人们不只是奔波，而是愿意停留、放松的城市公共空间？"也就小站点能这么搞  人流量高的  你不搞大点  节假日 春运 人一多就老实了  能说出 宏大的纪念性 而看不出实用性  可能不够平民 为生活奔波少了                           2025年1月24日 10:42 | # | 引用                                                                                                                亦无哈哈哈 说：                                                        新年快乐                           2025年1月24日 10:47 | # | 引用                                                                                                                tom 说：                                                        应试教育可不是比谁能记住最多的正确答案, 难道要像漂亮国一样搞快乐教育、愚民教育?                           2025年1月24日 11:17 | # | 引用                                                                                                                五九 说：                                                        有些api开放给外部调用需要走鉴权所以叫open api 也没啥毛病吧                           2025年1月24日 11:21 | # | 引用                                                                                                                聂法蕾姆 说：                                                        引用sun的发言：提出正确问题的能力，在未来比找到答案的能力更重要。这个说法其实要区别看待，不同的研究领域关注的重点不同。在研究、创新等领域，提出问题的能力可能更重要，比如说物理或者数学基础理论；而在执行、操作等领域，找到答案的能力可能更关键，比如工程、医学领域。但是从另一方面来说，提出问题这种能力比单纯记忆或查找答案更具挑战性，它需要对问题的背景、逻辑和可能性有深入的理解。尤其是阅读理解能力这种最基础的能力，这个反而是中国教育和国外教育差距很大的地方。现在的问题很明显，需要innovation，不然优秀的人才你提出了明确的问题，那么被解决的将不是问题，而是提出问题的人。                           2025年1月24日 11:23 | # | 引用                                                                                                                xiayf 说：                                                        新年快乐，阮哥！过去一年，周刊给我带来不少新知&思考，感谢！                           2025年1月24日 11:45 | # | 引用                                                                                                                王二 说：                                                        “这令人想到，中国的应试教育考察的是，谁能记住最多的正确答案，真的需要改了。”应试教育确实有它的问题，但说它考察的是谁能记住最多的正确答案简直就是无稽之谈                           2025年1月24日 12:09 | # | 引用                                                                                                                zzzz 说：                                                        笔记本显示器，相比做成横向拉伸不如做成分体的，不然只能低着摇头是很反人性的。。。                           2025年1月24日 12:28 | # | 引用                                                                                                                规划分局 说：                                                        “中国的应试教育考察的是，谁能记住最多的正确答案”。这句话是对的，但在大多数情况下，这种考察方式最能保证一个人的下限，也是负责任的普惠教育的应有之义。网上有很多对比欧美教材（多例子，偏自学）和苏式教材（先给抽象概念定义，辅以大量练习）的讨论，其实也是差不多的问题。不过，我国的教育方式，对真正的天才是不合适的，真正的天才，绝大多数老师是教不了他的。杨振宁也说，他对比国内外的教育体制，国内的基础教育相对扎实，但是天才筛选体制还不够好，比不上国外。所以一些先发性的概念和创意，很多出现在国外，但一旦涉及工程上的实现，国内的优势就体现出来了。deepseek，我感觉，就是在工程上，把模型能想到的所有可以优化的地方，统统优化了一遍，所以带来了百倍的提升，单论工程能力，绝对是比肩OpenAI。更难得的是，这些人都是本土人才，没有明显的海外经历。这也说明，我们在人才利用效率上，还有很大的优化空间。                           2025年1月24日 12:57 | # | 引用                                                                                                                Jouner 说：                                                        引用xingo的发言："中国的火车站一个比一个大，像城市中一个个高大的宫殿，人在其中却感到非常渺小，周边通常是大马路、高架桥、和没有人去的大广场。我想，城市中的火车站有没有可能不追求宏大的纪念性，而具有优美的环境，舒适宜人的尺度，和便捷、人性的交通与城市功能？成为让人们不只是奔波，而是愿意停留、放松的城市公共空间？"也就小站点能这么搞人流量高的你不搞大点节假日 春运 人一多就老实了能说出 宏大的纪念性 而看不出实用性可能不够平民 为生活奔波少了其实是的，现在各种地下式的建筑很多，提出的理念就是建设花园型建筑，在起到建筑本身功能的基础上可以做成开放式花园。但是按照实际需求，这种建筑的理念应用还是大于实际应用的，说白了就是啥用都没有。                           2025年1月24日 13:37 | # | 引用                                                                                                                George Ryan 说：                                                        今天还在坚持上班                           2025年1月24日 13:52 | # | 引用                                                                                                                WuJoy 说：                                                        引用Meekdai的发言：预祝大家新年快乐！！嘉兴火车站在公园的地下，这种如果在公园玩，有火车驶过就会感觉有摇晃。是这样的, 这个建筑师可能从来没坐过火车, 单纯凭脑子里的美好想象就来设计了                           2025年1月24日 14:08 | # | 引用                                                                                                                Raymond 说：                                                        提出正确问题的能力，很有道理。                           2025年1月24日 14:54 | # | 引用                                                                                                                茼蒿 说：                                                        寻找易记忆的质数那里的一串数字是上下跳动的哎                           2025年1月24日 15:08 | # | 引用                                                                                                                爱吃 说：                                                        不加盐哪来的味道 damn                           2025年1月24日 15:12 | # | 引用                                                                                                                ParadiseHell 说：                                                        嘉兴火车站，这个不错哇，不知道有没有安装按摩椅啊，如果装了，就真不知道说点啥好了......                           2025年1月24日 15:45 | # | 引用                                                                                                                ParadiseHell 说：                                                        未来已来，只是尚未流行。这句话真的好震撼，有种后知后觉的感觉。                           2025年1月24日 15:49 | # | 引用                                                                                                                zhenian 说：                                                        3、VS Code Pets一个 VS Code 插件，会在编辑器界面插入一个小宠物（小猫、小狗、小鸭等），显示不同动画，提升工作效率。==============胡扯吧，这个不是干扰么？能提高效率？？？                           2025年1月24日 17:29 | # | 引用                                                                                                                vlon 说：                                                        每期必看，老师的两本书也读完了，感谢老师分享！新年快乐~                           2025年1月24日 18:39 | # | 引用                                                                                                                小胖丁 说：                                                        看博主的周刊蛮久了，第一次留言，新年快乐～                           2025年1月24日 19:32 | # | 引用                                                                                                                冷东 说：                                                        “该技术使用12台摄像机追踪29个骨骼点，通过实时计算，在两分钟的延迟内生成动画。”确定是两分钟而不是两秒钟？两分钟未免有些长了。                           2025年1月24日 19:43 | # | 引用                                                                                                                vethenc 说：                                                        龙年的最后一期还是一如既往的精彩，近十期以来每次都是早上第一时间打开网页，直到晚上才有时间看完。周刊的评论和文章一样好看，高素质读者的反馈也是一种知识的分享和思想的碰撞。不过，马岩松也有人喷吗，我的妈呀！                           2025年1月24日 23:04 | # | 引用                                                                                                                zzzz 说：                                                        不太确定我需要什么样的房子，但我确定我不需要什么样的房子，你应该列出所有的方案供我挑选                           2025年1月25日 09:36 | # | 引用                                                                                                                不高兴就多喝水 说：                                                        下午放假，提前新年快乐                           2025年1月25日 09:56 | # | 引用                                                                                                                oyh 说：                                                        "新加坡最近世界首个将 AI 引入了养老院，用来陪护老人。"这句话不那么通顺吧                           2025年1月25日 11:19 | # | 引用                                                                                                                Song 说：                                                        AI 已来，这是流行得不是 AI～。 大多数流行的东西，都是表象的一些特征，并不代表事物的核心。                           2025年1月25日 18:06 | # | 引用                                                                                                                4cos90 说：                                                        引用rossroma的发言：那个咸味勺子，B站有UP做过测评，结论是屁用没有lks做的，说是吃不出来。                           2025年1月25日 20:19 | # | 引用                                                                                                                yayongm 说：                                                        程序员和建筑师那个，刚看两句血压就上来了！！！                           2025年1月26日 09:26 | # | 引用                                                                                                                qinxiao 说：                                                        @sun：赞同这个观点                           2025年1月26日 10:06 | # | 引用                                                                                                                wang 说：                                                        看完还想看！                           2025年1月26日 14:36 | # | 引用                                                                                                                Mead 说：                                                        引用dante的发言：跟机器人聊天真的能减少孤独感吗？？确实可以减少孤独感, 我现在喜欢和AI聊天, 它告诉我很多深奥有趣的知识,现实社会中,很少能遇到如此知识渊博并且如此耐心的对象, 你懂吗?                           2025年1月26日 21:10 | # | 引用                                                                                                                老鱼 说：                                                        电动轮椅继续升级一下，往机器外骨骼方向再走一点。我感觉是比电动车再有前途的领域。                           2025年1月31日 01:01 | # | 引用                                                                                                                严公子 说：                                                        蛇年大吉~                           2025年2月 5日 11:05 | # | 引用                                                                                                                季风 说：                                                        “如何包装 try...catch”这一文看下来，这是把golang大家吐槽最多的  if(err!=nil) 给搬到js里了？                           2025年2月 6日 09:51 | # | 引用                                                                                                                孙杰 说：                                                        阮总 那个小动物的插件有Bug 会导致代码不可选中编辑                           2025年2月 6日 17:50 | # | 引用                                                                                                                Tom Du 说：                                                        哪个折纸支架能把手硌死                           2025年2月 9日 16:02 | # | 引用                                                                                                                jixu 说：                                                        看了《未来世界的幸存者》，非常震撼，对人生非常有启发，感谢作者。                           2025年2月 9日 16:12 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e96165d3ccf45',t:'MTc0MzI0MzExOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2025/01/weekly-issue-335.html
AI 搞定微信小程序 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    AI 搞定微信小程序 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：科技爱好者周刊（第&nbsp;3下一篇：科技爱好者周刊（第&nbsp;3                                                                                分类：                                                                                    开发者手册                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              AI 搞定微信小程序                                                                                    作者： 阮一峰                                    日期： 2025年1月16日                                                                                                                                            一、前言AI 生成代码，早不是新鲜事了，但是 AI 生成微信小程序，似乎还不多见。                                                                                                                究其原因，大概是小程序的开源项目较少，模型训练不好搞。上周，我遇到腾讯的同学，得知"腾讯云开发"最近有一个大的版本更新，大幅加强了小程序的 AI 能力。我还挺期待的，腾讯自己搞小程序 AI，要比其他人更合适。后来，我试用了本次更新的 AI 功能，有一个强烈的感觉，微信小程序可能很快就会成为国内 AI 应用（又称"智能体"）的主要载体。因为本次更新以后，小程序调用 AI 模型，以及生成智能体，变得非常方便。并且，小程序从 API 到开发工具，都把 AI 整合进去了，整个开发过程都有 AI 辅助，不仅开发效率提高了，而且大量代码可以通过 AI 生成。下面就是我的试用过程的介绍和记录。这些功能都是公开的，大部分已经上线，剩下的也即将发布，大家现在就可以跟着做，体验 AI 生成小程序。二、云开发助手：进入方法我的第一步是体验小程序的"云开发助手"（又称云开发 Copilot）。它的作用是通过 AI 加快小程序的开发。它的全功能版，目前要通过"腾讯云开发平台"网站使用。此外，还有一个游客版的小程序，可以体验部分功能。如果你手边只有手机，可以先试试游客版。手机上，点击"从 AI 开始探索云开发"，就能进入。手机版看一下就可以了，正式的开发还是要使用网站。本文下面的内容，都是基于网站的全功能版。首先，登录"云开发平台"后，页面右下角就会出现小助手图标。点击它，就能打开"云开发助手"。它的右上角有一个"全屏"图标（下图）。点击进入完整界面。三、云开发助手：文档功能"云开发助手"的主要功能如下图。这些功能可以分成两大类，一类是文档相关的功能，另一类是代码生成。先看看文档功能。（1）Copilot这个功能是 AI 问答引擎，任何关于小程序的问题，都可以向它提出。这大大减少了文档查阅，有些简单的函数，可以让它生成，还能让它教你如何开发小程序。（2）AI 识图这个功能是通过上传页面截图（或者设计稿），生成需求文档。我上传了一张抽奖的转盘。它生成了如下的需求文档，用文字详细复述了这个页面的界面布局、设计细节、功能需求等。大公司的程序员，一般都是根据产品需求文档（PRD）进行开发，所以这个功能可以简化产品经理的工作，需求文档也可以作为 AI 代码生成的文字记录保存下来。生成的需求文档，下一步可以传入"云开发助手"，来生成页面代码，所以它也是 AI 生成小程序的中间步骤。（3）写需求高手这个功能跟"AI 识图"作用相同，都是生成需求文档，区别是它输入文字描述。由于不需要截图，它适合只有功能需求、没有设计稿的场景，即让 AI 来设计页面。四、云开发助手：生成小程序前端代码接着，我们就来试试，让"云开发助手"生成小程序的前端代码。选择左侧菜单的 "AI 生成可视化应用"，这个功能就是根据截图或者文字描述，直接生成应用（Web 或者小程序）。上传一张微信页面的截图。它会自动生成该截图的页面代码，可以预览效果（下图）。可以看到，生成的页面还原了原始布局，但是有许多细节差异。目前阶段，好像还做不到100%还原，比较适合当作代码基础，在它生成的页面基础上，进行手动细节调整。除了上传截图，还可以输入文字描述（或者上一节的需求文档），也能生成应用。让它生成程序员的个人小程序，效果还是可以的。预览初步效果后，你可以在云开发平台上，直接线上编辑代码。编辑完这个页面以后，还可以反复这个过程，向小程序添加更多页面（下图）。有了多个页面，就能设置页面之间的跳转，这样就基本是一个可用的小程序了。调整小程序的样式时，云开发助手还提供了一个贴心的功能"AI 编辑组件样式"，也就是根据指令，自动修改样式。上图就是让 AI 为页面添加渐变背景，这样修改样式，就方便了很多。大家可能看到了，左侧菜单栏还有一个"AI 生成组件"的功能。该功能用来生成页面的组件，适合为现有的页面添加功能。但是，它暂时只支持 Web 应用，不支持小程序，所以这里就忽略不介绍了。完成前端开发以后，云开发平台可以直接发布小程序。当然，你也可以复制或者下载代码，通过微信开发工具发布。五、云开发助手：生成小程序后端代码小程序除了前端 UI 代码，还需要后端的业务逻辑和数据库读写。"云开发助手"也能生成后端代码，主要用到下面两个功能。（1）AI 生成云函数云函数是微信平台在云端执行的函数，可以用来获取各种后端能力。"云开发助手"可以帮我们生成云函数。下图就是让 AI 生成获取小程序 OPENID 的云函数。AI 在给出示例代码的同时，还会展示各个文件的写法（下图）。如果你觉得可以接受，就点击"创建云函数"按钮 ，代码就会进入新打开的云 IDE 环境，用来编辑和调试。编辑完成后，点击"部署"按钮，就可以将云函数部署到线上了。（2）AI 生成数据模型这个模型用来生成数据库的数据模型（也就是"表结构"）。比如，生成一个博客的数据模型，包括文章、作者和评论。点击"查看"，显示一个 JSON 数组，表示数据结构。点击"确认生成"，数据结构就会以表格形式呈现，确认没有问题，就可以保存。六、AI 大模型接入上面都是介绍"云开发助手"，即 AI 辅助小程序开发。下面介绍 AI 开发的另一个重头戏：如何做出 AI 智能体的小程序，也就是让小程序本身具有 AI 功能。还是在"云开发平台"，左侧菜单选择 AI+。这时，页面会让你选择，接入大模型还是开发智能体（下图）。（1）开发智能体（AI Agent）这里可以简单把"智能体"想象成一个 AI 对话应用，用户输入要求，AI 给出响应。腾讯云开发平台将"智能体"的后端大模型，默认指定为腾讯的混元模型。你自己需要定制开场白、提示词、知识库（你自己的训练材料）。然后，定制前端界面（对话组件）。基本流程就完成了：用户在前端界面，根据开场白的提示，输入他的要求，系统收到后，传给后端模型，再将回复展示给用户。是不是很简单？一个智能体就这样做好了。（2）AI 大模型接入如果选择自己接入大模型，页面会根据开发类型（Web/小程序/云函数），给出接入指引。小程序 API 已经对大模型做了适配，按照指引，只要几行代码就能接入。具体来说，从小程序基础库3.7.1开始，新增了wx.cloud.extend.AI对象，专用于 AI。  wx.cloud.extend.AI.createModel()：用来接入大模型wx.cloud.extend.AI.bot：用来调用智能体用了这个 API，就不需要任何 SDK，也不需要后端服务器，系统直接负责 AI 接入，同时处理好鉴权、加密、流式传输，不需要用户介入。下面是示例代码，详见官方文档。七、总结以上就是我试用的全部内容，我的总体感觉是，这些已经做好的部分，对小程序的开发有巨大的助力。如果你正在开发小程序，一定要试试这些功能。小程序的 AI 能力，后面还会持续扩展。腾讯希望把云的基础设施、微信小程序、AI 大模型都打通，从而让小程序开发的门槛更低，效率更高。我听腾讯的同学说，下一阶段有几个开发重点。（1）用 AI 生成前后端完整的小程序，进一步与微信开发环境打通。（2）加强 AI 的代码生成能力，搭配小程序模版和低码编辑器，快速生成小程序。（3）在 AI 的帮助，无痛接入数据库和调用云函数。（4）客户端、服务端、大模型三者之间数据交互的标准化和统一接口。上面的每一点，都能解决目前小程序开发的痛点，期待早日看到突破。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2025年1月16日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.03.03: Trae 国内版出来了，真的好用吗？                                                         年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。                            2024.12.02: AI 应用无代码开发教程：工作流模式详解                                                         一、引言一个月前，我写了一篇《AI 开发的捷径：工作流模式》，引起了很多读者的兴趣。                            2024.10.31: AI 开发的捷径：工作流模式                                                         一、引言大部分人使用 AI，大概都跟我一样，停留在初级阶段。                            2024.09.11: 白话多集群：工具和应用助手                                                         一、引言上周，我参加了腾讯全球数字生态大会。今天，就跟大家分享，我的一点收获，就是理解了多集群工具。                            广告（购买广告位）云手机                                                              留言（13条）                                                                                                    LaoCheng 说：                                                        懂我意思吧，uniapp                           2025年1月16日 09:00 | # | 引用                                                                                                                chen 说：                                                        用AI生成小程序还有几个大的问题     首先是风格，ai有token词数限制，生成多了之后控制不了前后风格统一；  然后是公共逻辑抽离的部分，小程序有分包大小限制，如果每个页面都用ai生成很容易超过2m的大小限制；  第三是复杂业务场景，这个不管是前后端都会遇到，现阶段ai生成还比较麻烦；                           2025年1月16日 09:04 | # | 引用                                                                                                                李某 说：                                                        还以为到周五了                           2025年1月16日 09:18 | # | 引用                                                                                                                Randy 说：                                                        右下角没看到啊                           2025年1月16日 10:37 | # | 引用                                                                                                                jin 说：                                                        文章质量越来越低了！                           2025年1月16日 10:58 | # | 引用                                                                                                                鸭皮 说：                                                        都在搞这个，感觉同质化太严重了，包括产出的产品                           2025年1月16日 11:15 | # | 引用                                                                                                                booker 说：                                                        引用chen的发言：用AI生成小程序还有几个大的问题 首先是风格，ai有token词数限制，生成多了之后控制不了前后风格统一；然后是公共逻辑抽离的部分，小程序有分包大小限制，如果每个页面都用ai生成很容易超过2m的大小限制；第三是复杂业务场景，这个不管是前后端都会遇到，现阶段ai生成还比较麻烦；1/2 看起来可以通过抽象组件来解决，云开发这版实际上也是在一些抽象了一些组件来解决复用和样式统一的问题3 同样也是要降低复杂度，例如用云函数和数据模型来实现业务逻辑就比传统的少很多代码                           2025年1月16日 13:28 | # | 引用                                                                                                                booker 说：                                                        引用Randy的发言：右下角没看到啊https://tcb.cloud.tencent.com/dev?#/helper/copilot                           2025年1月16日 13:29 | # | 引用                                                                                                                alisx 说：                                                        引用Randy的发言：右下角没看到啊需要先配置开发环境                           2025年1月16日 18:28 | # | 引用                                                                                                                我的大名 说：                                                        请问这个可以免费试用吗，我找到的入口都需要收费                           2025年1月19日 16:55 | # | 引用                                                                                                                ggy 说：                                                        捆绑销售，要开通云服务                           2025年1月22日 17:03 | # | 引用                                                                                                                Os 说：                                                        谢谢阮老师的笔耕不辍                           2025年1月24日 14:16 | # | 引用                                                                                                                root 说：                                                        这玩意确实可以                           2025年3月 2日 11:28 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9a24b90ccf45',t:'MTc0MzI0MzI4NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2025/01/tencent-cloud-copilot.html
科技爱好者周刊（第 333 期）：一切都要支付两次 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    科技爱好者周刊（第 333 期）：一切都要支付两次 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：科技爱好者周刊（第&nbsp;3下一篇：AI&nbsp;搞定微信小程序&nbsp;                                                                                分类：                                                                                    周刊                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              科技爱好者周刊（第 333 期）：一切都要支付两次                                                                                    作者： 阮一峰                                    日期： 2025年1月10日                                                                                                                                            这里记录每周值得分享的科技内容，周五发布。                                                                                                                本杂志开源，欢迎投稿。另有《谁在招人》服务，发布程序员招聘信息。合作请邮件联系（[email&#160;protected]）。封面图42层的深圳金融科技研究院大楼，去年6月封顶了，采用了不规则外形的设计。（via）一切都要支付两次有一句古语"书非借不能读也"，大家可能都听过。它的意思是，很多人买了书却不读，觉得不着急，拥有书就相当于已经开始学了，后面就慢慢来吧，反而是借来的书有急迫感会抓紧读完。这种事情很多。网址保存成书签，就扔在那里了，再也不去看它了。我最近看到一篇老外的文章，他给这种现象起了一个全新的名字，让人觉得很贴切。老外的概念化能力真是强。他提出，人们买书却不读，是因为没有意识到每样东西都需要两次支付。第一次是货币支付，你付出货币，得到自己想要的东西，比如一本书，一个 App，一辆自行车，一颗卷心菜等等。但是，你还必须支付第二次，才能真正消费这个东西。这次你付出的是你的时间和努力，来获得它的收益。第二次支付可能比第一次支付贵得多。假设一本书的第一次支付是20元，第二次支付可能就是10小时的阅读时间。只有支付第二次，你才算真正消费了这本书。如果没有第二次支付，第一次支付就意义不大了，跟把钱扔进垃圾箱差不多。生活中，到处都是两次支付的例子。购买 App 后，你必须学习如何使用，并且经常使用，才能得到它的价值。购买自行车后，你必须忍受痛苦的初学者阶段，然后才能上街骑行。购买蔬菜后，必须切碎、蒸熟并咀嚼，然后才能为你提供营养。我们经常犯的一个错误，就是只完成了第一次支付，没有第二次支付，比如未使用的会员资格，未读的书籍，未玩的游戏，未编织的毛线。由于没有第二次支付，所以你并没有真正使用，第一次支付的钱实际上扔进了垃圾桶。这种行为方式的深层次原因，就是现代社会太强调消费，过于看重第一次支付的经济价值，而忽视第二次支付的实际结果。人们受到消费主义的影响，以为支付了商品价格，就完成了一次消费。合理的消费方式应该是，只有当你确定会有第二次支付，才进行第一次支付。这样就可以避免许许多多的浪费。新的一年，大家购买商品时，可以先问问自己，你会不会第二次支付，即会不会为它付出时间和努力？只有确信自己会，再掏钱购买它。有一种商品，天然支持先进行第二次支付，再进行第一次支付，那就是软件。软件不同于实体商品，边际成本接近零，又是长期消费，完全可以先让用户免费用（试用版或者试用期），等他用习惯了，再向他收费。很多软件就是这样做的，这大概就是为什么，软件的不理性消费行为，要比实体商品少得多的原因。语义防火墙：雷池 WAF 升级服务器一直被攻击，怎么办？我的体会是，这种事情很难预防，只能用防火墙去挡。周刊以前介绍过"雷池 WAF"，就是知名的软件防火墙，GitHub 已经有14500颗星。它有一个好用的图形管理后台（上图），可以配置各种拦截规则，高效过滤恶意请求。即使不配置规则，它自带的语义引擎，也会通过机器学习，自动识别和拦截恶意请求。本周，雷池 WAF 进行了重大升级，发布了语义引擎3.0版，加强了 AI 语义分析能力。只要2～8小时的自动训练，识别准确率就能达到99.99%，还能用自然语言解释，遇到了什么攻击。如果你有线上服务器，不妨试试它的拦截效果。个人网站使用开源版就够了，企业可以考虑商业版，本次升级引入的 AI，主要就是强化商业版的企业级服务。科技动态1、从地图删除巴士线路桂尔公园（下图）是巴塞罗纳的第二大景点，每天都挤满了世界各地的游客。很多游客乘坐116路公交车去公园，周围居民意见很大。每趟车都挤满了游客，本地居民反而挤不上去。居民们想了一个办法，让市议会出面，要求谷歌地图和苹果地图删除116路公交车。这招非常有效，从此以后，就几乎没有外地人乘坐这辆车了，座位都空出来了。这反映了一个现实，在如今这个年代，如果你不存在于数字世界，对于外人来说，你就是真的不存在。2、陆空一体汽车东南大学研发的"东大·鲲鹏1号"，最近公开亮相。这是一辆陆空一体汽车，既可以当作汽车四轮行驶，也可以用四轴螺旋桨飞行。当作汽车时，它的最高时速是60公里。当作飞行器时，它的最大起飞重量500公斤，最大飞行高度300米，最长飞行时间20分钟。3、液态空气储能电站河北石家庄的液态空气储能电站，近日并网运行成功，属于国内首个，一天可以储能发电4000度。它采用空气液化储能，在需要储能时，把空气降温到零下170摄氏度，转化成液体，就储存在下图这个高12米、直径2.5米的罐子里。需要用电时，再把液态空气升温变回气体，体积会膨胀600多倍，推动发电机的叶轮旋转发电。它的最大优点是不受地理条件限制，如果证明了经济上可行，就可以大规模建设。4、其他（1）研究发现，那些每月新增50星以上的 GitHub 项目，15%都是买的假星星，整个 GitHub 共有450万的假星星。（2）用户在微软浏览器 Edge 键入"google"，会跳出一个很像谷歌、其实属于 Bing 的页面（下图）。（3）北京天文台正在举办《问月》展览，展出月壤实物，还有月球基地的想象图。文章1、段永平浙大师生见面会问答实录（中文）段永平1月5日重返母校浙江大学，与现场观众进行交流，这是2万字的现场实录。"我没有鼓励过（别人创业）。我觉得该创业的人根本就不需要你鼓励，你有个很强烈的想法，你就会去做。"（@851235550 投稿）2、如果 GPU 那么好，为什么我们还用 CPU（英文）本文通俗地介绍 GPU 和 CPU 的差异，解释为什么它们彼此不能替代，写得很好。3、如果不断要求 AI 改进代码会怎样？（英文）作者做了一个有趣的实验，他让 AI 生成一段代码，然后要求 AI 改进这段代码，这样连续做四次，看看会发生什么。4、关于 SQLite 的各种趣事（英文）SQLite 是世界使用最广泛的数据库，本文收集关于它的各种趣事。5、搭建免费的企业邮箱（中文）本文使用 Gmail + Resend + Cloudflare 搭建免费的企业邮箱，可以接收/发送企业域名邮件。（@javayhu 投稿）6、旧台式电脑的10个用途（英文）本文介绍怎么利用旧电脑，提供了一些有用的思路。工具1、Sourcebot开源的代码搜索工具，可以快速对代码建立索引。2、facad一个查看目录的命令行工具，类似ls命令，但会显示彩色图标。3、opfs-finder在浏览器中实现 macOS Finder。（@hughfenghen 投稿）4、Termora开源的终端模拟器，可以当作 SSH 客户端使用，支持 Windows，macOS 和 Linux，采用 Kotlin/JVM 开发。（@hstyi 投稿）5、Fake Mail开源的一次性电子邮件服务，使用 Cloudflare worker + Astro 开发，收到的邮件存在 Cloudflare KV，2小时后自动删除。（@CH563 投稿）6、AYA开源的跨平台桌面应用，用来简化对安卓设备的操作控制，可以看作 ADB 的图形用户界面。（@surunzi 投稿）7、简历生成工具简历生成的开源 Web 应用，通过拖拽和配置，自定义简历布局和内容。（@Arman19941113 投稿）8、在线剪贴板作者用 AI 生成的一个简单项目，在线的文本分享网站，会生成分享链接，可设置密码，包括前端和后端。（@zxcv0221 投稿）9、qrframe一个定制二维码的网页工具，提供大量选项，代码开源。10、Pipet一个从 HTML/JSON 提取数据的命令行工具，可以跟 curl 搭配使用。 AI 相关1、Ollama OCR for web基于视觉大模型的开源 OCR 文字识别工具，自带 Web 前端。（@dwqs 投稿）另有一个类似的项目，基于 Gemini 的 OCR 识别。（@cokice 投稿）2、DeepSeek AI 浏览器插件开源的浏览器插件，直接在网页上与 DeepSeek 大模型互动，获取选中文本的总结或解答。（@DeepLifeStudio 投稿）3、AI 生成涂色书输入关键词，生成免费的涂色书。（@meetqy 投稿）4、AI MinecraftMinecraft 与 AI 相结合，打造实时响应、动态生成的开放世界游戏。（@boqiwen 投稿）5、Smart BookmarkChrome 浏览器插件，收藏网页时，自动生成相关标签，无需手动归类。（@howoii 投稿）6、AnyVoiceAI 声音克隆，只需3秒音频就可创建逼真的声音克隆。（@markliuyuxiang 投稿）资源1、如何像计算机科学家一样思考（英文）一本在线的编程入门教材，以 Python 语言为例，适合用来学习编程。2、FreePngZone免费的 PNG 图片搜索，好像只支持英文。（@wangdachui332 投稿）3、泡泡白噪音一站式白噪音平台。（@nettsz 投稿）4、Data Commons谷歌发布的一个数据网站，提供许多公开的数据集，以及配套的工具，让你可以检索和处理这些数据。图片1、积雪乐高一位瑞典艺术家自制塑料模具，将积雪做成乐高积木的形状。小朋友用它们搭建雪屋，就像 MineCraft 里面的屋子。2、AI 乐高模型Instagram 的账户 @brick4world 专门发布 AI 生成的乐高积木模型。AI 生成的模型，似乎比人类设计的更有想象力、更漂亮、更吸引人。文摘1、AI 的压力我在谷歌的 AI 团队 DeepMind 工作，感到了 AI 带来的巨大压力。几个月前，我参加了一个朋友举行的生日派对，很多来宾我认识，但也有很多人不认识。当时，我的身体状态不太好，无意与其他人多交谈。但是，大家知道我在 DeepMind 工作，就在我的身边排起了小队，每个人都想跟我谈谈 AI。这么多人对我的工作感兴趣，真是让我受宠若惊。银行家、律师、医生和管理顾问都想了解我对 ChatGPT 的看法，尽管很少有人声称大量使用它，但是所有人都认为他们应该多了解 AI。我是一名研究人员，这种在社交场合无法关机的感觉，让我觉得压力很大。后来，情况变得更糟了。我在自己家里，都觉得有压力。一打开新闻网站，里面都在谈 AI。我就不看新闻了，因为害怕引发焦虑。但即使观看足球比赛或电视剧，广告也会提到 AI。我想过收拾行李，去那些遥远的小城市，住在寺庙里，但如果那里也以某种方式被 AI 渗透了，我也不会感到惊讶。事实上，行业里面的大公司都在竞争，看谁能开发最大、最好的大模型，只要你为这些公司工作，这本身就带来压力。此刻做 AI 研究感觉像是参与了一场战争。模型性能的小小波动，可能就会带来股价几十亿美元的变化。另外，AI 也为我们带来突然的财富，这也带来各种心理问题。过去两年，我在 AI 世界的经历是混乱和疯狂的，内心充满焦虑。我想，这并不是个别现象。言论1、根据人均寿命，2025年出生的婴儿将活着看到下个世纪。-- 《新一代人类》2、摩尔定律预测，芯片性能大约每年会翻一番。但是，AI 芯片的发展速度比这快得多。今天我们发布的 GB200 NVL72 芯片，运行 AI 推理的速度，比去年的上一代 H100 快了30倍，比10年前的芯片快了1000倍。我们正在超越摩尔定律，AI 适用超级摩尔定律。-- 黄仁勋，Nvidia CEO3、比亚迪正在走特斯拉没有走下去的道路：一面扩大电池和汽车产量，一面降低成本。-- Hacker News 读者4、人类所有的问题，都源于人无法独自安静地坐在房间里。-- 帕斯卡尔，法国哲学家5、正常的小说是自然的顺序，第一章介绍英雄，第二章是英雄开始行动。但是，你可以交换这两章，现在第一章是英雄开始行动，小说可能以一把枪指着英雄的头部开始。就在紧张气氛达到顶峰时，然后是第二章介绍英雄。这样的话，读者就更有理由想了解这个角色。同理，先演示幻灯片的第二部分，可能有同样的效果。-- 《从第二张幻灯片开始演示》往年回顾蓝色指示灯的解决方案（#286）中国的阳光地带（#236）低纬度，高海拔，气候优势（#186）利特伍德奇迹定律（#136）（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2025年1月10日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.02.28: 科技爱好者周刊（第 339 期）：代币是什么                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.21: 科技爱好者周刊（第 338 期）：重新思考 6G                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.14: 科技爱好者周刊（第 337 期）：互联网创业几乎没了                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.07: 科技爱好者周刊（第 336 期）：面对 AI，互联网正在衰落                                                         这里记录每周值得分享的科技内容，周五发布。                            广告（购买广告位）云手机                                                              留言（99条）                                                                                                    xIa 说：                                                        刚上班就有周刊看，真好                           2025年1月10日 08:30 | # | 引用                                                                                                                2323 说：                                                        深圳金融科技研究院大楼真是为了不规则而故意那样建                           2025年1月10日 09:04 | # | 引用                                                                                                                neo 说：                                                        从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？                           2025年1月10日 09:18 | # | 引用                                                                                                                饮水思源 说：                                                        每周打卡                           2025年1月10日 09:19 | # | 引用                                                                                                                qiba 说：                                                        我一直以为小型飞行器的未来属于反重力，而不是又大又不安全的螺旋桨                           2025年1月10日 09:21 | # | 引用                                                                                                                秦聲 说：                                                        美国人（段永平）视角中的“庚子退款”，与我所了解的历史不一样。                           2025年1月10日 09:29 | # | 引用                                                                                                                Mar 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？国外这种东西阻力很大，加班次就涉及司机要加班，要买新的公交车                           2025年1月10日 09:33 | # | 引用                                                                                                                ycy 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？不想为了游客改变吧                           2025年1月10日 09:37 | # | 引用                                                                                                                莫 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？人流量一旦多起来，增加多少班次都会影响到当地居民。删除才是最好的办法                           2025年1月10日 09:42 | # | 引用                                                                                                                看能多坏 说：                                                        面对AI带来的压力，一般人都做不了什么，还不如就看着他发生，空空焦虑没有任何作用，还伤了身体                           2025年1月10日 09:43 | # | 引用                                                                                                                ccc 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？笑了，弱啥智了。。增加116你能想到会增加多少连锁问题吗？                           2025年1月10日 09:52 | # | 引用                                                                                                                aatc 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？哈哈哈看来是没去过欧洲，那边穷的要死人力还贵，增加班次和预算可能是最难办的事了                           2025年1月10日 10:00 | # | 引用                                                                                                                kiyo 说：                                                        这实录看看就行了，我觉得段很多回答都有问题????-----------1、段永平浙大师生见面会问答实录（中文）段：笑～ 中美对立吗？我们学习谁建的？大家不要忘了，我们读的大学都是有很多老美的痕迹，包括北大、清华，大家对这些东西不应该忘记。其实人家对我们还挺好的                           2025年1月10日 10:04 | # | 引用                                                                                                                Van 说：                                                        这期有点答辩了。。                           2025年1月10日 10:05 | # | 引用                                                                                                                Ryan 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？你看， 这不就卷起来了么                           2025年1月10日 10:07 | # | 引用                                                                                                                0xsunsama 说：                                                        AI 生成的 lego ，包装上经典的鬼画符                           2025年1月10日 10:07 | # | 引用                                                                                                                bookbook 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？不敢苟同，到时候116号公交就会变成旅客前往指定地点的不二之选，当地居民一样是天天处于和旅客挤公交的环境中。                           2025年1月10日 10:14 | # | 引用                                                                                                                刘希望 说：                                                        为什么在看周刊的时候，不可以拖动右侧的滚动条快速到底部啊                           2025年1月10日 10:17 | # | 引用                                                                                                                鲨鱼辣椒 说：                                                        大家纷纷再问，谁是段永平？                           2025年1月10日 10:20 | # | 引用                                                                                                                jolly_1991 说：                                                        摩尔定律预测，芯片性能大约每年会翻一番。但是，AI 芯片的发展速度比这快得多。今天我们发布的 GB200 NVL72 芯片，运行 AI 推理的速度，比去年的上一代 H100 快了30倍，比10年前的芯片快了1000倍。-----2的10次方不就是1024么, 也满足摩尔定律啊                           2025年1月10日 10:20 | # | 引用                                                                                                                肥月饼 说：                                                        从地图删除116路公交车真是个馊主意，删除了外地人就不去景点了？无端新增游客负担                           2025年1月10日 10:23 | # | 引用                                                                                                                HAO 说：                                                        '网址保存成书签，就扔在那里了，再也不去看它了'-这个太真实了,收藏了一堆大佬的博客后面慢慢的都不点开了只有周刊是周周看甚至会去刷老刊                           2025年1月10日 10:31 | # | 引用                                                                                                                raymon 说：                                                        谁是段永平                           2025年1月10日 10:40 | # | 引用                                                                                                                肖 说：                                                        引用kiyo的发言：这实录看看就行了，我觉得段很多回答都有问题????-----------1、段永平浙大师生见面会问答实录（中文）段：笑～ 中美对立吗？我们学习谁建的？大家不要忘了，我们读的大学都是有很多老美的痕迹，包括北大、清华，大家对这些东西不应该忘记。其实人家对我们还挺好的人家是美国人，这样说不是挺正常                           2025年1月10日 10:54 | # | 引用                                                                                                                亦无哈哈哈 说：                                                        《从第二张幻灯片开始演示》---------------人类就是一直在用各种各样的方式讲故事，并讨论如何讲的更吸引人。                           2025年1月10日 11:01 | # | 引用                                                                                                                howoii 说：                                                        大家好，我是Smart Bookmark的作者，开发这个插件的初衷也是为了解决类似“网址保存成书签，就扔在那里了，再也不去看它了”的问题。没想到被周刊推荐了，紧急开源了一版插件源码：https://github.com/howoii/SmartBookmark  欢迎大佬们提建议                           2025年1月10日 11:01 | # | 引用                                                                                                                六个九十度 说：                                                        AI-Minecraft里面的游戏不搭梯子根本不能玩，有梯子的反馈下能玩吗？                           2025年1月10日 11:02 | # | 引用                                                                                                                N 说：                                                        引用qiba的发言：我一直以为小型飞行器的未来属于反重力，而不是又大又不安全的螺旋桨像银翼杀手2049里面的飞行器                           2025年1月10日 11:09 | # | 引用                                                                                                                acelit 说：                                                        两次支付的概念挺有启发                           2025年1月10日 11:15 | # | 引用                                                                                                                kiFte 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？谁出钱呢？                           2025年1月10日 11:18 | # | 引用                                                                                                                意社 说：                                                        引用jolly_1991的发言：摩尔定律预测，芯片性能大约每年会翻一番。但是，AI 芯片的发展速度比这快得多。今天我们发布的 GB200 NVL72 芯片，运行 AI 推理的速度，比去年的上一代 H100 快了30倍，比10年前的芯片快了1000倍。-----2的10次方不就是1024么, 也满足摩尔定律啊摩尔定律曾经修复过几次，但没有哪个版本是“每年翻倍”的，比较经典的版本是“每隔18个月相同面积芯片上的器件数量翻倍”。但上面这条，在这几年也快要无法满足了，很多的“翻倍”只是“概念上的翻倍”，实际已经达不到2倍那么多了。因为快达到“海森堡不确定原理”的极限了。这部分可以参考《芯片简史》。                           2025年1月10日 11:25 | # | 引用                                                                                                                sun 说：                                                        引用肥月饼的发言：从地图删除116路公交车真是个馊主意，删除了外地人就不去景点了？无端新增游客负担兄弟，人家关心的不是外地人多少，是因为外地人都去坐116公交车导致本地人坐不上影响本地人生活了。另外，不要用国内的思维看问题，国外对于本地人的生活权力很看重的，如果影响了本地人生活，你觉得是先牺牲游客还是本地人                           2025年1月10日 11:35 | # | 引用                                                                                                                sun 说：                                                        我刚看到标题的时候，以为两次支付指的是：1 我获取财富的时候要支付增值税2 我消费的时候要支付消费税                           2025年1月10日 11:37 | # | 引用                                                                                                                wyl 说：                                                        我是《段永平浙大师生见面会问答实录》这篇文章的整理者，感谢阮老师的推荐和引流，再次感谢。我提交了一个公众号文章链接，一个个人博客文章链接，没想到阮老师用了公众号文章链接。感谢给我公众号带来的关注。公众号中有错别字和小部分描述不太合理的地方，但是鉴于公众号文章发布后只能更改一次。虽然我已经尽力审查了，但是还是有错别字。如果大家觉的不合适，可以看我的个人博客中的文章。再次感谢                           2025年1月10日 11:45 | # | 引用                                                                                                                厉飞雨 说：                                                        第一章介绍英雄，第二章是英雄开始行动。游戏里多是交换这两章，上来先给你一个满级的人物技能熟悉操作，然后打落凡间从零开始重新练级。                           2025年1月10日 11:46 | # | 引用                                                                                                                gongqx 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？让游客就是来消费的吧                           2025年1月10日 11:48 | # | 引用                                                                                                                mars 说：                                                        其实软件也是有下载安装成本和学习成本的，很多软件不是开了会员就等于会使用了。比如ps对我来说学习难度就很高，我自己下载安装了很多次，但是一直没学会怎么使用                           2025年1月10日 11:53 | # | 引用                                                                                                                丫丫嘛 说：                                                        空气压缩成液体所消耗能量不少吧，不太看好????????                           2025年1月10日 12:37 | # | 引用                                                                                                                morson 说：                                                        引用厉飞雨的发言：第一章介绍英雄，第二章是英雄开始行动。游戏里多是交换这两章，上来先给你一个满级的人物技能熟悉操作，然后打落凡间从零开始重新练级。黑神话悟空就是个例子                           2025年1月10日 13:16 | # | 引用                                                                                                                dante 说：                                                        自从AI兴起，周刊内容是越来越差了。。                           2025年1月10日 13:27 | # | 引用                                                                                                                mcent 说：                                                        對條目2的那個, 不知道在哪裡看到過(好像周刊也有寫過), CPU像是一個博士能夠做很複雜的運算, 但只能做很慢, 但GPU 則是像一堆小學生可以做簡單的加減法。 對於圖像來說, GPU 這樣的運算比較快速有效。上面比喻和文章寫的也蠻像。                           2025年1月10日 13:38 | # | 引用                                                                                                                anothertk 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？确实国情不同。如果放在国内，那肯定被骂到狗血淋头。                           2025年1月10日 13:48 | # | 引用                                                                                                                George Ryan 说：                                                        引用xIa的发言：刚上班就有周刊看，真好早上的时间很宝贵，我都是攒着下午看                           2025年1月10日 13:53 | # | 引用                                                                                                                George Ryan 说：                                                        挺有启发：如果你不存在于数字世界，对于外人来说，你就是真的不存在                           2025年1月10日 13:56 | # | 引用                                                                                                                chengoo 说：                                                        引用丫丫嘛的发言：空气压缩成液体所消耗能量不少吧，不太看好????????原文“用电低谷时满格储能，用电高峰通过加压，升温后进行放电”，另一种意义上的削峰填谷                           2025年1月10日 14:06 | # | 引用                                                                                                                [email&#160;protected] 说：                                                        引用sun的发言：兄弟，人家关心的不是外地人多少，是因为外地人都去坐116公交车导致本地人坐不上影响本地人生活了。另外，不要用国内的思维看问题，国外对于本地人的生活权力很看重的，如果影响了本地人生活，你觉得是先牺牲游客还是本地人傲慢的欧洲大老爷思维，游客减少当地收入就会减少，本地收入减少是如何对当地人的生活权利看重的，这么傲慢建议直接把景点推平一个游客也不要有，你就完全“看重本地人生活权利”了。                           2025年1月10日 14:07 | # | 引用                                                                                                                [email&#160;protected] 说：                                                        引用kiFte的发言：谁出钱呢？这才是重点，游客多到影响本地人出行了，游客消费收上来的税干嘛了，不会拿去举行LGBQ+骄傲游行了吧。                           2025年1月10日 14:10 | # | 引用                                                                                                                ike 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？一行代码就能解决的事情，一定要搞得那么复杂么 还得加人加钱加班加车                           2025年1月10日 14:28 | # | 引用                                                                                                                Leao Duan 说：                                                        搭建企业邮箱那个有点意思，先存档了，过两天回家搭建看看。Fake Mail 的那个，搭建后的效果是类似于现在的临时邮箱？                           2025年1月10日 14:34 | # | 引用                                                                                                                时空旅客 说：                                                        泡泡白噪音 挺好用的，就是选择太多了会忘记或找不到选了什么                           2025年1月10日 14:43 | # | 引用                                                                                                                TransparentLC 说：                                                        > 4、AI Minecraft> Minecraft 与 AI 相结合，打造实时响应、动态生成的开放世界游戏。（@boqiwen 投稿）原始项目应该是 Oasis，官网是 https://oasis-model.github.io/Oasis 本身是很有意义的一个项目，但是周刊里收录的这个只是一个 AI 生成的导流站，不应该出现在周刊上的我在投稿的 Issue 里补充了一些信息 https://github.com/ruanyf/weekly/issues/5847                           2025年1月10日 14:46 | # | 引用                                                                                                                透明人 说：                                                        二次支付很有用，我现在就是买东西要考虑我有时间和精力用不？如果没有，那就不买                           2025年1月10日 14:48 | # | 引用                                                                                                                xx 说：                                                        引用howoii的发言：大家好，我是Smart Bookmark的作者，开发这个插件的初衷也是为了解决类似“网址保存成书签，就扔在那里了，再也不去看它了”的问题。没想到被周刊推荐了，紧急开源了一版插件源码：https://github.com/howoii/SmartBookmark  欢迎大佬们提建议两个门槛, 1.apiKey申请   2.插件登录,    apiKey的小坑(阿里云新用户,创建apiKey后,无法使用,需要开通百炼模型,百炼模型又是后付费,用完扣钱了可能都不知道),智谱的apiKey申请很方便, 不过我卡在第二步了,插件还要先注册再登录,一个书签工具,不值得注册一遍                           2025年1月10日 14:52 | # | 引用                                                                                                                somebody 说：                                                        一直好奇，如果在发了评论，如何知道别人引用了自己的评论发表了想法呢？                           2025年1月10日 15:06 | # | 引用                                                                                                                豆沙包killer 说：                                                        两次支付有点狭隘了，钱并不是价值的全部，消费的时候也有情绪上的收获，例如“花钱买的游戏，凭什么还要花时间玩！”                           2025年1月10日 15:07 | # | 引用                                                                                                                面向未来 说：                                                        引用dante的发言：自从AI兴起，周刊内容是越来越差了。。1.你别看了2.差在哪里呢？你是怎么得出结论的？靠感觉？                           2025年1月10日 16:01 | # | 引用                                                                                                                John 说：                                                        雷池WAF是不能商用的，有在用的人记得注意一下。除非你是完全纯公益的项目，否则趁早考虑换一个别的工具（当然直接就买商业也不是不可以），省的用习惯了，后期如果要转商业切换起来难度较大。                           2025年1月10日 16:13 | # | 引用                                                                                                                wang 说：                                                        实际上还有第三次支付吧，书籍类的知识转化为自己的知识，如果不能那第二次的时间支付更严重。                           2025年1月10日 16:16 | # | 引用                                                                                                                cdzl 说：                                                        引用丫丫嘛的发言：空气压缩成液体所消耗能量不少吧，不太看好????????压缩会变热，应该是冷冻成液体。这个就像抽水蓄能或者电池储能一样，肯定有损失，但如果不能储存就要100%放弃。                           2025年1月10日 16:53 | # | 引用                                                                                                                shunli 说：                                                        引用qiba的发言：我一直以为小型飞行器的未来属于反重力，而不是又大又不安全的螺旋桨反重力是指电磁铁吗？或者使用密度超低的物质                           2025年1月10日 17:19 | # | 引用                                                                                                                shunli 说：                                                        引用kiFte的发言：谁出钱呢？这还不简单？本地人办理月卡、年卡，费用低。游客是次卡，费用高                           2025年1月10日 17:22 | # | 引用                                                                                                                Dabenshi 说：                                                        搬砖人第一次支付：付出时间和精力，得到应得的薪水。第二次支付：消费、挥霍，妥妥的体现了“钱花了才是自己的”意义                           2025年1月10日 17:35 | # | 引用                                                                                                                walker 说：                                                        关于二次支付，读书的过程难道不是享受吗？还有为啥App有第二次支付，软件没有？App不是软件吗？                           2025年1月10日 19:45 | # | 引用                                                                                                                howoii 说：                                                        引用xx的发言：两个门槛, 1.apiKey申请 2.插件登录,apiKey的小坑(阿里云新用户,创建apiKey后,无法使用,需要开通百炼模型,百炼模型又是后付费,用完扣钱了可能都不知道),智谱的apiKey申请很方便, 不过我卡在第二步了,插件还要先注册再登录,一个书签工具,不值得注册一遍注册确实是个卡点，注册是为了能够同步书签，如果加上oauth登录会不会好一点                           2025年1月10日 23:16 | # | 引用                                                                                                                元星 说：                                                        引用面向未来的发言：1.你别看了2.差在哪里呢？你是怎么得出结论的？靠感觉？总是会有很多这种评论，都快变成每期都能见到啦，放宽心，它们不给出具体的理由，不是诚心来讨论一件事，就不要费精力去和他们争论，就当他发泄他的情绪就好。我觉得这一期质量真的蛮高的，比如两次支付的概念、小说顺序那个技巧、留出一些时间给自己独处，思考，解决一些问题等等这些都非常有用。                           2025年1月11日 00:21 | # | 引用                                                                                                                4cos90 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？正确的做法应该是删除116路公交车供给当地人使用。同时新增游客专线近往返几个景点，优化使用效率。单纯增加班次本地人坐车仍然拥挤，不在景点的路段又是资源浪费。                           2025年1月11日 00:51 | # | 引用                                                                                                                Joker 说：                                                        请问怎么使用那个开源的简历转化工具呢                           2025年1月11日 10:00 | # | 引用                                                                                                                WY 说：                                                        AI 声音克隆的效果还是挺好玩的。不知道有没有类似的开源项目，可以自己训练玩玩                           2025年1月11日 14:10 | # | 引用                                                                                                                0x0001 说：                                                        产品被我们「拥有」的时候是 “0 价值” 的把它用上并榨干才是产品最好的归宿一个原则：  如果不知道该不该买，那就别买；  不确定有没有这个需求，那就是没需求；  永远只为自己当下的具体需求付费；  不要为未来的设想的场景来买单；  今天为了战未来所花掉的所有溢价都会快速贬值；                           2025年1月11日 14:53 | # | 引用                                                                                                                LeeH 说：                                                        引用WY的发言：AI 声音克隆的效果还是挺好玩的。不知道有没有类似的开源项目，可以自己训练玩玩评论区从头看到尾，终于看到有人提这个声音克隆了。我说一下我的看法。我试了一下，这个项目确实很好，真的只需要几秒的原声就能克隆，并且克隆出来的效果也很不错。但是我想提一点，这个东西还是不适合在国内互联网上宣传，并且还在这电诈弥漫的时代，万一给不法分子利用了，这绝对不会是好的结果，可能还会危及到作者。                           2025年1月11日 19:57 | # | 引用                                                                                                                pegasus 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？其实是为了让游客打出租等更昂贵的交通形式来增加收入，一举两得。                           2025年1月11日 20:08 | # | 引用                                                                                                                pegasus 说：                                                        引用cdzl的发言：压缩会变热，应该是冷冻成液体。这个就像抽水蓄能或者电池储能一样，肯定有损失，但如果不能储存就要100%放弃。增加压力也会变成液体                           2025年1月11日 20:15 | # | 引用                                                                                                                乔瑟湖 说：                                                        “支付两次”这不是新概念。就是“所有权”与“使用权”两个概念。                           2025年1月12日 11:09 | # | 引用                                                                                                                rusharp 说：                                                        1. 二次支付这个概念很有体感，作为消费者对于很多商品要看使用频次来看愿意付出多少价格，最早用比较有性价比的安卓机，而多年前转成 3 倍价格的iPhone后感觉其实还是很划算的，苹果手表/耳机等现在都是高频使用；云计算有预充值模式，pay as you go，用多少花多少，这就比较有效率。所以对于云计算厂商，光让大家充值了是不够的，还要时刻注意大家的消费率。得到这种知识服务商，有付费也有免费的内容，付费也分按时间订阅制会员付费（如听书和电子书年度会员），和按单品的付费（如某本书，某档专栏）；除了付费额度和付费用户数这个结果，内容的消费率和用户的消费率 （也就是第二次支付）是非常重要的先导指标，需要重点关注，因为第二次支付不好，后续第一次的支付也不会好。 2. 第二张幻灯片开始讲起我们刚开始做演讲的时候，开头都是：大家好，我是 xxx，我给大家讲一个关于xx英雄的故事... 但我们看那些脱颖而出有过训练的演讲者，都是这么开头的 - “在一个幽暗的街道上，老旧的路灯滋滋的闪烁着，一个小女孩急冲冲的怯怯的走着， ... ”从场景出发，抓住吸引力再展开，效果会更好，因为带来了“不确定感”                           2025年1月12日 15:06 | # | 引用                                                                                                                x 说：                                                        公交车的结果是已经从地图上删除，肯定是有原因的，并不是个弱智的行为，反而是有很好的效果，也有人说游客会减少，文章中也没提游客减少呀，只是这辆车没有游客去坐了，你主观判断游客减少了，文章的侧重点是这个年代，如果你不存在于数字世界，对于外人来说，你就是真的不存在                           2025年1月13日 09:58 | # | 引用                                                                                                                lison 说：                                                        雷池 WAF 有没有用过的老铁说下好用吗                           2025年1月13日 10:21 | # | 引用                                                                                                                nub 说：                                                        引用Joker的发言：请问怎么使用那个开源的简历转化工具呢项目github page的右边有link：resume.armantang.fun/                           2025年1月13日 11:09 | # | 引用                                                                                                                walker 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？市政资源是有限的, 但是游客的井喷却可以是无限的. 武汉的过江轮渡也碰到了这样的问题, 挤满了游客, 导致正常过江通勤的市民根本挤不上去, 更别说以前是可以轻松推着电瓶车上轮渡的. 现在能挤进去个人就不错了. 导致武汉干脆封了通勤轮渡的开放平台层, 只能待在密封舱里, 让其没有了观光功能                           2025年1月13日 11:30 | # | 引用                                                                                                                未知生 说：                                                        非常精彩，很多话题都引人深思                           2025年1月13日 13:51 | # | 引用                                                                                                                Hu 说：                                                        引用rusharp的发言：但我们看那些脱颖而出有过训练的演讲者，都是这么开头的 - “在一个幽暗的街道上，老旧的路灯滋滋的闪烁着，一个小女孩急冲冲的怯怯的走着， ... ”从场景出发，抓住吸引力再展开，效果会更好，因为带来了“不确定感”一个小女孩急冲冲地怯怯地走在幽暗的街道上，老旧的路灯滋滋的闪烁着。这样更好。现在节奏太快了，不是以句为单位，你要把重点放在第一句的前几个字。                           2025年1月13日 14:17 | # | 引用                                                                                                                hss 说：                                                        资产类的东西应该不需要第二次支付。                           2025年1月13日 15:00 | # | 引用                                                                                                                nam 说：                                                        引用sun的发言：我刚看到标题的时候，以为两次支付指的是：1 我获取财富的时候要支付增值税2 我消费的时候要支付消费税要算增值税可不只两次了哦                           2025年1月13日 15:37 | # | 引用                                                                                                                赵栋 说：                                                        引用丫丫嘛的发言：空气压缩成液体所消耗能量不少吧，不太看好????????其他电能（火电、风能等）过剩时，通过该方式储存起来。                    不足时，释放出来，弥补不足。                           2025年1月13日 16:35 | # | 引用                                                                                                                afdasf 说：                                                        阮一峰先生，看你多年BLOG，今天不得留个和内容无关的言，仅为个人观点：你看到些东西就很容易下一些似是而非经不起推敲的结论                           2025年1月13日 22:47 | # | 引用                                                                                                                新武将 说：                                                        引用jolly_1991的发言：摩尔定律预测，芯片性能大约每年会翻一番。但是，AI 芯片的发展速度比这快得多。今天我们发布的 GB200 NVL72 芯片，运行 AI 推理的速度，比去年的上一代 H100 快了30倍，比10年前的芯片快了1000倍。-----2的10次方不就是1024么, 也满足摩尔定律啊这里大概是原文写错了。摩尔定律是18到24个月。                           2025年1月14日 01:41 | # | 引用                                                                                                                北二乔木 说：                                                        上次去深圳开会看到那座歪歪扭扭很奇怪的大楼了。                           2025年1月14日 09:07 | # | 引用                                                                                                                leeao 说：                                                        声音克隆，我用了怎么都不行，提示错误                           2025年1月14日 09:53 | # | 引用                                                                                                                leeao 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？这个是典型的“闭关锁国”方式                           2025年1月14日 11:00 | # | 引用                                                                                                                Joe 说：                                                        引用afdasf的发言：阮一峰先生，看你多年BLOG，今天不得留个和内容无关的言，仅为个人观点：你看到些东西就很容易下一些似是而非经不起推敲的结论这也是种流量密码                           2025年1月14日 13:32 | # | 引用                                                                                                                Joe 说：                                                        引用walker的发言：市政资源是有限的, 但是游客的井喷却可以是无限的. 武汉的过江轮渡也碰到了这样的问题, 挤满了游客, 导致正常过江通勤的市民根本挤不上去, 更别说以前是可以轻松推着电瓶车上轮渡的. 现在能挤进去个人就不错了. 导致武汉干脆封了通勤轮渡的开放平台层, 只能待在密封舱里, 让其没有了观光功能那不是运载力下降了？可否分级售票？                           2025年1月14日 13:35 | # | 引用                                                                                                                Wynne 说：                                                        引用neo的发言：从地图上删除116路公交车的解决方式简直弱智，正确的做法不是要求政府增加116路公交车的班次么？不要用中国人的思考方式去解决国外的问题，不要自作聪明，觉得比他们聪明，不要教别人做事。同样的情况，如果外国人说，给中国人加薪不就解决大家抱怨上班时长的问题了吗？阻力都很大，不是简单一句话。                           2025年1月14日 17:26 | # | 引用                                                                                                                AzureSky_X 说：                                                        引用afdasf的发言：阮一峰先生，看你多年BLOG，今天不得留个和内容无关的言，仅为个人观点：你看到些东西就很容易下一些似是而非经不起推敲的结论那么afdasf先生，看了那么多年的评论，今天我也不得留下一条和内容无关的言论。以下仅为个人观念：在我想要反驳一个人的观点时，我的第一步是代入发表观点人的视角。随后，再思考反驳是否有意义。                           2025年1月15日 10:53 | # | 引用                                                                                                                pal_6447 说：                                                        引用afdasf的发言：阮一峰先生，看你多年BLOG，今天不得留个和内容无关的言，仅为个人观点：你看到些东西就很容易下一些似是而非经不起推敲的结论确实有这么一种感觉。                           2025年1月15日 20:51 | # | 引用                                                                                                                enzo 说：                                                        感谢分享，每次看都是你受益匪浅...                           2025年1月16日 10:03 | # | 引用                                                                                                                林er 说：                                                        引用丫丫嘛的发言：空气压缩成液体所消耗能量不少吧，不太看好????????有个前提你可能不了解，谷电的那段时间，发出的电量其实是用不完的，有很多就直接放电放掉了，与其白白扔掉不如用来压缩成液体                           2025年1月19日 15:53 | # | 引用                                                                                                                leo 说：                                                        不用edge浏览器，只要是bing.com搜google，啥浏览器都能出现那个页面                           2025年1月20日 16:13 | # | 引用                                                                                                                98a3 说：                                                        二次支付这部分很有感悟...最近好几个想玩的游戏打折，一直在纠结要不要买，但是短期内没有时间玩看来是被消费主义冲昏头脑了，以后做类似的消费行为都得思考一下了                           2025年1月22日 09:56 | # | 引用                                                                                                                Ding 说：                                                        发现了宝藏博客                           2025年1月22日 12:54 | # | 引用                                                                                                                王 说：                                                        引用Mar的发言：国外这种东西阻力很大，加班次就涉及司机要加班，要买新的公交车有何不可？可以增加新的工人，这样增加就业就会，然后还能挣钱                           2025年3月 1日 16:29 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9d93ea61cf45',t:'MTc0MzI0MzQyNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2025/01/weekly-issue-333.html
分类：JavaScript - 阮一峰的网络日志    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);    分类：JavaScript - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                      分类： JavaScript （共100篇文章）                                                          2024年              后面试时代与 AI 刷题（[email&#160;protected]）                      2022年            羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）（[email&#160;protected]）                打包工具 rollup.js 入门教程（[email&#160;protected]）                      2021年            JavaScript 侦测手机浏览器的五种方法（[email&#160;protected]）                剪贴板操作 Clipboard API 教程（[email&#160;protected]）                      2020年            Fetch API 教程（[email&#160;protected]）                轻松学会 React 钩子：以  useEffect() 为例（[email&#160;protected]）                Node.js 如何处理 ES6 模块（[email&#160;protected]）                Deno 运行时入门教程：Node.js 的替代品（[email&#160;protected]）                      2019年            React Hooks 入门教程（[email&#160;protected]）                Web Components 入门实例教程（[email&#160;protected]）                如何用网页脚本追踪用户（[email&#160;protected]）                npx 使用教程（[email&#160;protected]）                      2018年            Web Worker 使用教程（[email&#160;protected]）                浏览器数据库 IndexedDB 入门教程（[email&#160;protected]）                JavaScript 的 this 原理（[email&#160;protected]）                Node 调试工具入门教程（[email&#160;protected]）                Node 定时器详解（[email&#160;protected]）                      2017年            《ES6 标准入门（第3版）》上市了！（[email&#160;protected]）                asm.js 和 Emscripten 入门教程（[email&#160;protected]）                Koa 框架教程（[email&#160;protected]）                JavaScript 内存泄漏教程（[email&#160;protected]）                Reduce 和 Transduce 的含义（[email&#160;protected]）                Pointfree 编程风格指南（[email&#160;protected]）                Ramda 函数库参考教程（[email&#160;protected]）                      2016年            JavaScript 全栈工程师培训教程（[email&#160;protected]）                IntersectionObserver API 使用教程（[email&#160;protected]）                npm scripts 使用指南（[email&#160;protected]）                React 技术栈系列教程（[email&#160;protected]）                Redux 入门教程（三）：React-Redux 的用法（[email&#160;protected]）                Redux 入门教程（二）：中间件与异步操作（[email&#160;protected]）                Redux 入门教程（一）：基本用法（[email&#160;protected]）                React Router 使用教程（[email&#160;protected]）                跨域资源共享 CORS 详解（[email&#160;protected]）                浏览器同源政策及其规避方法（[email&#160;protected]）                Node 应用的 Systemd 启动（[email&#160;protected]）                React 测试入门教程（[email&#160;protected]）                Babel 入门教程（[email&#160;protected]）                npm 模块安装机制简介（[email&#160;protected]）                《ES6 标准入门》（第二版）出版了（[email&#160;protected]）                Flux 架构入门教程（[email&#160;protected]）                      2015年            测试框架 Mocha 实例教程（[email&#160;protected]）                读懂 ECMAScript 规格（[email&#160;protected]）                JavaScript 模块的循环加载（[email&#160;protected]）                ES6 的功能侦测库 ES-Checker（[email&#160;protected]）                代码覆盖率工具 Istanbul 入门教程（[email&#160;protected]）                Node.js 命令行程序开发教程（[email&#160;protected]）                浏览器加载 CommonJS 模块的原理与实现（[email&#160;protected]）                require() 源码解读（[email&#160;protected]）                async 函数的含义和用法（[email&#160;protected]）                co 函数库的含义和用法（[email&#160;protected]）                Thunk 函数的含义和用法（[email&#160;protected]）                Generator 函数的含义与用法（[email&#160;protected]）                尾调用优化（[email&#160;protected]）                React 入门实例教程（[email&#160;protected]）                JavaScript 有多灵活？（[email&#160;protected]）                强类型 JavaScript 的解决方案（[email&#160;protected]）                      2014年            Unicode与JavaScript详解（[email&#160;protected]）                Unicode与JavaScript详解（[email&#160;protected]）                JavaScript 运行机制详解：再谈Event Loop（[email&#160;protected]）                前端模块管理器简介（[email&#160;protected]）                《ECMAScript 6入门》上线了（[email&#160;protected]）                undefined与null的区别（[email&#160;protected]）                      2013年            什么是 Event Loop？（[email&#160;protected]）                JavaScript与有限状态机（[email&#160;protected]）                如何让搜索引擎抓取AJAX内容？（[email&#160;protected]）                如何做到 jQuery-free？（[email&#160;protected]）                JavaScript Source Map 详解（[email&#160;protected]）                Javascript 严格模式详解（[email&#160;protected]）                      2012年            Javascript异步编程的4种方法（[email&#160;protected]）                Javascript模块化编程（三）：require.js的用法（[email&#160;protected]）                Javascript模块化编程（二）：AMD规范（[email&#160;protected]）                Javascript模块化编程（一）：模块的写法（[email&#160;protected]）                XMLHttpRequest Level 2 使用指南（[email&#160;protected]）                文件上传的渐进式增强（[email&#160;protected]）                Javascript定义类（class）的三种方法（[email&#160;protected]）                Javascript编程风格（[email&#160;protected]）                网页开发的6种在线调试环境（[email&#160;protected]）                      2011年            Javascript文件加载：LABjs和RequireJS（[email&#160;protected]）                jQuery的deferred对象详解（[email&#160;protected]）                jQuery最佳实践（[email&#160;protected]）                jQuery设计思想（[email&#160;protected]）                Javascript的10个设计缺陷（[email&#160;protected]）                Javascript诞生记（[email&#160;protected]）                Bookmarklet编写指南（[email&#160;protected]）                Javascript继承机制的设计思想（[email&#160;protected]）                如何判断Javascript对象是否存在（[email&#160;protected]）                快速排序（Quicksort）的Javascript实现（[email&#160;protected]）                Firebug控制台详解（[email&#160;protected]）                      2010年            防止网页被嵌入框架的代码（续）（[email&#160;protected]）                Javascript面向对象编程（三）：非构造函数的继承（[email&#160;protected]）                Javascript面向对象编程（二）：构造函数的继承（[email&#160;protected]）                Javascript 面向对象编程（一）：封装（[email&#160;protected]）                Javascript 的 this 用法（[email&#160;protected]）                12种不宜使用的Javascript语法（[email&#160;protected]）                      2009年            用Javascript获取页面元素的位置（[email&#160;protected]）                学习Javascript闭包（Closure）（[email&#160;protected]）                IE8开发人员工具教程（二）（[email&#160;protected]）                IE8开发人员工具教程（一）（[email&#160;protected]）                      2008年            防止网页被嵌入框架的代码（[email&#160;protected]）                                                                      分类                散文（159）                                          观点与感想（195）                                          算法与数学（32）                                          开发者手册（223）                                          理解计算机（63）                                          JavaScript（100）                                          计算机行业历史（39）                                          周刊（341）                                          创业（58）                                          译文集（46）                                          科技爱好者（149）                                          文学爱好者（36）                                          英语爱好者（66）                                          剪贴板（162）                                          笔记本（179）                                          杂物间（288）                                          Joel谈软件（14）                                          USENET（7）                                                                                                       Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e94aa2f01cf45',t:'MTc0MzI0MzA2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/javascript/index.html
async 函数的含义和用法 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    async 函数的含义和用法 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：co&nbsp;函数库的含义和用下一篇：Stay&nbsp;hungry                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              async 函数的含义和用法                                                                                    作者： 阮一峰                                    日期： 2015年5月11日                                                                                                                                            本文是《深入掌握 ECMAScript 6 异步编程》系列文章的最后一篇。                                                                                                                  Generator函数的含义与用法Thunk函数的含义与用法co函数库的含义与用法async函数的含义与用法一、终极解决异步操作是 JavaScript 编程的麻烦事，麻烦到一直有人提出各种各样的方案，试图解决这个问题。从最早的回调函数，到 Promise 对象，再到 Generator 函数，每次都有所改进，但又让人觉得不彻底。它们都有额外的复杂性，都需要理解抽象的底层运行机制。异步I/O不就是读取一个文件吗，干嘛要搞得这么复杂？异步编程的最高境界，就是根本不用关心它是不是异步。async 函数就是隧道尽头的亮光，很多人认为它是异步操作的终极解决方案。二、async 函数是什么？一句话，async 函数就是 Generator 函数的语法糖。 前文有一个 Generator 函数，依次读取两个文件。var fs = require('fs');var readFile = function (fileName){  return new Promise(function (resolve, reject){    fs.readFile(fileName, function(error, data){      if (error) reject(error);      resolve(data);    });  });};var gen = function* (){  var f1 = yield readFile('/etc/fstab');  var f2 = yield readFile('/etc/shells');  console.log(f1.toString());  console.log(f2.toString());};写成 async 函数，就是下面这样。var asyncReadFile = async function (){  var f1 = await readFile('/etc/fstab');  var f2 = await readFile('/etc/shells');  console.log(f1.toString());  console.log(f2.toString());};一比较就会发现，async 函数就是将 Generator 函数的星号（*）替换成 async，将 yield 替换成 await，仅此而已。三、async 函数的优点async 函数对 Generator 函数的改进，体现在以下三点。（1）内置执行器。 Generator 函数的执行必须靠执行器，所以才有了 co 函数库，而 async 函数自带执行器。也就是说，async 函数的执行，与普通函数一模一样，只要一行。var result = asyncReadFile(); （2）更好的语义。 async 和 await，比起星号和 yield，语义更清楚了。async 表示函数里有异步操作，await 表示紧跟在后面的表达式需要等待结果。（3）更广的适用性。  co 函数库约定，yield 命令后面只能是 Thunk 函数或 Promise 对象，而 async 函数的 await 命令后面，可以跟 Promise 对象和原始类型的值（数值、字符串和布尔值，但这时等同于同步操作）。四、async 函数的实现async 函数的实现，就是将 Generator 函数和自动执行器，包装在一个函数里。async function fn(args){  // ...}// 等同于function fn(args){   return spawn(function*() {    // ...  }); }所有的 async 函数都可以写成上面的第二种形式，其中的 spawn 函数就是自动执行器。下面给出 spawn 函数的实现，基本就是前文自动执行器的翻版。function spawn(genF) {  return new Promise(function(resolve, reject) {    var gen = genF();    function step(nextF) {      try {        var next = nextF();      } catch(e) {        return reject(e);       }      if(next.done) {        return resolve(next.value);      }       Promise.resolve(next.value).then(function(v) {        step(function() { return gen.next(v); });            }, function(e) {        step(function() { return gen.throw(e); });      });    }    step(function() { return gen.next(undefined); });  });}async 函数是非常新的语法功能，新到都不属于 ES6，而是属于 ES7。目前，它仍处于提案阶段，但是转码器 Babel 和 regenerator 都已经支持，转码后就能使用。五、async 函数的用法同 Generator 函数一样，async 函数返回一个 Promise 对象，可以使用 then 方法添加回调函数。当函数执行的时候，一旦遇到 await 就会先返回，等到触发的异步操作完成，再接着执行函数体内后面的语句。下面是一个例子。async function getStockPriceByName(name) {  var symbol = await getStockSymbol(name);  var stockPrice = await getStockPrice(symbol);  return stockPrice;}getStockPriceByName('goog').then(function (result){  console.log(result);});上面代码是一个获取股票报价的函数，函数前面的async关键字，表明该函数内部有异步操作。调用该函数时，会立即返回一个Promise对象。下面的例子，指定多少毫秒后输出一个值。function timeout(ms) {  return new Promise((resolve) => {    setTimeout(resolve, ms);  });}async function asyncPrint(value, ms) {  await timeout(ms);  console.log(value)}asyncPrint('hello world', 50);上面代码指定50毫秒以后，输出"hello world"。六、注意点await 命令后面的 Promise 对象，运行结果可能是 rejected，所以最好把 await 命令放在 try...catch 代码块中。async function myFunction() {  try {    await somethingThatReturnsAPromise();  } catch (err) {    console.log(err);  }}// 另一种写法async function myFunction() {  await somethingThatReturnsAPromise().catch(function (err){    console.log(err);  });}await 命令只能用在 async 函数之中，如果用在普通函数，就会报错。async function dbFuc(db) {  let docs = [{}, {}, {}];  // 报错  docs.forEach(function (doc) {    await db.post(doc);  });}上面代码会报错，因为 await 用在普通函数之中了。但是，如果将 forEach 方法的参数改成 async 函数，也有问题。async function dbFuc(db) {  let docs = [{}, {}, {}];  // 可能得到错误结果  docs.forEach(async function (doc) {    await db.post(doc);  });}上面代码可能不会正常工作，原因是这时三个 db.post 操作将是并发执行，也就是同时执行，而不是继发执行。正确的写法是采用 for 循环。async function dbFuc(db) {  let docs = [{}, {}, {}];  for (let doc of docs) {    await db.post(doc);  }}如果确实希望多个请求并发执行，可以使用 Promise.all 方法。async function dbFuc(db) {  let docs = [{}, {}, {}];  let promises = docs.map((doc) => db.post(doc));  let results = await Promise.all(promises);  console.log(results);}// 或者使用下面的写法async function dbFuc(db) {  let docs = [{}, {}, {}];  let promises = docs.map((doc) => db.post(doc));  let results = [];  for (let promise of promises) {    results.push(await promise);  }  console.log(results);}（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2015年5月11日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（58条）                                                                                                    zsc 说：                                                        还是Promise好用，好理解。                           2015年5月11日 11:02 | # | 引用                                                                                                                kk 说：                                                        终极方案不是类似go的fiber吗https://github.com/laverdet/node-fibers                           2015年5月11日 11:02 | # | 引用                                                                                                                gakaki 说：                                                        fiber就是lua 里的协成 py的goagent php7里的yield unity3d引擎的crountine  一看到yield就是其实也不自然。。ruby的fiber也是这样的。。。。相对来说c#的方案看起来做优雅 就是typescript 新版里的那个。。。。                           2015年5月11日 12:09 | # | 引用                                                                                                                gakaki 说：                                                        The Future of TypeScript: ECMAScript 6, Async/Await and Richer Librarieshttps://channel9.msdn.com/Events/Build/2015/3-644                           2015年5月11日 12:18 | # | 引用                                                                                                                Cat Chen 说：                                                        其实还有下一步：async function* observable() {}                           2015年5月11日 15:38 | # | 引用                                                                                                                xiaorong61 说：                                                        await Promise.all(promises)可改成：await* promises                           2015年5月11日 20:01 | # | 引用                                                                                                                兴杰 说：                                                        这个跟c#差不多。挺好的                           2015年5月12日 00:30 | # | 引用                                                                                                                cnplane 说：                                                        写代码有些年了，说实话，阮老师有关javascript的文章，我一篇都看不懂，好像不太像阮老师写的东西？ 不知阮老师能否写一个从头到尾有主线+实际运用的javascript序列？带人入门，让人自己修行。这些javascript招式片段才能让人看懂，使人收益？嗯？留言会保留？                           2015年5月15日 09:03 | # | 引用                                                                                                                题叶 说：                                                        看明白 Haskell 的异步之后, 觉得各种编程语言当中的模拟都太啰嗦了.我不懂 async await 内部实现, 但是想来跟 CPS 变换之类方案有关系.有了 await 之后真是越来越像 Haskell 的写法了.                           2015年5月18日 00:07 | # | 引用                                                                                                                说易笔记 说：                                                        接触c#后才学习到异步，感觉不错。                           2015年6月13日 20:55 | # | 引用                                                                                                                czk 说：                                                        看来是趋势啊，Python中也有async、awake关键字了                           2015年8月11日 18:55 | # | 引用                                                                                                                longHorn-C 说：                                                        学到不少东西。比如*函数的自动执行器的原理。但是这个系列的里面的代码示例问题太多了。有些是小问题，比如漏了*号，多加了await，有些是比较深入的错误或者说遗漏。比如db.post是promise吗（有then成员吗）。readfile后的console.log也没有解释输出是什么。（答案是，不是大家多数以为的文件内容，而是function处理代码）                           2015年9月26日 16:03 | # | 引用                                                                                                                鲁军 说：                                                        终于明白 async await  yield 原来是这样发展过来的                           2016年6月 1日 08:32 | # | 引用                                                                                                                Tank 说：                                                        全部看完了，没有跟着写例子去理解果然还是不行。不过明白了异步的发展之路，果然越到后面越简洁化、傻瓜化~                           2016年8月15日 22:15 | # | 引用                                                                                                                jasminecjc 说：                                                        想问下async并发多个请求那里的写法，写的是一个固定的数组对象，但是我想问如果不确定并发请求的请求数呢，不知道实际中会不会有那种一开始不能确定并发请求数的情况，如果数量不确定，要怎么实现不确定数量请求数的并发呢                           2016年9月 8日 21:04 | # | 引用                                                                                                                24号来看你 说：                                                        所谓自动执行器spwan函数就是遍历执行generator函数的next()方法，直到其done属性为false为止。说async await是gen函数的语法糖我觉得不对，应该说async await是generator中所有yield的自动执行(generator是需要手动执行，通过.next()方法执行)。generator是async函数的基础，更具灵活性。                           2016年11月 3日 21:44 | # | 引用                                                                                                                赵彤 说：                                                        很多代码执行有问题，不知道是我的问题还是代码的问题，感觉理解的云里雾里，不是很懂。                           2016年11月 5日 14:45 | # | 引用                                                                                                                xsilen 说：                                                        yield, async, await 最早我是在actionscript里接触到的, 嘻嘻                           2016年11月14日 02:32 | # | 引用                                                                                                                gopher 说：                                                        go程序员路过，感觉除了go的go，其他都是渣渣                           2016年11月24日 09:48 | # | 引用                                                                                                                蜜汁香味 说：                                                        最后这段代码还是顺序执行的async function dbFuc(db) {  let docs = [{}, {}, {}];  let promises = docs.map((doc) => db.post(doc));  let results = [];  for (let promise of promises) {    results.push(await promise);  }  console.log(results);}                           2016年12月19日 16:06 | # | 引用                                                                                                                Andy丶年轻人 说：                                                        真心觉得写的不清不楚，呵呵                           2017年2月 5日 17:11 | # | 引用                                                                                                                23 说：                                                        这篇没看明白，好惭愧                           2017年2月12日 19:17 | # | 引用                                                                                                                cshenger 说：                                                        所谓终极方案，果然就是无招胜有招的方案，另外现在Chrome新版已经原生支持async了                           2017年3月13日 17:50 | # | 引用                                                                                                                zyj 说：                                                        作为一个go的后端程序员 看了几天js的异步编程 这方面js和go差距是有些大 csp的模型确实可以把js中好多概念秒杀掉                           2017年3月15日 12:34 | # | 引用                                                                                                                wedaren 说：                                                        可以看《你不知道的JavaScript》中卷，加深理解。                           2017年6月 2日 10:04 | # | 引用                                                                                                                lalal 说：                                                        最后有个地方错了：async function dbFuc(db) {  let docs = [{}, {}, {}];  let promises = docs.map((doc) => db.post(doc));  let results = [];  for (let promise of promises) {    results.push(await promise);  }  console.log(results);}这个不是并发的，应该是继发的。for循环中的promise是db.post(doc)产生的。更改为这样子的是不是就可以了：    results.push(await Promise.reslove(promise));,用Promise.reslove重新创建一个状态为resolved的对象，这样spawn自动执行器就会同步遍历了，因为这时候的promise的状态是resolved。不过上面的实现麻烦，直接用Promise.all()吧。                           2017年9月21日 17:00 | # | 引用                                                                                                                雷登 说：                                                        Promise.all不是有一个被reject了，其他已成功的也会被reject吗？在不能保证所有异步请求都成功的情况下，用这个方法不对吧？                           2017年10月 2日 20:36 | # | 引用                                                                                                                张大爷 说：                                                        还是c#强大，12就有这个语法了                           2017年10月13日 16:50 | # | 引用                                                                                                                Chenng 说：                                                        引用雷登的发言：Promise.all不是有一个被reject了，其他已成功的也会被reject吗？在不能保证所有异步请求都成功的情况下，用这个方法不对吧？是啊，怎么处理中间的错误呢                           2017年10月20日 16:35 | # | 引用                                                                                                                web前端无名小辈 说：                                                        我看的有点蒙蔽。但是还是不错的，值得学习，和领悟                           2017年12月28日 13:51 | # | 引用                                                                                                                sjs 说：                                                        @lalal：function ayncSelf(self) {  var _promise = new Promise((resolve)=>{    setTimeout(()=>{resolve(self)},1000);  });   return _promise }async function dbFuc(db) {  console.log('start:',new Date());  let docs = [1, 2, 3];  let promises = docs.map((doc) => ayncSelf(doc));  let results = [];  for (let promise of promises) {  results.push(await promise);}  console.log(results);  console.log('end:',new Date());}试试这个代码,整个代码执行时间大约1秒,说明这些异步操作是一起执行的                           2018年2月22日 15:32 | # | 引用                                                                                                                神仙朱 说：                                                        阮老师好，如果在resolve里面传了多个值，怎么用 await 接收多个值？                           2018年4月18日 23:52 | # | 引用                                                                                                                astonishqft 说：                                                        说真的，介绍的太简单了，有的例子举的也不是很好。。。                           2018年4月19日 11:00 | # | 引用                                                                                                                诺亚的雎鸠 说：                                                        引用Chenng的发言：是啊，怎么处理中间的错误呢提前捕获一次：```jslet a = Promise.resolve(1),     b = Promise.reject(new Error(2));Promise.all([a, b].map(p => p.catch(e => e)))  .then(results => console.log(results))   .catch(e => console.log(e));```                           2018年5月 4日 16:34 | # | 引用                                                                                                                诺亚的雎鸠 说：                                                        https://gist.github.com/kkxujq/2c2f27085c3f2c720c8bafdb8f9490cd                           2018年5月 4日 16:36 | # | 引用                                                                                                                诺亚的雎鸠 说：                                                        引用雷登的发言：Promise.all不是有一个被reject了，其他已成功的也会被reject吗？在不能保证所有异步请求都成功的情况下，用这个方法不对吧？https://gist.github.com/kkxujq/2c2f27085c3f2c720c8bafdb8f9490cd                           2018年5月 4日 16:38 | # | 引用                                                                                                                诺亚的雎鸠 说：                                                        @阮老师，关于文中「await 命令只能用在 async 函数之中」目前在浏览器环境（Chrome之类）已经实现了 top-level await方案，nodeJs环境中暂时未实现                           2018年5月 4日 16:40 | # | 引用                                                                                                                老虎会游泳 说：                                                        > 一比较就会发现，async 函数就是将 Generator 函数的星号（*）替换成 async，将 yield 替换成 await，仅此而已。对此并不十分赞同。async/await 并不是生成器函数和 yield 的替代，而是它们与某种特定的执行器加在一起的替代。而生成器函数的执行器不同，运行效果是完全不一样的。比如星号函数配合用 es6-promise-pool 或者 Promise.all() 实现的执行器可以实现多个 yield 操作的并发执行，这与 async 函数中 await 要做的事情完全不同（await 恰恰就是要等待本次调用的运行结果出来后再进行下次调用，而不是让其与下次调用同时发生）。比如下面这个例子（字数太多只能外链）：https://gist.github.com/SwimmingTiger/742aa221bb3a7eb61664a06f48960d71输出是这样的：```begin: spawn1 sleep 2000ms, 0:49:50begin: spawn2 sleep 2000ms, 0:49:50begin: spawn2 sleep 3000ms, 0:49:50begin: asyncFunc sleep 2000ms, 0:49:50end: spawn1 slept 2000ms, 0:49:52begin: spawn1 sleep 3000ms, 0:49:52end: spawn2 slept 2000ms, 0:49:52end: asyncFunc slept 2000ms, 0:49:52begin: asyncFunc sleep 3000ms, 0:49:52end: spawn2 slept 3000ms, 0:49:53end: spawn1 slept 3000ms, 0:49:55end: asyncFunc slept 3000ms, 0:49:55```可以看出，spawn2 的两个 sleep 是同一时间开始执行的，但是 spawn1 和 asyncFunc 的第二个 sleep 是等到第一个 sleep 执行完成后才开始执行的。所以在这个例子中，async/await 并不等价于生成器函数 gen，而是等价于生成器函数 gen 和 spawn1 这个特定执行器的结合。                           2018年5月29日 00:53 | # | 引用                                                                                                                张三 说：                                                        把await换成then效果也是一样的，并没看出await优势在哪function timeout(ms) {  return new Promise((resolve) => {    setTimeout(resolve, ms);  });}async function asyncPrint(value, ms) {  timeout(ms).then(()=>{   console.log(value)  });}                           2018年10月25日 10:17 | # | 引用                                                                                                                Star 说：                                                        是时候把代码里的 promsie 换掉了                           2018年11月21日 18:09 | # | 引用                                                                                                                Pandamo 说：                                                        引用Chenng的发言：是啊，怎么处理中间的错误呢有关联关系的数据放Promise.all里面，没关联的单独调用。关联关系的数据如果其中一个有问题，影响其他的数据，当然要断点查                           2019年1月10日 15:37 | # | 引用                                                                                                                韩忠康 说：                                                        async 函数就是 Generator 函数的语法糖，感觉这个不好理解呀。我怎么感觉是：async 函数就是 Promise 的语法糖呢？                           2019年2月23日 17:24 | # | 引用                                                                                                                k 说：                                                        somethingThatReturnsAPromise  这个函数名称写错了吧 somethingThatReturnAsPromise                           2019年8月 8日 17:20 | # | 引用                                                                                                                阿凯 说：                                                        async function dbFuc(db) {  let docs = [{}, {}, {}];  // 可能得到错误结果  docs.forEach(async function (doc) {    await db.post(doc);  });}这个为什么会错误呢？                           2019年9月 8日 21:05 | # | 引用                                                                                                                zt123123 说：                                                        @阿凯：map forEach都是同步执行，并不会等待await 执行，无法按照预期按顺序返回结果，for,reduce可以用                           2019年9月 9日 15:04 | # | 引用                                                                                                                毛毛啊 说：                                                        哈 和python的异步编写语法一模一样                           2020年4月 4日 14:56 | # | 引用                                                                                                                vecii 说：                                                        var result = asyncReadFile();console.log(result);像这个是怎么做到的呢？这个asyncReadFile应该怎么写？文章读完了，这个看不懂，文章里貌似都是要var result = await asyncReadFile()才能行，怎么把async/await封装进asyncReadFile里呢                           2020年6月 9日 14:22 | # | 引用                                                                                                                jingkaimori 说：                                                        引用vecii的发言：var result = asyncReadFile();console.log(result);...这是同步函数的写法：如果异步函数返回的是打开的文件对象，那么在这行代码执行后和文件操作完成之前，result是一个不可用的值。如果异步函数返回的是Promise，那么log语句打印的就是Promise语句，而非文件本身。                           2020年6月 9日 20:48 | # | 引用                                                                                                                jingkaimori 说：                                                        引用zt123123的发言：@阿凯：map forEach都是同步执行，并不会等待await 执行，无法按照预期按顺序返回结果，for,reduce可以用可以使用for await ... of关键字来异步遍历这些对象                           2020年6月 9日 20:50 | # | 引用                                                                                                                vecii 说：                                                        引用jingkaimori的发言：这是同步函数的写法：如果异步函数返回的是打开的文件对象，那么在这行代码执行后和文件操作完成之前，result是一个不可用的值。如果异步函数返回的是Promise，那么log语句打印的就是Promise语句，而非文件本身。感谢回答，大概看的明白，但是还是不知道要怎么实现，让log语句在asyncReadFile执行完成后才打印出result的值。比如小程序中的wx.getStorageSync()就是这样var result = fetchData();console.log(result);                           2020年6月10日 09:17 | # | 引用                                                                                                                安慕吸 说：                                                        这篇文章，真的是解决了我的燃眉之急，谢谢谢谢                           2021年3月 5日 09:20 | # | 引用                                                                                                                敖癸 说：                                                        老师能不能出讲讲   application/x-ndjson  这个玩意怎么用的？最近学习响应式编程，后端使用springboot webflux框架，设想返回的json流，前端进行逐行加载显示，不知道前端应该怎么做才能实现这个效果呢？                           2021年4月12日 20:12 | # | 引用                                                                                                                烟花世界 说：                                                        我觉得写的挺好，如果promise和generator不懂的话，这个可能看的会有点困难=。=（特别是promise）                           2021年5月30日 18:36 | # | 引用                                                                                                                madman 说：                                                        阮老师你好，看了您的S6入门教程的async 函数这章，知识点基本都能理解，学会了async函数的实现原理，解决了很多题的疑惑，但是对于这一章有一个知识点无法解决，望您解答一下。1.forEach、reduce、map方法的参数改成async函数，为什么有些可以，有些不可以。看了网上一些文章，很多没有提到这一点，所以还请您解答一下。                           2021年8月26日 11:12 | # | 引用                                                                                                                小小菜 说：                                                        阮老师你好：看了您对《async 函数的 await 命令后面，可以跟 Promise 对象和原始类型的值（数值、字符串和布尔值，但这时等同于同步操作）。》的解读我有一点疑惑。昨天看MDN Web DOC上的说法是这样的《await 只在异步函数里面才起作用。它可以放在任何异步的，基于 promise 的函数之前。》那么await后面可跟的表达式到底有什么限制吗？望您抽空解答，谢谢                           2021年9月10日 10:11 | # | 引用                                                                                                                路人甲 说：                                                        这么好用的东西我现在才知道，感觉跟不上时代了，有了async和await不用嵌套then果然代码清晰多了。                           2021年11月11日 00:35 | # | 引用                                                                                                                hkp008 说：                                                        引用小小菜的发言：阮老师你好：看了您对《async 函数的 await 命令后面，可以跟 Promise 对象和原始类型的值（数值、字符串和布尔值，但这时等同于同步操作）。》的解读我有一点疑惑。昨天看MDN Web DOC上的说法是这样的《await 只在异步函数里面才起作用。它可以放在任何异步的，基于 promise 的函数之前。》那么await后面可跟的表达式到底有什么限制吗？望您抽空解答，谢谢接普通非promise 对象 直接返回运算值；接promise 对象 ，等着 Promise 对象 resolve，然后得到 resolve 的值，作为 await 表达式的运算结果                           2021年12月 3日 17:15 | # | 引用                                                                                                                流客 说：                                                        > 这时三个 db.post 操作将是并发执行，也就是同时执行，而不是继发执行。正确的写法是采用 for 循环。这个怎么理解呀？是由于forEach原因并发执行的吗？ 求分析下                           2022年1月28日 15:50 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e94b36c5ccf45',t:'MTc0MzI0MzA2Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2015/05/async.html
浏览器加载 CommonJS 模块的原理与实现 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    浏览器加载 CommonJS 模块的原理与实现 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：require()&nbsp;源下一篇：Node.js&nbsp;命令行                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              浏览器加载 CommonJS 模块的原理与实现                                                                                    作者： 阮一峰                                    日期： 2015年5月23日                                                                                                                                            就在这个周末，npm 超过了 cpan ，成为地球上最大的软件模块仓库。                                                                                                                npm 的模块都是 JavaScript 语言写的，但浏览器用不了，因为不支持 CommonJS 格式。要想让浏览器用上这些模块，必须转换格式。本文介绍浏览器加载 CommonJS 的原理，并且给出一种非常简单的实现。一、原理浏览器不兼容CommonJS的根本原因，在于缺少四个Node.js环境的变量。  moduleexportsrequireglobal只要能够提供这四个变量，浏览器就能加载 CommonJS 模块。下面是一个简单的示例。var module = {  exports: {}};(function(module, exports) {  exports.multiply = function (n) { return n * 1000 };}(module, module.exports))var f = module.exports.multiply;f(5) // 5000 上面代码向一个立即执行函数提供 module 和 exports 两个外部变量，模块就放在这个立即执行函数里面。模块的输出值放在 module.exports 之中，这样就实现了模块的加载。二、Browserify 的实现知道了原理，就能做出工具了。Browserify 是目前最常用的 CommonJS 格式转换的工具。请看一个例子，main.js 模块加载 foo.js 模块。// foo.jsmodule.exports = function(x) {  console.log(x);};// main.jsvar foo = require("./foo");foo("Hi");使用下面的命令，就能将main.js转为浏览器可用的格式。$ browserify main.js > compiled.jsBrowserify到底做了什么？安装一下browser-unpack，就能看清楚了。$ npm install browser-unpack -g然后，将前面生成的compile.js解包。$ browser-unpack 可以看到，browerify 将所有模块放入一个数组，id 属性是模块的编号，source 属性是模块的源码，deps 属性是模块的依赖。因为 main.js 里面加载了 foo.js，所以 deps 属性就指定 ./foo 对应1号模块。执行的时候，浏览器遇到 require('./foo') 语句，就自动执行1号模块的 source 属性，并将执行后的 module.exports 属性值输出。三、Tiny Browser Require虽然 Browserify 很强大，但不能在浏览器里操作，有时就很不方便。我根据 mocha 的内部实现，做了一个纯浏览器的 CommonJS 模块加载器 tiny-browser-require 。完全不需要命令行，直接放进浏览器即可，所有代码只有30多行。它的逻辑非常简单，就是把模块读入数组，加载路径就是模块的id。function require(p){  var path = require.resolve(p);  var mod = require.modules[path];  if (!mod) throw new Error('failed to require "' + p + '"');  if (!mod.exports) {    mod.exports = {};    mod.call(mod.exports, mod, mod.exports, require.relative(path));  }  return mod.exports;}require.modules = {};require.resolve = function (path){  var orig = path;  var reg = path + '.js';  var index = path + '/index.js';  return require.modules[reg] && reg    || require.modules[index] && index    || orig;};require.register = function (path, fn){  require.modules[path] = fn;};require.relative = function (parent) {  return function(p){    if ('.' != p.charAt(0)) return require(p);    var path = parent.split('/');    var segs = p.split('/');    path.pop();    for (var i = 0; i 使用的时候，先将上面的代码放入页面。然后，将模块放在如下的立即执行函数里面，就可以调用了。&lt;script src="require.js" /&gt;&lt;script&gt;require.register("moduleId", function(module, exports, require){  // Module code goes here});var result = require("moduleId");&lt;/script&gt;还是以前面的 main.js 加载 foo.js 为例。require.register("./foo.js", function(module, exports, require){  module.exports = function(x) {    console.log(x);  };});var foo = require("./foo.js");foo("Hi");注意，这个库只模拟了 require 、module 、exports 三个变量，如果模块还用到了 global 或者其他 Node 专有变量（比如 process），就通过立即执行函数提供即可。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2015年5月23日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（11条）                                                                                                    yuntu 说：                                                        有个笔误：var multiply = module.exports.multiply;应为 f =  module.exports.multiply;                           2015年5月23日 21:12 | # | 引用                                                                                                                阮一峰 说：                                                        @yuntu谢谢指出，已经改正                           2015年5月23日 23:08 | # | 引用                                                                                                                Jianchao Yang 说：                                                        https://github.com/efacilitation/commonjs-require                           2015年5月25日 03:43 | # | 引用                                                                                                                smithfox 说：                                                        var foo = require("./foo.js");不是var foo = require("./foo"); 吗?带个 .js 能兼容现有的 代码吗?                           2015年6月 3日 20:13 | # | 引用                                                                                                                Loveholly 说：                                                        博主可以分享一下webpack的原理么？                           2015年6月15日 22:04 | # | 引用                                                                                                                rufushuang 说：                                                        在项目里面用过require1k，1k大小的commonjs实现，不知道与阮老师的相比如何？https://github.com/Stuk/require1k                           2015年9月 6日 19:24 | # | 引用                                                                                                                Michael 金 说：                                                        下面這個tiny的方法是不是只能適用載入一個要被require的檔案，因為還要把程式碼放在裡面，而且好像一次只能註冊一個.js檔案如果要使用較大型的該怎麼辦呢?                           2015年12月 9日 14:30 | # | 引用                                                                                                                Bob Ke 说：                                                        非常的简明扼要                           2016年11月26日 17:22 | # | 引用                                                                                                                南巷 说：                                                        require.register("./foo.js", function(module, exports, require){  module.exports = function(x) {    console.log(x);  };});这种形式写的模块代码可以放在分散在各处单独的文件吗，个人理解的是可以但是必须按照引用顺序导入，那这种实现的模块化与之前的单纯闭包实现的模块化有什么差别吗？还是说要为了能在浏览器上跑commonJS规范的代码而这样实现。var foo = require("./foo.js");foo("Hi");                           2019年9月24日 16:02 | # | 引用                                                                                                                asi 说：                                                        这个方法出现循环引用怎么办                           2020年3月 4日 10:27 | # | 引用                                                                                                                小菜 说：                                                        老师 commonjs时间格式转换在低版本安卓中 不兼容 不知该如何解决                           2020年9月21日 09:44 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9c6ea955cf45',t:'MTc0MzI0MzM3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2015/05/commonjs-in-browser.html
Stay hungry, Stay foolish 的原义 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Stay hungry, Stay foolish 的原义 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：async&nbsp;函数的含义下一篇：require()&nbsp;源                                                                                分类：                                                                                    散文                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Stay hungry, Stay foolish 的原义                                                                                    作者： 阮一峰                                    日期： 2015年5月17日                                                                                                                                            乔布斯在斯坦福大学毕业演讲中说过，他最喜欢的一句话叫做"Stay hungry, Stay foolish"。                                                                                                                  "Stewart和他的人出了好几期《地球产品目录》（Whole Earth Catalog），然后不打算再出了，他们推出了最后一期。那时是70年代中期，我跟你们一样大。那一期的封底有一张照片，上面是清晨的乡间道路，就是那种如果你喜欢漫游，你会经过的道路。照片下面有一句话：'Stay Hungry, Stay Foolish'。这是他们的临别赠言。Stay Hungry. Stay Foolish. 我总是希望自己永远保持这个状态。现在你们即将毕业，我也把这句话送给你们。"这句话一下子就出名了，乔布斯的人生格言，谁会忘记呢？可是，它到底是什么意思，就众说纷纭了。有人就去采访《地球产品目录》的创始人和主编Stewart Brand，问他知不知道乔布斯喜欢他的这句话。下面就是我想分享的内容。  "对，我知道乔布斯中意这句话。因为他托人传话，他想要一份我的签名，在那一期Stay Hungry, Stay Foolish的封面上。这是我第一次知道，这本杂志对他很重要。"哇，想象一下，乔布斯问你要签名，这会是什么感觉啊......Stewart Brand接着就解释，这句话是怎么来的。  "1966年，我发起了一个the whole Earth运动，想要NASA公布地球的太空照片，后来《地球产品目录》的名字就是这样来的。"1958年，美国发射了第一颗人造卫星"探险者1号"，可是直到1966年，都没有公布地球的太空照片，全世界都不知道太空中看地球是什么样子。所以，就有了Stewart Brand的the whole Earth运动。下面是1968年12月29日，阿波罗8号拍摄的地球从月球的地平线上升起。那次航行是人类第一次完整地拍摄地球。人类有了第一批地球的太空照片。  "后来，我们就拿到了地球的太空照片，那是在一颗卫星上拍摄的，可以看到地球的完整一天，从日出到日落。我把照片排成那个顺序，我想表达一种连接，一方面是太阳的阴影在地球表面的移动，另一方面是与此同时人们在地球上的经历，他们看到日出。我脑海中的画面是，一个漫游者日出时站在无名的路上，太阳升起来了，火车从旁边呼啸而过。这个年轻人的心情是如此自由，他有点饿（hungry），也知道得很清楚，自己对前面的道路一无所知（foolish）。"下面就是这张封底图片。读完上面这段话，再结合实物，你就会明白Stay hungry，Stay foolish到底是什么意思，以及它为什么能打动20岁的乔布斯，30年后还记得清清楚楚。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2015年5月17日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2020.01.08: 如何写一份有效的技术简历？                                                         现在找工作的程序员很多，都需要写简历。                            2019.11.11: 杨安泽的总统竞选                                                         2020美国总统参选人有一个44岁的华人，名叫杨安泽（Andrew Yang）。                            2019.08.26: 任正非管理思想                                                         前一段日子，网上出现了一个仓库，收集了华为公司创始人任正非的讲话稿，从1994年直到2018年，一共400多篇。                            2019.01.17: 罗杰·克劳利的作品读后感                                                         最近两个月，我一直在读英国历史学家罗杰·克劳利（Roger Crowley）的作品。                            广告（购买广告位）云手机                                                              留言（46条）                                                                                                    CQ 说：                                                        原来真相那么出乎意料。                           2015年5月17日 16:54 | # | 引用                                                                                                                史蒂夫.保罗.乔布斯 说：                                                        英语渣还是没看明白，谁给解释一下？                           2015年5月17日 18:44 | # | 引用                                                                                                                匿名用户 说：                                                        引用史蒂夫.保罗.乔布斯的发言：英语渣还是没看明白，谁给解释一下？看完文章后，自己翻译了一下保持(对知识的)饥渴，保持(对前方道路的)无知                           2015年5月17日 21:08 | # | 引用                                                                                                                胡时玮 说：                                                        我们的征途，是星辰大海                           2015年5月17日 22:04 | # | 引用                                                                                                                jazzcoder 说：                                                        引用胡时玮的发言：我们的征途，是星辰大海说得好！                           2015年5月17日 22:13 | # | 引用                                                                                                                steve joy 说：                                                        胡时玮 说：我们的征途，是星辰大海这不是周带鱼说的吗？                           2015年5月17日 23:12 | # | 引用                                                                                                                路人 说：                                                        引用匿名用户的发言：看完文章后，自己翻译了一下保持(对知识的)饥渴，保持(对前方道路的)无知我觉得是，人生是一条路，这条路因为一无所知所以具有探索性，挑战性。所以我会理解为：留住渴求之心（状），怀着前方仍要探索的信念（或转换成怀着求知/寻真之情）。                           2015年5月18日 00:43 | # | 引用                                                                                                                deadfool 说：                                                        您这篇是译文啊，给出原文链接是不可少的吧：http://ailiangan.com/post/50201060795/the-origins-of-stay-hungry-stay-foolish                           2015年5月18日 09:47 | # | 引用                                                                                                                大兵 说：                                                        这句话也可以用来解释苹果的销售策略：饥渴营销，用了苹果产品就变傻了。                           2015年5月18日 10:05 | # | 引用                                                                                                                运维派 说：                                                        汗，好吧，真是这样的吗。其实我一直对这句话中的hungry是指精神层面的，而非物质上的。                           2015年5月18日 15:00 | # | 引用                                                                                                                鸸鹋先生 说：                                                        常读常新。                           2015年5月19日 13:19 | # | 引用                                                                                                                于洋 说：                                                        意思完全不同……hungry真的是饥饿而非对新知的饥渴，foolish不是一种谦虚而是茫然。不过每个人都有自己的理解，然后将一句话做成自己的指路牌                           2015年5月19日 21:41 | # | 引用                                                                                                                liaotonglang 说：                                                        以前以为huangary是指要保持野心，foolish是指去做傻瓜才会做的傻事呢。看来我理解错了。                           2015年5月20日 12:42 | # | 引用                                                                                                                运维派 说：                                                        每个人的背景和状态不同，对这句话的理解自然就不同了，看来并非中文，英文也是博大精深的啊：）                           2015年5月21日 10:51 | # | 引用                                                                                                                pikachu3271 说：                                                        这个翻译比较自嘲：做个吃货，做个傻逼~                           2015年5月21日 14:36 | # | 引用                                                                                                                stefal 说：                                                        信息的主要目的是表达和交流。从这个角度上说，作者的特殊原意当然知道更好，但不知道或者与大家理解不同也没关系吧，最终获得广泛传播和产生价值的其实还是大家的正常字面理解。                           2015年5月21日 22:38 | # | 引用                                                                                                                李胖直 说：                                                        博客加个返回顶部功能吧                           2015年5月22日 16:40 | # | 引用                                                                                                                M16 说：                                                        换个角度从月球上看地球，一片漆黑，一点光亮，认清现实，保持清醒                           2015年5月23日 11:15 | # | 引用                                                                                                                raiden 说：                                                        求知若饥，大智若愚                           2015年5月25日 10:46 | # | 引用                                                                                                                tianqbt 说：                                                        有个叫澜夕的在微信转载了这篇文章，还自己取了个题目“你们都理解错了”。看完这文章，我真不知道自己哪儿理解错了，只好百度你的名字和Stay hungry, Stay foolish才找到这。为什么有些人就那么喜欢自作主张，还一副众人皆醉我独醒的优越感。                           2015年5月25日 13:29 | # | 引用                                                                                                                monklof 说：                                                        一个漫游者日出时站在无名的路上，太阳升起来了，火车从旁边呼啸而过。这个年轻人的心情是如此自由，他有点饿（hungry），也知道得很清楚，自己对前面的道路一无所知（foolish）。为什么这句话配上那张图，看起来会让人有一种极度悲伤的感觉。                           2015年5月27日 23:13 | # | 引用                                                                                                                anthony 说：                                                        引申一下：原图左上角有一个从太空中看太阳升起的图片，当太空中的太阳这样升起时，地球上的人看到的下面这副图。因为饥饿，虽然迷茫但还是要向前探索。这种感觉像是回到人类之初，我们从森林走到平原，我们不知道为什么太阳升起，为什么我们来到这里，但我们知道，只有向前，才能活下来。原意应该是理解自己的无知（stay foolish)，但要保持向前(stay hungry).                           2015年6月 1日 18:11 | # | 引用                                                                                                                子风 说：                                                        我理解的是，这句话并不是想说要保持饥饿和无知的状态， 而是去做让自己会有这些感受的事情。                           2015年6月18日 09:01 | # | 引用                                                                                                                wwwizard 说：                                                        这个通常译作：求知若饥，虚心若愚                           2015年6月18日 16:00 | # | 引用                                                                                                                仰泳009 说：                                                        刚好感觉和最近看的李小龙的一些随笔，感觉有一些地方还是比较契合这句话的：比如李小龙首先要“清空”自己才能得到更多；还有要认识自我，首先要认识自己的无知等等。以前就觉得这句话很有感觉，今天看到那张图感觉更棒了～                           2015年6月29日 11:20 | # | 引用                                                                                                                会飞雨 说：                                                        吃饱了就吃不下。满足了就走不动。                           2015年7月22日 14:15 | # | 引用                                                                                                                gosnb 说：                                                        我觉得这样简单直白的警句在能不翻译的情况下就不翻译，或者翻译但必须带原文，如果真需要翻译我倾向“保持饥饿，保持愚蠢”。做个吃货，做个二货！  饿不死、傻不死。功成不息；坚守痴心。虚心若渴，求知若愚。吃货征服世界，傻逼天下无敌                           2015年8月19日 18:32 | # | 引用                                                                                                                月 说：                                                        不断探索，不要被固有的知识所束缚。保持一个清醒的头脑。                           2015年9月27日 20:18 | # | 引用                                                                                                                北林 说：                                                        保持饥饿，保持愚蠢。饥饿让人清醒并朝着果腹的方向努力，保持愚蠢不会让你骄傲自大                           2015年10月 7日 09:59 | # | 引用                                                                                                                Kin 说：                                                        看了之后，我自己的理解是在：就算旅途中会感到饥饿，感到自己像傻瓜一样对未来的道路一无所知，也要忍受身心俱惫，保持对未来的期待和好奇之心。                           2015年10月10日 01:00 | # | 引用                                                                                                                古木天琪 说：                                                        保持饥渴，保持无知！Always The Road ……                           2015年11月20日 15:30 | # | 引用                                                                                                                PLASTERLUX 说：                                                        做个吃货，做个SB                           2016年3月25日 17:31 | # | 引用                                                                                                                lixiaolong 说：                                                        stay hungry， 指的是一种对无穷的未知充满好奇的精神状态stay foolish，指的是当你发现你懂了的时候，不要认为你真的懂了，因为看事务的角度也是无穷的，你指懂了一个方面而已横批无边无际，一直向前呵呵                           2017年6月 7日 11:38 | # | 引用                                                                                                                steven 说：                                                        中译文: 狗不能喂太饱,人不能对太好                           2017年6月27日 16:14 | # | 引用                                                                                                                Gilbert 说：                                                        探知无疆域，保持好奇心。                           2018年1月 1日 10:25 | # | 引用                                                                                                                方枪枪 说：                                                        饿了就吃，蠢就别想。翻译过来就是但凭直觉，不假思索。一贯符合老乔的听从你自己内心的声音。                           2018年9月25日 16:38 | # | 引用                                                                                                                马小强 说：                                                        呵呵呵，我对英语基本上就是婴儿对食物概念的感觉！不过，个人觉得“stay hungry！ stay foolish！”应该按照中文寓意，理解为“坚定信念！不断追求！”或者“遵守承诺！勇往直前！”                           2020年8月21日 08:31 | # | 引用                                                                                                                eric liu 说：                                                        永远求知若渴，永远守拙如一                           2020年10月16日 21:45 | # | 引用                                                                                                                Ahern  说：                                                        图片一张是太空的角度，一张是人的视角。我们看到的是洒满阳光的小路，换个视角在太空中又是不同的景象，我们可以看到整个太阳并且知道为什么小路上有阳光，前方有太多我们要探索的，所以我们始终要很“极饿”的像前方的道路走，但我们始终是愚者，始终只能以一个愚者的姿态不断的向前走。因为未知所以我们像个傻子。                           2021年3月 1日 01:00 | # | 引用                                                                                                                张 说：                                                        Stewart Brand 说的话有英文原版吗？                           2021年4月 6日 23:12 | # | 引用                                                                                                                luckymark 说：                                                        保持饥渴，拥抱未知                           2021年6月29日 09:48 | # | 引用                                                                                                                乐天谷 说：                                                        “stay hungry！ stay foolish！”今天有感而想到这句，当下的理解是“温饱和舒适的环境，使得人们容易失去努力的驱动力；在温饱和舒适的环境中，即使遇到问题，人们也会耍小聪明绕开，从而失去更进一步的机会”；因此，“保持饥渴！保持愚蠢！”是走向成功不可或缺的品质。                           2021年8月18日 15:43 | # | 引用                                                                                                                张小苒 说：                                                        保持探索欲，求知若渴，保持谦逊，虚怀若谷                           2021年11月 6日 00:27 | # | 引用                                                                                                                恺撒之吻 说：                                                        应该跟中文的空杯精神差不多，永远觉得自己没有满足，永远觉得自己无知                           2021年12月 5日 03:12 | # | 引用                                                                                                                hardy 说：                                                        不就是字面意思吗？                           2023年6月13日 13:06 | # | 引用                                                                                                                郑某晗 说：                                                        没想到还能找到，七年前看到的这篇八年前翻译的文章。永远年轻，永远热泪盈眶。想来自己也没做到多少呢……                           2023年12月 4日 12:42 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9cc30c62cf45',t:'MTc0MzI0MzM5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2015/05/stay_hungry_stay_foolish.html
Thunk 函数的含义和用法 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Thunk 函数的含义和用法 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：Generator&nbsp;函下一篇：co&nbsp;函数库的含义和用                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Thunk 函数的含义和用法                                                                                    作者： 阮一峰                                    日期： 2015年5月 1日                                                                                                                                            本文是《深入掌握 ECMAScript 6 异步编程》系列文章的第二篇。                                                                                                                  Generator函数的含义与用法Thunk函数的含义与用法co函数库的含义与用法async函数的含义与用法一、参数的求值策略Thunk函数早在上个世纪60年代就诞生了。那时，编程语言刚刚起步，计算机学家还在研究，编译器怎么写比较好。一个争论的焦点是"求值策略"，即函数的参数到底应该何时求值。var x = 1;function f(m){  return m * 2;     }f(x + 5)上面代码先定义函数 f，然后向它传入表达式 x + 5 。请问，这个表达式应该何时求值？一种意见是"传值调用"（call by value），即在进入函数体之前，就计算 x + 5 的值（等于6），再将这个值传入函数 f 。C语言就采用这种策略。f(x + 5)// 传值调用时，等同于f(6)另一种意见是"传名调用"（call by name），即直接将表达式 x + 5 传入函数体，只在用到它的时候求值。Hskell语言采用这种策略。f(x + 5)// 传名调用时，等同于(x + 5) * 2传值调用和传名调用，哪一种比较好？回答是各有利弊。传值调用比较简单，但是对参数求值的时候，实际上还没用到这个参数，有可能造成性能损失。function f(a, b){  return b;}f(3 * x * x - 2 * x - 1, x);上面代码中，函数 f 的第一个参数是一个复杂的表达式，但是函数体内根本没用到。对这个参数求值，实际上是不必要的。因此，有一些计算机学家倾向于"传名调用"，即只在执行时求值。二、Thunk 函数的含义编译器的"传名调用"实现，往往是将参数放到一个临时函数之中，再将这个临时函数传入函数体。这个临时函数就叫做 Thunk 函数。function f(m){  return m * 2;     }f(x + 5);// 等同于var thunk = function () {  return x + 5;};function f(thunk){  return thunk() * 2;}上面代码中，函数 f 的参数 x + 5 被一个函数替换了。凡是用到原参数的地方，对 Thunk 函数求值即可。这就是 Thunk 函数的定义，它是"传名调用"的一种实现策略，用来替换某个表达式。三、JavaScript 语言的 Thunk 函数JavaScript 语言是传值调用，它的 Thunk 函数含义有所不同。在 JavaScript 语言中，Thunk 函数替换的不是表达式，而是多参数函数，将其替换成单参数的版本，且只接受回调函数作为参数。// 正常版本的readFile（多参数版本）fs.readFile(fileName, callback);// Thunk版本的readFile（单参数版本）var readFileThunk = Thunk(fileName);readFileThunk(callback);var Thunk = function (fileName){  return function (callback){    return fs.readFile(fileName, callback);   };};上面代码中，fs 模块的 readFile 方法是一个多参数函数，两个参数分别为文件名和回调函数。经过转换器处理，它变成了一个单参数函数，只接受回调函数作为参数。这个单参数版本，就叫做 Thunk 函数。任何函数，只要参数有回调函数，就能写成 Thunk 函数的形式。下面是一个简单的 Thunk 函数转换器。var Thunk = function(fn){  return function (){    var args = Array.prototype.slice.call(arguments);    return function (callback){      args.push(callback);      return fn.apply(this, args);    }  };};使用上面的转换器，生成 fs.readFile 的 Thunk 函数。var readFileThunk = Thunk(fs.readFile);readFileThunk(fileA)(callback);四、Thunkify 模块生产环境的转换器，建议使用 Thunkify 模块。首先是安装。$ npm install thunkify使用方式如下。var thunkify = require('thunkify');var fs = require('fs');var read = thunkify(fs.readFile);read('package.json')(function(err, str){  // ...});Thunkify 的源码与上一节那个简单的转换器非常像。function thunkify(fn){  return function(){    var args = new Array(arguments.length);    var ctx = this;    for(var i = 0; i 它的源码主要多了一个检查机制，变量 called 确保回调函数只运行一次。这样的设计与下文的 Generator 函数相关。请看下面的例子。function f(a, b, callback){  var sum = a + b;  callback(sum);  callback(sum);}var ft = thunkify(f);ft(1, 2)(console.log); // 3上面代码中，由于 thunkify 只允许回调函数执行一次，所以只输出一行结果。五、Generator 函数的流程管理你可能会问， Thunk 函数有什么用？回答是以前确实没什么用，但是 ES6 有了 Generator 函数，Thunk 函数现在可以用于 Generator 函数的自动流程管理。以读取文件为例。下面的 Generator 函数封装了两个异步操作。var fs = require('fs');var thunkify = require('thunkify');var readFile = thunkify(fs.readFile);var gen = function* (){  var r1 = yield readFile('/etc/fstab');  console.log(r1.toString());  var r2 = yield readFile('/etc/shells');  console.log(r2.toString());};上面代码中，yield 命令用于将程序的执行权移出 Generator 函数，那么就需要一种方法，将执行权再交还给 Generator 函数。这种方法就是 Thunk 函数，因为它可以在回调函数里，将执行权交还给 Generator 函数。为了便于理解，我们先看如何手动执行上面这个 Generator 函数。var g = gen();var r1 = g.next();r1.value(function(err, data){  if (err) throw err;  var r2 = g.next(data);  r2.value(function(err, data){    if (err) throw err;    g.next(data);  });});上面代码中，变量 g 是 Generator 函数的内部指针，表示目前执行到哪一步。next 方法负责将指针移动到下一步，并返回该步的信息（value 属性和 done 属性）。仔细查看上面的代码，可以发现 Generator 函数的执行过程，其实是将同一个回调函数，反复传入 next 方法的 value 属性。这使得我们可以用递归来自动完成这个过程。六、Thunk 函数的自动流程管理Thunk 函数真正的威力，在于可以自动执行 Generator 函数。下面就是一个基于 Thunk 函数的 Generator 执行器。function run(fn) {  var gen = fn();  function next(err, data) {    var result = gen.next(data);    if (result.done) return;    result.value(next);  }  next();}run(gen);上面代码的 run 函数，就是一个 Generator 函数的自动执行器。内部的 next 函数就是  Thunk 的回调函数。 next 函数先将指针移到 Generator 函数的下一步（gen.next 方法），然后判断 Generator 函数是否结束（result.done 属性），如果没结束，就将 next 函数再传入 Thunk 函数（result.value 属性），否则就直接退出。有了这个执行器，执行 Generator 函数方便多了。不管有多少个异步操作，直接传入 run 函数即可。当然，前提是每一个异步操作，都要是 Thunk 函数，也就是说，跟在 yield 命令后面的必须是 Thunk 函数。var gen = function* (){  var f1 = yield readFile('fileA');  var f2 = yield readFile('fileB');  // ...  var fn = yield readFile('fileN');};run(gen);上面代码中，函数 gen 封装了 n 个异步的读取文件操作，只要执行 run 函数，这些操作就会自动完成。这样一来，异步操作不仅可以写得像同步操作，而且一行代码就可以执行。Thunk 函数并不是 Generator 函数自动执行的唯一方案。因为自动执行的关键是，必须有一种机制，自动控制 Generator 函数的流程，接收和交还程序的执行权。回调函数可以做到这一点，Promise 对象也可以做到这一点。本系列的下一篇，将介绍基于 Promise 的自动执行器。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2015年5月 1日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（34条）                                                                                                    DamonChen 说：                                                        满满的都是函数式编程的方式，thunk，就是柯里化 的概念，一直不太明白柯里化的用处在哪里，generator的自动切换，也一直没有研究透（python的gevent也是类似实现），看了这篇文章，似是搞明白了。                           2015年5月 1日 14:26 | # | 引用                                                                                                                JerryZou 说：                                                        Haskell用的是 call-by-need 策略，比 call-by-value 更优化。如果某个参数传入而没被使用，Haskell根本就不去计算这个参数的值。                           2015年5月 2日 11:50 | # | 引用                                                                                                                PeterMu 说：                                                        传值调用和传名调用部分的解释很赞，讲的很有节奏，顿时理解的更透彻了！非常感谢！                           2015年5月 4日 18:13 | # | 引用                                                                                                                luobotang 说：                                                        Thunkify 的实现中，对于包装函数执行时的上下文对象没有处理，例如以对象方法形式调用的函数，可能无法正常执行：var o = { name: 'luobotang' };o.hi = function () { console.log('Hi, I am ' + this.name); }thunkify(o.hi)()(); // ?                           2015年5月 5日 14:06 | # | 引用                                                                                                                阮一峰 说：                                                        @luobotang：thunkify 确实没绑定this，我觉得可能因为各种情况难以兼顾，就把它留给开发者自己来做。下面的方式都可以正确返回结果。thunkify(o.hi.bind(o))()();thunkify(o.hi).bind(o)()();thunkify(o.hi).call(o)();thunkify(o.hi).apply(o)();                           2015年5月 5日 16:53 | # | 引用                                                                                                                oyanglul.us 说：                                                        引用DamonChen的发言：满满的都是函数式编程的方式，thunk，就是柯里化 的概念，一直不太明白柯里化的用处在哪里，generator的自动切换，也一直没有研究透（python的gevent也是类似实现），看了这篇文章，似是搞明白了。忍不住说一句, 柯里化不是thunk, 柯里化就是柯里化, 为什么要柯里化是为了部分配置,重用函数,提供更好地接口http://blog.oyanglul.us/javascript/functional-javascript.html#sec-2-2                           2015年5月 6日 13:48 | # | 引用                                                                                                                兴杰 说：                                                        阮老师写的真棒！                           2015年5月 6日 20:41 | # | 引用                                                                                                                ShinePaul 说：                                                        必须支持阮老师, 学习到好多理论基础,既深入又易懂                           2015年5月19日 10:33 | # | 引用                                                                                                                Jeff 说：                                                        r1.value(function(err, data){  if (err) throw err;  var r2 = g.next(data);  r2.value(function(err, data){    if (err) throw err;    g.next(data);  });});没太明白，这里的 r1.value()是什么意思？value不是一个属性吗？可以当函数调用？                           2015年9月 7日 15:57 | # | 引用                                                                                                                小俞 说：                                                        像这样的参数怎么Thunk化啊function fetch(options) {    setTimeout(        function () {            options.callback(options.name);        },        1000    )}                           2015年10月22日 09:18 | # | 引用                                                                                                                caprice 说：                                                        引用Jeff的发言：r1.value(function(err, data){if (err) throw err;var r2 = g.next(data);r2.value(function(err, data){if (err) throw err;g.next(data);});});没太明白，这里的 r1.value()是什么意思？value不是一个属性吗？可以当函数调用？value是thunk                           2015年11月10日 13:40 | # | 引用                                                                                                                潘逸飞 说：                                                        原来thunk的历史是这样的，最近在学习koa的时候，想看下co的发展过程，co从最初的thunk朝着promise发展，然后就想看下thunk的由来，直接在老师这里找到，太开心了                           2015年12月22日 11:34 | # | 引用                                                                                                                smalldragonluo 说：                                                        引用oyanglul.us的发言：忍不住说一句, 柯里化不是thunk, 柯里化就是柯里化, 为什么要柯里化是为了部分配置,重用函数,提供更好地接口http://blog.oyanglul.us/javascript/functional-javascript.html#sec-2-2thunk 是柯里化的子集                           2016年2月 3日 10:13 | # | 引用                                                                                                                余歌 说：                                                         generator函数的yield必须是返回的异步函数才可以这么调用引用Jeff的发言：r1.value(function(err, data){if (err) throw err;var r2 = g.next(data);r2.value(function(err, data){if (err) throw err;g.next(data);});});没太明白，这里的 r1.value()是什么意思？value不是一个属性吗？可以当函数调用？                           2016年5月20日 08:42 | # | 引用                                                                                                                zincing 说：                                                        网上没有找到介绍 trunk 和 curry 区别的文章， google: js trunk and curry ，诸神可否指个明路？                           2016年6月29日 17:56 | # | 引用                                                                                                                王大虎 说：                                                        阮一峰你好，我是王大虎                           2016年7月 8日 13:31 | # | 引用                                                                                                                张歆琳 说：                                                        引用zincing的发言：网上没有找到介绍 trunk 和 curry 区别的文章， google: js trunk and curry ，诸神可否指个明路？同问，阮老师，用Thunk确实可以控制Generator的流程，但感觉例子用柯里化也同样能实现：var readFileThunk = fs.readFile.bind(null, './sample.txt', 'utf8');readFileThunk(someCallback);Thunk将多参的函数转为单参，和柯里化相比有什么优势吗？                           2016年8月16日 18:44 | # | 引用                                                                                                                题叶 说：                                                        我大 "Haskell" 被写成了 "Hskell"                           2016年8月17日 18:20 | # | 引用                                                                                                                a180285 说：                                                        引用题叶的发言：我大 "Haskell" 被写成了 "Hskell"确实， "Haskell" 被错误的拼成了 “Hskell”                           2016年8月28日 11:31 | # | 引用                                                                                                                蜜汁香味 说：                                                        co是如何知道每次的回调是否执行完成了呢？ promise是知道的                           2016年9月26日 20:13 | # | 引用                                                                                                                Jeffwang 说：                                                        不好意思阮大！在第二節'Thunk 函数的含义'中，範例代碼：function f(thunk){  return thunk() * 2;}是不是要改成：function f(thunk){  return thunk * 2;}才比較合理啊，這樣才可以在調用時呼叫thunk函數來賦值f(thunk(1));                           2016年12月 5日 10:09 | # | 引用                                                                                                                nimdanoob 说：                                                        Thunkify 的那个源码 转换arguments 的时候 为什么不想简易版的一样 使用 Array.prototye.slice.call                           2016年12月29日 15:31 | # | 引用                                                                                                                fengzi 说：                                                        引用Jeff的发言：r1.value(function(err, data){if (err) throw err;var r2 = g.next(data);r2.value(function(err, data){if (err) throw err;g.next(data);});});没太明白，这里的 r1.value()是什么意思？value不是一个属性吗？可以当函数调用？这里返回的value 是一个函数。                           2017年3月11日 21:00 | # | 引用                                                                                                                fengzi 说：                                                        var g = gen();var r1 = g.next();r1.value(function(err, data){  if (err) throw err;  var r2 = g.next(data);  r2.value(function(err, data){    if (err) throw err;    g.next(data);  });});这种结构难道不算回调地狱吗？                           2017年3月11日 21:02 | # | 引用                                                                                                                冷无缺 说：                                                        var thunk = function () {  return x + 5;};function f(thunk){  return thunk() * 2;}这一段 如果 f(thunk)执行就会抛错 x 是未定义的代码就错误了如果改写成var thunk = function(x){   return x + 5}那就和传值调用一样了。                           2017年3月30日 10:58 | # | 引用                                                                                                                rookie2geek 说：                                                        @Jeff：https://nswbmw.github.io/N-club/1/1.1.html                           2017年9月25日 12:20 | # | 引用                                                                                                                kevin_chen 说：                                                        var fs = require('fs');var thunkify = require('thunkify');var readFile = thunkify(fs.readFile);var gen = function* (){  var r1 = yield readFile('/etc/fstab');  console.log(r1.toString());  var r2 = yield readFile('/etc/shells');  console.log(r2.toString());};这个代码有问题吧？thunkify包装过的函数只有在传递callback时才会调用原函数，上面的例子缺少最后一个callback参数，r1得到的只是一个中间的function。                           2017年10月 8日 11:55 | # | 引用                                                                                                                CoderLim 说：                                                        thunk和carry有什么关系?                           2017年10月20日 10:53 | # | 引用                                                                                                                potpotpot 说：                                                        var Thunk = function(fn){  return function (){    var args = Array.prototype.slice.call(arguments);    return function (callback){      args.push(callback);      return fn.apply(this, args);    }  };};这里的 return fn.apply(this, args) 里的 this 绑定有点迷，到底指向的是什么呢这里的                           2017年11月20日 22:11 | # | 引用                                                                                                                chemf 说：                                                        阅读笔记:chunk 的作用,将函数由按值传递改变为按名传递即原来的调用是 sum(1 + 2) => sum (3)f的函数原型为(a,b, callback)变成了 f(1, 2)(sum) => 因此当执行sum的时候f(1, 2)才会被调用 chunkify 的作用是将f包装成 f(a,b)并返回callback,并且对callback执行前做了处理:只执行一次chunkify 在 文件读取中应用的例子:函数原型: fs.readFile(fileName, callback);在chunkify的包装下,变成了 readFile(filename) 并且返回 callback在 Generator 中的应用:readFile可以通过 Generator 发送值到 yield 中yield中又可以将callback返回                           2018年3月22日 18:12 | # | 引用                                                                                                                不候鸟 说：                                                        “其实是将同一个回调函数，反复传入 next 方法的 value 属性。这使得我们可以用递归来自动完成这个过程”  ， 想了很久也没明白，value只是迭代器对象的一个值，为什么可以传入一个next方法..这个是哪里的语法                           2018年9月29日 01:09 | # | 引用                                                                                                                Jason 说：                                                        我觉得的thunkify实现得不好，考虑几个caseconst callback1 = (arg1) => {  console.log("callback1 is called", arg1)}const callback2 = (arg1) => {  console.log("callback2 is called", arg1)}const originalFoo = (arg1, callback) => {  console.log('originalFoo is called');  callback(arg1);}const thunkGen = thunkify(originalFoo);const thunk = thunkGen('hello');thunk(callback1);thunk(callback2);期望的结果是originalFoo is calledcallback1 is called hellocallback2 is called hello实际出来的结果是originalFoo is calledcallback1 is called hellooriginalFoo is called                           2019年1月26日 15:06 | # | 引用                                                                                                                coderl 说：                                                        感谢阮大分享，看完文章后感觉thunk与柯里化有点类似。 都是多参变单参。  但还是总觉得这两者有区别。 能都对比分析一下这两者的区别呢                           2020年5月25日 15:09 | # | 引用                                                                                                                Young 说：                                                        老师您好，我将您的部分内容放入我的笔记(可能会发布到互联网)里边可以吗？                           2021年7月26日 00:34 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9f5e3d59cf45',t:'MTc0MzI0MzQ5OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2015/05/thunk.html
读懂 ECMAScript 规格 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    读懂 ECMAScript 规格 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：JavaScript&nbsp;下一篇：测试框架&nbsp;Mocha&nbsp;                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              读懂 ECMAScript 规格                                                                                    作者： 阮一峰                                    日期： 2015年11月12日                                                                                                                                            一、概述规格文件（specification）是计算机语言的官方标准，详细描述语法规则和实现方法。                                                                                                                一般来说，没有必要阅读规格，除非你要写编译器。因为规格写得非常抽象和精炼，又缺乏实例，不容易理解，而且对于解决实际的应用问题，帮助不大。但是，如果你遇到疑难的语法问题，实在找不到答案，这时可以去查看规格文件，了解语言标准是怎么说的。规格是解决问题的"最后一招"。这对JavaScript语言很有必要。因为它的使用场景复杂，语法规则不统一，例外很多，各种运行环境的行为不一致，导致奇怪的语法问题层出不穷，任何语法书都不可能囊括所有情况。查看规格，不失为一种解决语法问题的最可靠、最权威的终极方法。本文介绍如何读懂ECMAScript 6的规格文件。ECMAScript 6的规格，可以在ECMA国际标准组织的官方网站（www.ecma-international.org/ecma-262/6.0/）免费下载和在线阅读。这个规格文件相当庞大，一共有26章，A4打印的话，足足有545页。它的特点就是规定得非常细致，每一个语法行为、每一个函数的实现都做了详尽的清晰的描述。基本上，编译器作者只要把每一步翻译成代码就可以了。这很大程度上，保证了所有ES6实现都有一致的行为。ECMAScript 6规格的26章之中，第1章到第3章是对文件本身的介绍，与语言关系不大。第4章是对这门语言总体设计的描述，有兴趣的读者可以读一下。第5章到第8章是语言宏观层面的描述。第5章是规格的名词解释和写法的介绍，第6章介绍数据类型，第7章介绍语言内部用到的抽象操作，第8章介绍代码如何运行。第9章到第26章介绍具体的语法。对于一般用户来说，除了第4章，其他章节都涉及某一方面的细节，不用通读，只要在用到的时候，查阅相关章节即可。下面通过一些例子，介绍如何使用这份规格。二、相等运算符先来看这个例子，请问下面表达式的值是多少。0 == null如果你不确定答案，或者想知道语言内部怎么处理，就可以去查看规格，7.2.12小节是对相等运算符（==）的描述。规格对每一种语法行为的描述，都分成两部分：先是总体的行为描述，然后是实现的算法细节。相等运算符的总体描述，只有一句话。  "The comparison x == y, where x and y are values, produces true or false."上面这句话的意思是，相等运算符用于比较两个值，返回true或false。下面是算法细节。  ReturnIfAbrupt(x).ReturnIfAbrupt(y).If Type(x) is the same as Type(y), then Return the result of performing Strict Equality Comparison x === y.If x is null and y is undefined, return true.If x is undefined and y is null, return true.If Type(x) is Number and Type(y) is String, 　　return the result of the comparison x == ToNumber(y).If Type(x) is String and Type(y) is Number, 　　return the result of the comparison ToNumber(x) == y.If Type(x) is Boolean, return the result of the comparison ToNumber(x) == y.If Type(y) is Boolean, return the result of the comparison x == ToNumber(y).If Type(x) is either String, Number, or Symbol and Type(y) is Object, then 　　return the result of the comparison x == ToPrimitive(y).If Type(x) is Object and Type(y) is either String, Number, or Symbol, then 　　return the result of the comparison ToPrimitive(x) == y.Return false.上面这段算法，一共有12步，翻译如下。  如果x不是正常值（比如抛出一个错误），中断执行。如果y不是正常值，中断执行。如果Type(x)与Type(y)相同，执行严格相等运算x === y。如果x是null，y是undefined，返回true。如果x是undefined，y是null，返回true。如果Type(x)是数值，Type(y)是字符串，返回x == ToNumber(y)的结果。如果Type(x)是字符串，Type(y)是数值，返回ToNumber(x) == y的结果。如果Type(x)是布尔值，返回ToNumber(x) == y的结果。如果Type(y)是布尔值，返回x == ToNumber(y)的结果。如果Type(x)是字符串或数值或Symbol值，Type(y)是对象，返回x == ToPrimitive(y)的结果。如果Type(x)是对象，Type(y)是字符串或数值或Symbol值，返回ToPrimitive(x) == y的结果。返回false。由于0的类型是数值，null的类型是Null（这是规格4.3.13小节的规定，是内部Type运算的结果，跟typeof运算符无关）。因此上面的前11步都得不到结果，要到第12步才能得到false。0 == null // false三、数组的空位下面再看另一个例子。const a1 = [undefined, undefined, undefined];const a2 = [, , ,];a1.length // 3a2.length // 3a1[0] // undefineda2[0] // undefineda1[0] === a2[0] // true上面代码中，数组a1的成员是三个undefined，数组a2的成员是三个空位。这两个数组很相似，长度都是3，每个位置的成员读取出来都是undefined。但是，它们实际上存在重大差异。0 in a1 // true0 in a2 // falsea1.hasOwnProperty(0) // truea2.hasOwnProperty(0) // falseObject.keys(a1) // ["0", "1", "2"]Object.keys(a2) // []a1.map(n => 1) // [1, 1, 1]a2.map(n => 1) // [, , ,]上面代码一共列出了四种运算，数组a1和a2的结果都不一样。前三种运算（in运算符、数组的hasOwnProperty方法、Object.keys方法）都说明，数组a2取不到属性名。最后一种运算（数组的map方法）说明，数组a2没有发生遍历。为什么a1与a2成员的行为不一致？数组的成员是undefined或空位，到底有什么不同？规格的12.2.5小节《数组的初始化》给出了答案。  "Array elements may be elided at the beginning, middle or end of the element list. Whenever a comma in the element list is not preceded by an AssignmentExpression (i.e., a comma at the beginning or after another comma), the missing array element contributes to the length of the Array and increases the index of subsequent elements. Elided array elements are not defined. If an element is elided at the end of an array, that element does not contribute to the length of the Array."翻译如下。  "数组成员可以省略。只要逗号前面没有任何表达式，数组的length属性就会加1，并且相应增加其后成员的位置索引。被省略的成员不会被定义。如果被省略的成员是数组最后一个成员，则不会导致数组length属性增加。"上面的规格说得很清楚，数组的空位会反映在length属性，也就是说空位有自己的位置，但是这个位置的值是未定义，即这个值是不存在的。如果一定要读取，结果就是undefined（因为undefined在JavaScript语言中表示不存在）。这就解释了为什么in运算符、数组的hasOwnProperty方法、Object.keys方法，都取不到空位的属性名。因为这个属性名根本就不存在，规格里面没说要为空位分配属性名(位置索引），只说要为下一个元素的位置索引加1。至于为什么数组的map方法会跳过空位，请看下一节。四、数组的map方法规格的22.1.3.15小节定义了数组的map方法。该小节先是总体描述map方法的行为，里面没有提到数组空位。后面的算法描述是这样的。  Let O be ToObject(this value).ReturnIfAbrupt(O).Let len be ToLength(Get(O, "length")).ReturnIfAbrupt(len).If IsCallable(callbackfn) is false, throw a TypeError exception.If thisArg was supplied, let T be thisArg; else let T be undefined.Let A be ArraySpeciesCreate(O, len).ReturnIfAbrupt(A).Let k be 0.Repeat, while k &lt; len 　　a. Let Pk be ToString(k). 　　b. Let kPresent be HasProperty(O, Pk). 　　c. ReturnIfAbrupt(kPresent). 　　d. If kPresent is true, then 　　　　d-1. Let kValue be Get(O, Pk). 　　　　d-2. ReturnIfAbrupt(kValue). 　　　　d-3. Let mappedValue be Call(callbackfn, T, «kValue, k, O»). 　　　　d-4. ReturnIfAbrupt(mappedValue). 　　　　d-5. Let status be CreateDataPropertyOrThrow (A, Pk, mappedValue). 　　　　d-6. ReturnIfAbrupt(status). 　　e. Increase k by 1.Return A.翻译如下。  得到当前数组的this对象如果报错就返回求出当前数组的length属性如果报错就返回如果map方法的参数callbackfn不可执行，就报错如果map方法的参数之中，指定了this，就让T等于该参数，否则T为undefined生成一个新的数组A，跟当前数组的length属性保持一致如果报错就返回设定k等于0只要k小于当前数组的length属性，就重复下面步骤 　　a. 设定Pk等于ToString(k)，即将K转为字符串 　　b. 设定kPresent等于HasProperty(O, Pk)，即求当前数组有没有指定属性 　　c. 如果报错就返回 　　d. 如果kPresent等于true，则进行下面步骤 　　　　d-1. 设定kValue等于Get(O, Pk)，取出当前数组的指定属性 　　　　d-2. 如果报错就返回 　　　　d-3. 设定mappedValue等于Call(callbackfn, T, «kValue, k, O»)，即执行回调函数 　　　　d-4. 如果报错就返回 　　　　d-5. 设定status等于CreateDataPropertyOrThrow (A, Pk, mappedValue)，即将回调函数的值放入A数组的指定位置 　　　　d-6. 如果报错就返回 　　e. k增加1返回A仔细查看上面的算法，可以发现，当处理一个全是空位的数组时，前面步骤都没有问题。进入第10步的b时，kpresent会报错，因为空位对应的属性名，对于数组来说是不存在的，因此就会返回，不会进行后面的步骤。const arr = [, , ,];arr.map(n => {  console.log(n);  return 1;}) // [, , ,]上面代码中，arr是一个全是空位的数组，map方法遍历成员时，发现是空位，就直接跳过，不会进入回调函数。因此，回调函数里面的console.log语句根本不会执行，整个map方法返回一个全是空位的新数组。V8引擎对map方法的实现如下，可以看到跟规格的算法描述完全一致。[说明]：本文是我的新书《ECMAScript 6 入门》（第二版）的最后一章。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2015年11月12日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（17条）                                                                                                    熊松松 说：                                                        以前觉的JS引擎不支持正则的否定逆向环视，就在Google Group给V8提意见，求改进。结果人家回，你应该去找规范的制定者，而不是V8.                           2015年11月12日 21:30 | # | 引用                                                                                                                春江一条小鱼 说：                                                        好可怕的JavaScript。                           2015年11月13日 09:21 | # | 引用                                                                                                                Running_V 说：                                                        随便看了一下发现一个错误，我觉得：8.函数的扩展函数的length属性指定了默认值以后，函数的length属性，将返回没有指定默认值的参数个数。也就是说，指定了默认值后，length属性将失真。(function(a){}).length // 1(function(a = 5){}).length // 0(function(a, b, c = 5){}).length // 2上面代码中，length属性的返回值，等于函数的参数个数减去指定了默认值的参数个数。((x=0,y,z)=>x+y+z).length// 0应该是：length属性的返回值，等于设置了任意一个默认值之前的参数个数。还是应该自己多动手！                           2015年11月13日 10:40 | # | 引用                                                                                                                阮一峰 说：                                                        @Running_V：谢谢发表意见，我修改了一下，表达更清楚了。                           2015年11月13日 12:35 | # | 引用                                                                                                                全锋 说：                                                        太棒了，感谢兔哥分享！                           2015年11月13日 22:28 | # | 引用                                                                                                                ipluser 说：                                                        最近在狂补前端知识，正在看您的相关博客文章，感谢前辈的整理～                           2015年11月20日 08:16 | # | 引用                                                                                                                邓森 说：                                                        阮老师，我是北京嗨课网络的产品Jason，我们做了一款工程师交流的app，能不能跟您聊聊？                           2015年11月23日 10:54 | # | 引用                                                                                                                Mars Wong 说：                                                        阮老师，在您百忙之中打扰了，对于您之前搭建gh-pages那篇文章最后的绑定自定义域名我至今仍没解决，我绑定了一个顶级域名后，我的博客的样式没有了，打开控制台发现我的css文件指向的是我新绑定的自定义域名下css文件夹中的css文件，请问这种情况应该怎么解决？谢谢了                           2015年11月23日 20:18 | # | 引用                                                                                                                周志宇 说：                                                        您好，阮老师，很喜欢您的文章，讲解很透彻，我看了RSA算法的讲解觉得很是通透。 希望向您请教一些问题，望您不嫌不吝，帮助我这个困惑已久的年轻人。 作为一个在职的开发者， 一直对软件开发保有兴趣，但随着工作加深，却产生了一种不学无术的思想。 所谓“不学无术”，主要是指对行业的风气风格难以适应， 快节奏且多变，浮躁且趋利性强， 觉得圈子里人的思想有些无聊，自己也从以前的踏实低头的人变成一个闻风而动，追名逐利的人。以前大学老是曾说过，程序只是实现方法，重要的还是实现原理。 所以我想问问您， 精研编程技巧是否是一个长远的追求， 比之钻研理学数术如何。薪资已经足够用了，我不想为了几百万的房子和车而挥霍一生。前路漫漫，何以投奔，求老师解惑。                           2015年11月24日 11:52 | # | 引用                                                                                                                开窍小老虎 说：                                                        每次看完阮一峰的博客，都有一种静心的感觉。感觉技术本来就是这个样子，就值得不断的去深挖和研究。谢谢你的存在，向您学习，努力成为一个“自发光”的人。                           2015年12月 1日 08:30 | # | 引用                                                                                                                Callwoola 说：                                                        coffeeScript 是根据那个标准来的                           2015年12月 7日 18:05 | # | 引用                                                                                                                XGHeaven 说：                                                        我想问一下，怎么学习 V8 的源码？我想知道let的实现原理，可是不知道从哪里入手                           2016年1月 5日 23:51 | # | 引用                                                                                                                Geek 说：                                                        var a;console.log(a);function a() {alert();}现在打印出的是：function a() {alert();}我就是很迷惑为什么不是undefined，下面先说下我的理解：js静态解析完之后，var a 和function a 都是存在的，执行时候沿着作用域链向上找，为什么没有找到 var a ？ 而是找到了function a ， 难道函数在静态解析的时候做了什么特殊处理么？然后我把 function a注销 结果打出了 undefined 也就是说 a是确实存在，但是沿着作用域链找的时候 为什么先找到了 function a，js解析的时候不是从上而下么？ 应该先知道 var a 才对啊，在群上问，他们说函数 解析的时候会前置，如果这个前置是指 把 function a推向作用域的前端 的话，那么：var a;function a() {alert();}a = 111;console.log(a);这时候应该打印出 function a 才对啊， 但是却打印出了 var a; 希望阮大神能给解答，我也姓阮,by the way                           2016年2月27日 17:41 | # | 引用                                                                                                                阮一峰 说：                                                        @Geek:函数也有“变量提升”效应。http://javascript.ruanyifeng.com/grammar/function.html#toc5                           2016年2月28日 12:20 | # | 引用                                                                                                                大夠 说：                                                        如果被省略的成员是数组最后一个成员，则不会导致数组length属性增加。"請問這句話是什麼意思呢？                           2017年10月15日 15:02 | # | 引用                                                                                                                大夠 说：                                                        請問想向ecma提request，應該去哪裏？要寫spec嗎？有沒有鏈接呢，謝謝！                           2017年10月15日 15:05 | # | 引用                                                                                                                铁匠 说：                                                        阮老师还是牛逼啊，这么晦涩的规范翻译了一本                           2019年5月20日 23:02 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e95028866cf45',t:'MTc0MzI0MzA3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2015/11/ecmascript-specification.html
阮一峰的网络日志: November 2015 文章存档    科技爱好者周刊（第 328 期）：AI 模型不是一门好生意这里记录每周值得分享的科技内容，周五发布。...阮一峰2024-12-06T08:18:33+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);    阮一峰的网络日志: November 2015 文章存档        if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                          November 2015 文章存档                                                            &laquo; 上月                                |                                 下月 &raquo;                                                                                                读懂 ECMAScript 规格分类：JavaScript                             一、概述规格文件（specification）是计算机语言的官方标准，详细描述语法规则和实现方法。                            继续阅读全文 »                                       2015年11月12日 20:55                        | 留言（17）                          November 2015的所有文章（共2篇）              2015.11.02：JavaScript 模块的循环加载（32条评论）                                                                                                      日期      // 判断数组中是否包含某个值。// 参数testValue：所需测试的值；// 参数arrayInstance：所需测试的某个数组；// 返回值：true/false.function itemInArray(testValue,arrayInstance){    for (var i in arrayInstance)    {         if (testValue==arrayInstance[i]) return true;    }    return false;}var currentYear = "2015";var currentMonth = "11";var yearList= {};var monthList = new Array();monthList.push("202412");monthList.push("202411");monthList.push("202410");monthList.push("202409");monthList.push("202408");monthList.push("202407");monthList.push("202406");monthList.push("202405");monthList.push("202404");monthList.push("202403");monthList.push("202402");monthList.push("202401");monthList.push("202312");monthList.push("202311");monthList.push("202310");monthList.push("202309");monthList.push("202308");monthList.push("202307");monthList.push("202306");monthList.push("202305");monthList.push("202304");monthList.push("202303");monthList.push("202302");monthList.push("202301");monthList.push("202212");monthList.push("202211");monthList.push("202210");monthList.push("202209");monthList.push("202208");monthList.push("202207");monthList.push("202206");monthList.push("202205");monthList.push("202204");monthList.push("202203");monthList.push("202202");monthList.push("202201");monthList.push("202112");monthList.push("202111");monthList.push("202110");monthList.push("202109");monthList.push("202108");monthList.push("202107");monthList.push("202106");monthList.push("202105");monthList.push("202104");monthList.push("202103");monthList.push("202102");monthList.push("202101");monthList.push("202012");monthList.push("202011");monthList.push("202010");monthList.push("202009");monthList.push("202008");monthList.push("202007");monthList.push("202006");monthList.push("202005");monthList.push("202004");monthList.push("202003");monthList.push("202002");monthList.push("202001");monthList.push("201912");monthList.push("201911");monthList.push("201910");monthList.push("201909");monthList.push("201908");monthList.push("201907");monthList.push("201906");monthList.push("201905");monthList.push("201904");monthList.push("201903");monthList.push("201902");monthList.push("201901");monthList.push("201812");monthList.push("201811");monthList.push("201810");monthList.push("201809");monthList.push("201808");monthList.push("201807");monthList.push("201806");monthList.push("201805");monthList.push("201804");monthList.push("201803");monthList.push("201802");monthList.push("201801");monthList.push("201712");monthList.push("201711");monthList.push("201710");monthList.push("201709");monthList.push("201708");monthList.push("201707");monthList.push("201706");monthList.push("201705");monthList.push("201704");monthList.push("201703");monthList.push("201702");monthList.push("201701");monthList.push("201612");monthList.push("201611");monthList.push("201610");monthList.push("201609");monthList.push("201608");monthList.push("201607");monthList.push("201606");monthList.push("201605");monthList.push("201604");monthList.push("201603");monthList.push("201602");monthList.push("201601");monthList.push("201512");monthList.push("201511");monthList.push("201509");monthList.push("201508");monthList.push("201507");monthList.push("201506");monthList.push("201505");monthList.push("201504");monthList.push("201503");monthList.push("201502");monthList.push("201501");monthList.push("201412");monthList.push("201411");monthList.push("201410");monthList.push("201409");monthList.push("201407");monthList.push("201406");monthList.push("201405");monthList.push("201404");monthList.push("201403");monthList.push("201402");monthList.push("201401");monthList.push("201312");monthList.push("201311");monthList.push("201310");monthList.push("201309");monthList.push("201308");monthList.push("201307");monthList.push("201306");monthList.push("201305");monthList.push("201304");monthList.push("201303");monthList.push("201302");monthList.push("201301");monthList.push("201212");monthList.push("201211");monthList.push("201210");monthList.push("201209");monthList.push("201208");monthList.push("201207");monthList.push("201206");monthList.push("201205");monthList.push("201204");monthList.push("201203");monthList.push("201202");monthList.push("201201");monthList.push("201112");monthList.push("201111");monthList.push("201110");monthList.push("201109");monthList.push("201108");monthList.push("201107");monthList.push("201106");monthList.push("201105");monthList.push("201104");monthList.push("201103");monthList.push("201102");monthList.push("201101");monthList.push("201012");monthList.push("201011");monthList.push("201010");monthList.push("201009");monthList.push("201008");monthList.push("201007");monthList.push("201006");monthList.push("201005");monthList.push("201004");monthList.push("201003");monthList.push("201002");monthList.push("201001");monthList.push("200912");monthList.push("200911");monthList.push("200910");monthList.push("200909");monthList.push("200908");monthList.push("200907");monthList.push("200906");monthList.push("200905");monthList.push("200904");monthList.push("200903");monthList.push("200902");monthList.push("200901");monthList.push("200812");monthList.push("200811");monthList.push("200810");monthList.push("200809");monthList.push("200808");monthList.push("200807");monthList.push("200806");monthList.push("200805");monthList.push("200804");monthList.push("200803");monthList.push("200802");monthList.push("200801");monthList.push("200712");monthList.push("200711");monthList.push("200710");monthList.push("200709");monthList.push("200708");monthList.push("200707");monthList.push("200706");monthList.push("200705");monthList.push("200704");monthList.push("200703");monthList.push("200702");monthList.push("200701");monthList.push("200612");monthList.push("200611");monthList.push("200610");monthList.push("200609");monthList.push("200608");monthList.push("200607");monthList.push("200606");monthList.push("200605");monthList.push("200604");monthList.push("200603");monthList.push("200602");monthList.push("200601");monthList.push("200512");monthList.push("200511");monthList.push("200510");monthList.push("200509");monthList.push("200508");monthList.push("200507");monthList.push("200506");monthList.push("200505");monthList.push("200504");monthList.push("200503");monthList.push("200502");monthList.push("200501");monthList.push("200412");monthList.push("200411");monthList.push("200410");monthList.push("200406");monthList.push("200405");monthList.push("200404");monthList.push("200403");monthList.push("200402");monthList.push("200401");monthList.push("200312");for(var i=0; i请选择月份：Gofunction monthChange(){        var yearListSelect = document.archiveList.year;        var selectedYear = yearListSelect.options[yearListSelect.selectedIndex].value;        monthListChange(selectedYear); }function urlChange(){        var yearListSelect = document.archiveList.year;        var selectedYear = yearListSelect.options[yearListSelect.selectedIndex].value;        var monthListSelect = document.archiveList.month;        var selectedMonth = monthListSelect.options[monthListSelect.selectedIndex].value;        urlGo(selectedYear,selectedMonth);}function urlGo(goYear,goMonth){       var url="/blog/"+goYear+"/"+goMonth+"/";       window.location=url;}for (var prop in yearList){// Create a new Option object for year list.var optionText = prop+"年";var optionValue = prop;var optionDefault = false;        var optionSelected = false;        if (prop==currentYear)          {             optionDefault = true;             optionSelected = true;        }var yearListItem = new Option(optionText,  // The text property                       optionValue,  // The value property                       optionDefault,    // The defaultSelected property                       optionSelected);   // The selected property// Display it in a Select element by appending it to the options array:var yearListSelect = document.archiveList.year;  // Get the Select objectyearListSelect.options[yearListSelect.options.length] = yearListItem;}monthListChange(currentYear);function monthListChange(selectedYear){var monthListSelect = document.archiveList.month;  // Get the Select object        monthListSelect.options.length=0;for (var i=0;i                 导航              上月：September 2015下月：December 2015                                                                   Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9b7ea8dbcf45',t:'MTc0MzI0MzM0MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2015/11/index.html
分类：剪贴板 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);    分类：剪贴板 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                      分类： 剪贴板 （共162篇文章）                                                          2018年              腾讯的历史（[email&#160;protected]）                      2013年            柯文哲《生死的智慧》（[email&#160;protected]）                玉门人家照相馆（[email&#160;protected]）                      2012年            斑头雁守护日记（转载）（[email&#160;protected]）                墙上的44句话（[email&#160;protected]）                革命中的埃及青年（组图）（[email&#160;protected]）                      2011年            诗意摄影《生活场景》（[email&#160;protected]）                Just A Kiss 的 MV（[email&#160;protected]）                日本刀的制造过程（[email&#160;protected]）                与父亲在一起的日子（组图）（[email&#160;protected]）                保护蓝鳍金枪鱼的海报（[email&#160;protected]）                一个被拆迁者的日记（[email&#160;protected]）                蛋屋的建造（[email&#160;protected]）                台湾电视广告《梦骑士》（[email&#160;protected]）                Tiffany Arment的情侣照（[email&#160;protected]）                      2010年            南京"外挂代练"事件判决书（[email&#160;protected]）                生活在富士康（续）（[email&#160;protected]）                室内设计公司Studio O+a（[email&#160;protected]）                何毓琦：一个大学教授在美国的生活（[email&#160;protected]）                生活在富士康（组图）（[email&#160;protected]）                迷失·上海（组图） （[email&#160;protected]）                经济学家Mark Blaug的自传（[email&#160;protected]）                硅谷观光指南（[email&#160;protected]）                五天四夜的流浪试验（[email&#160;protected]）                什么是博士？（[email&#160;protected]）                我眼中的中国科研：一个中科院退学博士生的感想（[email&#160;protected]）                北京酒店业揭秘（四）（[email&#160;protected]）                北京酒店业揭秘（三）（[email&#160;protected]）                北京酒店业揭秘（二）（[email&#160;protected]）                北京酒店业揭秘（一）（[email&#160;protected]）                2009年美国电影市场回顾（[email&#160;protected]）                回忆录《在暴风雨的夜里》（[email&#160;protected]）                Kim Laughton 的上海摄影集（[email&#160;protected]）                告诉你一个真实的美国（转贴）（[email&#160;protected]）                "草原新城"康巴什（[email&#160;protected]）                北京故事：1990-1993（[email&#160;protected]）                一个家庭的头像史，以及其他（[email&#160;protected]）                一封博士研究生的遗书（[email&#160;protected]）                碧姬·巴铎（[email&#160;protected]）                Jacob Holdt 的美国往事（[email&#160;protected]）                "熔模铸造"图解（[email&#160;protected]）                推荐一支台湾广告《蔡莺妹的故事》（[email&#160;protected]）                朝鲜，一个牛仔裤的故事（[email&#160;protected]）                      2009年            关注现实，关注底层（[email&#160;protected]）                推荐日本电视剧《坂上之云》（[email&#160;protected]）                图说西兰公国（[email&#160;protected]）                李晓斌的八十年代老照片（[email&#160;protected]）                水彩故事《阿波罗11号登月记》（[email&#160;protected]）                照片中的1972年（[email&#160;protected]）                图书馆的世界纪录（[email&#160;protected]）                曾经待定义的我的31岁（[email&#160;protected]）                谁剥夺了我们的探索精神？（[email&#160;protected]）                最悲惨的办公室小隔间（[email&#160;protected]）                2009年哈佛大学毕业典礼图集（[email&#160;protected]）                山寨机揭秘（转贴）（[email&#160;protected]）                受害者的人权在哪？（转贴）（[email&#160;protected]）                推荐一个摄影项目《面孔》（[email&#160;protected]）                107房间：底楼的12个故事（[email&#160;protected]）                《五星招待所》的幕后花絮（[email&#160;protected]）                招待所里的那些事儿（[email&#160;protected]）                一封来自上海夹心层的信（[email&#160;protected]）                一个知识分子眼中的三十年：1978--2007（[email&#160;protected]）                白介夫：我与萧光琰的苦涩友谊（转贴）（[email&#160;protected]）                夜眠八尺（附《增广贤文》）（[email&#160;protected]）                北京拓尔思公司的"网络舆情监控系统"（[email&#160;protected]）                      2008年            一个直肠癌患者的最后50天（[email&#160;protected]）                新竹清泉：三毛的爱恋与张学良的青春（[email&#160;protected]）                Don't Stop Thinking About Tomorrow ---- 2008美国大选之夜（下）（[email&#160;protected]）                走近奥巴马（[email&#160;protected]）                想念母亲----与脑胶质瘤的5年抗争（转载）（[email&#160;protected]）                米兰的私人藏书室（[email&#160;protected]）                邬达克在上海（[email&#160;protected]）                X光下的世界（[email&#160;protected]）                说说我在阿富汗卖电视机的事（转贴）（[email&#160;protected]）                摄影集《生命的肖像》（[email&#160;protected]）                纪录片《抢救切尔诺贝利》（五）：遗产（[email&#160;protected]）                纪录片《抢救切尔诺贝利》（四）：石棺（[email&#160;protected]）                纪录片《抢救切尔诺贝利》（三）（[email&#160;protected]）                纪录片《抢救切尔诺贝利》（二）（[email&#160;protected]）                纪录片《抢救切尔诺贝利》（Battle of Chernobyl）（[email&#160;protected]）                我做服装的这五年（转贴）（[email&#160;protected]）                16年前的希拉里·克林顿（[email&#160;protected]）                一个急诊科医生的手记（转贴）（[email&#160;protected]）                米老排：胰腺癌日记（[email&#160;protected]）                2007年度中国艺术品界大事回顾（[email&#160;protected]）                摄影集《感受地球呼吸》（La Terre vue du Ciel）（[email&#160;protected]）                《纽约时报》：北京的奥运蓝天任务（[email&#160;protected]）                《纽约时报》：中国工人断了手指，赚不到钱（[email&#160;protected]）                《纽约时报》：中国成为世界烟囱（[email&#160;protected]）                      2007年            关于春风文艺出版社（[email&#160;protected]）                中国式标语（[email&#160;protected]）                莫妮卡·贝鲁奇的一组照片：One Woman, Five Senses（[email&#160;protected]）                果子走了（[email&#160;protected]）                《新编高中文言文助读》原文及翻译（[email&#160;protected]）                德国Anna Amalia图书馆重新开放（[email&#160;protected]）                令人失望的周曙光（[email&#160;protected]）                李锐访谈录（[email&#160;protected]）                《〈江泽民文选〉成语典故》出版发行（[email&#160;protected]）                工资条（[email&#160;protected]）                日本动画电影《秒速5厘米》（[email&#160;protected]）                一个晚期癌症病人的Blog（[email&#160;protected]）                地主，谋士和长工的故事（转贴）（[email&#160;protected]）                A4纸做的雕塑（[email&#160;protected]）                杨利甲的故事（[email&#160;protected]）                《纽约时报》：一个被煤矿埋葬的中国村庄（[email&#160;protected]）                诺贝尔化学奖得主田中耕一的故事（[email&#160;protected]）                2006年美国收入状况（[email&#160;protected]）                三峡大坝之忧（[email&#160;protected]）                查建英《国家公敌》（转贴）（[email&#160;protected]）                起诉中国电信干扰互联网通信（[email&#160;protected]）                藏传佛教活佛转世管理办法（[email&#160;protected]）                乞丐之死背后的器官交易（[email&#160;protected]）                一位淋巴癌患者的妻子的话（[email&#160;protected]）                张菊的故事（[email&#160;protected]）                香港回归十周年（[email&#160;protected]）                网络著作权的相关法律（[email&#160;protected]）                《中华人民共和国著作权法》笔记（I）（[email&#160;protected]）                面孔2007（[email&#160;protected]）                拿什么拯救你，太湖！（[email&#160;protected]）                本人成分代码（[email&#160;protected]）                中国图书市场概况（[email&#160;protected]）                中国图书出版监管制度（[email&#160;protected]）                陆定一晚年的几点反思（[email&#160;protected]）                2007年普利策奖回顾之四：解释性报道奖（[email&#160;protected]）                2007年普利策奖回顾之三：调查性报道奖（[email&#160;protected]）                2007年普利策奖回顾之二：突发新闻奖（[email&#160;protected]）                2007年普利策奖回顾之一：公众服务奖和国际报道奖（[email&#160;protected]）                孔子的老子为何不姓孔？（[email&#160;protected]）                      2006年            2005年全国人口姓氏数量排名（[email&#160;protected]）                《千与千寻》原画欣赏（[email&#160;protected]）                中美政府建筑比较（转贴）（[email&#160;protected]）                一个在北京街头乞讨的小姑娘之死：杨丹的故事（转载）（[email&#160;protected]）                领导人著作的出版级别（[email&#160;protected]）                公务员职务层次（[email&#160;protected]）                文言书信书写指南（[email&#160;protected]）                汉语家族称谓表（[email&#160;protected]）                Peter Hessler的《甲骨》（ Oracle Bones ）（[email&#160;protected]）                世界是平的（续）（[email&#160;protected]）                100个常见别字测验（[email&#160;protected]）                八个案件八句话（[email&#160;protected]）                吴宓《文学与人生》课程阅读书单（[email&#160;protected]）                赵丹《管得太具体 文艺没希望》（[email&#160;protected]）                《纽约时报》系列报道：《依法治国》之八（Rule by Law）（[email&#160;protected]）                《纽约时报》系列报道：《依法治国》之七（Rule by Law）（[email&#160;protected]）                中国的大学改名（转贴）（[email&#160;protected]）                《纽约时报》系列报道：《依法治国》之六（Rule by Law）（[email&#160;protected]）                《纽约时报》系列报道：《依法治国》之五（Rule by Law）（[email&#160;protected]）                《纽约时报》系列报道：《依法治国》之四（Rule by Law）（[email&#160;protected]）                《纽约时报》系列报道：《依法治国》之三（Rule by Law）（[email&#160;protected]）                《纽约时报》系列报道：《依法治国》之二（Rule by Law）（[email&#160;protected]）                《纽约时报》系列报道：《依法治国》之一（Rule by Law）（[email&#160;protected]）                汉语异形词（[email&#160;protected]）                美国法典（United States Code）（[email&#160;protected]）                世界是平的（The World Is Flat）（[email&#160;protected]）                蔡元培的讲话（[email&#160;protected]）                      2005年            一个人的旅程（[email&#160;protected]）                      2004年            程荣的美术作品（[email&#160;protected]）                2003年的网络照片（转载）（[email&#160;protected]）                美国士兵条例（中英对照）（[email&#160;protected]）                一些趣味图片（第一部分）（[email&#160;protected]）                海浪涛天，一个老水兵的亲身经历（[email&#160;protected]）                      2003年            人民日报版面备要（[email&#160;protected]）                                                                      分类                散文（159）                                          观点与感想（195）                                          算法与数学（32）                                          开发者手册（223）                                          理解计算机（63）                                          JavaScript（100）                                          计算机行业历史（39）                                          周刊（339）                                          创业（58）                                          译文集（46）                                          科技爱好者（149）                                          文学爱好者（36）                                          英语爱好者（66）                                          剪贴板（162）                                          笔记本（179）                                          杂物间（288）                                          Joel谈软件（14）                                          USENET（7）                                                                                                       Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e94befbe9cf45',t:'MTc0MzI0MzA2NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/clipboard/index.html
Deno 运行时入门教程：Node.js 的替代品 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Deno 运行时入门教程：Node.js 的替代品 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：科技爱好者周刊：第&nbsp;9下一篇：科技爱好者周刊：第&nbsp;9                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Deno 运行时入门教程：Node.js 的替代品                                                                                    作者： 阮一峰                                    日期： 2020年1月26日                                                                                                                                            这几天假期，我学习了一下 Deno。它是 Node.js 的替代品。有了它，将来可能就不需要 Node.js 了。                                                                                                                这篇文章就是 Deno 的一个初步介绍，尝试回答为什么 Node.js 不能满足需要，以及 Deno 能够带给我们什么？以下内容主要基于 Bert Belder 和 Ryan Dahl 的最新演讲。0、进入主题之前，先说一下 Deno 这个词怎么发音。两种发音，"德诺"和"蒂诺"，我都听到过。看起来，"蒂诺"这个发音应该更合适一些，因为 Deno 的标志是一只恐龙。恐龙（dinosaur）的英文缩写正是 dino。1、Deno 是 Ryan Dahl 在2017年创立的。Ryan Dahl 也是 Node.js 的创始人，从2007年一直到2012年，他后来把 Node.js 移交给了其他开发者，不再过问了，转而研究人工智能。他始终不是很喜欢 Python 语言，久而久之，就想搞一个 JavaScript 语言的人工智能开发框架。等到他再回过头捡起 Node.js，发现这个项目已经背离了他的初衷，有一些无法忽视的问题。2、首先，过去五六年，JavaScript 语言脱胎换骨，ES6 标准引入了大量新的语法特性。其中，影响最大的语法有两个：Promise 接口（以及 async 函数）和 ES 模块。Node.js 对这两个新语法的支持，都不理想。由于历史原因，Node.js 必须支持回调函数（callback），导致异步接口会有 Promise 和回调函数两种写法；同时，Node.js 自己的模块格式 CommonJS 与 ES 模块不兼容，导致迟迟无法完全支持 ES 模块。其次，Node.js 的模块管理工具 npm，逻辑越来越复杂；模块安装目录 npm_modules 极其庞杂，难以管理。Node.js 也几乎没有安全措施，用户只要下载了外部模块，就只好听任别人的代码在本地运行，进行各种读写操作。再次，Node.js 的功能也不完整，导致外部工具层出不穷，让开发者疲劳不堪：webpack，babel，typescript、eslint、prettier......3、由于上面这些原因，Ryan Dahl 决定放弃 Node.js，从头写一个替代品，彻底解决这些问题。deno 这个名字就是来自 Node 的字母重新组合（Node = no + de），表示"拆除 Node.js"（de = destroy, no = Node.js）。跟 Node.js 一样，Deno 也是一个服务器运行时，但是支持多种语言，可以直接运行 JavaScript、TypeScript 和 WebAssembly 程序。它内置了 V8 引擎，用来解释 JavaScript。同时，也内置了 tsc 引擎，解释 TypeScript。它使用 Rust 语言开发，由于 Rust 原生支持 WebAssembly，所以它也能直接运行 WebAssembly。它的异步操作不使用 libuv 这个库，而是使用 Rust 语言的 Tokio 库，来实现事件循环（event loop）。4、你可能会问，为什么使用 Rust，而不是 C++（Node.js 的开发语言）？主要原因是 Rust 提供了很多现成的模块，对 Deno 项目来说，可以节约很多开发时间。5、Deno 本身也是 Rust 的一个模块。如果你想在 Rust 里面使用 V8 引擎，就可以加载 Deno。它等于是一个 V8 的包装层，提供一些底层 API，让你跟 V8 引擎互动。6、Deno 只有一个可执行文件，所有操作都通过这个文件完成。它支持跨平台（Mac、Linux、Windows）。7、Deno 具有安全控制，默认情况下脚本不具有读写权限。如果脚本未授权，就读写文件系统或网络，会报错。必须使用参数，显式打开权限才可以。  --allow-read：打开读权限，可以指定可读的目录，比如--allow-read=/temp。--allow-write：打开写权限。--allow-net=google.com：允许网络通信，可以指定可请求的域，比如--allow-net=google.com。--allow-env：允许读取环境变量。8、Deno 支持 Web API，尽量跟浏览器保持一致。它提供 window 这个全局对象，同时支持 fetch、webCrypto、worker 等 Web 标准，也支持 onload、onunload、addEventListener 等事件操作函数。此外，Deno 所有的异步操作，一律返回 Promise。9、Deno 只支持 ES 模块，跟浏览器的模块加载规则一致。没有 npm，没有 npm_modules 目录，没有require()命令（即不支持 CommonJS 模块），也不需要package.json文件。所有模块通过 URL 加载，比如import { bar } from "https://foo.com/bar.ts"（绝对 URL）或import { bar } from './foo/bar.ts'（相对 URL）。因此，Deno 不需要一个中心化的模块储存系统，可以从任何地方加载模块。但是，Deno 下载模块以后，依然会有一个总的目录，在本地缓存模块，因此可以离线使用。10、由于 Deno 只支持从 URL 加载模块，导致 Node.js 的模块加载写法都会失效。import React from "react";import { Box, Grid } from "@material-ui/core";import { initializeApp } from "firebase/app";上面的写法在 Deno 里面都是非法的。Deno 的所有模块都要通过入口脚本加载，不能通过模块名加载，所以必须带有脚本后缀名。11、Deno 原生支持 TypeScript 语言，可以直接运行，不必显式转码。它的内部会根据文件后缀名判断，如果是.ts后缀名，就先调用 TS 编译器，将其编译成 JavaScript；如果是.js后缀名，就直接传入 V8 引擎运行。12、Deno 内置了开发者需要的各种功能，不再需要外部工具。打包、格式清理、测试、安装、文档生成、linting、脚本编译成可执行文件等，都有专门命令。执行deno -h或deno help，就可以显示 Deno 支持的子命令。  deno bundle：将脚本和依赖打包deno eval：执行代码deno fetch：将依赖抓取到本地deno fmt：代码的格式美化deno help：等同于-h参数deno info：显示本地的依赖缓存deno install：将脚本安装为可执行文件deno repl：进入 REPL 环境deno run：运行脚本deno test：运行测试13、Deno 的安装可以参考官网首页，但是你可以直接去 GitHub 仓库的发布页，下载编译好的可执行文件（上图）。下载 Deno 以后，查看一下版本。$ deno --versiondeno 0.31.0v8 8.1.108typescript 3.7.2命令行直接运行deno，就会进入 REPL 环境。$ deno> console.log(1,2,3)1 2 3undefined> 14、下面，运行一个 TypeScript 的远程脚本，这是官网给出的例子。$ deno run \https://deno.land/std/examples/curl.ts \https://example.com上面例子中，Deno 执行远程脚本curl.ts，用这个脚本去抓取网址example.com。但是，运行后报错，表示没有网络通信的权限。我们给予 Deno 网络通信的权限，就可以顺利执行。$ deno run --allow-net \https://deno.land/std/examples/curl.ts \https://example.com15、现在，Deno 最新版本是 0.31。根据规划，1.0 应该会在今年上半年发布。Deno 还处在密集开发中，功能不稳定，不建议用于生产环境。但是，它已经是一个可用的工具，大家可以多试用，熟悉它的用法。我相信，设计上的诸多优点，将会使它比 Node.js 更具优势。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2020年1月26日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（88条）                                                                                                    foxDaxian 说：                                                        照这么说，前端是不是要进军人工智能了...                           2020年1月26日 20:15 | # | 引用                                                                                                                aoyama 说：                                                        不错，看起来既轻便又强大。                           2020年1月26日 20:31 | # | 引用                                                                                                                SimonAking 说：                                                        支持从URL导入包, deno的生态 岂不是从一开始就很庞大...                           2020年1月26日 20:37 | # | 引用                                                                                                                展翼骐骥 说：                                                        引用foxDaxian的发言：照这么说，前端是不是要进军人工智能了...TensorFlow本来就有js版本。其实PYTHON的运行效率跟node的差别是数量级级的。                           2020年1月26日 21:03 | # | 引用                                                                                                                Ritchie 说：                                                        deno可能会是未来的趋势之一，期待!                           2020年1月26日 21:23 | # | 引用                                                                                                                xkloveme 说：                                                        春节期间笔耕不辍,加油                           2020年1月26日 21:45 | # | 引用                                                                                                                卜青云 说：                                                        小白请教下怎么加速下载deno鸭...                           2020年1月26日 22:25 | # | 引用                                                                                                                yuchen 说：                                                        一定会取代 nodejs 的，因为在编程里方便高效是永远的追求，deno 是一种迭代。                           2020年1月26日 23:54 | # | 引用                                                                                                                晨曦 说：                                                        我对着npm就是一脚！对web开发人员更加友好了！                           2020年1月27日 11:38 | # | 引用                                                                                                                Ryu 说：                                                        runtime翻译为“runtime运行环境”会不会更好，运行时虽然也对，但是总有点莫名其妙的感觉                           2020年1月27日 23:19 | # | 引用                                                                                                                yongq 说：                                                        恐龍的發音是 /ˈdaɪnəsɔːr/ 所以德諾更合適， 可以聽聽Ryan Dahl怎麽念的： https://www.youtube.com/watch?v=z6JRlx5NC9E                           2020年1月28日 07:35 | # | 引用                                                                                                                Logic 说：                                                        不需要package.json，直接从url加载模块不会更难管理么，到处都是，都不知道加载了哪些模块                           2020年1月31日 10:54 | # | 引用                                                                                                                Hugh 说：                                                        “不需要package.json，直接从url加载模块不会更难管理么，到处都是，都不知道加载了哪些模块”  那也是开发人员自己引入的呀，本地也有保存的，一样的呀（你的意思是没有包管理审核）我的一个flutter项目，里面好几个插件不更新，导致我都没法更新flutter最新版，证明有包管理也没用。                           2020年2月 1日 01:09 | # | 引用                                                                                                                万里 说：                                                        怎么我看到另一个开发者说Deno是使用Golang开发的？https://studygolang.com/articles/13101                           2020年2月 4日 21:20 | # | 引用                                                                                                                Aloha 说：                                                        引用万里的发言：怎么我看到另一个开发者说Deno是使用Golang开发的？https://studygolang.com/articles/13101Deno早期是Golang + TypeScript的，后来因为Golang和V8的GC问题，Ryan下了大工夫把golang统统换成没有GC的Rust了                           2020年2月 7日 21:18 | # | 引用                                                                                                                mango 说：                                                        好难过，nodejs还没有玩好，好好体验过他的魅力，现在deno又来插脚，????                           2020年2月10日 16:43 | # | 引用                                                                                                                hank 说：                                                        deno 是 no de交换前后位置得到的名字                           2020年2月11日 22:28 | # | 引用                                                                                                                忧郁的风 说：                                                        优点感觉挺不错的，但是不能用模块名导入感觉不太方便啊不过nodejs里的回调确实打脑壳                           2020年2月14日 14:48 | # | 引用                                                                                                                gaojiren 说：                                                        看起来很棒哦,我非常看好这种优雅的使用方式,马上要出正式版了,花点功夫学习下!                           2020年2月20日 13:35 | # | 引用                                                                                                                kelvin 说：                                                        我现在手中有个项目，享用NODEJS来做， 需要调用系统注册的COM组件，网上找不到任何方法，这个到底设计到NODE哪一块，是否可行，要不然真的项目选型就浪费很多时间了                           2020年2月20日 15:57 | # | 引用                                                                                                                Can 说：                                                        还是 Common Lisp 比较好用                           2020年2月25日 00:49 | # | 引用                                                                                                                春续 说：                                                        引用Hugh的发言：“不需要package.json，直接从url加载模块不会更难管理么，到处都是，都不知道加载了哪些模块”那也是开发人员自己引入的呀，本地也有保存的，一样的呀（你的意思是没有包管理审核）我的一个flutter项目，里面好几个插件不更新，导致我都没法更新flutter最新版，证明有包管理也没用。依赖怎么解决？                           2020年2月26日 12:40 | # | 引用                                                                                                                Kranite 说：                                                        deno 为啥不是 define node                           2020年3月 1日 19:45 | # | 引用                                                                                                                萌芽子 说：                                                        看起来非常便利，支持！                           2020年3月 5日 12:01 | # | 引用                                                                                                                吾仁别克 说：                                                        我觉得很赞！期待deno V1.0。争当第一个吃螃蟹的。                           2020年3月10日 16:15 | # | 引用                                                                                                                JoshDaone 说：                                                        引用下manual.md里提到的deno设计哲学：PhilosophyDeno aims to be a productive and secure scripting environment for the modern programmer.Deno will always be distributed as a single executable. Given a URL to a Deno program, it is runnable with nothing more than the 10 megabyte zipped executable. Deno explicitly takes on the role of both runtime and package manager. It uses a standard browser-compatible protocol for loading modules: URLs.Among other things, Deno is a great replacement for utility scripts that may have been historically written with bash or python.                           2020年3月11日 00:53 | # | 引用                                                                                                                Astlvk 说：                                                        期待早日实装，想用js尝试ai。                           2020年3月12日 13:32 | # | 引用                                                                                                                ddd 说：                                                        取代node还是需要一定的时间去积累                           2020年3月17日 00:10 | # | 引用                                                                                                                Jser 说：                                                        我正在學node，知道deno今年可能發布版本目前噴鼻血中                           2020年3月18日 13:14 | # | 引用                                                                                                                Violet_ice紫冰 说：                                                        引用SimonAking的发言：支持从URL导入包, deno的生态 岂不是从一开始就很庞大...并不是，传统npm包全都没法用的。必须要基于deno的包。或者是原生包。                           2020年3月22日 23:10 | # | 引用                                                                                                                zz 说：                                                        引用Aloha的发言：Deno早期是Golang + TypeScript的，后来因为Golang和V8的GC问题，Ryan下了大工夫把golang统统换成没有GC的Rust了玩node那帮人都搞golang了，我是学golang还是学rust好呢哈哈                           2020年3月25日 16:10 | # | 引用                                                                                                                唯愿饶安 说：                                                        新技术的发展是必须的，前端产业的技术几年前就没有更新了，倒还挺期待这个技术，力争做吃螃蟹的人。                           2020年3月26日 15:21 | # | 引用                                                                                                                chenplusplus 说：                                                        确实，node_modules太复杂了，头疼                           2020年3月26日 15:21 | # | 引用                                                                                                                Deno Master 说：                                                        引用zz的发言：玩node那帮人都搞golang了，我是学golang还是学rust好呢哈哈谷歌的Fuchsia OS支持的开发语言中包含Rust而不包含Golang，亲儿子都抛弃了，你说呢？                           2020年3月27日 10:30 | # | 引用                                                                                                                许慧洁 说：                                                        能够内置工具真的太方便了，最近学习webpack，babel感觉有些绕，相互耦合性很高。                           2020年3月27日 22:38 | # | 引用                                                                                                                NauskiiFire 说：                                                        引用展翼骐骥的发言：TensorFlow本来就有js版本。其实PYTHON的运行效率跟node的差别是数量级级的。不懂就问，意思是python效率高还是node效率高？                           2020年3月29日 23:50 | # | 引用                                                                                                                superjpg 说：                                                        就目前形势来看，npm是全球最大的包管理仓库没有之一，npm是基于node环境下运行的，所以，取代node并不是很容易，当然就deno的开发方向，个人感觉是对node代码的整合和规范，当然也有各自的优势，但是可以确定的是，很长一段时间都要继续使用node。                           2020年3月31日 18:09 | # | 引用                                                                                                                可靠小弟 说：                                                        deno是ry最初的想法回归，本来node就是期待用来简化后端的，没想到玩成了前端的生态。deno前景鸿远，让JavaScript在后端应用层打下了更坚固的位置。如果能出一款一统各种端的语言，就像秦始皇统一汉语一样[滑稽]，无疑成为IT业界的历史时刻啊，那时候解放程序员重复学习的脑袋，注重业务功能实践，将会步入软件鼎盛之时，到处都有软件，到处都有智能，打个车只需讲一句话就直接传上云招来车，连路灯都联网，我希望这门语言会是ECMAScript[滑稽]。                           2020年4月 2日 00:14 | # | 引用                                                                                                                程序汪 说：                                                        需要实际去做一个对比来验证是否拥有效率提升，但是习惯上肯可能目前还不太适应吧。期待吧！                           2020年4月 3日 14:36 | # | 引用                                                                                                                低调的帅哥 说：                                                        活到老学到老啊                           2020年4月 7日 15:14 | # | 引用                                                                                                                啦啦啦 说：                                                        node才学到一半，然后说不用了，要学习deno啦                           2020年4月 8日 15:42 | # | 引用                                                                                                                996 说：                                                        deno 的文档终于出来了https://doc.deno.land/https/github.com/denoland/deno/releases/latest/download/lib.deno.d.ts                           2020年4月 9日 20:08 | # | 引用                                                                                                                Aero 说：                                                        说起来，我最近刚刚把前端的东西差不多都笼统的搂了一遍，正在感慨，“杂乱无章，真特么恶心”。（但还是忍着恶心学了）他现在说重写，就搞得我一面我非常高兴，一面我又非常愤怒，惋惜这么久的学习成果。。。。。                           2020年4月 9日 21:56 | # | 引用                                                                                                                balefulJS 说：                                                        deno 快要发布1.0 正式版本了，期待前辈的新作布道                           2020年4月14日 15:28 | # | 引用                                                                                                                裤裆三重奏 说：                                                        「此外，Deno 所有的异步操作，一律返回 Promise」关于这个，如果是 node 中的多次回调该如何解决呢？比如：读取文件，fs.createReadStream，需要将获取到的数据通过 callback 传递回来（Promise 不支持多次回调），然后拼接 data += str ...不知道 Deno 会如何解决这个问题，又或者说，在 Deno 中没有 stream 的概念了？比较好奇，我还是直接装一个 Deno 试试好了                           2020年5月 8日 19:19 | # | 引用                                                                                                                zl7261 说：                                                        引用可靠小弟的发言：deno是ry最初的想法回归，本来node就是期待用来简化后端的，没想到玩成了前端的生态。deno前景鸿远，让JavaScript在后端应用层打下了更坚固的位置。如果能出一款一统各种端的语言，就像秦始皇统一汉语一样[滑稽]，无疑成为IT业界的历史时刻啊，那时候解放程序员重复学习的脑袋，注重业务功能实践，将会步入软件鼎盛之时，到处都有软件，到处都有智能，打个车只需讲一句话就直接传上云招来车，连路灯都联网，我希望这门语言会是ECMAScript[滑稽]。一门语言兼顾前后端开发本身就是扯淡没有银弹也没有万金油语言我是真的不理解为什么吹node,尤其是我看完了Js puzzle之后npm这种连照抄maven都不会的包管理秦皇统一文字的前提是也是大家都是人,都有眼睛鼻子耳朵,都会听说读写.每个设备的cpu架构都有可能不一样,怎么可能又会一门万金油语言在所有端运行,并且保持运行效率?                           2020年5月 9日 11:27 | # | 引用                                                                                                                石常友 说：                                                        windows 7 打开 PowerShell 输入iwr https://deno.land/x/install/install.ps1 -useb | iex没成，显示"无法将 iwr 项识别为 cmdlet..."百度也没找到合适答案                           2020年5月 9日 12:51 | # | 引用                                                                                                                kiinlam 说：                                                        deno1.0发布了！                           2020年5月14日 14:54 | # | 引用                                                                                                                前端小白 说：                                                        今天真的发布了                           2020年5月15日 15:02 | # | 引用                                                                                                                犬来八荒 说：                                                        感觉推行还是得有很长时间的，毕竟npm社区生态已经形成了。。。你要想再转其他的太麻烦了而且npm的各种插件已经很完善，虽然node_modules很恶心。。。。                           2020年5月16日 11:21 | # | 引用                                                                                                                蔡九 说：                                                        麻溜的,等不及了                           2020年5月16日 13:29 | # | 引用                                                                                                                limuyap 说：                                                        引用Jser的发言：我正在學node，知道deno今年可能發布版本目前噴鼻血中node是09年的东西，火起来都几年后了，照这个规律，deno估计2025年左右才会大火                           2020年5月18日 09:53 | # | 引用                                                                                                                时间的灰 说：                                                        引用石常友的发言：windows 7 打开 PowerShell 输入iwr https://deno.land/x/install/install.ps1 -useb | iex没成，显示"无法将 iwr 项识别为 cmdlet..."百度也没找到合适答案尝试将PowerShell升级到5.x，win7默认的PowerShell版本应该是2.0                           2020年5月18日 16:27 | # | 引用                                                                                                                Leo 说：                                                        恐龙的读音什么时候变成「帝诺」了。。。「呆诺」才对啊。                           2020年5月18日 17:02 | # | 引用                                                                                                                米司特包 说：                                                        真心不喜欢node_mosules deno的这个资源引入方式和golang的相似 个人觉得挺好                           2020年5月19日 13:28 | # | 引用                                                                                                                胡斐 说：                                                        import模块的时候， deno当初是否考虑过可以指定默认后缀 .ts/.js                           2020年5月20日 12:23 | # | 引用                                                                                                                done 说：                                                        其实deno也只是过渡的，还有一个最终版本done                           2020年5月21日 21:08 | # | 引用                                                                                                                白筱汐 说：                                                        nodeJS 回调函数的问题，对于javaScript 熟悉的同学也可以接受，做jquery的时候应该经常接触到。重要的是node_modules 包过于复杂，管理太麻烦。                           2020年5月24日 12:45 | # | 引用                                                                                                                阿猫 说：                                                        什么时候开发个dono                           2020年5月25日 10:00 | # | 引用                                                                                                                也已 说：                                                        引用mango的发言：好难过，nodejs还没有玩好，好好体验过他的魅力，现在deno又来插脚，????是啊 太痛苦了                           2020年5月29日 11:05 | # | 引用                                                                                                                打酱油的Hhh 说：                                                        最近正在学node 我想哭了                           2020年6月 1日 15:26 | # | 引用                                                                                                                冰中焱 说：                                                        感觉有点凉。大学之路：vb、c、c#、sql、webform、js、jq社会小白之路：js、jq、angular1、vue2、react、react1.6、mysql、redis、node。社会小白之路2：meteor、egg、rn、flutter。即将：deno。。。。我感觉我好难                           2020年6月12日 10:54 | # | 引用                                                                                                                Max 说：                                                        沒有module跟package manager好像不是太好吧如果鏈接死了，沒有備份的話，那個項目就可能要重寫了而且如果腳本被改了，我們也不知道，會有資安隱憂吧                           2020年6月13日 16:20 | # | 引用                                                                                                                Hai Ji 说：                                                        名字略屌，库引用方式比较自由，估计国内会被qiang                           2020年6月23日 13:12 | # | 引用                                                                                                                zxy 说：                                                        如果import依赖的文件升级了,怎么办呢?可以指定版本吗?                           2020年6月24日 11:26 | # | 引用                                                                                                                邱朗 说：                                                        看到deno最近进展，说启用typescript， 我实在很无语。 https://bit.ly/3hUHdU3前端开发就是折腾啊                           2020年6月24日 11:43 | # | 引用                                                                                                                ypz010 说：                                                        前端就是个大杂烩 真么都往里装 然后越来越臃肿                           2020年6月26日 22:25 | # | 引用                                                                                                                tanyh 说：                                                        引用Aloha的发言：Deno早期是Golang + TypeScript的，后来因为Golang和V8的GC问题，Ryan下了大工夫把golang统统换成没有GC的Rust了go v8 会有双层gc问题，所以没办法，才改成rust的                           2020年6月28日 15:01 | # | 引用                                                                                                                DOUZI 说：                                                        就是 node还没 用好，又deno ， 这太 被动了                           2020年6月29日 18:19 | # | 引用                                                                                                                endo 说：                                                        引用Max的发言：沒有module跟package manager好像不是太好吧如果鏈接死了，沒有備份的話，那個項目就可能要重寫了而且如果腳本被改了，我們也不知道，會有資安隱憂吧到时候肯定都是自己维护这些模块了，所有依赖模块都必须存放在自己的资源服务器或者cdn。                           2020年6月30日 14:12 | # | 引用                                                                                                                Hiya 说：                                                        node => deno => done                           2020年7月 6日 21:19 | # | 引用                                                                                                                二进制宇宙 说：                                                        最直接干脆的解决方法： 把JavaScript语言给废除了，重新建一门新的语言。                           2020年7月 9日 18:47 | # | 引用                                                                                                                undefined 说：                                                        不得不说deno的logo挺可爱啊                           2020年7月15日 11:21 | # | 引用                                                                                                                wumin 说：                                                        依赖，依赖更新怎么解决                           2020年7月28日 15:59 | # | 引用                                                                                                                sdutwsl 说：                                                        引用foxDaxian的发言：照这么说，前端是不是要进军人工智能了...能被JS改写的 终将被JS改写                           2020年8月 6日 09:59 | # | 引用                                                                                                                jingkaimori 说：                                                        引用Violet_ice紫冰的发言：并不是，传统npm包全都没法用的。必须要基于deno的包。或者是原生包。有的npm包（比如marked）提供了把模块打包成一个文件的功能，如果可以把exports换成原生的export语句就能在deno里用                           2020年8月 8日 15:54 | # | 引用                                                                                                                unde 说：                                                        将要学，但deno这冷水一下来，心凉了一半哈哈                           2020年8月13日 11:24 | # | 引用                                                                                                                宁小法 说：                                                        deno 目前最新版本：v1.3.3真是学无止境...                           2020年9月 8日 16:07 | # | 引用                                                                                                                deno 说：                                                        没有中心化的服务器，那第三方包的安全性怎么保证，又怎么去找到这些包                           2020年9月23日 16:19 | # | 引用                                                                                                                春续 说：                                                        引用Hugh的发言：“不需要package.json，直接从url加载模块不会更难管理么，到处都是，都不知道加载了哪些模块”那也是开发人员自己引入的呀，本地也有保存的，一样的呀（你的意思是没有包管理审核）我的一个flutter项目，里面好几个插件不更新，导致我都没法更新flutter最新版，证明有包管理也没用。以后从url管理应当是个趋势吧，用包名本来就挺变态的。                           2020年9月29日 17:30 | # | 引用                                                                                                                deno 说：                                                        怎么去维护第三方的包呢？                           2020年10月21日 15:14 | # | 引用                                                                                                                yxl-net 说：                                                        本来决定学GoLang的,现在不知道是学GoLang还是Rust，还是两门都学了。                           2020年10月31日 09:38 | # | 引用                                                                                                                甜到哀伤 说：                                                        1.6发布了,可以打包为单独文件                           2020年12月10日 16:40 | # | 引用                                                                                                                zhaoshidong 说：                                                        通过url加载包，会不会很慢，或者包的地址突然访问不到，都是如何处理的                           2021年1月21日 09:27 | # | 引用                                                                                                                Introtec.Tom 说：                                                        既然Deno 是 destroy + node 的缩写，那不应该是蒂诺吗。。。。                           2021年1月21日 16:07 | # | 引用                                                                                                                魔方 说：                                                        引用Max的发言：沒有module跟package manager好像不是太好吧如果鏈接死了，沒有備份的話，那個項目就可能要重寫了而且如果腳本被改了，我們也不知道，會有資安隱憂吧支持, npm没有那么不堪, 期待node完美支持ES6                           2021年2月19日 16:56 | # | 引用                                                                                                                Daben 说：                                                        大佬，deno官網找不到license相關信息公司的軟件全部都要提供證明開源的license信息給IT部門審核請問哪裏有deno的license聲明呢                           2023年4月27日 13:59 | # | 引用                                                                                                                zhangbiao651 说：                                                        引用Deno Master的发言：谷歌的Fuchsia OS支持的开发语言中包含Rust而不包含Golang，亲儿子都抛弃了，你说呢？这个不太对把 Golang不适合底层开发而已                           2024年4月23日 17:13 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e94c8da83cf45',t:'MTc0MzI0MzA2NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2020/01/deno-intro.html
科技爱好者周刊（第 138 期）：失业难以避免，重构人生规划 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    科技爱好者周刊（第 138 期）：失业难以避免，重构人生规划 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：《SSH&nbsp;入门教程》发下一篇：科技爱好者周刊（第&nbsp;1                                                                                分类：                                                                                    周刊                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              科技爱好者周刊（第 138 期）：失业难以避免，重构人生规划                                                                                    作者： 阮一峰                                    日期： 2020年12月18日                                                                                                                                            这里记录每周值得分享的科技内容，周五发布。                                                                                                                本杂志开源（GitHub: ruanyf/weekly），欢迎提交 issue，投稿或推荐科技内容。周刊讨论区的帖子《谁在招人？》，提供大量程序员就业信息，欢迎访问或发布工作/实习岗位。封面图波士顿动力公司的机器狗生产车间，很像科幻电影的机器人军团。该公司最近以11亿美元的价格，卖给了韩国现代汽车集团。（via）本周话题：失业难以避免，重构人生规划最近读到了一段话，引起了我的思考。  "工作对于人生至关重要。它提供了收入，身份和意义，失业的创伤仅次于亲人的死亡。"我完全同意这段话。因为我父母的人生就是这样，上了一辈子的班，如果把工作的部分去掉，就没有其他值得一说的东西了。对于许多人来说，人生就是围绕着工作。上学是为了找工作，毕业是为了上班，等到退休不上班，就已经是晚年了。万一失业，生活顿时就崩溃了，就像上面的引言说的，收入、身份、意义瞬间都没了。我今天想说的是，这种"工作型人生"已经过时了。要是现在你还把上班当作人生的主轴，是一件很危险的事情，因为失业的风险越来越大。 时代变了，稳定的工作越来越少，失业会是家常便饭，人生已经没法依附在某一份具体的工作上了。由于经济全球化和技术进步，行业的兴衰正变得越来越快。往往几年时间，新事物就彻底取代了旧事物，比如网络淘汰了报纸杂志，电动车淘汰汽油车，自动驾驶以后会淘汰司机。新行业瞬间崛起，又瞬间衰落，共享单车、P2P 网贷、长租公寓等等都是如此。这些变化都是预想不到的，根本没法提前准备。上学的时候，我们学习内燃机，怎么可能想到有生之年这个东西会过时，汽车会不用汽油。在技术浪潮的面前，很多行业一转眼都没了，从业人员都得下岗再就业，当代社会的失业可能性比以前大得多。所以，已经没法围绕工作而规划人生了，因为工作靠不住了，人生不能押宝在某一份具体的工作上面，风险太大。现在是互联网 + 智能手机 + 云计算 + 5G，未来会变成什么样，没人知道。我的意思是，我们对人生的预设应该是，一生中会多次改变工作，服务过多家公司，干过各种事情，中间很可能有失业期。 不能像以前那种，以某一份具体的工作或职业作为预设来规划人生。人生是一次旅行，不同的工作或公司只是我们沿途投宿过的村庄。它们不是人生的主轴，你不要误以为那是可以定居的地方，大多数人没有这种幸运。 不要再关注能不能找一个好工作/好公司（让你定居），人生的主轴应该是关注能不能实现下面三个目标。目的：你的人生想做到什么。成长：怎么保证自己的技能不断在成长。人脉关系：你能联系和动员的社会网络有多大。数据分析手册现在有一种热门的招聘岗位，叫做"数据分析师"，很多企业都在招。不夸张地说，优秀的数据分析技能，对求职和个人发展都大有好处。那么，怎么才能入门，提升自己的数据分析技能呢？其实不难，只要掌握三大工具---- Excel、SQL、Python ----再加上一点统计学知识，你就比大多数人强了。本周的课程资料就是来自 "开课吧" 的视频课程 《数据分析手册》 ，由廖雪峰老师研发打造的系统化培训内容。它从最简单的讲起，帮你入门这三种数据分析工具，同时学会数据分析的逻辑与思路。视频中的所有案例，可以直接拿来解决工作中遇到的真实问题。课程讲师都是来自大型互联网企业的数据分析师，既有大量的实战经验，也是企业的面试官，可以让大家了解主流企业的技术方案、方法论和面试技巧。已经有20000多人学习过这个课程，原价1299元，现在免费提供给周刊读者。访问这个链接，或者微信扫描下面的二维码，前 200名 读者 可以免费领取。资讯1、木制集装箱船一个哥斯达黎加环保组织正在做实验，建造一艘木制的远洋集装箱货轮，船体全部由木材构成，不使用任何化石燃料，动力来自风帆与太阳能，通过电动机穿越海洋。他们的目的是向全世界证明，可以有更环保的方式运输集装箱。现在的远洋集装箱船燃烧化石燃料，排放大量二氧化碳，对全球变暖有重要影响。这艘木制集装箱船的螺旋桨，同时还是水下涡轮机，通过水流带动来发电。由于动力的限制，它只能携带9个集装箱。建造团队希望它能在2021年底之前下水，2022年投入运营，在哥斯达黎加和加拿大之间运输货物。2、3D 打印住宅德国巴伐利亚的一家开发商，正在使用丹麦公司 COBOD 制造的大型 3D 打印机，打印全欧洲最大的 3D 打印住宅。开发商希望这样可以省时省力，为建筑业带来新模式。这个住宅楼一共有三层，分为5间公寓。3D 打印机挤出混和好的水泥，一层层堆叠建成房屋，同时留出安装天然气、水电、污水管道的空间。打印第一层楼只用了两个工人，花了25小时，以往需要5个工人投入5天时间。3、Airbnb 原始股在线订房平台 Airbnb 公司最近股票上市，涨势相当好。上市之前，它做出了一个与众不同的安排，决定向长期在它上面出租房屋的成千上万个房东，提供购买200股原始股的机会。这个计划是通过电子邮件发送给房东的，也没有向媒体透露，没人知道有这么回事。有的邮件直接进了垃圾邮件夹，还有的邮件被忽略了，甚至不少人把它当作诈骗邮件，那些房东都错过了这个"天上掉钱"的机会。如果以68美元买200股原始股，上市第一天以144美元的价格抛掉，就可以赚将近15,000美元。4、法拉第笼社会上一直有一种说法，无线网络信号有害健康。一家厂商就利用公众的这种心理，在美国亚马逊网络商店出售"法拉第笼"，号称专为家用路由器器设计。只要把路由器放在里面，就可有效遮蔽电磁波、辐射等带来的伤害，让你获得健康生活。它的价格为190 美元。法拉第笼的原理很简单，就是一个金属笼子，由于金属的导电性，可以屏蔽无线信号，这就是电梯里面手机信号不好的原因。路由器放在里面，发出的无线信号自然就无法传出来。它在屏蔽电磁波的同时，会使得用户根本无法使用路由器。还真的有不少人上当购买，网页的商品评价部分有大量的一星评价。购买者纷纷抱怨，路由器放进去以后，信号就变差了。5、《赛博朋克2077》近来最受瞩目的游戏一定是《赛博朋克2077》，它创下了游戏史的诸多纪录。12 月 10 日发售当天，它在 Steam 游戏平台的下载流量峰值达到了 51 Tbps，大大超过了2017年 PUBG 创下的 22 Tbps 下载纪录。它还创下了 Steam 平台同时游戏人数最高的单机游戏记录，达到 1,003,262 人同时在玩的纪录，超过《辐射 4》在 2015 年创下的 472,962 人纪录。这还不包括其他平台（PS4、Xbox 等等）的游戏人数。不过，它是单机游戏，比网络游戏的同时在线人数还是要少一点，PUBG 全盛时期曾达到过300多万人同时在线。6、一句话消息  一家美国创业公司建造了世界最大的无人机，机长25米，翼展18米，起飞重量25吨。它用来将卫星送上太空，先飞到高空，然后发射二级火箭，将卫星送入轨道。  英国空军在南大西洋拍到了世界上最大冰山的照片。这座冰山于2017年7月从南极洲的冰架上脱离，当时面积接近6,000平方公里，经过3年多，现在面积为4,200平方公里。  宜家宣布停止制作产品目录，因为消费者越来越多通过网站来寻找产品，目录的作用越来越小。该目录已经有70年历史，译成32种语言，在50多个国家发行。  特斯拉正在筹备柏林工厂，需要砍伐一大片树林。市政府担心惊醒树林里面冬眠的蛇，特斯拉迟迟拿不到动工许可证。  亚马逊旗下子公司发布电动汽车 Zoox，计划在几年后提供无人驾驶的出租车服务。该车没有驾驶员座位，只有四个乘客座位。文章1、我造了一个海上居住平台（中文）屋主在福建东山岛的海面上建造一栋海上房屋，今年作为酒店开放了。它距离海岸直线距离400米，水电都是通过管道从岸上供应的，总造价400万人民币。2、25号宇宙试验（中文）1968年，一位美国教授做了一个实验。他让8只老鼠生活在一个没有天敌、有足够粮食和空间，可以自由繁殖的环境，看看会发生什么。根据计算，只有当老鼠数量超过3840只时，生活空间才会出现短缺；6144只老鼠时，水源会不足；9500只老鼠时，粮食会不足。但是实际上，老鼠达到2200只以后，数量就开始下降，最终在1780天后灭亡了。3、《自然》杂志：2020年十佳科学照片（英文）《自然》杂志评选出的2020年十佳科学照片。上图是沙特阿拉伯的科学家发明的太阳能电池，又轻又薄，可以放在肥皂泡上。4、2020美国程序员薪资报告（英文）levels.fyi 又公布了一年一度的美国程序员薪资报告，有很多数据，感兴趣的朋友可以看看。上图是初级工程师/程序员薪资最高的公司，真是很高的报酬。5、剖析最简单的 C 语言 Hello World（中文）作者讲解一个最简单 C 语言 Hello World 程序，底层到底发生了什么。这个程序 gcc 编译后是 16KB，作者设法把它简化到170字节。（@cj1128 投稿）6、保护你的 .env 文件（英文）互联网黑客行为非常猖獗。作者上线了一个小网站，10个小时内就收到了许多可疑请求，其中就有人在尝试读取环境变量 .env 文件。7、如何优雅地从总统竞选中套利？（中文）周刊136期英语文章《赔率是怎么回事？ 》的中文解读，利用两个不同网站对美国总统大选的赔率差异，进行套利。（@morefreeze 投稿）8、使用 GitHub Issues 的数据生成静态网站（英文）作者介绍如何将 GitHub Issues 用做编辑器和数据储存，通过 GitHub Actions 和 Netlify 生成一个静态网站。9、如何自动生成社交媒体的网页题图（英文）很多社交媒体会对网址生成预览卡，作者讲述如何定制这种预览效果，并且为每个网址自动生成一张题图。10、我与 Python（英文）这是 Python 语言创始人 Guido van Rossum 2016年的一次演讲，讲述自己的经历，以及如何创造出 Python 这种语言。  "我是一个书呆子，一个怪人，很可能患有自闭症。我成熟得很晚，26岁大学毕业，45岁结婚，60岁时有一个14岁的儿子。35岁时，我创建了一种程序设计语言，因此受到了一些关注。"工具1、TinyCheck卡巴斯基实验室的产品，一个移动通信网关，用来中介智能手机与外界的网络通信，看看手机到底发出什么请求。2、Hieroglyph一个在线工具，用来下载 Youtube 视频的字幕文件，前提是该视频存在单独的字幕文件。3、Antipodes Map这个地图工具可以显示任意地点在地球另一边的对应地点，比如在上海打一个洞穿越地心，就会来到阿根廷的恩特雷里奥斯省。4、Espial 一个自己架设的 Web 书签服务，支持多账户使用，底层使用 Sqlite3 数据库。5、electron-playground一个 Electron 的学习工具，内置了各种可演示的示例，并且提供了演练场，几乎所有的代码都可以即时运行查看效果。（@Gstring-w 投稿）6、npm-unpkg一个在线工具，可以查看 JS 软件包里面包含哪些文件，每个文件的源码。（@jaywcjlove 投稿）7、Depix发布图片时，很多人喜欢使用马赛克隐去敏感信息，这个工具可以将打马赛克的文字还原。所以，隐藏信息尽量不要使用马赛克，最好是覆盖掉。8、Watermark Video一个开源的在线工具，可以为小视频加上水印图片。9、pronounce一个开源的浏览器插件，只要双击网页上的单词，就能听到这个词的发音，支持各种语言。10、Substack ReaderSubstack 刚刚发布的在线 RSS 阅读器。资源1、mugle.io该网站提供 Youtube 上面没有版权保护的背景音乐下载，可以用于你自己的视频。2、RegExLib该网站收集各种常用的正则表达式，比如搜索"email"，会返回961个正则表达式。3、AI 事故数据库该网站收集各种人工智能 AI 产生的各种事故。（@TheDHL 投稿）4、Covid-19 插图该网站提供24幅原创的 Covid-19 相关的插图，允许自由使用。5、命令行界面设计指南（英文）这份文档总结了一些设计规范，帮助你写出体验良好的命令行程序。6、梅森素数搜索项目梅森素数是可以表示成 2n - 1 的素数，目前已知有51个。从1997年开始，所有新的梅森素数都是由"互联网梅森素数大搜索"（GIMPS）项目进行分布式计算发现的。任何人都可以参与这个项目，将自己计算机的多余计算能力贡献出来。图片1、法罗群岛的海底隧道周刊第 136 期的封面图，介绍了丹麦法罗群岛的海底隧道。它在大西洋海底建了世界第一个海底环岛，三个路口连向三个岛屿。随着它的通车，网上现在有更多的图片。下图是隧道示意图，环岛的位置就在中间的三叉点。隧道的入口。海底环岛的实景图。2、世界最大的腰果树巴西有世界最大的腰果树，看上去就像一片树林，其实只是一棵树。这棵树的树枝碰到地面以后，就扎根了，最终变成了一片8000平方米的树林。3、伊尔-76的驾驶舱俄罗斯国防部最近发布了一张照片，是在运输机伊尔-76的驾驶舱拍摄的，看上去跟《星球大战》的剧照很像。下图是《星球大战》的剧照。文摘1、泰瑟枪1960年代，美国社会动荡，经常有暴乱事件。警方希望找到一种武器，可以有效地制服犯罪人，同时不会造成严重的杀伤。同一时期，美国宇航局的核物理学博士杰克·科弗（Jack Higson Cover，1920-2009）看到电视充斥着抗议和警察暴力的新闻，产生了一个设想，制造一个手持的放电装置，让警察对犯罪人进行短时间的高压电击。这可以让目标对象非常痛苦，无法移动，但不会有生命危险。经过几年的研究，他最终发明了这种电击枪，并根据一本他喜欢的科幻小说《汤姆·斯威夫特和他的电动步枪》（Tom Swift and His Electric Rifle）书名的首字母，将它命名为泰瑟枪（Taser）。扣动扳机后，泰瑟枪会发射两支金属飞镖，它们通过细电线连接在枪上。飞镖的速度为每秒60米，最远命中距离7米。飞镖击中目标后，就构成了一个电回路，然后可以隔着5厘米的衣服进行放电，电压为50,000伏，持续时间百万分之一秒，5秒内会多次放电。这将导致目标对象浑身肌肉痉挛，缩成一团，瞬间就无法移动。曾经有人接受了自愿测试，持续了大约2到3秒钟，就立刻发信号要求停止，并说这是他经历过的最强烈的痛苦。1974年，发明者杰克·科弗为泰瑟枪申请了专利，然后联系警察部门，推销这个发明。起初，警察不感兴趣，军队或航空公司也没有兴趣。1979年，杰克·科弗听说洛杉矶警察局正在寻找合适的武器。他们已经研究了许多可能的非致命武器（化学喷雾剂、橡胶子弹，镇定剂飞镖等等），没有一个是可用的，愿意尝试一下泰瑟枪。经过测试，洛杉矶警察局确定该武器有效，订购了数百支。其他警察局很快就跟进。如今，泰瑟公司是一家庞大的企业，美国80%以上的执法部门配备了它生产的电击枪。一些航空公司也为飞行员和航空警察配备了这种武器。为了防止警察滥用枪支，随便开火，泰瑟枪在设计时还增加了记录功能。用户扣动扳机后，枪膛后面会弹出许多小纸屑，上面印有枪的序列号，调查人员可通过它们轻而易举地查到枪的主人，此外枪内还有一个微型芯片，专门记录每次射击的日期和时间。言论1、时尚服饰的变化越来越快，而且新衣服正变得与二手衣服一样便宜，这导致同一件服装的穿着次数急剧下降。世界范围内，这个数值平均下降了36％，在中国则是下降了70％。-- 《没人想要你的旧衣服》2、代码注释是一种道歉，为未选择更清晰的名称或更合理的参数而道歉，为代码无法维护而道歉，为不使用知名算法而道歉，为编写"聪明"代码而道歉，为没有良好的版本控制系统而道歉，为未完成代码编写工作而道歉，为留下漏洞或代码中的缺陷而道歉。-- Uncle Bob3、未来的银行网点将像休息室，划分成一个个休闲区，没有柜员机，行员指导客户在自己的设备上完成在线操作，并进行深入的一对一对话。-- 《银行的变化》4、19世纪以前，人类一直不知道，鸟类冬季去了哪里。1882年，一个德国猎人射杀了一只白鹳，发现它的脖子上有一个6.5英尺长的铁矛尖。鉴定表明，这个矛尖产自非洲，研究人员才意识到这只鹳去过非洲。--《鸟类冬季到哪里去了？》5、人工智能 AI 迄今所有令人印象深刻的成就，都不过是曲线拟合，并不是真正的智能。 -- Judea Pearl（图灵奖获得者）6、如果我只有一个小时来拯救世界，那么我将花费55分钟来定义问题，而仅花5分钟来找到解决方案。-- 据说出自爱因斯坦回顾2019年的本周（第 87 期）：新人要为团队写文档2018年的本周（第 35 期）："一人份"的服务越来越多订阅这个周刊每周五发布，同步更新在阮一峰的网络日志和微信公众号。微信搜索"阮一峰的网络日志"或者扫描二维码，即可订阅。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2020年12月18日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.02.28: 科技爱好者周刊（第 339 期）：代币是什么                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.21: 科技爱好者周刊（第 338 期）：重新思考 6G                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.14: 科技爱好者周刊（第 337 期）：互联网创业几乎没了                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.07: 科技爱好者周刊（第 336 期）：面对 AI，互联网正在衰落                                                         这里记录每周值得分享的科技内容，周五发布。                            广告（购买广告位）云手机                                                              留言（38条）                                                                                                    xwsg 说：                                                        每周五准时见面                           2020年12月18日 08:47 | # | 引用                                                                                                                荒原之梦 说：                                                        工作很重要，但是人最终能依靠的还是自己以及自己所掌握的能力和资源。                           2020年12月18日 08:51 | # | 引用                                                                                                                六个周 说：                                                        每周五的精神食量，奥利给。                           2020年12月18日 09:19 | # | 引用                                                                                                                Stirp 说：                                                        法拉第笼不会阻碍路由发出的信号，阻碍的是手机发给路由器的部分。辐射照单全收，还不让你上网，这波操作必须给满分。                           2020年12月18日 09:33 | # | 引用                                                                                                                sany 说：                                                        用那个法拉第笼，还不如直接拔掉路由器的电源。完全没有电磁辐射，还省电，哈哈                           2020年12月18日 09:48 | # | 引用                                                                                                                 wzj 说：                                                        引用Stirp的发言：法拉第笼不会阻碍路由发出的信号，阻碍的是手机发给路由器的部分。辐射照单全收，还不让你上网，这波操作必须给满分。都是信号没有道理只屏弊一种，除非笼子对不同频率的通过率不同导致屏弊强度不同                           2020年12月18日 10:17 | # | 引用                                                                                                                业余草 说：                                                        失业难以避免，重构人生规划。怎么重构                           2020年12月18日 10:26 | # | 引用                                                                                                                一线蓝光 说：                                                        如果过于依赖工作，会有一种被困住的感觉，所以还是找到自己想做的和提升自己的技能比较重要。                           2020年12月18日 10:31 | # | 引用                                                                                                                孙小川 说：                                                        "人生是一次旅行，不同的工作或公司只是我们沿途投宿过的村庄。它们不是人生的主轴，你不要误以为那是可以定居的地方，大多数人没有这种幸运。 不要再关注能不能找一个好工作/好公司（让你定居），人生的主轴应该是关注能不能实现下面三个目标。目的：你的人生想做到什么。成长：怎么保证自己的技能不断在成长。人脉关系：你能联系和动员的社会网络有多大。"我完全同意上述这样的观点。                           2020年12月18日 11:02 | # | 引用                                                                                                                Orange 说：                                                        老鼠：说好了有足够粮食和空间 怎么用着用着就不够了？！！                           2020年12月18日 11:09 | # | 引用                                                                                                                阮老师小粉丝 说：                                                        环保组织用木头做船，难道不用砍伐树木？木材长期泡在水中，难道不用化学制品防腐？                           2020年12月18日 11:10 | # | 引用                                                                                                                thosefree 说：                                                        最近刚好需要用到新冠病毒相关的免费可商用插画，非常感谢分享～                           2020年12月18日 11:23 | # | 引用                                                                                                                rodger 说：                                                        关于老鼠的实验那篇文章，我总觉得有着那个时代的烙印：反乌托邦、反共产主义，行为主义心理学成为主流，包括所谓“垮掉的一代”舆论环境。这个实验极大可能不会有人去重复，以至于这个实验的观察和结论完全照着人类社会来描述也未可知。我对这个实验及其论述存疑，除非有人真的再做一次，更完整的视频记录。                           2020年12月18日 11:24 | # | 引用                                                                                                                smilingleo 说：                                                        19世纪以前，人类一直不知道，鸟类冬季去了哪里。1882年，一个德国猎人射杀了一只白鹳，发现它的脖子上有一个6.5英尺长的铁矛尖。鉴定表明，这个矛尖产自非洲，研究人员才意识到这只鹳去过非洲。6.5英尺？ 这只鸟得多大？                           2020年12月18日 11:26 | # | 引用                                                                                                                Boerma 说：                                                        注释是一种道歉，这真是无力反驳                           2020年12月18日 11:28 | # | 引用                                                                                                                刘笠 说：                                                        以后只有多一点技能才能相对稳定的生存                           2020年12月18日 11:29 | # | 引用                                                                                                                rodger 说：                                                        引用阮老师小粉丝的发言：环保组织用木头做船，难道不用砍伐树木？木材长期泡在水中，难道不用化学制品防腐？感觉国外的这帮人追求环保已经到了走火入魔的地步了。现在一艘集装箱船的运输规模在14000箱左右，换成木头船不知道要砍多少树（做船，小树是没有用的），这还没有算上航速打折带来的效率损失。要达到当前的水准，估计砍光了亚马逊都未必够。                           2020年12月18日 11:34 | # | 引用                                                                                                                奥卡姆剃刀 说：                                                        老鼠实验，按照所谓奥卡姆剃刀原理，最简洁有力的解释，是无比混乱的性关系所造成的毁灭 —— 从4雄4雌衍生出数千只老鼠，不乱伦不乱性是不可能的                           2020年12月18日 11:47 | # | 引用                                                                                                                ixx 说：                                                        引用阮老师小粉丝的发言：环保组织用木头做船，难道不用砍伐树木？木材长期泡在水中，难道不用化学制品防腐？重点不是木头，是不用燃料                           2020年12月18日 11:47 | # | 引用                                                                                                                微软小冰 说：                                                        引用阮老师小粉丝的发言：环保组织用木头做船，难道不用砍伐树木？木材长期泡在水中，难道不用化学制品防腐？树木是可再生资源                           2020年12月18日 12:08 | # | 引用                                                                                                                Bruce Meerkat 说：                                                        "未来的银行网点将像休息室，划分成一个个休闲区，没有柜员机，行员指导客户在自己的设备上完成在线操作，并进行深入的一对一对话。" -- 国内很多银行已经这样做了。                           2020年12月18日 13:15 | # | 引用                                                                                                                微wx笑 说：                                                        保护你的 .env 文件，做为一个站长，深知网站每天会收到多少的额外请求，很多都是在试图寻找一个可以钻进去的洞，如果你想知道它们接下来干什么，给他们一个装着一点蜜的罐子吧！                           2020年12月18日 13:30 | # | 引用                                                                                                                海马 说：                                                        注释是道歉，太极端了。注释是为了减轻心智负担。                           2020年12月18日 14:05 | # | 引用                                                                                                                海马 说：                                                        楼上诸君，并不是砍伐树木就是不环保，或者破坏环境。有一种树林叫用材林，专门提供木材。境。实际上森林经营中，需要适时采伐，保证林木正常生长和更新。例如疏伐，主伐。                           2020年12月18日 14:12 | # | 引用                                                                                                                万事屋 说：                                                        用木船运集装箱听起来不太靠谱，感觉也是起到个宣传呼吁作用吧。但是树木代替钢铁和混凝土的确就是更环保的选择，在建筑领域也是一样。树木长成之后再能固化的碳就很少了，不然质量都不守恒了。如果能有效监管，使用商业林而非自然林就不用担心碳排放的问题。能不砍树当然最好，但跟混凝土和钢铁在制造过程中惊人的碳排放来说真的九牛一毛。                           2020年12月18日 14:28 | # | 引用                                                                                                                wangrongjia 说：                                                        引用海马的发言：注释是道歉，太极端了。注释是为了减轻心智负担。赞同  有时代码可以看懂  但是复杂的业务逻辑需要用注释讲清楚  不然 看懂了代码 却不知道代码为什么要这么写 怎么去改呢                           2020年12月18日 15:35 | # | 引用                                                                                                                微wx笑 说：                                                        引用rodger的发言：关于老鼠的实验那篇文章，我总觉得有着那个时代的烙印：反乌托邦、反共产主义，行为主义心理学成为主流，包括所谓“垮掉的一代”舆论环境。这个实验极大可能不会有人去重复，以至于这个实验的观察和结论完全照着人类社会来描述也未可知。我对这个实验及其论述存疑，除非有人真的再做一次，更完整的视频记录。这也仅仅是个实验，和现实情况相差太远，宇宙那么大，人类那么小。                           2020年12月19日 12:11 | # | 引用                                                                                                                ✨ 说：                                                        6.5英尺？非洲人做这么长的铁茅尖干啥啊                           2020年12月19日 12:37 | # | 引用                                                                                                                none 说：                                                        引用rodger的发言：关于老鼠的实验那篇文章，我总觉得有着那个时代的烙印：反乌托邦、反共产主义，行为主义心理学成为主流，包括所谓“垮掉的一代”舆论环境。这个实验极大可能不会有人去重复，以至于这个实验的观察和结论完全照着人类社会来描述也未可知。我对这个实验及其论述存疑，除非有人真的再做一次，更完整的视频记录。人类文明有着文明的约束不会出现像25号宇宙那样残暴直接见血的行为 但不见血类似于老鼠们的行为还少？引用微wx笑的发言：这也仅仅是个实验，和现实情况相差太远，宇宙那么大，人类那么小。宇宙再大但人类短时间内那都去不了 而资源也就那么多 人口还在爆炸式增长                           2020年12月20日 00:33 | # | 引用                                                                                                                木澤 说：                                                        不曉得3D 打印住宅耐不耐震在寸土寸金的地方沒辦法蓋高樓似乎沒辦法用~                           2020年12月21日 11:51 | # | 引用                                                                                                                Tsubaki 说：                                                        引用✨的发言：6.5英尺？非洲人做这么长的铁茅尖干啥啊引用smilingleo的发言：19世纪以前，人类一直不知道，鸟类冬季去了哪里。1882年，一个德国猎人射杀了一只白鹳，发现它的脖子上有一个6.5英尺长的铁矛尖。鉴定表明，这个矛尖产自非洲，研究人员才意识到这只鹳去过非洲。6.5英尺？ 这只鸟得多大？这里应该是大佬笔误，原文应为2.5英尺（也挺长的）                           2020年12月21日 14:59 | # | 引用                                                                                                                afei 说：                                                        引用none的发言：宇宙再大但人类短时间内那都去不了 而资源也就那么多 人口还在爆炸式增长经验表明，社会发展到一定阶段人们的繁殖本能会受到抑制。人口爆炸导致地球资源不足的情况未必会出现。不过能源危机还是要解决的。                           2020年12月22日 09:23 | # | 引用                                                                                                                abitwhy 说：                                                        因为我们是人（而不是圣人），所以必须要写注释。                           2020年12月22日 16:11 | # | 引用                                                                                                                sss 说：                                                        25号宇宙好恐怖哟。                            2020年12月25日 09:44 | # | 引用                                                                                                                天象 说：                                                        注释是道歉，这个说法太偏执了。                           2020年12月26日 13:48 | # | 引用                                                                                                                韩执 说：                                                        引用Tsubaki的发言：这里应该是大佬笔误，原文应为2.5英尺（也挺长的）我觉得应该是英寸……非洲的铁不要钱的吗？况且只是个矛尖啊哈哈哈                           2020年12月28日 12:33 | # | 引用                                                                                                                Mona 说：                                                        电动车淘汰汽油车是伪命题，我敢跟任何人赌一个月工资；当年还有更多人说智能手机淘汰电脑呢，淘汰了吗？                           2021年2月25日 21:48 | # | 引用                                                                                                                fafa1234 说：                                                        那个木头做的船已经开始运营了吗？                           2024年4月30日 14:19 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9d7849017bcd',t:'MTc0MzI0MzQyMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2020/12/weekly-issue-138.html
诺贝尔化学奖得主田中耕一的故事 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    诺贝尔化学奖得主田中耕一的故事 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：2006年美国收入状况下一篇：烟囱是怎么拆的&nbsp;&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              诺贝尔化学奖得主田中耕一的故事                                                                                    作者： 阮一峰                                    日期： 2007年8月30日                                                                                                                                            以下文章转自互联网，原作者未知。                                                                                                                ====================诺贝尔化学奖得主田中耕一给我们的启示对于日本来说，2002年是一个诺贝尔奖大丰收年。继00、01连获诺贝尔化学奖后，02年竟双获物理奖和化学奖。尤为引人瞩目的是化学奖获得者田中耕一。田中是总部设在京都的岛津制作所的普通工程师。岛津制作所是一家生产科学测试仪器的公司。学物理、化学和生化等专业的人也许有闻其名，但在日本该公司只能算一家不大有名的中小企业。而且，该公司近年来赤字累累。  与以往的诺贝尔获奖者相比，田中的经历非常平凡，因而也显得异色。他既非教授、亦非博士，连硕士学位也没有。田中毕业于东北大学工学部电气工学专业，与化学、生化等领域完全无缘。东北大学是除东京大学、京都大学以外的一所非常优秀的大学，曾经排名第三。田中的母亲在生下他后一个月后便因病去世，自幼过继给叔父叔母。当他在念大学时才被告知这一事实，他感到非常震惊。从此立志研究医用测试仪器。  进公司以后他怀着极大的热情埋头于实验室的研究工作，把自己的终身大事和名誉升迁统统置之度外。从报纸上透露的只言片语来看，田中几年前才通过相亲娶了一个媳妇。另一方面，他现在的头衔也只是个主任。不过这与中国的主任头衔完全不同。日本企业内的职务分管理职、专门职或事务职两大系列。具有大学毕业学历的人一般归于管理职系列。进公司首先做1-2年的职员，然后升任主任。往后还有系长、课长代理、课长、次长、部长等等。每一种职务又往往分2-3个等级，而且还有最低任职年限的规定。据报道，田中为了能在实验室第一线从事研究工作，自己拒绝了所有升职考试。与从前（现在？）的中国企业一样，日本企业的工资也是与职务挂钩的。每年工资普调的额度很小，大致为月工资的2-3%。可以想见，他在经济上不会有多少余裕。因此也可以说，田中几乎处于日本企业社会的最底层。我想这可能就是他在公司内部被称为怪人的原因。  田中几乎没有发表过什么论文。仅有的几篇也只是发表在不是很重要的会议和杂志上。他与日本学术界几乎没有任何交往。以至于前天晚上获奖的消息传来时，日本学术界措手不及。在电视台采访去年的诺贝尔化学奖获奖者名古屋大学野依教授时，该教授透露他刚与前年的获奖者白川教授联系过，都不知道田中耕一何许人也。最后，该教授只能结结巴巴地说：这说明只要自己努力，不在学术界活跃也能得到诺贝尔奖。与田中有一面之交的另一位教授也找不到话来称赞他，只是笼统地说：人很老实，工作热心。再问如何相识时，原来教授也只是因为买了岛津制作所的分析仪器，听过一次田中作的产品介绍。  从这些侧面我们可以知道，日本学术界可能没有人推荐过田中。力推他的可能是美国和德国的学者。据今天的朝日新闻透露田中有可能是在最后一刻顶替了一位德国学者，因为瑞典诺贝尔奖选考委员会认定测定生物大分子质量的原始思想出自田中耕一。  导致田中获奖的成果是于1987年发表在由京都纤维工艺大学主办的一次关于分子质量测定的会议上。他当时28岁。据出席过会议的人士介绍，它的方法并没有受到太大的重视。一方面是他的方法只适用于少数大分子。另一方面则是当时普遍认为大分子的离子化如果不是不可能也是极其困难（这是日本报刊的报道。笔者不懂这一行，若有误，请专家指正）。到了90年代初，解析人类遗传因子的热潮兴起，使得测量蛋白质质量成为研究的必需。德国学者对田中的方法作了改进，使之适用于大量的其他分子。美国的学者也对它的方法现示了极大的兴趣，加州大学有两位学者曾专程到日本与他交流并要求合作。正是这些学者在自己的论文中介绍了田中87年的原始论文（我估计原始论文是用日文写的），从而成为此次获奖的一个重要依据。  田中在随后的这些年里，根据自己的想法设计了分析仪器，连同分析方法一起申请了专利。并获得批准。这些产品已为公司创造了相当于超过1亿人民币的利润。田中的这一项现在获得诺贝尔化学奖的方法和他的相关专利发明，当时仅获得公司1万1千日元的奖励。申请专利被接受时奖5千日元，被批准时6千元。1万1千日元现在合人民币700元左右。我猜想这个数额大致是他月收入的三十到三十五分之一之间。换个比方。假定有一位牛气冲天的清华毕业生在一家企业，突然有了一个潜在的能获诺贝尔奖的主意，并且设计出一台仪器。他申请了专利，并获批准。这种仪器为公司尽赚1亿人民币。公司为了表彰他的杰出贡献奖励他60元人民币（这里假定该牛气清华毕业生的月工资为 2000元人民币）。猜猜他会干什么？我猜他会把公司总裁和财务总监的肚子里灌满硫酸。可是，田中默默地干到了现在。  前天晚上，像体力劳动者一样穿着工作服的田中出现在记者面前时，除了喜悦，脸上也残存着困惑。当记者问及他接获喜讯时的心情时，田中说他只听见一位讲英语的人告诉他，他和另外两人获得叫做什么诺贝尔奖的东西。并说congradulation! 田中说他的第一想法是：是不是有人作弄他。稍稍平静一点后，他想会不会是瑞典有并非重要的其他学会有同名的奖。直到同事、朋友纷纷打电话向他表示祝贺时，他才慢慢地意识到的确是"得了真家伙"。  当记者问他如何会得到导致获诺贝尔奖的灵感时，田中回答说：起因是一个错误。他错误地把一种溶液混入了另一种溶液。而使他将研究持续下来的原因则是他当时对化学、生物化学理论的无知。他不知道当时的理论认为蛋白质大分子不大可能被离子化（据日本电视新闻）。  小柴教授的获奖是几年前开始就年年预报的获奖，因此，日本学术界虽然表示喜悦，但并不惊奇。而田中耕一的获奖却像令人喜悦的晴天霹雳一般。在这景气低迷、前途黯淡的日子里，诺贝尔物理、化学奖的双双获奖给日本社会带来了一阵短暂的欣喜。不过，田中的上司和同事却有了新的困惑：难道以后要叫他（田中）先生了吗？（注：先生这个汉字词组在日本只用于从事特定的令人尊敬的职业的人，如教师、医生。现在也用于当选了国会议员的政治家）  而我却突发奇想：如果田中耕一是在中国的大学或研究所工作的话，会是什么命运呢？  只有几篇论文，大概已经下岗了吧。田中耕一在公司一直被认为是一个极为有个性的研究者，具有超级的偏离常识的思考能力和集中精力的能力。一次，田中去美国参加学会，一位日本学者见到他剃了一个秃子的模样，惊讶地问他为什么，他说总要理发太麻烦了。在生活上，他总是这样出格。在公司，许多同龄的或者年轻的同事晋升了，他却仍然只停留在主任研究员（下面数第三级的职位）的位子上，主要是因为不愿意脱离研究第一线，怕与人事打交道。但是，在公司，不管是下级还是同事，只要问到他实验上的事，他都会认真解答或者一同思考，直到问题解决。田中原来在大学学的专业是电气工程，毕业后，参加第一志愿的索尼公司的就职考试，在面试时即被刷下来了，岛津电气是他的第二志愿。研究方向也从电气工程转到了化学，后来是生物化学，因为他当时认为，既然搞专业不成，就搞一个边缘专业，搞失败了别人也不会说什么！28岁时因为一个试验错误，但他没有放弃，将错就错，就搞出了一个大成果。记得前几年也有一个日本学者是因为试验错误反而得出了诺贝尔奖的。日本人的这种弃而不舍兢兢业业的的品质可能是发现新现象的直接原因。  当年，岛津公司只奖给他很少的奖金只是因为他的专利实用性还很稀薄。后来公司却因此赚了许多钱，现在，公司准备提升他的待遇为主管级，大概跳跃几级，当然，奖金也少不了。只是田中本人却又开始发愁了，这次出名后以后自己怎么静静地搞研究了?  田中没有什么论文发表，主要是因为一般企业的研究结果是不公开的，主要是出产品，然后卖产品。田中本人也除了大学本科外，什么学位也没有，留洋去了两次，也是英国的岛津子公司。现在他已经发愁如何用英文上讲台发表受奖感想和如何参加诺贝尔奖晚宴的舞会了。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2007年8月30日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（10条）                                                                                                    三毛 说：                                                        了不起的人..                           2007年8月30日 12:32 | # | 引用                                                                                                                Bill 说：                                                        朴实的家伙                           2007年8月30日 14:34 | # | 引用                                                                                                                ppip 说：                                                        相当神奇的故事啊。                           2007年8月30日 21:33 | # | 引用                                                                                                                八部 说：                                                        在中国,这样的天才会被毁了,我们缺少培养天才的环境-- 自由!                           2008年1月 5日 14:16 | # | 引用                                                                                                                liangzhixiu 说：                                                        岛津公司的仪器很是著名，岛津公司就是品质的象征，我国什么时候才能有这样的企业？是个问题。体制，领导的眼光，评价制度都是问题。                           2008年6月18日 01:04 | # | 引用                                                                                                                emma 说：                                                        文章很朴实，但不知内容是转抄还是真实了解田中耕一。体会获奖不是目标，重要的是自己明白自己要做什么！                           2008年10月18日 16:27 | # | 引用                                                                                                                春田麦 说：                                                        2002年岛津赤字累累吗？2010年的岛津预算很充足啊。。。可见田中先生对岛津的贡献有多大了。。。                           2011年3月 7日 15:40 | # | 引用                                                                                                                旅人 说：                                                        我当时在日本，其实田中在单位里是属于比较笨的人，他是在一次失败中糊里糊涂得到了别的发明，黑猫碰到死老鼠，得到了若贝尔奖，现在一点成绩也没有，因为他基础知识也不太好，日本人自从他得了若贝尔奖，就把若贝尔奖看得很轻了，据说若贝尔奖就是几位老资格的得主茶余酒后的谈笑之物...                           2014年4月 3日 11:50 | # | 引用                                                                                                                马树 说：                                                        看完这篇文章第一感觉就是田中耕一像足了大友克洋《遗迹三部曲》里面《最臭武器》里面那个科学研究所的公务员。。。                           2018年12月12日 14:53 | # | 引用                                                                                                                Hong Yu 说：                                                        田中先生是一個純粹的科學研究人，是人類的精華，是日本的驕傲。他的偉大在於高尚而質樸的人夲. 試想：當他知道自己加錯了研究試劑，繼而又誤用了反應試劑，但是他沒有停止實驗，一定是他的夲色驅使着進行下去，也許是好奇，才發現了這一偉大的發明。如果, 這個实驗过程一開始發生在一個所謂的聰明人身上，試想，????可能就重新開始了，結果是沒有結果了。田中獲諾貝儿化學奨后，依然如故，誠實的告訴世界：他純屬無心而為,實驗過程也不具匠心, 他始終覺得自己不應該接受這份榮譽 ，這就是他高尚偉大純粹的內函, 不可能再????的質朴了！如果????人因此田中獲獎而輕視諾貝儿獎，也只能說這一类人的淺薄。田中耕一的精神感化了一代一代的后人，推动人类文明，伟大，難道不比其它更美好嗎 ?????多少人覺得田中耕一不可思议呢 ?                           2019年2月24日 11:42 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e94dc5f7ecf45',t:'MTc0MzI0MzA2OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2007/08/koichi_tanaka.html
藏传佛教活佛转世管理办法 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    藏传佛教活佛转世管理办法 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：什么是血常规检验？&nbsp;&nbsp;下一篇：起诉中国电信干扰互联网                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              藏传佛教活佛转世管理办法                                                                                    作者： 阮一峰                                    日期： 2007年8月 5日                                                                                                                                            这份文件没有定义什么叫"活佛转世"，事实上它也根本不能定义。如果说转世是人为的，那就违反了宗教教义，如果不是人为的，这个管理办法就根本没必要制定。                                                                                                                另一方面，第四条规定活佛转世必须得到政府批准，第十条规定，活佛转世后必须由佛教协会颁发活佛证书。传说中，这好像是阎罗王的权力，真是活见鬼。=======================国家宗教事务局令第　5　号&nbsp;&nbsp;&nbsp; 《藏传佛教活佛转世管理办法》已于2007年7月13日经国家宗教事务局局务会议通过，现予公布，自2007年9月1日起施行。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;局　长　 叶小文&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;二○○七年七月十八日&nbsp;藏传佛教活佛转世管理办法&nbsp;&nbsp;&nbsp;&nbsp;第一条　为了保障公民宗教信仰自由，尊重藏传佛教活佛传承继位方式，规范活佛转世事务管理，根据《宗教事务条例》，制定本办法。&nbsp;&nbsp;&nbsp;&nbsp;第二条　活佛转世应当遵循维护国家统一、维护民族团结、维护宗教和睦与社会和谐、维护藏传佛教正常秩序的原则。　　活佛转世尊重藏传佛教宗教仪轨和历史定制，但不得恢复已被废除的封建特权。　　活佛转世不受境外任何组织、个人的干涉和支配。　　第三条　活佛转世应当具备下列条件：　　（一）当地多数信教群众和寺庙管理组织要求转世；　　（二）转世系统真实并传承至今；　　（三）申请活佛转世的寺庙系拟转世活佛僧籍所在寺，并为依法登记的藏传佛教活动场所，且具备培养和供养转世活佛的能力。　　第四条　申请转世活佛有下列情形之一的，不得转世：　　（一）藏传佛教教义规定不得转世的；　　（二）设区的市级以上人民政府明令不得转世的。　　第五条　活佛转世应当履行申请报批手续。申请报批程序是：由拟转世活佛僧籍所在寺庙管理组织或者所在地佛教协会向所在地县级人民政府宗教事务部门提出转世申请，由县级人民政府提出意见后，人民政府宗教事务部门逐级上报，由省、自治区人民政府宗教事务部门审批。其中，在佛教界有较大影响的，报省、自治区人民政府批准；有重大影响的，报国家宗教事务局批准；有特别重大影响的，报国务院批准。　　审核批准活佛转世申请，应当征求相应的佛教协会的意见。　　第六条　对活佛影响大小有争议的，由中国佛教协会认定，报国家宗教事务局备案。　　第七条　活佛转世申请获得批准后，根据活佛影响大小，由相应的佛教协会成立转世指导小组；由拟转世活佛僧籍所在寺庙管理组织或者相应的佛教协会组建转世灵童寻访小组，在指导小组的指导下实施寻访事宜。　　转世灵童由省、自治区佛教协会或者中国佛教协会根据宗教仪轨和历史定制认定。　　任何团体或者个人不得擅自开展有关活佛转世灵童的寻访及认定活动。　　第八条　历史上经金瓶掣签认定的活佛，其转世灵童认定实行金瓶掣签。　　请求免予金瓶掣签的，由省、自治区人民政府宗教事务部门报国家宗教事务局批准，有特别重大影响的，报国务院批准。　　第九条　活佛转世灵童认定后，报省、自治区人民政府宗教事务部门批准。在佛教界有较大影响的，报省、自治区人民政府批准；有重大影响的，报国家宗教事务局批准；有特别重大影响的，报国务院批准。　　经省、自治区人民政府宗教事务部门或者省、自治区人民政府批准的转世活佛，报国家宗教事务局备案。　　第十条　转世活佛继位时，由批准机关代表宣读批文，由相应的佛教协会颁发活佛证书。　　活佛证书的式样由中国佛教协会统一制作，报国家宗教事务局备案。　　第十一条　违反本办法，擅自办理活佛转世事宜的，由人民政府宗教事务部门依照《宗教事务条例》的规定，对责任人和责任单位予以行政处罚；构成犯罪的，依法追究刑事责任。　　第十二条　转世活佛继位后，其僧籍所在寺庙管理组织须制定培养计划，推荐经师人选，经所在地佛教协会审核，逐级报省、自治区人民政府宗教事务部门审批。　　第十三条　涉及活佛转世事宜的省、自治区可以依照本办法制定实施细则，报国家宗教事务局备案。　　第十四条　本办法自2007年9月1日起施行。=====================================附： 新华社消息Reincarnation of living Buddha of Tibetan Buddhism must get government approval2007-08-02 23:20:23 Xinhua EnglishBEIJING, Aug. 3 (Xinhua) -- All the reincarnations of living Buddha of Tibetan Buddhism must get government approval or the approval by the religious affairs department of the government, according to the State Administration for Religious Affairs (SARA).The so-called reincarnated living Buddha without government approval or the approval of religious affairs departments are illegal and invalid, says SARA.SARA issued a regulation on reincarnation of living Buddha of Tibetan Buddhism recently, stressing that it is an important move to institutionalize management on reincarnation of living Buddha. The regulation will become effective on Sept. 1.The regulation is composed of 14 articles, including the principle, conditions, approval procedures, the duties and responsibilities of religious groups for reincarnation as well as punishment for those violating the regulation.The regulation requires that temples which apply for reincarnation of living Buddha must be legally-registered venues for Tibetan Buddhism activities and are capable of fostering and offering proper means of support to the living Buddha.All the reincarnation applications must be submitted to the religious affairs department of the provincial-level government, the provincial-level government, SARA, and the State Council, respectively, for approval in accordance with the fame and influence of the living Buddha in the religious circle, the regulation says.Tibet became an administrative district directly under the central authorities of the Yuan Dynasty (1279-1368) in the 13th century. Kublai Khan of the Yuan Dynasty conferred the title of living Buddha on Vphag-pa, a religious leader in Tibet at that time. Since then, people began to call eminent monks in Tibet living Buddha.SARA says the regulation is favor of guaranteeing normal religious activities of Tibetan Buddhism and protecting the religious belief of Tibetan Buddhism followers according to law.[原文网址] * 中国政府网（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2007年8月 5日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（4条）                                                                                                    kim 说：                                                        可笑的是办法的名字。如果是“对‘活佛转世规则’的管理办法”就通顺得多了。                           2007年8月 6日 00:35 | # | 引用                                                                                                                3Z 说：                                                        最大的活佛Dalai Lama都是政府批准的少见多怪了                           2007年8月14日 22:44 | # | 引用                                                                                                                hainabian 说：                                                        果然搞笑。                           2007年9月12日 12:38 | # | 引用                                                                                                                自立自信 说：                                                        清朝时候就是要通过中央政府承认。不管你怎么想，对国家的统一是有好处的。                           2007年12月13日 21:39 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9e75e9f3cf45',t:'MTc0MzI0MzQ2Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2007/08/regulation_on_reincarnation_of_living_buddha_of_tibetan_buddhism.html
地主，谋士和长工的故事（转贴） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    地主，谋士和长工的故事（转贴） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：三部美国电影：The&nbsp;下一篇：《波士顿法律》中的一个                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              地主，谋士和长工的故事（转贴）                                                                                    作者： 阮一峰                                    日期： 2007年9月17日                                                                                                                                            今天看到一篇文章，印象深刻。网上一查，原来从2005年就有人转贴了。也许很多人都看过了吧，不过还是要贴在这里。                                                                                                                ========================地主、谋士与长工的故事　　以前，有个地主有很多地，找了很多长工干活，地主给长工们盖了一批团结楼住着，一天，地主的谋士对地主说：东家，长工们这几年手上有点钱了，他们住你的房子，每月交租子，不划算，反正他们永远住下去，你干脆把房子卖给他们起个名堂叫做-----公房出售！告诉他们房子永远归他们了，可以把他们这几年攒的钱收回来，地主说：不错，那租金怎么办？谋士说：照收不误，起个日本名儿，叫物业费！地主很快实行了，赚了好多钱，长工们那个高兴啊！　　过了几年，地主的村子发展成城镇了，有钱人越来越多，没地方住，谋士对地主说：东家，长工们这几年手上又有钱了，咱们给他们盖新房子，起个名堂叫做旧城改造，他们把手上的钱给我们，我们拆了房子盖新的，叫他们再买回去，可以多盖一些卖给别人，地主又实行了，这次，有些长工们不高兴了，地主的家丁派上用途了，长工们打掉牙只好往肚子里咽，地主又赚了好多钱。　　又过了几年，地主的村子发展成大城市了，有钱人更多了，地主的土地更值钱了，谋士对地主说：东家，咱们把这些长工的房子拆了，在这个地方建别墅，拆出来的地盖好房子卖给那些有钱的大款还能赚一笔，地主说：长工们不干怎么办？谋士说：咱给他们钱多点儿，起个名堂叫货币化安置，咱再到咱们的猪圈旁边建房子，起个名堂叫经济适用房，给他们修个马车道让他们到那边买房住，地主说：他们钱不够怎么办？谋士说：从咱家的钱庄借前给他们，一年6分利，咱这钱还能生钱崽，又没风险，地主又实行了，长工们拿到钱，地主的经济适用房到现在才建了一间，长工们只好排队等房子，直到现在，还等着呢------　　于是，长工们开始闹事了，地主有点慌，忙问谋士怎么办？谋士说：赶紧通知长工们，房子要跌价了，别买了，租房住吧，正好把我们的猪圈租给他们，结果，这么多年后，长工们的钱全没了，还在租房住，直到永远！（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2007年9月17日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（4条）                                                                                                    yuanyuan 说：                                                        很有意思的文章                           2007年9月17日 22:53 | # | 引用                                                                                                                Arthur 说：                                                        到底是谁在赚老百姓的血汗钱,政府还是少数人?                           2007年9月18日 14:47 | # | 引用                                                                                                                paul 说：                                                        Excellent satire. The implication is that people will rebel ...                            2007年9月18日 18:06 | # | 引用                                                                                                                色胺 说：                                                        飞涨的房价疯狂的聚敛了中国家庭两代甚至几代人积累的财富，通过住房的商品化，房地产商和银行聚敛了大量的财富，这些财富变成热钱流入市场，不断的产生泡沫。但是随着货币的大规模转手和集中，普通人手中的财富越来越少，于是银根开始紧缩…………国外的经济危机从股市开始，中国的经济危机会不会从房市开始呢？？我们国家从国民革命时期就在喊“居者有其屋，搞到现在也米有搞成。房地产成了金融投机的一项重要手段，可以被囤积，拍卖透支，已经成了开发商投机赚钱的资本，而不单单是单纯的生活资料了，这是最可悲也最可怕的事情了…………                           2008年3月 5日 00:08 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9671aa77cf45',t:'MTc0MzI0MzEzNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2007/09/landlord_counsellor_and_laborers.html
日本动画电影《秒速5厘米》 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    日本动画电影《秒速5厘米》 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：一个晚期癌症病人的Bl下一篇：Alan&nbsp;Shore&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              日本动画电影《秒速5厘米》                                                                                    作者： 阮一峰                                    日期： 2007年9月20日                                                                                                                                            据说樱花飘落的时候，每秒钟的速度是5厘米。人生就像落下的樱花，为什么曾经那么熟悉的朋友，最终却慢慢地分离了？                                                                                                                这部电影的副标题是"A chain of short stories about their distance"（一系列有关他们的距离的小故事）。精美的画面，动听的主题歌，但是故事本身显得平淡。《秒速5厘米》个人评分：6.0 / 10.0============================下面是主题歌《One more time, One more chance》的MV，以及几张截图。　　One more time, One more chance　　演唱：山崎まさよし　　电影《秒速5センチメートル》の主題歌　　これ以上何を失えば　心は許されるの　　还要失去多少东西  才能得到心的安宁　　どれ程の痛みならば　もういちど君に会える　　还要受到多少伤害  才能再次与你相逢　　One more time　季節よ　うつろわないで　　one more time  季节啊，请不要推移　　One more time 　ふざけあった　時間よ　　one more time  曾经无忧无虑的岁月啊　　くいちがう時はいつも　僕が先に折れたね　　每次发生争执  都是我先让步　　わがままな性格が　なおさら愛しくさせた　　那小小的任性  让你显得更可爱　　One more chance　記憶に足を取られて　　one more chance  陷入回忆 止步不前　　One more chance　次の場所を選べない　　one more chance  无法选择下个归宿　　いつでも捜しているよ　どっかに君の姿を　　一直在找寻  不知在何处的你的身影　　向かいのホーム　路地裏の窓　　对面的站台  小巷的窗口　　こんなとこにいるはずもないのに　　尽管明知你不可能会在这里　　願いはもしも叶うなら　今すぐ君のもとへ　　若能实现愿望  我现在就要去你身边　　できないことは　もう何もない　　做不到的事情  已经不复存在　　すべてかけて抱きしめてみせるよ　　我会不惜一切紧紧拥抱着你　　寂しさ紛らすだけなら　誰でもいいはずなのに　　只为排遣寂寞的话  对象是谁都没有关系　　星が落ちそうな夜だから　自分をいつわれない　　在这星星坠落之夜  我无法欺骗自己　　One more time　季節よ　うつろわないで　　one more time  季节啊，请不要推移　　One more time 　ふざけあった　時間よ　　one more time  曾经无忧无虑的岁月啊　　いつでも捜しているよ　どっかに君の姿を　　一直在找寻  不知在何处的你的身影　　交差点でも　夢の中でも　　不管是十字路口  还是自己的梦中　　こんなとこにいるはずもないのに　　尽管明知你不可能会在这里　　奇跡がもしも起こるなら　今すぐ君に見せたい　　如果真能发生奇迹  现在就想展现给你　　新しい朝　これからの僕　　崭新的早晨  今后的自我　　言えなかった「好き」という言葉も　　还有那没能说出口的"喜欢你"　　夏の想い出がまわる　　夏天的回忆又上心头　　ふいに消えた鼓動　　突然消失的悸动　　いつでも捜しているよ　どっかに君の姿を　　一直在找寻  不知在何处的你的身影　　明け方の街　桜木町(さくらぎちょう)で　　拂晓时分的街道  樱花盛开的路旁　　こんなとこに来るはずもないのに　　尽管明知你不可能会在这里　　願いはもしも叶うなら　今すぐ君のもとへ　　如果真实现愿望的话  现在就想飞奔向你　　できないことは　もう何もない　　做不到的事情  已经不复存在　　すべてかけて抱きしめてみせるよ　　我会不惜一切紧紧拥抱着你　　いつでも捜しているよ　どっかに君の破片を　　一直在找寻  不知在何处的你留下的踪迹　　旅先の店　新聞の隅　　旅途中的小店 报纸的角落　　こんなとこにあるはずもないのに　　尽管明知你不可能会在这里　　奇跡がもしも起こるなら　今すぐ君に見せたい　　如果真能发生奇迹  现在就想展现给你　　新しい朝　これからの僕　　崭新的早晨  今后的自我　　言えなかった「好き」という言葉も　　还有那没能说出口的"喜欢你"　　いつでも捜してしまう　どっかに君の笑顔を　　一直在找寻  不知在何处的你的笑颜　　急行待ちの　踏切あたり　　寻遍火车站  走过铁道口　　こんなとこにいるはずもないのに　　尽管明知你不可能会在这里　　命が繰り返すならば　何度も君のもとへ　　如果真有来生  每次都要去你身旁　　欲しいものなど　もう何もない　　除了你以外  我已别无所求　　君のほかに大切なものなど　　没有比你更重要的了 [相关链接]* 《秒速5厘米》官方网站（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2007年9月20日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（10条）                                                                                                    三毛 说：                                                        歌很好听~~                           2007年9月20日 09:48 | # | 引用                                                                                                                sinan 说：                                                        典型的日本风格啊~~最近，新到了一本书叫Japan Through the Looking Glass，该书的作者叫Alan Macfarlane，剑桥大学人类学教授，英国最棒的社科人文书出版社Profile出版的，很好看呢:)                           2007年9月22日 10:03 | # | 引用                                                                                                                了了 说：                                                        临睡前又听了一遍,暖暖的感觉,有一种感动                           2007年9月22日 16:26 | # | 引用                                                                                                                冰蓝 说：                                                        看了你转原晓娟的文章，很感动，也看到了她的博客地址！谢谢你！谢谢你让我知道了她的地址！                           2007年9月27日 12:47 | # | 引用                                                                                                                陈敏 说：                                                        这个动画片很好看哦！很有感觉的动画！谢谢你的介绍！                           2007年9月29日 09:13 | # | 引用                                                                                                                YY 说：                                                        kao,阮一峰你难道也是个宅男么?                           2008年3月 7日 16:42 | # | 引用                                                                                                                myspan 说：                                                        引用YY的发言： kao,阮一峰你难道也是个宅男么?确实有宅男倾向                           2008年6月 9日 20:49 | # | 引用                                                                                                                asher 说：                                                        智者乐水，仁者乐山这片对于蒙骚男来说值得上7.5分以上加上片尾ED的点睛神笔+1评以8.5                           2008年9月16日 00:38 | # | 引用                                                                                                                夜摩天狼 说：                                                        这个片子其实很不错，                           2011年5月31日 11:13 | # | 引用                                                                                                                UFO 说：                                                        如果有那是FaceBook就不会出现这样的情况了                           2011年7月 4日 16:37 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9edc3c96cf45',t:'MTc0MzI0MzQ3OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2007/09/byousoku_5_senchimeetoru.html
《中华人民共和国著作权法》笔记（I） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    《中华人民共和国著作权法》笔记（I） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：版权制度的起源&nbsp;&nbsp;&nbsp;&nbsp;下一篇：网络著作权的相关法律&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              《中华人民共和国著作权法》笔记（I）                                                                                    作者： 阮一峰                                    日期： 2007年6月25日                                                                                                                                            1. 哪些作品不受版权保护？                                                                                                                根据《著作权法》第五条的规定，有三类作品不受版权保护：（一）法律、法规，国家机关的决议、决定、命令和其他具有立法、行政、司法性质的文件，及其官方正式译文；（二）时事新闻；（三）历法、通用数表、通用表格和公式。2. 作品的版权保护期有多长？根据《著作权法》第二十一条的规定，（一）公民的作品的版权保护期为作者终生及其死亡后五十年，截止于作者死亡后第五十年的１２月３１日；如果是合作作品，截止于最后死亡的作者死亡后第五十年的１２月３１日。（二）法人的作品的版权保护期截止于作品首次发表后第五十年的１２月３１日，但作品自创作完成后五十年内未发表的，本法不再保护。（三）电影和摄影作品的版权保护期截止于作品首次发表后第五十年的１２月３１日，但作品自创作完成后五十年内未发表的，本法不再保护。3. 哪些情况下可以不经著作权人许可使用其作品？根据《著作权法》第二十二条的规定，在下列情况下使用作品，可以不经著作权人许可，不向其支付报酬，但应当指明作者姓名、作品名称，并且不得侵犯著作权人依照本法享有的其他权利：（一）为个人学习、研究或者欣赏，使用他人已经发表的作品；（二）为介绍、评论某一作品或者说明某一问题，在作品中适当引用他人已经发表的作品；（三）为报道时事新闻，在报纸、期刊、广播电台、电视台等媒体中不可避免地再现或者引用已经发表的作品；（四）报纸、期刊、广播电台、电视台等媒体刊登或者播放其他报纸、期刊、广播电台、电视台等媒体已经发表的关于政治、经济、宗教问题的时事性文章，但作者声明不许刊登、播放的除外；（五）报纸、期刊、广播电台、电视台等媒体刊登或者播放在公众集会上发表的讲话，但作者声明不许刊登、播放的除外；（六）为学校课堂教学或者科学研究，翻译或者少量复制已经发表的作品，供教学或者科研人员使用，但不得出版发行；（七）国家机关为执行公务在合理范围内使用已经发表的作品；（八）图书馆、档案馆、纪念馆、博物馆、美术馆等为陈列或者保存版本的需要，复制本馆收藏的作品；（九）免费表演已经发表的作品，该表演未向公众收取费用，也未向表演者支付报酬；（十）对设置或者陈列在室外公共场所的艺术作品进行临摹、绘画、摄影、录像；（十一）将中国公民、法人或者其他组织已经发表的以汉语言文字创作的作品翻译成少数民族语言文字作品在国内出版发行；（十二）将已经发表的作品改成盲文出版。4. 《著作权法》对一稿多投有何规定？《著作权法》第三十二条规定，著作权人向报社、期刊社投稿的，自稿件发出之日起十五日内未收到报社通知决定刊登的，或者自稿件发出之日起三十日内未收到期刊社通知决定刊登的，可以将同一作品向其他报社、期刊社投稿。双方另有约定的除外。5. 著作权被侵犯后的赔偿金额如何计算？《著作权》第四十八条规定，侵犯著作权或者与著作权有关的权利的，侵权人应当按照权利人的实际损失给予赔偿；实际损失难以计算的，可以按照侵权人的违法所得给予赔偿。赔偿数额还应当包括权利人为制止侵权行为所支付的合理开支。权利人的实际损失或者侵权人的违法所得不能确定的，由人民法院根据侵权行为的情节，判决给予五十万元以下的赔偿。（未完待续）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2007年6月25日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（2条）                                                                                                    kim 说：                                                        馒头血案风波期间我特意查过著作权法，胡戈的行为确实属于侵权。                           2007年6月25日 19:24 | # | 引用                                                                                                                Lin 说：                                                        请教一个问题：对于“在下列情况下使用作品，可以不经著作权人许可，不向其支付报酬，但应当指明作者姓名、作品名称，并且不得侵犯著作权人依照本法享有的其他权利”中的第一条：“（一）为个人学习、研究或者欣赏，使用他人已经发表的作品”，那么我把某音乐人创作的一首歌拿来听这算是个人欣赏吧？那么，这样是不必支付报酬的？也就是说是免费的？……不解……还有，加入某个人写了一本教材，我直接从某个地方拷贝过来读，我读这个行为算是个人学习吧？意思是这样的情况下我也没有必要向作者支付报酬？也就是说在网上随意复制和下载书的内容来个人学习，以及随意下载音乐来个人欣赏，是不侵犯版权的？……是我哪里理解错了吗？请指教~                           2010年7月10日 11:13 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9ada9e51cf45',t:'MTc0MzI0MzMxNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2007/06/notes_on_chinese_copyright_law_part_i.html
2007年普利策奖回顾之三：调查性报道奖 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    2007年普利策奖回顾之三：调查性报道奖 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：738亿国有资产的消失下一篇：2007年普利策奖回顾                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              2007年普利策奖回顾之三：调查性报道奖                                                                                    作者： 阮一峰                                    日期： 2007年5月 3日                                                                                                                                            调查性报道奖（INVESTIGATIVE REPORTING）今年的调查性报道奖授予了《伯明翰新闻》（The Birmingham News）的Brett Blackledge，表彰他所写的揭露阿拉巴马州大专教育中存在的腐败的系列报道。                                                                                                                看了这组报道，大家就会发现美国的腐败其实同中国没有什么不同，但是如果有了新闻自由，结果就会不一样。阿拉巴马州消防学院（Alabama Fire College）是一所二年制的大专，专门培养消防员和其他急救人员。联邦检查人员发现，这所学校中存在的惊人的腐败。2006年5月7日，《伯明翰新闻》报道了这件事：■ 消防学院的主管W.L. Langston给另一所学院一份价值20万美元的外包教育合同，那所学院则向Langston的儿子提供了一份年薪4.2万美元的兼职工作。■ Langston向州教育系统财政主管的女儿提供了一份1.5万美元的奖学金，后者则将30万美元的阿拉巴马州财政资金注入Langston的基金会。Langston用这笔钱造了一所新家。■ Langston为州教育理事会----这个理事会负责监督Langston的工作----的一位成员的孙女提供了一份工作。■ Langston为他自己的女儿在另一所学校找了一份年薪3.6万美元的工作。那所学校借用了消防学院的校园。调查显示，Langston女儿的雇用合同是Langston手下的职员起草的。■ Langston向阿拉巴马州主管大专教育的官员Roy Johnson的儿子和女儿都提供了工作合同，尽管这两人的住处离消防学院相隔175英里。他们不用来上班就可以获得薪水和教师的福利待遇。在以后的半年里，《伯明翰新闻》相继发表了数十篇篇报道，对这起腐败事件紧追不放，并揭露出了更多的内幕。首先，从消防学院直接就查到了州教育官员Roy Johnson，他和他的家庭接受各种好处费超过56万美元，他本人控制的教育预算超过8000万美元。他的儿子接受建筑公司的回购，帮助那些公司获得校内的建筑合同。一个建筑承包商揭露，Roy Johnson找他造房子的时候，从不付钱，都算在他下面的那些学校的建筑合同里。其次，发现阿拉巴马州很多大学的校长和行政主管的子女，都在大专系统中获得了工作职位。再次，从2003年10月起，大专系统雇用各种游说公司的费用超过100万美元。许多软件公司没有经过投标，就获得了软件合同，金额高达几百万美元。然后，还发现阿拉巴马州的许多州议员接受过学校的好处费。最后，阿拉巴马州总检察官Troy King也被发现，要求Roy Johnson为他一个朋友的母亲提供一份工作。可以看到，随着报道调查的深入，整个腐败事件越查越大，已经从单纯一所学校的问题，发展到政府、议会和司法系统中存在的腐败。阿拉巴马州的问题因此在全国被曝光，在舆论的压力下，不得不进行彻底的调查和改革。一个优秀的记者是拥有巨大力量的，他可以推动社会进步，改变这个世界。普利策奖最看重的，恰恰就是这样的行为和勇气。能够获得普利策奖，最重要的因素并非报道本身是否优秀，而是新闻所引发的社会结果。所以，最终来说，普利策奖表彰的是那些能够引导社会进步的新闻和记者。[参考链接]* 《伯明翰新闻》：阿拉巴马州大专教育系统的腐败事件系列报道（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2007年5月 3日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                                      我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9bb69aa9cf45',t:'MTc0MzI0MzM0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2007/05/the_pulitzer_prizes_2007_part_iii.html
白介夫：我与萧光琰的苦涩友谊（转贴） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    白介夫：我与萧光琰的苦涩友谊（转贴） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：CSS选择器笔记&nbsp;&nbsp;&nbsp;下一篇：MID和UMPC的区别                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              白介夫：我与萧光琰的苦涩友谊（转贴）                                                                                    作者： 阮一峰                                    日期： 2009年3月15日                                                                                                                                            我在网上读到下面的文章，心情难以平静，决定全文转贴。                                                                                                                有些事情是不可以被忘记的。====================我与萧光琰的苦涩友谊作者：白介夫（北京市前副市长、北京市政协第六届、第七届主席）原载：2005年第7期《炎黄春秋》杂志（图片说明：本文作者近照）我走过了八十多个春夏秋冬，好多事情渐渐淡忘。对有些人与事的记忆，却是越久远越清晰。我想告诉人们，告诉下一代，中国一段不应该被忘记的历史，中国科学界一个不应被遗忘的科学家----萧光琰。"外行"领导"内行"1937年卢沟桥事变，我刚好从师范毕业，便跑到西安，想考进国民党办的炮兵学校，又能挣钱，又能抗日。可是我付不起两块大洋的报名费，这时想起学校里曹孟朴老师告诉我们共产党也抗日救国，于是我就转身去了延安。这个偶然选择，决定了我的一生。到延安时我才十几岁，此后一直接受共产党的教育，从没有怀疑过党的政策，没有怀疑过毛主席。在抗日和土改的队伍里，解放后在政府机关里，我都算是个小知识分子。1957年，在一片"外行"要领导"内行"的呼声中，我被从辽宁省委高教处调到科学院大连石油研究所（后改名为大连化学物理研究所，简称"大化所"）任党委书记，同时兼副所长。这对我来讲，是进入了一个全新的领域。在一大群学富五车的高级知识分子的包围中，我近乎文盲。"我行吗？"虽然当时只有三十六岁，是以天下为己任，又无所畏惧的年龄，可这种落差还是使我觉得自己很难胜任这个工作。我没有专业知识，但是有常识。知道要搞好一个研究所，关键就是学术带头人。张大煜当时担任所长，主管科研，我觉得张大煜是一个很好的学术带头人，从心里尊重他，明确业务上的事情由张大煜来管，我只是尽量配合他做好科研工作，解决一些思想问题和人事纠纷。我给自己的这种定位虽然部分偏离了党要领导一切的航向，却大大缩小了我和科技人员的距离。那时候党政人员也常常参加一些决定学术方向的讨论会。例如搞哪种类型的催化剂，怎样寻找新的燃料？由于一些"外行"在场，科学家们常常要用非常通俗的语言解释他们的工作，当然从我们的表情也能判断"外行们"的理解水平。这种尴尬的局面让我很不舒服，试图改变。我能不能也学学化学？那时候我不知道有个门捷列夫发现了元素周期表，不知道什么是有机化学，什么是无机化学。我找了研究员楼南权来给我补化学课。楼南权现为中国科学院院士，想想那时候他花那么多时间给一个小学生补课，也真是"大炮打蚊子"了。他用最通俗的语言，为我扫化学盲。我很难理解金刚钻和煤炭是由同种元素组成，而碳，氢，氧这三个基本元素，既可以组成糖、面粉、木头，也可以形成油。这些不懂让我感到自然科学的神奇和巨大的吸引力。我学得越认真、吃力，就越佩服这些科技人员，也由此知道了自己这辈子甚至连化学的皮毛都搞不清楚。这种学习有限地为我增加了一些自然科学的常识，却让我常常想到，一个人能忘我地、充满兴趣地在显微镜下，在枯燥难解的数字间去追求一般人看不见、想不到的真理，不仅需要特殊的智慧，而且需要献身精神。所以那些无论如何搞不明白的理论没有让我觉得丢面子，倒是让我知道培养一个专业人才真不容易，我对科学家们肃然起敬，很希望尽己所能，为他们创造安定的工作环境。我对科学家十分尊重的态度使我和他们建立了很好的关系，那时候的人没有什么强烈的物质愿望，最需要的也就是被尊重了。我交了不少知识分子朋友，萧光琰是其中之一。我们年龄相仿，经历完全不同。　　萧光琰的过去萧光琰1920年生于日本，后移居美国，读完大学，在芝加哥大学取得化学博士学位。五十多年前美国处在麦卡锡主义笼罩下，围追堵截共产主义思想。知识分子追求的就是思想和信仰的自由，所以越是压制，越有很多年轻人偏偏向往自己也不很明白的共产主义。美国不希望自己培养的技术人才为新中国服务，据说移民局官员常常坐到博士生毕业典礼的现场，动员你留下。萧光琰当时在美国美孚石油公司工作，1949年此公司建成了世界上第一套固定床单铂催化重整装置，应用这种装置可生产芳烃和高辛烷值汽油。萧光琰参与此工作，掌握了一些当时很先进的技术知识，正是英雄想找用武之地的时候。建国初期，中国政府广招人才。成立了"留美科技工作者协会"，动员留美人才回国参加建设。"中国从来没有像今天这样精神振奋，意气风发，斗志昂扬"。这种形势下，很多中国留学生，心急如火地想回国报效。热情浪漫的萧光琰想到为新中国服务。那时候萧光琰刚刚与甄素辉结婚。萧光琰曾和我说他父亲是汪精卫政府的一个部长，甄素辉的父亲给孙中山当过秘书。两人结婚后感情非常好，问题是甄素辉并没有回中国的打算。萧光琰曾和夫人对此有过很多争论。甄素辉说：我连中文也不会讲，回中国干什么呢？现在是共产党当政，我们没有为共产党做过贡献，谁欢迎我们回去？萧光琰认为自己并不参与政治，能把美国最先进的技术带回国，就是贡献。至于在中国工作能否如愿，生活能否习惯，各种爱好如何满足，他没有细想。决心已定，谁也改变不了。萧光琰说，如果你实在不想回中国，我就自己回去。有人说"好的婚姻是男人找到崇拜自己的女人，女人找到自己崇拜的男人"。萧光琰和甄素辉大概就是这种关系吧。在我的记忆中，甄素辉对萧光琰是崇拜的。甄素辉让步了。1950年12月，这对夫妇满怀年轻人的激情，带着对中国的石油发展事业有用的资料和大批图书，回到了没有朋友，没有亲人的祖国。来到天安门广场，他们看到巨大的毛泽东像悬挂在天安门城楼正中间，毛主席万岁，共产党万岁的标语口号到处都是。美国是个强调个体和尊重个体的社会，各持各的观点，中国则是强调集体观念，全民一致，努力表达对共产党，对毛主席的感激和崇拜。对贫穷，对落后，他还有些思想准备，而这种政治气氛，对萧光琰来说有些生疏，有些隔膜，感到要尽快适应这个他了解甚少的社会。他被分配到石油部(那时叫燃料部)。当时石油部还没有能力成立自己的研究所，就招聘一些科技人才，又送到有研究基础的地方代培。萧光琰是其中之一。他在北京做了短暂的停留，就到了东北科学研究所大连分所（现在的"大化所"）。石油部鉴定了他带回来的资料，认为对发展当时中国还很落后的石油工业有重大价值，他甚感欣慰。当萧光琰和甄素辉翻开了在中国生活的第一页时，发现他们面对着一个全然陌生的世界。萧光琰离开学校不久，还很留恋大学的文化生活，刚回国各方面的条件都不是太好。在优越的环境中长大的他，觉得人的生活中少了音乐、绘画、体育活动，岂不太枯燥了！甄素辉花了很多时间布置他们的小家，想买幅装饰画挂在墙上，可到处都在卖领袖像，她不明白政治人物怎么能挂在家里呢，美国没人把总统作为装饰挂在家里。作为一个技术人员，萧光琰在中国受到在美国不曾有过的重视，生活待遇也相当不错。他曾对我说：在美国他是一个一般的技术人员，有工作的时候生活会非常好，房子、汽车随之而来，如果失业，马上会一无所有。在中国生活比较稳定，还可以参与一些技术决策。当时对石油炼制采用什么催化剂有很多争论，有人主张用钼做催化剂，钼要比铂便宜，不用进口。从最终效果看，铂虽然贵，但催化效率高，收率高。最后还是按着萧光琰的方案，采用了铂重整技术。北京石油炼制所成立后，接着进行铂重整中间放大试验，也很成功，到六十年代，用这个技术建成了大型的工业生产装置，成为当时工业战线上"五朵金花"的新技术之一。我国的石油工业发展到今天，不应该忘记萧光琰的巨大贡献。就在他刚刚回国九个月，认为自己会大有作为的时候，意想不到的事情发生了。1951年开始了大规模的思想改造运动，主要是针对"美国文化帝国主义"培养的高级知识分子，批判他们崇美、恐美的思想。在国民党统治时期，很多知识分子起到了社会良心的作用，很有声望。为了夺取政权，共产党注意保护和争取人才，在党的周围团结了一大批各类优秀的知识分子。夺取政权以后，他们有比较优厚的生活待遇，以便发挥他们的一技之长。但是不能让思想自由、爱提异议的知识分子翘尾巴，仗着自己懂点儿业务，就忽视党的领导。结果是大批德高望重的知识精英，科学家、艺术家、文学家站出来"脱裤子割尾巴"，当着全国人民的面集体自辱。对这一点，很多知识分子都没有思想准备，萧光琰刚刚回国九个月，对此就更是始料不及。　　他迎来了人生的第一次打击那时抗美援朝已经开始，人们怀疑从美国回来的人成为很自然的事。运动初期，萧光琰隐约感到有些人不敢和他说话，无言中拒他于千里之外。运动深入以后，有人开始在会上质疑他回国的动机。人们当时最不理解的就是"你在美国生活条件那么好，为什么选择回中国？"他平时偶尔谈到自己在美国的工作或者生活情况，被当作崇洋媚外加以批判。当时萧光琰刚三十出头，从小学到取得博士学位，血气方刚，没有韧性。有人记得有一次在会上，他听着根本听不懂的批判内容，面对着他根本无法理解的革命群众，产生了难以忍耐的愤怒，气得把眼镜都摔了，他这种对抗运动的态度，也让群众对他更有看法。他认为很多批判实在太无理，盼望有人出来澄清事实，可是没有。当时大家都在争先恐后地表达对党、对毛主席的热爱。萧光琰想这也许是下面的人臆想出来的不实之词。遇到不合理的事，要据理力争，不能沉默。他要向上面讲清楚，于是人们经常看到他给领导写信，凡事都要求"有个说法"。他自己说话有理有据，也要求别人有科学态度。当时的领导碰到这种情况经常是不了了之，不想明确回答，也无法明确回答。运动是他们领导的，他们的责任是激发群众的革命热情，当然向萧光琰没办法解释。得不到"说法"，萧光琰无法忍受。在美国，得不到回应最简单的办法就是罢工或换地方。换工作不容易，于是他就自行"罢工"。有时候好几天都不去上班，在家闹情绪。那时候，人们对美国回来的博士还是两重态度，既觉得政治上比他高一截，心理上又有些敬畏。所以也没人管他，这又引起周围一些人对他更大的不满。回国时他充满幻想，忽然间一切都破灭了。刚刚三十多岁，下半生就要在这种怀疑中度过。在这种气氛下，科研工作还能出任何成果吗？甄素辉能受得了吗？他变得忧心忡忡，焦躁不安，彻夜难眠。后来的运动中，没人阻止对萧光琰无中生有的批判和怀疑，而这种批判又让他没有任何退路。自己这样千辛万苦回到中国，得到的竟然是怀疑，这是他万万没有想到的。萧光琰失去了做研究工作的心态，脑子也闪不出智慧的火花。常常书放在那里，看不进去。有人看到他经常呆坐的样子，就说：萧先生这样下去，可能会自杀。他有科研能力，但现实不要他出力；他有头脑，但必须按特定的方式思考。他只好努力让自己的穿戴、言行都符合大众口味。有人说那时他曾有过自虐的行为，用自己的头撞暖气片，他用这样的方法惩罚自己，发泄自己极端抑郁的愤怒。为了安静下来，有时他吃很多安眠药。他情绪的波动，给甄素辉很大的压力。可她是一个极其贤惠的夫人，不管萧光琰怎样，她都理解。这对夫妻，回国以后真是相濡以沫。运动过去，生活恢复了平静。一道深深的伤痕已经在这对夫妇心中留下。本来就没什么朋友，此时变得更加身孤影单，实验室里，萧光琰也更少言寡语了。运动过去以后，所里的领导认识到思想改造运动对萧光琰的猜测是毫无根据的，使他受伤害不小，向他表示歉意。当时还专门派人做他的思想工作。萧光琰是个非常天真的人，马上不计前嫌，重振情绪，又开始努力工作。不久，他们的生活有了新的生机，女儿出生了，给她起名叫萧洛莲，小名就叫洛洛。1956年初，北京石油炼制研究所正式成立，希望在大连代培了几年的萧光琰到北京工作。萧光琰感到很矛盾，他虽然在大连受到伤害，但仍然热爱那里。后来他去北京工作了一段时间，想体会一下那里的工作环境，最后觉得还是大连石油所搞基础科研比较多，更适合他，就决定留在大连。在美国，选择一个适合自己的工作，是再正常也没有的事了，如果有两个地方都要你，当然要反复进行比较。可当时人们要达到的思想境界是"我是革命的一块砖，哪里需要哪里安，放到天安门城楼上不骄傲，放到厕所里不悲观。"大家都在表示坚决服从分配，即使不服从也都找个说得出口的理由。萧光琰的做法显得很个别，他的犹豫被看成是患得患失，个人主义。而他自己则浑然不知周围人对他的看法，他认为选择到哪里工作，完全是个人行为，自己有选择的权利。几经周折，他的人事关系正式转到大化所。　　我和萧光琰成为朋友（图片说明：萧光琰在研究生论文答辩会上。）大概萧光琰看到我不爱喊大口号，比较有人情味，认定我会成为他的朋友。看到我听学术讨论时满头雾水的样子，他没有瞧不起，反而主动用一些通俗语言给我讲解，让我了解什么是催化剂，为什么在各种化学反应中它那么重要。我们比较熟悉了以后，萧光琰问我是否会打网球。我说我连网球拍子都没有摸过。萧光琰酷爱打网球，说起打网球都兴奋得很，他立刻鼓动我学网球。他说你一定会上瘾，我可以教你。我那时年轻，活跃，这既是消遣娱乐，又是一个和科学家交往的机会，就一口答应了。受他感染，我也爱上了网球。网球场上龙腾虎跃，没有烦恼，没有伪饰造作，没有领导和被领导的关系，只有输赢。出一身汗，头脑特别清楚。当时大连市正好有个得天独厚的网球场，离萧光琰家非常近，我们便经常相约周末打网球。网球这个媒介，促进了我们两个人及两家人的频繁来往。我们成了很好的朋友，不以利害相交，无拘无束，热爱生活。　　应接不暇的新运动1957年毛主席发表了"要正确处理人民内部矛盾"这篇文章，大鸣大放开始了。人们开始给各级领导提意见。萧光琰已经有了思想改造运动的教训，言行越来越谨慎。但是当他读了毛主席的文章，还是觉得大大地给自己增长了底气，把这篇文章拿去给支部书记看，要证明一下过去人们对他的态度是不对的，没按毛主席说的办，没有正确处理人民内部矛盾。忽然间形势大变，《人民日报》发表《工人阶级说话了》。我们研究所相邻的大连工学院（如今的大连理工大学）和大连海运学院等高等院校，频频向市委报捷，今天抓出几个右派，明天抓出几个右派，唯独我们所无声无息。我觉得研究人员提几条意见，根本不是什么恶意攻击，更没有要推翻共产党，怎么会是右派呢？周围的好心人不断警告我要赶紧跟上形势，我自己也能清楚地嗅到火药味。逼人的形势让我感到再不开始抓右派，自己就要成右派了。无奈之中，我召集党委会，讨论抓右派的问题。那时我到所里刚刚几个月，什么情况都不了解，经过几次党委会讨论，就决定了右派名单，有研究员彭绍逸等，我知道他们是被冤枉的，这是我一生做过的最大的违心事。以后在形势允许时，我尽自己所能尽快帮他们摘掉右派帽子，诚恳地向他们道歉。右派的名单中没有萧光琰，他暗自庆幸自己没乱说话。当时抓右派是杀鸡给猴看，以一儆百。结果它也确实起到了这样的作用。大跃进开始了到处都是"为生产1070万吨钢而奋斗"的口号。当时我家院子和大连工学院化工楼的后院相通。大学生们用耐火砖在院子里盖了个小高炉，所谓的小高炉比农村的灶台大不了多少，连把铁化掉都不可能，更别说炼制成什么有用的东西了。萧光琰来我家，看着前院的小高炉就问我：炼铁、炼钢不是工厂的事吗？要有专业知识，要有预算，要建厂，炼钢的温度很高，要有特殊设备，怎么能挖个坑就搞全民炼钢？还说：有一天回家，他发现院子门上的门闩没有了，进了家门问保姆，门闩怎么没有了？保姆说，来了一群学生，要找铁锅、铁铲子去炼铁，保姆说锅还要用来做饭呢，学生们就把门闩拆走了。更可笑的是他家阿姨买了新枕头套，他累了一天，想放松一下，刚要躺下，一看枕头套上印着醒目的大字：" 鼓足干劲，力争上游"。他说：这是枕头啊，是让人休息睡觉的，要是躺在枕头上都要鼓足干劲，那人也太紧张了！能不失眠吗？我听了也乐了，觉得往枕头上印口号固然可笑，可萧光琰也太认真了，你视而不见不就行了。很快，大跃进的浪潮也波及到科学界。原来计划三年完成的任务，现在开始用一年、三个月、甚至几个星期来完成。于是接二连三地出"成果"，一有"成果"就敲锣打鼓，连夜到党委报喜。不过以我"外行"的水平，也真是判断不出什么属于真正的"科研成果"，可凭常识就知道三天两头出成果是违反科学规律的，又不能说你们让专家评论评论是不是成果再来报喜。多年"革命经验"告诉我，要维护党的政策，不能打击群众热情，那样就会犯政治错误。不能直截了当地阻止，无形中就起了推波助澜的作用，群众争先恐后地报喜。有一个苏联专家找到我说："白先生，我真不知道你们要把中国的科学事业引向何处去。"萧光琰忍不住对我说：科研工作怎么能这么个搞法？这简直是儿戏嘛，什么叫成果？合成一个化合物的中间体也是成果？科研怎么可能三天两头出成果？科研工作是一个长期的探索过程，要在一个题目上长期下功夫，才有可能有真正成果。反右运动以后，做事情根据政治需要，不讲科学成了我们的特点。有人是真不懂科学，有人懂，却不敢讲反面意见。每场运动，都有一些知识分子紧跟形势，推波助澜。好多著名科学家出来论证，为什么亩产可以万斤，为什么要消灭麻雀，为什么在毛笔帽上刻个洞，接上自来水，就发出能洗碗的自制超声波。组织上要掌握每个人说过什么，想过什么，行为如何，是否忠于共产党。每个人的政治待遇，工作中的升迁，都赖于这种评价，于是千人一腔，万人一面，趋炎附势成为潮流。在中国生长的人，顺应潮流比较容易，可对萧光琰来讲真是很困难！他常常找我讲他的不理解。不过萧光琰还是在努力跟上形势。他带着石油所的年轻人，到大连石油七厂，找到当时的总工程师张迁芳，了解工厂对科研工作的需求，想找到既有理论意义又有使用价值的题目。　　与众不同在那样一个大讲艰苦朴素的年代，萧光琰总是衣冠整洁，头发吹得一丝不乱，戴着金丝眼镜，英气焕发。这使他与众不同。他把美国的工作习惯也搬到中国，工作时要高效严谨，但不认为每天八小时都要高度紧张，必须劳逸结合。他的休息不是悄悄抽只烟，躲到哪里待一会儿，暗自偷点儿懒，而是认真地订出咖啡休息时间，饮茶休息时间。他觉得这是为了养精蓄锐，或在轻松的环境里进行业务交流。可当时的中国，萧光琰的这些做法被认为是典型的资产阶级作风，让很多人看不惯。萧光琰那时生活水准远远高于一般人。他夫妇俩待人真诚热情，家里招待客人，常常是一般人享受不到的橙汁、巧克力。当时对大多数人来讲能吃上水果已经是很奢侈了，萧光琰不仅经常吃水果，而且保留了一些他自己的习惯，有时还用酒精擦水果的皮进行消毒。这些事一经传开，群众中再加以渲染、夸张，就成了典型的资产阶级生活方式。那时所里偏重应用科学。萧光琰觉得有些题目水平不高，便说有些题目根本就不是搞科研，是测试工作。他对别人工作这种过于直率的评价，也让一些科技人员感到不舒服。萧光琰说话有时充满书生气，有时非常幽默。在那个火药味很浓，大家都认真背口号的年代里，他常常被人误解。他家阿姨老是蒸不好馒头，他就当成个科学问题来分析：有两个因素决定馒头是否能发好，一是温度，二是压力。都是用开水蒸馒头，可能温度没问题，那问题就出在压力上。于是他的解决办法是：在笼屉里放一个压力表，控制好压力，馒头肯定能蒸好。这其实是一个书生的玩笑，他从来也没让阿姨真在蒸笼里放压力表。但他说的这些话变成很多人的笑料。那时都是半夜做豆腐，为了新鲜，一大清早卖豆腐的就开始敲梆子叫卖。萧光琰习惯晚上看书，常常睡得很晚，又经常失眠。每天一大早老是被敲梆子声吵醒，很懊恼，就开玩笑说，我真想把所有的豆腐都买下来，这样就不用再敲梆子了。他是用这种方法表示对大清早叫卖的不满，他绝对不可能真去买豆腐，可话一传出来，又成了批判他的把柄。萧光琰喜欢跳舞。他大概觉得我这个年轻的"老干部"太土了，就不仅教我打网球，还希望我在其他方面也有所提高。他说：你应该好好学跳舞，跳舞时既可以听到优美的音乐，又可以活动身体。我那时很活跃，他一提到学跳舞，我也感兴趣。那时到周末,大连市的一些党政领导干部、民主人士都会集中在中苏友谊宾馆，那里可以看电影，可以打乒乓球，跳舞，小小的礼堂里还有文艺节目。萧光琰和他的夫人是一对绝妙的舞伴，每次到了舞厅，当他们夫妇一下场跳，很多人就会停下来看。那时候不管干部当中，还是归国知识分子中都有一些很会跳舞的，但是像萧光琰夫妇跳得这么好的却很少。据说当时高层的干部中，跳舞已经很风行，但在中层干部中还刚刚开始。好多人都在追求着新的生活方式。萧光琰看到我跃跃欲试的样子，就说：你可以和我夫人学跳舞，没关系，她可以教你，只有女的才能教男的跳舞。因为男女的步伐不同。萧光琰还说：你见面时或者告别时可以吻她，或者拥抱她。现在见多了，知道那不过是西方的礼节，可当时我认为很不可思议，从心里知道他和我们有着完全不同的文化。他的"资产阶级生活方式"不过是增加了人们茶余饭后的谈话内容，而他急切地把美国规范的实验室管理方法引入自己的实验室，则直接影响到他和周围一些科技人员的关系。他对下面的科技人员要求十分严格。他曾说：有人做反应，连温度都不记录，这种试验将来不要说别人，就是自己都重复不了。如果不能把实验记录写好，就根本不要浪费这时间和试剂！失败了，找不出原因，成功了，重复不了，这不是完全在作无用功吗？他要求任何试验必须有可重复性，有明确的误差范围。有个人处理试验结果时，在不同的坐标系里把一个数据的位置画错了，萧光琰马上发现，并立即指出，不讲情面。他说科研工作一定要严谨，有时很小的错误就会得出完全不同的结论。他和我说，有些人做实验像炒菜一样，大概地加点酸加点碱，没有严格的定量概念。他在实验室建立了很多"清规戒律"，常常在给每个人挑毛病。这个瓶子要用蒸馏水冲洗，那个反应加试剂后要充分搅拌。结果组里有的人看到他，有些紧张，因为他几乎是永远能发现操作不严格的问题。中国人讲情面，他的做法让很多人不适应。萧光琰打算回中国时，曾在美国收集了很多他认为有用的工具书。他一直认为一个好的科技人员就是会利用图书馆的人。他经常去所里的图书馆，发现图书馆里的书虽然不少，但多已过时，而他带回来的书相对讲更新更有价值，所以他决定把这些书交给图书馆，也可以让更多的人享用到这些前沿知识。图书馆的人很高兴，就说你把书拿来吧，我们会折价给你一些钱。这完全是客气话，人家并没有认为接受图书还要给钱，当时有"中国特色"的表现应该是毅然决然地拒绝收钱，并表示贡献给国家是最大的快乐。可他径直说：你们看着办吧，象征性地给点就行。美国书非常贵，他当之无愧地接受了他认为是象征性的回报。因为萧光琰捐献的书和资料很多，结果用他捐的书又建立了一个小小的图书馆。人们可以更经常、更容易地去翻阅那些图书资料，看到那么多人去翻阅他带来的书，萧光琰由衷地感到欣慰。他根本不知道别人对此事另有看法。1958年，萧光琰所在的"催化过程研究室"要迁到兰州，那里的条件当然远不如大连。萧光琰根本不认为要"哪里艰苦哪安家"，而是"哪里科研条件好，哪里能搞我的催化剂，哪安家"，他要求留在大连。所里研究以后同意萧光琰留在大连。别人认为这是对他的照顾，他认为这是理所应当的。有些科学家比较容易被公众接受，被社会认同。也有好多科学家有些特定的素质和癖好，他们对化学结构的识别迅速、敏锐，但对人事关系却迟钝、木讷。萧光琰属于后者。他拒绝所有的空话和大话，也不想和不喜欢的人一起假笑。搞政治越中庸越好，越能符合大多数人的想法越好，可搞科学是越能标新立异，越能超逾常人的想法越可能有突破。很多有成就的科学家都是科学怪人。当时著名数学家陈景润也在我们大化所。有人回忆："与陈景润同住在一个房间的转业干部，有一次大大咧咧拿他的一盒香烟抽。这件事把陈景润吓坏了，第二天他马上向团总支书记刘宗海汇报，并指出怎么可以不经本人同意，随便拿别人的香烟抽呢？这是一种不道德和偷窃行为，请求组织上对此事严肃处理。"可以想象，陈景润是不善于和人打交道的。问题是一个社会不能只让中规中矩的人发挥作用，社会和大众越宽容，越有包容性，越能造就更多的有特长的优秀人才，包括科学家。　　再受伤害反右斗争、大跃进之后，新的一轮政治运动又开始了。叫"拔白旗，插红旗"。反右斗争中萧光琰没被打成右派，这次运动中他成了靶子，因为他从没被信任过的回国动机，因为他严肃的工作态度，因为他无法改变的"资产阶级"生活习惯。他这些有懈可击的特点给每一个热爱党的人一个表现自己的机会。大字报铺天盖地：批判他学阀作风，在研究工作中不能平等待人，主奴关系，要求苛刻，经常训斥助理人员；批判他养尊处优的生活方式，爱跳舞，喜欢音乐，醉心于贵族运动----网球。有的大字报写：你拿着高额工资，几年来没有任何成果，你执行的是挂羊头卖狗肉、唯有理论高的白旗路线。他接受捐书的钱是资产阶级思想的集中体现，很多人认为他是小气鬼，说这是典型的资产阶级的贪婪，甚至说他是奸商。萧光琰气坏了，他找到我说：我哪里知道中国的规矩，不是等价，更不是盈利，而是象征性的收点钱，怎么就成了奸商？在美国好朋友之间，甚至父子一同去吃饭，都经常自己付自己的款......中国人卖破烂不是也收钱吗？怎么我给图书馆真正有价值的书都不可以收钱？你想我在美国买了书，运到中国，送到图书馆，而且都是工作急需的，这完全是象征性的收钱，比我真正应该得的少多了。再说，当时我也没说要钱，我怎么知道他们一方面要给我钱，一方面希望我说不要钱呢？他们觉得我不该拿钱就不要问我。要给我钱，我同意了，怎么就是资产阶级思想？于情于理都不通啊。我很理解萧光琰的心情，只能劝慰他想开些。我已经忘了和他具体的讲些什么，现在想来一定是些十分苍白无力的话。因为群众也没什么不对的，按当时党的教育，从来没有让不同思想行为的人互相宽容。萧光琰迎来了新的一年。新年晚会上有一个节目是活报剧，使用侮辱性语言和动作，把萧光琰搞成小丑模样，把他说过的一些话，做过的一些事儿夸大并加以嘲笑。这种嘲弄和侮辱是任何人都难以承受的。他忍无可忍地说：我这样的人，如果人格被伤了，改造就慢了。可人们认为对资产阶级的侮辱和嘲笑是革命行动。　　他有一个幸福的家虽然各种运动不停，我和萧光琰仍然一起打球，两家仍然经常来往。各种批判和人身侮辱使他越来越无所适从，刚回国时的热情和自信渐渐消退。他和我讲他的委屈，有时甚至流下眼泪。可贵的是他仍然念念不忘他的催化剂，不厌其烦地给我讲他在科研上的思路，想让我共享他对催化剂开发和应用的设想。我从心里理解和同情他，可我只能谨慎地用我自己的方式尊重和保护他。真正给萧光琰生活的力量和勇气的是他的家。他有一个和睦家庭。他自己爱好广泛，对夫人非常体贴。夫人甄素辉不仅长得漂亮，而且气质高雅，文静宽厚。他们的女儿小洛洛胖乎乎的，一头卷发，聪明天真，又极有教养。那时候萧光琰到我家，每次来都带着他的夫人和宝贝女儿洛洛。我的孩子比洛洛大几岁，他们在一起总是玩儿得很高兴。（图片说明：儿时的萧洛莲 。）他的夫人当时天天挤公共汽车到大连海运学院去教英文，可是她从不抱怨，完全是一副随遇而安的态度。在我家里，我和萧光琰谈话时，他夫人从来不插嘴，如果我有事情问甄素辉，她总是就事论事地回答（不太流利的中文），从不多说。她非常爱丈夫，坦然地接受着现实。回国十年了，萧光琰知道妻子承受委屈的能力远远超过自己，每次遇到不如意的事情，夫人都静静地让他倾吐，然后用女人的柔顺和坚韧来安慰解脱。她对萧光琰照顾得无微不至。当天气骤然变冷时，她会变出一件毛衣，而萧光琰就像听话的孩子，把毛衣穿上。你觉得他们之间非常和谐温馨。萧光琰对夫人的关爱无处不在。他会先走一步去给夫人开门，进了门如果夫人要脱外衣，他马上从后面把衣服拿好，出门前他会先一步把夫人的外衣撑开，帮夫人穿上。有西方"妇女先行"的君子风度。他和夫人说话也非常客气，从来没有中国男人对待"屋里的"那种命令式。我看到这些，觉得很新鲜，也很欣赏。萧光琰和洛洛讨论功课，做游戏。洛洛很争气，从上学就是个品学兼优的好学生。那时候我家里养了一盆君子兰，正值盛开之际，洛洛的可爱激起了我的艺术灵感。我叫她坐在君子兰前面，要给她照相。萧光琰竟然认真地问六七岁的女儿，你说坐在花的旁边好还是坐在花的后面好？洛洛有自己的主意，坐在花的旁边，眼睛看着花，我给她照了一张我自己很满意的艺术照，可惜在动乱中丢失了。前几天，女儿打电话高兴地说，无意中，她发现了一张一寸的小照片，是我家三个小孩与洛洛的合影。洛洛举着小手，乐呵呵地招呼人。（图片说明：我家的三个孩子和快乐的小洛洛（前）。摄于大连工学院化工系的后院，时间约在1960年，后面的房子是我家。这个院子曾盖起小高炉炼铁。）有了这个给萧光琰安慰和幸福的家，不管外界的形势如何，他都努力保持积极的生活态度。不仅永远注重自己的仪表，家里也布置得极具艺术感。当外界的压力越来越大时，萧光琰所有的欢乐越来越寄托在自己温暖的小家里，寄托在孩子身上。接触过他的人，都知道他是一个好丈夫，是一个好父亲。他说有这么可爱的女儿，有这么漂亮温顺的妻子，还图什么呢？　　两极对话我和萧光琰的经历、背景完全不同，很多观点也不同，进行的常常是两极对话。其实这些不同，开阔了我的眼界，向他学了很多东西。他常说：工作和娱乐之间要有个平衡，只会工作，不讲究一点娱乐和享受，也是人生的遗憾。人追求的不是工作的完美，而是人生的完美。他对别人批判他爱打球、爱跳舞大惑不解，他问我人如果不会休息和娱乐，工作有什么意义呢？工作不就是为了人们更好的休息和娱乐吗？那个年代，很多科技人员都想入团、入党，一些研究人员非常注意搞好群众关系，争着做收拾卫生、打热水之类的事，群众的反映不错。可萧光琰不仅从来不做扫地清洁这些事，还说这应该是清洁工的事。我对他说：为了给自己创造一个好的工作环境，你得入乡随俗，随大流，不能轻易得罪周围的人，对下属的科技人员的要求不能太高，更不能为了工作上的事发脾气。脾气倔强的人常常质地脆弱，愿望达不到还毁了自己。要有点儿遇水则柔，遇铁则钢的韧性。有人觉得你有博士架子，那你以后做事就注意点群众影响，比如多和工人打招呼，帮助清理卫生，和工人打成一片。他会很奇怪地问：为什么？萧光琰的动手能力很强，为了试验，他能自己吹出各种试验用的精密玻璃仪器，还经常教工人一些吹玻璃的特殊技巧，老玻璃工都很佩服他。他说那是工作需要，我可以做。可我的工资比一般工人高很多，让我总和工人打成一片，去干工人的活，那不是浪费吗？人是有分工的。虽然他知道自己得到了不少物质上的照顾，可这些并不能改变一个有责任心的优秀知识分子心灵中的某些遗憾，他一直认为中国人的思想方法应该改变，最近看到有文章提到他曾写信给妹妹说："我曾经为党对领导科学缺乏经验而造成的一些缺点和损失而痛惜过，但是，我相信党的领导会从经验中逐渐懂得领导科学工作的规律。缺点是暂时的。一个科学工作者的责任，就是尽力帮助党了解科学工作的特点和规律。"从这些话里可以看到他的一片真诚。我想他当时与我的很多谈话，是希望我这个难得的知己能冲破思想束缚，更好地理解科研工作规律。中国文化叫人隐讳的保护自己，"病从口入，祸从口出"，"冤家宜解不易结"，"好汉不吃眼前亏"，"多一事不如少一事"。这些道理却很难让从小生长在美国的萧光琰明白或接受。而他的很多观念，对我来讲也很生疏，很难解，有些我也是经过很长时间才理解。成年累月，在强烈的政治氛围中，萧光琰已经逐渐失去了自我，他也认为自己应该接受改造了。那么多人都说党是对的，在这巨大的多数面前，他感到必须怀疑自己，否定自己，可他又觉得，怎么可能所有的人都一样，让一个人完全变成另一个人？如果没有能独立思考的个人，社会能发展吗？科学家即使已经尽量感受和运用自由的力量，思维也还是在种种习惯的束缚中，如果每天接受各种框框，必须往东想或往西想，能有突破吗？"拔白旗"运动更拉开了他和周围人的距离。他不再轻易发表不同意见，改变了刚回国时，一有想不通的问题，就要打报告，要说清楚的态度。现在想来，他经常对我诉说他对现实的不解和无奈，有些是很有道理的，他也希望从我这里得到更多的理解和支持。作为一个基层领导，我已经习惯了和党步调一致，对他的想法，不敢做深入思考，只是想让环境尽量减少对他的伤害，让他学会保护自己。可我们的私人友情无法改变大环境。我在承担一个基层领导的责任，要对自己的行为后果负责，从不敢和他说得太深。这种有所保留的交往虽然温热过他因不断的运动而灰冷的心，但却无法解除他的痛苦和迷茫，无法改变他的命运。有些时候，理解一个人就是创造一个人，可惜在那个时代自己也怕犯政治错误，有些事情即使知道他说得对，也不敢给予大胆支持，潜意识当中，也在适应环境保护自己。所以直到现在，作为一个被萧光琰真诚信任的朋友，我一直觉得很对不起他。　　我被停职反省即使我很谨慎，也没保住自己，更没保护好很多需要保护的知识分子。不久我自己也成了在党内被批判的对象。因为我的很多想法与那个时代不一致，同时也有很多非常个人化的因素。大跃进运动之后，从轻工业部调来了大连市委新书记。他的夫人原来是国家石油局的副局长，调到石油研究所任党委副书记。我那时老是觉得自己水平不够，心想从石油局来的人，水平一定比我高，正好科学院党组书记张劲夫来石油所，我就主动提出让她担任党委书记，我担任党委副书记。科学院党委经过研究，同意了我的要求。新书记工作努力，但正襟危坐，常用独得天下真理的样子去教训别人。知识分子不太吃这一套，所里的很多人有事不去找她汇报，而老是来找我谈。群众对她的不满，在她那里就转化成对我的不满。她给我的工作设置障碍，甚至不让我到北京去参加我应该出席的科学院的会议。开始我还是很想迁就她，但是有太多的观点不一致，我对知识分子的爱护被认为立场站在"没有改造好的知识分子"一边。她是一个坚定的左派。我们之间的矛盾越来越大，市委只好派统战部的人来调查。统战部的人在石油所召集了会议，听取各方面的意见，奇怪的是竟然所有的人异口同声，认为责任在她，不在我，所有的人都为我说话。她继续呆在石油所已经毫无意义，只好把她调走。我又恢复了正书记的职务。后来她连续换了几次工作，都搞不好关系。我那时还不知道，她的走，其实已经为我自己种下了未来挨整的种子。1959年庐山会议，彭德怀被批判以后，党内开始了"反对右倾机会主义运动"，我成了在劫难逃的被批判对象。大跃进之后，市场物品紧缺，货架上往往是空的。我家阿姨到市场买不到菜，回家说：外面到处是标语，搞除四害，搞六无六净（已经不记得其定义），搞什么六无六净，大连市场的货架子上才是六无六净，什么都没有。我觉得阿姨形容得很形象，就在党内的会上说了。综观我对"资产阶级知识分子"斗争不力，妥协退让，加上"六无六净"的"右倾言论"，市委领导就把我定成"右倾机会主义分子"。大连市委让我停职反省，每天在家写检查。当时整我的势头很大，我心里清楚这里的内在起因：得罪了市委书记夫人。虽然心中无愧，失去工作，停职在家写检查，也还是有很大精神压力。在自己对党的事业充满热情的不惑之年，无端挨整，使我对于"右派"、"白旗"被整的心态滋味，对萧光琰和其他在运动中挨整的人有了更多的理解。更加了解了在由上而下的政治漩涡里，人们对自己的命运是何等地无能为力！表面上每个人的批判都是从革命事业，党的利益出发，其实政治清算背后，掺杂了数不清的个人恩怨，好多人是利用把自己装扮得大公无私来悄悄地获得私利。我被停职这段时间里，没再去打网球，和萧光琰在一段时间里就没有了多少联系。　　又见光明当我的"右倾机会主义分子"报到省委以后，省里派人下来调查，发现实在是没有什么事实，下面的人都替我说话，所以就决定不给我戴帽子，只算是有"右倾机会主义错误"。大约在家里呆了半年以后，恢复了我的职务。这次停职反省，使本来个性不强的我变得更加谨慎。我恢复工作以后，很珍惜工作机会，和张大煜所长的配合也愈加默契，一心想把研究所搞好。张大煜长在中国，到德国留学四年，基本上接受的是中国文化。他工资很高，可十分节约。工作中他个性随和，能变通顺应，迂回解决问题，逆境也在他身上留下印记，却不会留下难以弥合的创伤。张大煜勤奋刻苦，对化学领域里的科学前沿非常熟悉，在研究方向和选题上很有前瞻性，广招人才，尊重人才，知人善任。除了研究学问以外，他没有很多其它的个人爱好，全部身心都投入到科研工作中。是个典型的中国式的优秀知识分子。大化所至今能在很多领域里保持领先的学术地位，张大煜功不可没，是一个经得起时代考验的科学奠基人。当时张大煜有很多想法，他曾提出把"大连石油研究所"的名字改成"大连化学物理研究所"，从名字上就不再是完全搞实用科学，科学家们可以更放心大胆地选择自己感兴趣的题目，我给与全力支持。这在当时对科学家是一个很大的鼓舞。那时我受科学家们的熏陶，产生了一个基本思想，就是科研工作一方面要有明确的学科方向，这样在基础理论上才能有突破，真正推动科学事业；另一方面，必须有结合实际的题目和项目，这样科技人员才会更直接地看到自己社会价值，产生更大的科研热情。我和张大煜交流了这些想法，决定和一些技术骨干进行更深入的讨论。于是1962年大连化物所在青岛开了一次会议，解决大化所科学研究的大方向问题。这就是对大化所的未来有重大影响的"青岛会议"。这次会上，我们还明确提出要培养年轻人。在科学领域里，很多重大发现都出自年轻人。当时选了10个年轻科学家作为技术骨干和重点培养对象（他们中有六个后来当了科学院院士），提供了必要的人员和设备，让青年科学家放手干。同时确定了党政工作人员要为科研人员服务的指导思想。那时从上到下还是提倡自我批评。所里进行了"解疙瘩"等拨乱反正的活动，对反右派，拔白旗，反右倾中的一些过火做法进行纠偏，运动中有些有过激言行的人还诚心诚意地向萧光琰赔礼道歉。我也很真诚地向在过去的运动中挨整的人道歉，当然包括萧光琰，希望他们不计较运动中的过火行动。萧光琰很兴奋。萧光琰是个不掩饰自己情绪的人。当他感到作为一个人受到应有的尊重后，心情十分愉快。他又开始常常邀请一些年轻人到他的家里，用水果、点心和糖款待他们，和他们谈工作，谈学习。他请年轻人教他夫人学中文，让他夫人教年轻人学英文。看到有的年轻人的英文不好，买来英文小字典送给他们，让他们多背多记一些单词。他认为做科研前提是掌握信息，要掌握信息必须学好英文。他努力用实际行动改变和周围的关系，有时是有意识的，有时则是无意识的。人总是会被潮流裹挟的，萧光琰在慢慢地改变自己，试着融入这个社会。在这段时间里没有什么运动，萧光琰的失眠也奇迹般地好了。心情的舒畅使他恢复了科研热情，产生了很多创造性的思维，又开始专注地搞他的催化剂。当他读到很多生物酶的催化作用时，立即联想到化学催化剂，想到是否可以把一些生物酶用于体外的生物或化学反应。这个想法，使他很激动。当时在大化所没有搞生物催化剂的条件，当他知道青岛海洋生物研究所有可能进行这方面的工作时，就要求兼任那里的研究员，以满足他对催化剂事业的追求。最近几十年，新的生物催化剂----各种酶----不断被发现，成为现代生物化学的重要领域。在日常生活中，酶也有了愈来愈广泛的应用，例如用蛋白酶或脂肪酶清理下水管道，大量的工业污水处理，等等。这证明萧光琰在六十年代初对未来的学科方向看得非常准，相当有预见性。在这种宽松的环境中，萧光琰焕发出极大的科研热情和聪明才智，他努力工作，这期间完成了很多论文。1964年大化所承担国家急需的"大庆中油加氢裂化制取航空煤油和低凝柴油"的课题攻关任务，萧光琰为催化剂最后研制成功作出了重要贡献。他的工作成绩很快得到了肯定。不久他当了侨联的副主席。1964年大化所成立了三室，他当了室主任。那时他曾经找到我，说他想见一见已经十年没见面的哥哥，如果他哥哥不能来中国见面，是否可以到香港见面？他希望他的哥哥也能来中国工作（他哥哥当时在美国的保密单位任职）。我当时听了，很感动。在历尽人世沧桑的今天，我觉得他在多次挨整之后，还想让他的哥哥也来中国工作，太天真了。1964年末，我离开大化所到北京中国科学院化学研究所工作。那时候的通讯条件和现在没法比，此后，和萧光琰的直接来往就很少了，只是从到北京开会、办事的人那里听到些零星的情况。文化大革命开始1966年，文化大革命时中国人和人之间的相互伤害，走向极点。我很快就成了人人喊打的过街老鼠，每天挨斗。我经常被拉出去游街。一次造反派把我拉到街上时，给我挂个大牌子，我们手里还拿着盆，拿着棍，一边敲一边跟着喊打倒自己。人群中的女儿看到了我，我心中嘀咕着回家怎么向他们解释。回家后夫人、孩子像迎接"英雄凯旋"一样，准备了好饭好菜，想用这种办法安慰我，我知道瞒也瞒不住干脆直话直说，"今天我被游街了，给我挂个大牌子，写着'打倒铁杆保皇派白介夫'，不过我一看，旁边那人挂的牌子上写的是'打倒钢杆保皇派×××'，心里想，还有比我硬的呢！"全家大笑起来。另一次斗争会上，造反派给我带了顶常见的很高很尖的纸帽子。不知谁想出来新花样，给我旁边那个挨斗的人戴了顶老戏里县官戴的帽子。两边有两个大耳朵，斗他时一按他的头，两个大耳朵就跟着一煽一煽的，我看着觉得很可笑，虽然在挨斗，心情并不坏。这时候，突然有个造反派党委副书记，年纪比我还大，上台狠狠煽了我两巴掌，以表现他的革命精神。那时有很多这样的人。人有群胆没有孤胆。那时候被打倒的人很多，心里不太紧张。在挨斗时，周围很多人，特别是所里的工人对我仍然特别好。一次斗争会上，造反派把我按到地上跪下。这时一个外号叫唐二愣的工人，对着造反派大叫了一声："别让他跪着，他跪着也比你们站着高。"我当时心里真是感动。唐二愣马上也进了专政队，他出身好，什么也不怕，造反派拿他一点办法也没有。不久，造反派让我收拾东西，我知道以后就不许我回家了。那时候周围已经有不少人自杀，包括我的好朋友王志华（科学院的副秘书长）。我曾参加抗日，有跟着共产党打天下的历史背景，记得当群众敲锣打鼓开除我党籍的时候，我很自信地对家人说，如果我被开除，那百分之九十的人都得被开除。我长期做人的工作，知道怎样在尽量不伤害别人的情况下保护自己，本身性格也比较平和，不很激烈，总是相信这种情况会改变。这些因素都使我对文化大革命的猛烈冲击有较强的耐受力，即使这样，有时候我也觉得很难熬，很理解人为什么会想到自杀。我被关在专政队时，常常会想到过去在一起的同事都怎么样了？我常常想到萧光琰，很为他担心。萧光琰的历史背景不能给他任何保护，他的思想行为和当时的社会有如此之多的格格不入，他性情急躁，有人说他像个玻璃制品，透明，坚硬，很容易破碎。他夫人中国话都讲不流利，他们一家怎么度过这场灾难？他们挺得住吗？我被放出来不久，就听说了萧光琰的遭遇。我这么不爱激动的人，却久久地，久久地不能平静下来。走向深渊根据我对萧光琰的了解，和他周围人陆陆续续的述说，他生活的最后片断，在我面前一幕一幕地闪现。文化大革命开始以后，萧光琰像当时中国无数的臭老九一样，成了被打倒的对象。他家也像我家一样，挤进其他几家人。住进来的人要共用厨房、厕所。这对很习惯保护隐私的萧光琰来讲，是太不习惯了，突然，你的一举一动都在别人的监视之下。他和他夫人本来就不太会做饭，这时候几家人挤在一个厨房，常常没有空间轮上他们做饭。在外面挨了批斗回家，只能喝口水，吃几块饼干。周围的人都有高度的革命警惕性和自我保护意识，对他们一家人都唯恐避之不及，谁也不敢理他们，冷眼和歧视包围着他们。"资产阶级知识分子"的帽子，以及过去那些对他生活作风、工作作风的批判已经太不够分量了。文化大革命形成了一个最专制同时也是最自由的空间，只要你出身好，或暂时属于"革命群众"，那你就可以发挥自己最丰富的想像力去臆测别人的心理，去给别人扣帽子。所里的大字报又再次推断萧光琰回中国是想当特务。尽管萧光琰想努力适应中国的环境，到头来还只能当个反面教员。他回中国以后除了给哥哥写写信，从没和其他在国外的人来往过，他心里清楚自己不是特务。至于其它问题，其实大多是学术问题，因为接受了一套美国实验室和公司的管理方法，在中国不适用，因此得罪了一些人。自己原本不参与政治，与人无争，与世无争，哪里有能力去反党。文革开始时，萧光琰还能承受。起码他每天还能回家。洛洛生在中国，文革开始时她只有十四岁，当时学校里开始把同学分成"黑五类，红五类"，她当然属于"黑五类"，压力很大。因此也清楚地感到爸爸的心理压力。萧光琰一家一直在互相安慰，互相支持，盼望情况起变化。一年过去了，两年过去了，他们全家都挺住了。可形势愈加恶化。工宣队又进驻了大化所。萧光琰意识到，自己遇到比以往更大的危机。工宣队有个人老是戴着八角帽，大家都叫他"八角帽"，是大连电磁场的工人。态度很凶狠，动辄就动手打人。1968年10月5日，工宣队派人把萧光琰抓进"牛棚"，与其他牛鬼蛇神集中在一起。同时，抄了萧光琰的家。抄走了他家一切值钱的财物，其中包括甄素辉父亲给她留下的家传的戒指（有人说是孙中山送给她家的）。在中国这个环境中，萧光琰特殊的经历，使他比一般人更依赖他的家，突然进了专政队，离开了夫人，离开了女儿，他感到失去了一切。前面一片黑暗。人们在努力证明他是特务，不管有没有根据。工宣队希望工作有成绩，能抓出美国特务，在当时多荣耀啊。于是萧光琰被搞成有背景、有组织的特务机构的成员。人们不去追究这特务是真是假。当时所谓"打击一小撮，保护一大片。"其实是"打击一小撮，吓倒一大片。"大多数群众是顺应潮流的，也形成一种可怕的力量。"八角帽"的功劳越来越大。在他眼里，对资产阶级知识分子，怎么"教育"都不过分，他们没有什么功劳，却过着比工人好得多的生活。他们用当地人发"博士"的谐音给萧光琰起了个外号叫"白屎"。从萧光琰的交代里得不到更多的特务活动信息，为了扩大战果，有人开始动武，特别是"八角帽"，认为这样才可能让他彻底交待问题。每天拳打脚踢，甚至用"三角带"这种特制的刑具来鞭打。严厉的、无休止的"审讯"周而复始：你在美国挣那么多钱，生活那么好，为什么回到中国?你能把美国的资料弄到中国来，一定也能把中国的资料弄到美国去，你为美帝国主义搞了多少情报？萧光琰不断地写检查，写揭发材料，回答他永远找不到答案的问题。他写出来的东西不能让工宣队满意，他们需要的是有轰动效果的揭发材料。他们逼他一遍遍地写。四顾无援，遍体鳞伤的他，在经历了世道人心，生死荣辱之后，心如死灰。刚归国的时候受到怀疑，五年，十年还在怀疑，回国服务快二十年了，还在怀疑。他面对着一个他无法理解、也无法理解他的世界。1968年12月6日，工宣队的"八角帽"又对萧光琰进行体罚。他精神特别坏，喃喃自语："共产党的政策是给出路的......"在这段时间里，他一定反复想过自己的出路，寻找过生存下去的理由。可是，他看不到出路。他不想连累家人，不想辜负甄素辉的感情，更不想对不起孩子。最好的办法就是什么也不留下，让他们更容易划清界限。这几乎是文革中自杀的人的共同特点，要么不留遗嘱，要么留遗嘱把自己大骂一顿，为的是不牵连家人。12月11日晨，当专政队员喝令"牛鬼蛇神"起床时，萧光琰终于不必再爬起来，面对这个丑恶的世界了。验尸结果：服过量安眠药----巴比妥自杀。他走了，带着满身的伤痕。他刚刚四十八岁。这是"八角帽"没有想到的，也是工宣队的头头没有想到的。他们不知道灵魂高贵的人往往脆弱。据说工宣队也感到紧张，他们加紧搜查了每个被专政的人，防止再有"畏罪自杀"的。可见他们知道把人逼上绝路是错误的。但工宣队同时宣布这是阶级敌人走投无路时的选择，是无产阶级专政的伟大胜利。工宣队的人贴出了"特大喜讯"晓喻全科学院，决定"乘胜前进，深挖一切阶级敌人"。他们确实取得了伟大成果。由大连化学物理所，大连海运学院，大连运输公司、大连妇产医院组成了联合专案组，并命名编号，把以萧光琰为中心的(三○一)特务集团案列为重点大案，进行紧张的内查外调，株连所及达十一个单位二十六人，其中包括和萧光琰交换过热带鱼的老理发员，以至给萧博士打过针的护士。当然，他们说这是"清队的重大收获"，"毛泽东思想的伟大胜利"。但可惜的是，任你怎样政策攻心，棍棒启口，硬是搞不到一点像样的证据。所以，"三○一"一案实质上毫无结果，以至不了了之。可恶的是，"专政队"的暴徒及其幕后指使人的功劳却不减。大连化学物理所已经得到上级的重视，不久，他们就成为毛远新亲自抓的典型，作为"工人阶级占领科研部门"的活样板，把他们的'经验'赫然发表在《人民日报》上。　　九泉相会在萧光琰已经长眠不醒时，甄素辉正在营城子农场劳动改造。当天下午大化所工宣队的人把她叫到大化所。严肃地宣布："反革命特务分子萧光琰畏罪自杀，他的问题是敌我性质的。你要继续交待。"甄素辉异常安静。她甚至失去了女人痛哭的本能。她看着丈夫的遗体，提出了任何人都没法拒绝的要求：准许她请两天假，回家照料多日不见的孩子，她的请求被批准。她当天就回家了。自从他们夫妇俩被关起来，十四岁的洛洛就开始孤身一人，无人照料。甄素辉天性柔弱，却善解人意，在萧光琰心情恶劣时，她总是轻声细语地给他安慰。她外圆内方，有自己生活的原则，做人的原则。萧光琰多次挨批判，甄素辉永远站在他身边。可是萧光琰悄悄地走了，没留下一句话。出于母亲的本能，甄素辉不能不想，如果她随萧光琰走，洛洛怎么办？洛洛没有成熟到能像成人一样为自己负责，又不是幼稚的不懂事的小孩子，我想甄素辉一定和女儿进行过一场世界上最艰难的谈话，进行了外人无法判断的生死抉择。洛洛曾把自己的一张照片留给了同学，小小的孩子在照片背面工工整整地写着：永久的纪念。看来她对一切是有准备的。甄素辉和洛洛一起包了饺子，一起吃了饺子。几天后，当人们发现她们的尸体时，母女俩紧紧地相拥，凄然地告别了这个世界。多少年来洛洛可爱的样子一直在我面前晃动，无法忘却的可爱、弱小与无辜！刚刚十六岁，正值对未来充满美好幻想的花样年华。我也一直想为什么甄素辉能作出这样的选择？唯一的解释是她心中充满太深切的爱与太彻底的绝望！据说周总理知道了这件事，而且亲自过问，追究责任。当年毒打萧光琰的"八角帽"和工宣队的头头都受到了处罚。我不能说萧光琰是一个没有弱点的人，但我可以说，我自己，我周围的很多人，愧对萧光琰的赤子之心，愧对萧光琰对我们党、我们国家、和对我们的信任。他曾怀着怎样的热情踏上这片土地，又怀着怎样的绝望无声离去？历尽凄风苦雨之后，他的一家竟选择了这样的方法驶进人生避风的港湾，这成为我心中永远的痛。　　愧对萧光琰的亲人文化大革命结束不久，萧光琰的哥哥萧光灏从美国回到中国，他要求和我见面。我当时很奇怪，他为什么要见我呢？萧光琰去世时，我离开大化所已经三年多了。我的印象中，他的哥哥应该比我大几岁，但看上去挺年轻。他一下失去几个亲人，却仍不失其温和善良。见到他，我除了寒暄，竟一句话也讲不出来，心中涌起的全部是难过和惭愧。萧光灏话还没开始，已是老泪纵横。他说他很后悔，那时候萧光琰多次写信想见见他，来中国也可以，到香港见面也可以，他对中国的一些情况也有所闻，但自己的工作放不下，一直没回来。总以为都还年轻，将来见面的机会很多。实在没想到此生不能再见。每当想到这里，他就觉得没有尽到当哥哥的责任，萧光琰一定是有难处才多次写信想见他。可萧光琰在信里从没讲过他的真实处境。他怪罪自己为什么就没早一点儿想到呢。文化大革命一开始，美国也有报道，那时能设想萧光琰的处境，可已经无法联系，现在来了，可是太晚了！什么也不能为他做了。萧光灏说他很早以前就从光琰的信中知道，我和萧光琰关系很好，给了他很多关照和帮助，他这次来一个是想看看弟弟、妹妹生活过的环境，看看他们走过的街道，他们工作过的地方，做点生者还能为他们做的事；另外就是想来看看萧光琰的朋友，也表示一点谢意。他说萧光琰在回中国这段时间里，除了家庭之外，总还尝到了一些人间温暖。不是指责，不是声讨和愤怒，而是感谢，这是我万万没想到的。作为一个基层领导，其实很多批判打击萧光琰的运动都是我领导的。虽然有很多都是不得已而为之，但这毕竟有一份我的责任。听到这里我实在有些听不下去了。我很想说"对不起"。我不记得当时我都对他说了些什么，可我记得自己历经劫难，刚刚在走上坡路，还心有余悸。当时文化大革命刚刚结束，心中有再多的不满也不敢否定文化大革命，不敢否定任何一次政治运动。我不想去说空话大话，也不敢说出自己真正想说的话，那种惶惑和尴尬的心境至今记忆犹新。听说他来中国还有一件事，就是想找到当时孙中山送的那个戒指，对他来讲，这个戒指有太多的纪念意义。后来调查，这个戒指被当时抄萧光琰家的人卖了，最后也没有找到。现在的中国我以为可以讲真话了，可是与萧光灏天各一方，也许我们永远失去了交谈的机会。我已经八十多岁，一直坚持打网球，挥拍之间，我常常想到萧光琰，想到他说要练好基本功，想到我们曾经的友谊。到现在我也打听不到萧光琰一家的骨灰在哪里。这样一个和睦的家，以这样惨烈的形式写下了这样的悲剧，是我们民族的不幸。那个荒诞的岁月的形成，应该反省的不仅仅是上层领导，也包括我们基层领导。每一层人，包括我自己，都有一份责任。萧光灏也快九十岁了，我希望他能知道，我们没有忘记萧光琰，没有忘记这个充满爱国热情的科学家的毅然选择，没有忘记他对中国石油工业的贡献，没有忘记我们给他造成的致命伤害。历史常常会以不同的形式重演。我期盼"萧光琰"式的家庭悲剧不以任何方式再现。我们急需建立起有效的监督机制，不靠英雄人物来扭转乾坤，使这个国家即使有错误，也行而不远。我们也要完善我们的文化，增强其包容性，容纳不同的习俗及思维方式。不能从苦难中汲取教训的民族，一定是没有前途的民族。　　（注：我年事已高，记忆会有很多的不准确和疏漏，可自己已经没有精力去找人核实。若有当事人了解更详细、准确的情况，我希望本文有机会得到补充和修改。文章大概成稿后，让女儿去大连，找当年与萧光琰共事的人核实和补充了一些情况，他们是陈庆道、李文钊、刘宗海、陈怡萱。另外关力、刘秋荣、杨海平对本文进行了一些文字修改，在此一并表示感谢。）=====================萧光琰简历福建省福州市人，出身于民族资产阶级家庭，1920年出生于日本，后移居美国。1942年5月，他以优异的成绩毕业于美国坡蒙那大学化学系。1945年12月毕业于美国芝加哥大学研究院，曾专攻物理化学，获得化学博士学位。1946年任芝加哥大学化学系助理研究员。1947年任芝加哥大学冶金研究所研究员，1947年8月任美国美孚石油公司化学师。1949年秋天，他参加了在美国的"中国科学工作者协会"、"中国学生基督协会"等组织的活动。产生了回到祖国的愿望。他给中国高教部写了一封信，询问祖国石油工业需要什么技术资料，他决心为祖国的石油工业搞到一批技术资料，奉献给人民。此後，他花了几千美元购买了翻印器材，日以继夜地搜集、翻印和整理他认为祖国需要的资料。1950年11月，萧光琰向他久居的美国告别，几经周折，通过转道香港，终於投入了祖国的怀抱。後来，他到了大连化学物理研究所，担任研究员。1968年的"清理阶级队伍运动"中，他被关押，在连续残酷殴打后，12月11日晨服用过量安眠药--巴比妥自杀身亡。终年48岁。二天后的12月13日，他的妻子甄素辉和15岁的女儿萧络连被发现一起自杀。邻居一直不见这家人的任何动静，敲门也不应，把门弄开，看到的是：母女双双躺在双人床上，盖著被，母亲紧紧地搂著女儿，他们早巳停止了呼吸。经检验，认定是服过量巴比妥致死。（ 摘自《荒诞岁月奇闻录：共和国档案记录》，张湘霖编，北岳文艺出版社，1993）=======================美国总统George W. Bush在"共产主义受难者纪念碑"揭幕仪式上的讲话（摘录）2007年6月12日20世纪将被作为人类历史上死亡最惨重的世纪载入史册。极权共产主义，这一意识形态夺走了估计高达1亿无辜的男人、女人和孩子的生命。我们对那些死难者负有义务，去铭刻他们的生命，尊崇对他们的记忆。共产主义政权不仅夺走了受难者的生命，还企图盗窃死难者的人性，抹杀对他们的记忆。我们活着的人要恢复受害者的人性，恢复对他们的记忆。我们记述了那些无辜的无名受难者，他们活在我们的心中，他们再也不会被遗忘！我们有义务为未来子孙记录下20世纪的罪行，并保证未来不再重蹈覆辙。在这个神圣的地方，我们回顾冷战的重大教训，那就是：自由是宝贵的，不可随意被剥夺；邪恶是真实的，必须被反抗；如果再有机会，那些在冷酷和憎恨驱使下的家伙还会犯下磬竹难书的罪行，夺走成千上万人的生命。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2009年3月15日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（60条）                                                                                                    扫地老僧 说：                                                        现在的tg确实进步了，言必称生存权， 在他们看来让我们活着已经是莫大的恩惠                           2009年3月15日 16:03 | # | 引用                                                                                                                四野 说：                                                        这种东西不能不看 不能多看  历史终究前行 终究进步                           2009年3月15日 16:49 | # | 引用                                                                                                                aaron 说：                                                        thanks very much for posting up this article, finshed reading word by word.                           2009年3月15日 17:10 | # | 引用                                                                                                                neotrue 说：                                                        人不读史，牛马不如。从这场洗礼中，我看到国人骨子里的软弱妥协在我身上留了下来。                           2009年3月15日 17:55 | # | 引用                                                                                                                jia 说：                                                        邪恶是真实的，必须被反抗                           2009年3月15日 17:58 | # | 引用                                                                                                                敌若云 说：                                                        忽然想起《朗读者》。在环境的波涛中，人是多么弱小。                           2009年3月15日 18:51 | # | 引用                                                                                                                久蛰一隅 说：                                                        能正常活下去就已经不是正常的事情了。                           2009年3月15日 19:01 | # | 引用                                                                                                                支持阮兄 说：                                                        好人不长命.祸害遗千年,现在有人还躺在水晶棺里面呢                           2009年3月15日 19:26 | # | 引用                                                                                                                huary 说：                                                        看到后面流泪了                           2009年3月15日 19:51 | # | 引用                                                                                                                路人 说：                                                          一字一句的读完了白老先生的文章，看到后面湿了眼眶，那又怎么样呢，外人的任何感想较之于当事人而言是那么的渺小而微不足道。  爱国爱国多少恶行假之名以行。  想起正在看的两本书《mao：the unknown story》和林达的《近距离看美国系列》。对于未来，我很悲观。                           2009年3月15日 20:51 | # | 引用                                                                                                                iridium 说：                                                        到现在，大陆都没有认真反省这段历史。                           2009年3月15日 21:27 | # | 引用                                                                                                                wsh 说：                                                        极权共产主义，这一意识形态夺走了估计高达1亿无辜的男人、女人和孩子的生命。难怪奥巴马会在就职演讲中把它和纳粹列在一起！这个数字还在增加。                           2009年3月15日 23:26 | # | 引用                                                                                                                yak33 说：                                                        以前在网上看了《最后的贵族》就啥想法也没了。                           2009年3月15日 23:32 | # | 引用                                                                                                                看不见的城市 说：                                                        看之前知道肯定又是一个悲惨的故事，还是看了，看完，几欲落泪...                           2009年3月16日 00:20 | # | 引用                                                                                                                liam 说：                                                        忽然想到我的《中国近现代史》是政管院的老师上的课，不是历史学院的老师开课。。。想起了《浪潮》，也看出了中国和德国的巨大差异。                           2009年3月16日 02:54 | # | 引用                                                                                                                lee 说：                                                        Unforgetable!                           2009年3月16日 08:58 | # | 引用                                                                                                                lee 说：                                                        愤怒、痛苦无济于事。我们的父辈犯下的错，与其强迫父辈来反省，不如自我反省。反省自己受到的教育，占居了优势的地位，掌握的权利或话语权之后，有没有在一言一行中，哪怕一点点推动极权文化的根基向更自由、宽容的方向改变？自我反省中……                           2009年3月16日 09:02 | # | 引用                                                                                                                过路人 说：                                                        看完我泪流满面，为了这个恶棍横行的地方，和总是被利用欺压的善良的人们                           2009年3月16日 11:20 | # | 引用                                                                                                                Steve 说：                                                        http://baike.baidu.com/view/518053.htm历史是一张大网                           2009年3月16日 11:47 | # | 引用                                                                                                                huangliujing 说：                                                        边读边流泪。。。                           2009年3月16日 14:03 | # | 引用                                                                                                                castrodonkey 说：                                                        前世不忘,后世之师,中国人什么时候能觉醒,我很悲观                           2009年3月16日 14:09 | # | 引用                                                                                                                220VOLT 说：                                                        看到后面不忍心看下去了。                           2009年3月16日 14:19 | # | 引用                                                                                                                Linda 说：                                                        看完后眼中全是泪水有人说大陆要公开反省我认为反省就够了，不公开也没关系，但是要在具体工作中不断体现出这种反省不过，为那些老科学家平反是必须的                           2009年3月16日 15:29 | # | 引用                                                                                                                EW 说：                                                        震撼                           2009年3月16日 15:58 | # | 引用                                                                                                                高云娜 说：                                                        看到母女俩相拥自杀，突然失控，落泪了------向逝者高贵的灵魂致敬，向有良心的记录者致敬，也向传播此文的博主致敬！                           2009年3月16日 16:21 | # | 引用                                                                                                                airy 说：                                                        看完你的博文，总是让人心情沉重。有些话不想多说，怕被河蟹。生命短暂，活着不容易。希望博主少看新闻少看报，快快乐乐的生活。                           2009年3月16日 18:53 | # | 引用                                                                                                                lenciel 说：                                                        哀莫大于心死...                           2009年3月16日 18:54 | # | 引用                                                                                                                Timesand 说：                                                        唉，说什么好呢？！我伯父既当过国民党的兵，也当过某党的兵，他得出一个结论：某党缺人不重样。    像萧先生这样高尚纯洁的人，如何能不被玩得团团转呢？反观现实，自己的处境又怎么样呢？还不是为了一口安稳饭，而一忍再忍吗？万马齐喑究可哀。怎么办？谁能告诉我，怎么办？                           2009年3月16日 20:07 | # | 引用                                                                                                                V 说：                                                        我一直觉得中国人是被诅咒过的一群人                           2009年3月17日 10:40 | # | 引用                                                                                                                EW 说：                                                        自由是宝贵的，不可随意被剥夺；邪恶是真实的，必须被反抗；如果再有机会，那些在冷酷和憎恨驱使下的家伙还会犯下磬竹难书的罪行，夺走成千上万人的生命。惊佩白介夫！                           2009年3月17日 11:10 | # | 引用                                                                                                                许海龙 说：                                                        中国人意识形态所形成的一种社会环境，压迫着那些高贵的人，平庸的人总以用卑鄙无耻的手段打击那些才华横溢的人为豪。外行指挥内行，明明自己做的不对，却使终记仇，一有机会就打击报复，人啊，你为何那么丑恶？？？？                           2009年3月17日 15:58 | # | 引用                                                                                                                yangsheng 说：                                                        我将尽自己一份微薄之力，记载和传播这些史实。                           2009年3月17日 18:13 | # | 引用                                                                                                                我的1999年 说：                                                        文革祸害一千年，现在的一代有责任把历史告诉后人。我不记得当时我都对他说了些什么，可我记得自己历经劫难，刚刚在走上坡路，还心有余悸。当时文化大革命刚刚结束，心中有再多的不满也不敢否定文化大革命，不敢否定任何一次政治运动。现在的干部还不是这样。我们对那些死难者负有义务，去铭刻他们的生命，尊崇对他们的记忆。谢谢白老，也谢谢博主！我们要以德服人。不要忘记这个中国历史上的耻辱史。老人家，你是对的。                           2009年3月20日 16:14 | # | 引用                                                                                                                daly 说：                                                        国家社会主义和共产主义有区别么，本文即可回答，我们都是肖申克监狱里被体制化的生命！                           2009年3月21日 09:56 | # | 引用                                                                                                                沧海寄余生 说：                                                        有些事情要让人一遍又一遍地阅读，但总要有人把事情说出来。在党的领导下，把事情说出来是有顾虑的。但人性善良的种子是在不断找寻机会发芽。                           2009年3月23日 11:35 | # | 引用                                                                                                                myrrha 说：                                                        是的。引用iridium的发言：到现在，大陆都没有认真反省这段历史。                           2009年4月17日 16:32 | # | 引用                                                                                                                品味 说：                                                        看完文章后感到难过，我身边有太多人过得迷惑，糊涂，其实都是那文化大革命给害的，那真是投放在中国的一颗“原子弹”，直到现在甚至是将来都将继续被伤害或杀死。                           2010年2月15日 14:09 | # | 引用                                                                                                                品味 说：                                                        看了一遍又一遍，我想白先生想说的是：历史常常会以不同的形式重演。我期盼“萧光琰”式的家庭悲剧不以任何方式再现。我们急需建立起有效的监督机制，不靠英雄人物来扭转乾坤，使这个国家即使有错误，也行而不远。我们也要完善我们的文化，增强其包容性，容纳不同的习俗及思维方式。不能从苦难中汲取教训的民族，一定是没有前途的民族。                           2010年2月15日 14:36 | # | 引用                                                                                                                路人甲 说：                                                        萧先生和他哥哥同在美国，他回去了，他哥哥却没有，他在专业之外的见识连她夫人都不如，可悲，可怜，可叹。。。"现实"是我们每一个人自己造成的，"苦果"也只能自己吞下。                           2010年6月25日 17:55 | # | 引用                                                                                                                资本的自由即资本的暴政 说：                                                        对萧光炎的遭遇表示深切的同情，特别是他的可爱可敬的妻子和女儿。对工宣队的暴行应当予以无情的揭露和惩罚。但我想不明白的是：毛泽东一再告诫要文斗不要武斗，文化革命是触及灵魂的革命，而不是对肉体或精神的折磨，为什么会在基层上仍然出现打人刑讯的暴行？反过来说，1966年的头五十天在刘的主导下打击地富反坏右的黑五类，转移毛泽东的斗争方向，为什么没有人清算，反而算在毛的账上？我们真正秉承良知、理性进行对历史反思了吗？萧光炎作为一名普通的科技工作者，有些与普通劳动者的距离和轻蔑，甚至拒绝组织的安排到最艰苦的地方工作，中国在那时候是必须集中力量办事情，如果助长自由主义的泛滥，中国发展的不平衡和落后势必进一步扩大。当然，萧光炎的落后认识并不应给暴徒们暴行的理由。我们更应该思索的是，文化革命是对中国工农的考验，即管理国家、建设国家的能力的考验，很可惜，由于种种的复杂，证明工农管理国家、建设国家的能力尚不成熟，那么我们要问的是：是否这种一时的失败天然的成为实行官僚资本主义、买办资本主义、侵吞国有资产、两极分化、多数人受苦、少数人享受的不平等、不自由的殖民卖国的法理基础？                           2010年12月27日 11:45 | # | 引用                                                                                                                Zz 说：                                                        久久不能平静。                           2010年12月28日 15:51 | # | 引用                                                                                                                太在意 说：                                                        向萧教授全家致哀！您不该回这样的祖国！害了自己，夫人和孩子！                           2011年4月29日 13:27 | # | 引用                                                                                                                墨古云 说：                                                        我和老伴是流着泪读完白老这篇文章的，因为我们的父辈就是浩劫中的受难者，当然作为一个有良知的党的干部如白介夫这样的人太少了，能像他这样能深刻认识过去的党员或官员太少了。历史是不能忘记的，没有一点忏悔意识的民族和政党是没有希望的，愿有更多更多的人看到此文，以能促使某些党政者反省历史。                           2011年6月 8日 01:59 | # | 引用                                                                                                                泪眼 说：                                                        立志报国的科学家一而再、再而三遭到非人的折磨与摧残，悲哀！我更加明白当年鲁迅为什么弃医从文。中国人即使身体健康又怎样？只会迫害知识分子。连顶级科学家都难逃厄运。可怜这火一样的爱国热情！这不是科学家们不会做人，即使到时现在，有人会工作却不太懂得人情世故。                           2011年6月12日 18:11 | # | 引用                                                                                                                历史专业研究生 说：                                                        请问有谁知道《荒诞岁月奇闻录：共和国档案记录》的作者张湘霖联系方式？张湘霖是书的主编，书中书写萧光琰故事的作者宁连乔，谁有他的联系方式？本人是历史专业研究生，很想与这两位作家取得联系，可惜网上信息太少。若有人知道，请告知本人，我的qq183774959，谢谢！                           2011年11月 4日 23:35 | # | 引用                                                                                                                生命的火焰 说：                                                        所有的罪恶，终将脱下它虚假的外衣，无处藏身，面对正义的审判，无论这一天就是明天，还是百年之后。                           2012年3月11日 19:04 | # | 引用                                                                                                                ABC 说：                                                        个人奋斗，不谈政治，死路一条！由国情决定。                           2012年6月 1日 13:24 | # | 引用                                                                                                                armtotooth 说：                                                        誓死保卫我们的自由！这个是底线！无处可退！                           2012年10月29日 03:06 | # | 引用                                                                                                                文革终结者 说：                                                        不把文革的实质和凶恶面目彻底揭开，不把产生文革的制度铲除，文革随时会回来，甚至文革现在就在我们身边，只不过没有发作而已。                           2013年3月23日 13:25 | # | 引用                                                                                                                123 说：                                                        痛彻心肺                           2013年10月13日 15:01 | # | 引用                                                                                                                111 说：                                                        百感交集，内心隐隐作痛，我们并没有真正的吸取教训,邪恶的幽灵还在我们身边飘荡。。。                           2013年11月11日 21:49 | # | 引用                                                                                                                苗成成 说：                                                        谢谢你分享的这些东西！每字每句，细读之，有多了解了一个纯粹的技术工作者，刚碍于收获并存！！                           2014年9月10日 23:25 | # | 引用                                                                                                                徐海熙 说：                                                        人不读史，无以立。永不遗忘，永向前进，致敬！                           2016年11月 7日 15:42 | # | 引用                                                                                                                迈克尔阿色 说：                                                        共产主义就是推翻国名党的一个理由而已！它给了国人一个梦想！毛泽东知道它根本不可能实现！所以是时候改朝换代了！历史都是这样！                           2017年3月 9日 23:19 | # | 引用                                                                                                                哈哈哈 说：                                                        看到母女俩自杀那一段，实在受不了。这是什么社会。想萧先生全家默哀。。。我们永远不会忘记。                           2019年5月16日 15:44 | # | 引用                                                                                                                Viking 说：                                                        自以为铁石心肠的我，居然泪流满面。作为一个3岁孩子的父亲，可以想象又无法想象甄素辉和萧光琰的心情，那是一种怎样的绝望……而他们，不过是那个年代受难群体的千万分之一                           2019年8月31日 22:38 | # | 引用                                                                                                                黑子 说：                                                        先父是当年中国最大的起重机厂总工程师。就是在1968年那个血雨腥风的时候，在大连被毒打至皮开肉绽，九死一生，逃出一命。八号铁线螺旋绕在三角皮带上，再加一个木把及成为鞭鞭见血的刑具。毒打萧光琰先生的与毒打家父的三角皮带非常相象。可怜萧先生一家遭灭门之灾，天理何在？等我退休之后,也想把父母文革之中的苦难与传奇写出来。中国只有记住文革的灾难与原因才有未来。                           2021年10月10日 09:26 | # | 引用                                                                                                                yang 说：                                                        可叹唯有记念，甚至不存与纪念，请让我致以对萧博士一家的悼念，百科上寥寥几笔的，却映下如此苦涩的一段惨案                           2022年9月26日 23:08 | # | 引用                                                                                                                天天 说：                                                        感触很深，被迫害的人很多，为他们默哀                           2023年9月 5日 01:03 | # | 引用                                                                                                                送叶寒 说：                                                        所以为什么对文革大陆到现在都不愿真真正正的反省呢？                           2023年12月31日 10:02 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e94e59d64cf45',t:'MTc0MzI0MzA3MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2009/03/my_bitter_friendship_with_mr_xiao_guangyan.html
一个知识分子眼中的三十年：1978--2007 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    一个知识分子眼中的三十年：1978--2007 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：网页打开速度的心理学&nbsp;下一篇：关于战略问题的通信之六                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              一个知识分子眼中的三十年：1978--2007                                                                                    作者： 阮一峰                                    日期： 2009年3月27日                                                                                                                                            一年前，《新京报》开始连载一组系列文章《三十年间有与无》。                                                                                                                一星期一篇，一共连载了30个星期。作者是同济大学的哲学教授陈家琪，他以日记为基础，从个人视角出发，记录和评论了过去30年中国社会的发展进程。虽然我觉得这个系列写得不精彩，但是同样作为这段历史的亲历者，读起来经常会有共鸣。就像一个朦胧诗人说的，不知不觉间，我们的一部分已经活在历史里了。下面就是经过我编辑的一个版本。======================【作者简介】陈家琪男，1947年生于西安市，曾下乡插队，1970年代初，招工时被招进监狱当了7年的狱警。1978年考上武汉大学西方哲学史专业研究生，师从陈修斋与杨祖陶先生，先后在华中科技大学哲学研究所、湖北大学德国哲学研究所、海南大学社会科学研究中心任教，现为同济大学哲学与社会学系系主任、教授、博士生导师。主要研究哲学问题，文学艺术问题，文革问题以及其它现实生活中感兴趣的问题。======================【1978年】2月17日的《光明日报》上刊登了徐迟的一篇长文：《哥德巴赫猜想》。这篇文章简直如晴天霹雳一样把人惊呆了：文章竟然可以这样写！世上竟有陈景润这样的人，竟有这样一些稀奇古怪的问题需要解答！一切都匪夷所思！最让人震惊的还是那种文体，那种介乎中文与译文、小说与人物传记、理论思考与报告文学之间的自由洒脱与豪迈大气。5月4日的《人民日报》上发表了一篇"特约评论员"的文章：《科学和民主》，让人精神为之一震；这样的文章，打出如此鲜明的"德先生与赛先生"的旗号，以后每到"五四"，就似乎再也没有过了。5月8日的《参考消息》上刊登出了一篇雷震致蒋经国的长信，有一万多字，详尽论述了解除党禁、开放言论、维护法制的必要。我把它保留下来，觉得很有价值。6月14日的《参考消息》上转载了香港《争鸣》杂志的一篇文章：《话说浪费人才》，看了让人欲哭无泪，尽管从未想过什么人才是"人才"的问题。当年的《天安门诗抄》也已作为手抄本流传到我手中，印象最深的是一首类似于"打油诗"式的《向总理请示》："黄浦江上有座桥，江桥腐朽已动摇。江桥摇，眼看要跨掉。请指示，是拆还是烧？"10月6日，我走进了武汉大学的校门，成了一名外国哲学史的研究生，那也是文化大革命后的第一届研究生；而此前两年的这一天，"四人帮"被捕。12月31日，在武汉大学露天电影场看的是《激战前夜》。这是一部什么电影？什么内容？国产的还是外国的？全不记得了。那年的我已入"而立之年"，自以为该知道的都知道了，能经历的也都经历过了；精神上虽说还寻找着什么，但不知在寻找什么。【1979年】1979年一开始，就是对越自卫反击战。2月17日，听传达中央11号文件，等于是听"战争动员"。这是我们第一次听"战争动员"，所有的人都屏住呼吸。在我的记忆中，献血、捐钱、捐粮，把最好的东西留给最需要的越南朋友，早就是大家耳熟能详的日常用语；在文化大革命中，不知有多少学生自动跑到越南去"援越抗美"。今天，怎么能这样以怨报德呢？寒假过后，我绕道汉中，经十堰回到武汉。一路上，看到很多残留的大标语，比如"贫下中农主力军，批林批孔有决心"、"大批促大干，大干促大变"。我发现越贫穷的地方，标语口号就越多、口气就越大，斗志和决心也就越昂扬。城市里的风气也发生着越来越明显的变化。西安钟楼附近还有些大字报，大都涉及男女关系与对法院的什么判决表示不满；人们衣着上的变化最大，特别是一些女孩子的高跟鞋最是醒目，但交通越来越拥挤，人们的脾气也越来越大，公然插队和当街斗殴已是家常便饭。每次在水利电力学院看电影都要冒生命危险，因为总会爆发各种各样的群体斗殴，有一次双方打得难分难解，板凳横飞，尘土飞扬，大家自动让出一片空地让他们打，而银幕上照样在播放《306号案件》。1979年，对人的心灵震撼最大的，还是张志新一案的披露。我1979年日记本的扉页上，就贴着张志新的一张画像。6月21日的《人民日报》上刊登出卢士超的文章，认为国家应该废除"思想罪"。10月22日的《人民日报》上有这样一条报道，说新疆石河子的蒋爱珍用枪打死了三个人，大约是为男女关系与"人言可畏"的环境所迫。那一年还有一首几乎所有人都喜欢的印度电影《流浪者》中的"拉兹之歌"。"我一直以为我是最坏的人，可现在我知道还有比我更坏的人。我敢保证，你要比我坏好多倍！"这就是拉兹在法庭上对大法官所说的一席话。【1980年】这一年，给张闻天开了追悼会，说遵义会议后党的最高领导人就是他；以中央文件的形式给安东尼奥尼平反，说他拍摄的《中国》并不反动；有了《生死恋》、《简·爱》、《女英烈传》这样的好电影；接着在80年代就看到了《蝴蝶梦》、《砂器》、《塔曼果》、《冰海沉船》；国产影片中的《茶馆》、《归心似箭》也好看了起来，《生活的颤音》中郑长河与徐珊珊接吻的镜头竟引起全场的骚动；而小说《调动》、《飞天》、《假如我是真的》、《大海作证》、《波动》等则引起了全社会的骚动。继张志新后，7月的大暑天，《光明日报》发表了《一颗划破寒冬的陨星》，这里说的是遇罗克；接着，《当代》第三期上就发表了遇罗锦的《一个冬天的童话》。在这一年的第10期《诗刊》上，顾城、舒婷、高伐林、王小妮等集体亮相，而舒婷的诗句"可是，七十二个人被淹灭的呼吁/在铅字之间/曲曲折折地穿行/终于通过麦克风/撞响了正义的回音壁......盛夏时分/千万颗心/骤然感到寒冷"已经在大学生中传诵一时。5月4日铁托逝世。5月16日，在文化大革命发动14周年的这个日子，为刘少奇正式平反。10月11日，赵丹撒手而去，留下了一句石破天惊的遗言。年底，开始正式审判"四人帮"集团成员。12月29日，几乎所有的人都围着研究生楼那惟一的一台电视机观看审判江青的实况。所有的受审者中，只有江青装扮整齐，显然在利用最后的机会企图完成自己一生中最后的表演，听众中不断爆发阵阵哄笑，用20日的《参考消息》上的一句话说，这是一场"京戏"。旧的正在瓦解，新的尚未建立，人们无所适从，有的人就在迷茫中记住了小说《飘》中的白瑞德的话："人要发大财，只有两个时代，一是国家正在建造，一是国家正在毁坏；建造时代的财发得慢，毁坏时代的财发得快。你记住我的话，也许对于你将来有用。"【1981年】1月5日晚，又是成群的人围着那一台电视机观看一场足球比赛。比赛的双方是中国与朝鲜，结果是4：2，中国队胜。看到港澳同胞们立即打出"进军西班牙！"的标语，我才意识到这场比赛的重要。这是1981年年初的事，到接近年底，10月18日，男足再以3：0胜科威特；11月12日，更是以4：2胜沙特，给人一种中国男子足球队战无不胜的感觉。但最让人振奋的还是中国男女双方的排球队。3月20日晚，国际卫星转播的世界杯排球赛亚洲赛区的最为关键的一场比赛是中国对南朝鲜。还是那台电视机，还是那么多人，但呐喊声、欢呼声震耳欲聋，因为中国队反败为胜，在先输两局的不利情况下最后以3：2战胜南朝鲜。大家开始狂喊，敲打着脸盆，相互击打手掌，一个个在楼上楼下窜来窜去，几乎闹了一夜。一系列体育比赛的成就一旦汇集起来，便在人群中点燃了某种不可抑制的激情：童非一个人在巴黎的体操大奖赛中拿到三枚金牌、两枚银牌，一枚铜牌；中国冰球队（以前根本不知道我们还有冰球队）进军B组成功；射击选手迟宁文平男子小口径步枪世界纪录......第二天看报纸，才知道北大更厉害：他们不但有手鼓、响铃，还点燃了篝火，进行了声势浩大的火炬游行，打出的标语中就有"团结起来，振兴中华！"，这也是新华社记者毕靖、徐光耀所写的一篇特写的标题。文章说，最先是38号楼三层吹响了《义勇军进行曲》的嘹亮铜号，接着，就是全校的人如潮涌，歌声、欢呼声不绝于耳。11月8日，中苏男子排球赛，中国队以3：0轻取苏联，最后一局是15：0，可谓大快人心。11月15日，中国女排与美国女排之间有了一场提前举行的世界杯冠军赛，结果中国队以3：2获胜。赛场上，女排姑娘抱在一起，哭成一团，我们也跟着流泪；那几天，大家嘴里全是郎平、张蓉芳、周晓兰的名字；到16日，当中国女排战胜日本队成为世界冠军时，大家都为周晓兰未获得应有的荣誉愤愤不平。也正是在那些日子里，报纸上正猛烈批判着白桦的《苦恋》。5月，风传各地都开始封刊，仅湖北就有《飞碟》、《钟声》等，反正我们都没有听说过，但说是要相互检举、搜查、交代、处理；6月底，十一届六中全会召开，通过了关于若干历史问题的决议，统一口径，宣布此事到此为止。5月9日，"文革"时因写《中国向何处去》而坐牢十年的杨小凯（原名杨曦光）来武汉，我们几个人陪他到东湖，听他谈中国经济改革的途径与前途。这一年最应该记下的就是我们的毕业论文答辩。10月6日，我们5个人依次登场，我的问题集中在斯宾诺莎因言获罪与"言论自由"的范围。毕业了。我和黄克剑去华中理工大学哲学研究所，那里有一个诱人的口号：要把华工办成麻省理工那样的综合性大学。我用红笔记下了两首诗，分别是徐敬亚的《活着，并且发光》、顾城的《赠别》。【1982年】电视上播放了英国拍摄的电视连续剧《安娜·卡列尼娜》，于是引起一场关于"安娜与卡列宁谁才是好人"的辩论，背后的潜台词就是"我们应该歌颂谁？"6月18日，听华中工学院院长的报告，说现在的无政府主义、自由主义、个人主义已经极其严重，要求各班主任通过认真抓学生干部获取真实情况，把华工建成"精神文明的坚强堡垒"。于是有两个人成为"坏的典型"，一个是在暗室偷着冲洗裸体照片，另一个则强奸幼女。【1983年】这一年的下半年，全国性的"清除资产阶级精神污染"的运动就已经开展起来。10月底，省委宣传工作会议召开，"清污"一词连同一些口号已经有些铺天盖地。于是，一些著名诗人、作家纷纷讲话，谴责文艺界的"反现实主义倾向"。我感到问题重大。直到第二年的3月，我才知道中央有通知，说"清污"的事不要再提了；当初邓小平只是说了"不要搞精神污染"，并未说"要清除精神污染"。【1984年】春节晚会上，香港歌手张明敏唱《我的中国心》。然后，就是阿·托夫勒的《第三次浪潮》的电视片，大家忽然觉得自己终于赶上了最后一次"浪潮"；后来就是《走向未来》丛书的出版发行，连同以后的《文化：中国与世界》丛书，共同汇成上世纪80年代所谓"文化热"的浪花。还有就是第23届奥运会的开幕，尽管还远没有今天这样大的声势，但也给人带来了一种期盼；阿城的小说《棋王》，苏联电影《莫斯科不相信眼泪》都是那一时期的热点话题，就国家大事而言，当然要数"中英关于香港问题的联合声明"的发表，等等。"二王"（王宗坊、王宗玮）到处流窜，持枪杀人，各地人心惶惶，神乎其神，全国通缉，前所未有。"我还记得高墙/还有高墙下那簇不知名的小花/忘了吗，寂寞的沙漠/连同沙漠里悠长的胡笳/在生活中让我前行/寻一处地方让思想扎根发芽。"【1985年】这一年的春节晚会已经很不好看了，竟然搞起了"赞助纪念券"。春节，作为传统的民间节日，也终于与其本身脱节，成了一个把金钱（露脸、名气、声望）与宣传结合起来的舞台，诠释了最为理想的"寓教于乐"的古训。9月24日，中共十二届四中全会闭幕，邓小平、陈云讲了话，大意是党的优势从来就不会体现在经济上，而是体现在政治、思想、文化和精神上，所以这个根本的优势不能放弃。9月，萌萌在我的笔记本上题写了《命运：一个平凡的、西西弗斯的神话》的长诗，里面就有以后悬挂在她的灵堂两侧的诗句："饿了有石缝中生长出的绿色的、红色的果实，渴了有大地夜哭的晶莹的泪珠"。【1986年】1月底，美国的"挑战者号"航天飞机在全世界人的目光下腾空爆炸。同样是1月底，第一期《大众电影》因为把朱琳半裸的照片做了封底，于是引起抢购，引起举国辩论。2月底，菲律宾的铁腕人物马科斯总统下台，一个柔弱的女子阿基诺夫人走上了前台。两伊战争已经打得不分伯仲。7月1日的《报刊文摘》上有一篇文章《"维纳斯"向谁申诉？》，说的是南京艺术学院一女模特儿月收入250元，因无法忍受别人的风言风语而被迫到法院打官司，法院的判决是"你拿钱多，工作时赤身露体，这都是事实，怎么会构成诽谤？"这位"维纳斯"含泪败诉，不知所终。7月2日的《武汉晚报》上，又是一19岁的年轻女子因触电昏迷，一男青年对她进行口对口的人工呼吸，结果受到旁观者的大肆嘲弄，愤而离去，女青年不治身亡。电视上连着播放了《双城记》和《大卫·科波菲尔》，让人看得入迷。残雪说"我终于对自己的声音入了迷"，于是一部接一部的作品问世，而我也对她的作品入了迷。【1987年】1月4日，在中央电视台的"星期音乐会"上，听到了"让世界充满爱"这首合唱歌曲。"啊......一年又一年/想起来是那么遥远/仿佛都已是从前/那不曾破灭的梦幻/依然隐藏在我心间/是谁在默默呼唤/激起了心中的波澜/......"我们在广州开会，被领着集体参观花园酒店、白天鹅宾馆。大家列队而入，一个接一个房间地看，嘴里发出由衷的赞叹：仅仅就是敞开大门，任人参观这一项，已足够让人大开眼界。从广州再去深圳；那时的深圳还未开发，去深圳的目的只是为了去沙头角，一个在九牛一毛的意义上，能体现香港之繁荣的弹丸之地。大家拼命购物，主要是布料，为的是向自己的家乡人炫耀自己的东西是在香港买的。【1988年】《红高粱》、《一无所有》等作品，甚至包括黎汝清的小说《皖南事变》，都开始登堂入室。【1989年】那时，我的胆结石已经很严重，几乎每天饭后疼，疼得死去活来，但就是不知道世界上有"胆结石"这种病，原因在于不知道人体中有一个器官叫"胆"，而且里面会生出石头。每到医院，总说胃疼，医生也就照例开些胃药。我几乎吃遍了凡在药店和医院里能买到的胃药，最后还是觉得"三九胃泰"最好，于是就向所有人推荐。【1990年】这一年的春节晚会可能是记忆中最少政治色彩的一次，就是要带给人纯粹的欢乐。那些日子里，"祥和"一词已搞得家喻户晓。3月23日，崔健来武汉演唱，在洪山体育馆，真是人头攒动，声嘶力竭：学生打出"从头再来"的横幅，崔健自己也在开唱《投机分子》前说"一有机会，我们就要表现我们的欲望，展示我们的力量"，台上台下相互呼应，我是一个字也听不见，而且实在担心他们会一把火把体育馆烧了。崔健走后，一切恢复正常；但我也开始喜欢上了摇滚乐。这一年电视连续剧《围城》大红大紫。【1991年】1月15日是给萨达姆规定的从科威特撤军的最后期限。这场战争使得三毛之死变得不那么显眼。它不到两个星期就结束了。5月22日清晨，在广播中听到了拉吉夫·甘地遇刺身亡的消息。8月20日，一个以亚纳耶夫为首的8人"紧急状态委员会"拘禁了戈尔巴乔夫，宣布接管政权，于是坦克开进莫斯科大街，人们则立即上街游行。但这次事变的结果比"海湾战争"结束得更快，当人们还没从惊恐中缓过神来时，政变集团已经垮台，戈尔巴乔夫重新执政。《渴望》还在热播。刘慧芳式的道德就是相夫教子中的委屈与忍让；它的新颖之处在于没有了那么多大道理，但这一切在告诉人们应安于现状的同时，也进一步使得社会平庸化了。【1992年】从整个国家的角度看，最大的事自然是邓小平的南巡讲话与十四大开幕；就世界范围内的影响而言，这一年有克林顿的当选总统，有泰国的"动乱"与另一个铁腕人物索金达的下台，再就是南斯拉夫的炮火连天，还有卢刚在美国的杀人案；自然，还有"欧洲杯"和"亚洲杯"的足球赛和在电视上看到台湾"民进党"在会上大打出手。就我个人而言，这一年最大的事，还是萌萌和我决意离开武汉，在海南大学重立门户。海口当时给我们的印象很好。广州过于繁乱，特别是火车站，从琼州海峡坐船一到海口，真是另有一清静世界，风清月朗；那里除了沙滩、椰树，还有我的一个情结：1971年我曾在此培育杂交玉米半年多，内心深处一直怀念着这里。我们奔赴海口"考察"，发现这里最大的新华书店里只有一本外国小说，心中蒙上了一层阴影，但一家名为"金棕榈"的电影院，却天天在放外国影片，都是一些在内地根本看不到的影片（其实是盗版碟片，只不过我们不知道而已），比如我就在那里看了《硒鼓》，看了《海湾战争纪实》等，尽管十元一张门票，心中还是很高兴。【1993年】我已经开始给海南大学的研究生上课。每周两次，骑单车过和平桥到海大，晚上讲完课，在海风吹拂中回到一个名叫"明苑小区"的临时住地，然后就开始看影碟到深夜。《今生情未了》（一颗冬天的心）、《本能》、《生于七月四日》、《情人》等都是那时看的。 国际上最大的事就是俄罗斯的全民公决，最后以叶利钦的全面获胜而告终；在国内，最大的事莫过于申办奥运了。 【1994年】4月22日，在新闻联播中公布了关于千岛湖杀人案的调查：3名年仅20来岁的农民用猎枪、斧头把"海瑞号"游船上的近30名台湾游客洗劫一空，然后再把他们全都驱赶到舱底，一把火将所有人烧死。 苏联、东欧巨变，海湾战争、波黑的塞族正在与穆斯林交战，北约的轰炸，美国战斗机在伊拉克边界击落两架载有联合国工作人员的直升飞机......12月10日，星期六，晚10时，好友世忠打来电说，说克拉玛依发生了天大的惨祸：几百名克拉玛依市最优秀的中小学生在"中苏友谊馆"举行纪念"12·9"的文艺演出，结果失火，几百个孩子都被活活烧死在里面。他简单向我描述了一下惨祸经过，说他正在处理遗留问题，声音已经完全嘶哑，音调极其悲哀，不停说着："太惨了！太惨了！" 两部电影和一部电视连续剧是不能不提的，这就是《凤凰琴》和《蝴蝶君》，前者使人悲哀，后者让人恶心；一部电视连续剧就是《9·18大案纪实》，关于发生在开封的一起文物盗窃案。这似乎是第一部引人注意而且是由公安人员亲自主演的连续剧，所以引起了人们很大的兴趣。 【1995年】这一年的大事很多，波黑的紧张局势、邓丽君的辞世和拉宾的被刺身亡是一些无论如何也让人心痛不已的大事，尽管似乎都离我们很远；"埃博拉病毒"、李登辉访美、王宝森自杀、陈希同下台也是一些大事，而且离我们很近。【1996年】那一年，台海危机、军事演习；台湾"大选"，最后的得票结果是李登辉、连战，5813699票，得票率54％；彭明敏、谢长廷，2274586票，得票率21.3％；林洋港、郝柏村，1603790票，得票率12.9％；陈履安、王清峰，1074044票，得票率 9.98％；李登辉、连战代表国民党获胜，李登辉成为了台湾地区历史上的第一位"民选总统"。【1997年】2月19日21时零8分，邓小平逝世，享年93岁。 5月16日，晚间新闻上播放了一则消息：美国总统克林顿在白宫向40年前的4位美国黑人当面道歉，因为40年前他们身患梅毒，但当时的美国政府未用青霉素进行有效治疗，而是在他们身上进行了另一种药物实验，致使有人不治而亡。此事与克林顿本人无关，但他必须代表美国政府对此事道歉。这一年的第3期《莽原》上的封面人物是张承志，该杂志主编说，有了张承志的《心灵史》这部小说，当代中国文学就无愧于历史；同期《书屋》上余开伟撰文，认为批评"痞子文学"是对"整个九十年代文学新人的南京大屠杀"。6月1日，香港的柯受良驾摩托车飞跃黄河，当时的现场很惊险；柯受良从垫子里爬出后第一句话，是感谢自己的家人。这给我留下的印象之深，甚至超过了飞跃本身。6月29日，泰森在与霍利菲尔德的拳击比赛中，咬伤了霍利菲尔德的耳朵，一时间赛场大乱。7月1日，香港回归。一连好几天的倾盆大雨，实乃香港自1840年有史记载以来从未有过的景象，4天时间就下完了整整半年的雨。从9月到11月，一直密切关注世界杯的预选赛，中国、伊朗、卡塔尔、沙特四个国家打来打去，中国惨败，期间心潮的起伏与不安简直搅得人寝食不安。那时的主教练是戚务生。【1998年】2月6日的《中华读书报》上有耿彪的"回忆录"，里面说"文革"期间我国共给阿尔巴尼亚这盏"欧洲社会主义明灯"援助了90多亿元人民币，阿平均每人4000多元，每亩土地还至少援助了400斤化肥；此外，阿还要让他们的每个农业社都能看上我们生产的电视机，而当时的北京、上海尚且达不到这样的水平。在2000年3月30日的《报刊文摘》上，曾任阿尔巴尼亚驻中国大使的马利列讲了一个故事：1962年，中国几艘刚从加拿大购买的满载小麦的轮船改变方向，支援阿尔巴尼亚。读到这里，我曾泪流满面，因为我依旧记得那一年的惨景。8月，陈希同被判刑16年。 这一年，克林顿刚在西安南门参加完一个盛大的"入城式典礼"，回去不久就有了人们津津乐道的"拉链门事件"；而俄罗斯的叶利钦也深陷与国家杜马及车臣战争的紧张关系中无法自拔。到了年底，美英联军开始轰炸伊拉克。【1999年】当这个世纪即将过去的时候，希望我们这一代人能在地球上多滞留几年，祝福新一代的人能不失时间地走完自己的"心路历程"。【2000年】这一年，中国积极申请加入WTO，美国给予中国永久性最惠国待遇。网络开始兴起。在美国，最高法院需要重新计票，在极微弱的拉锯战中确认布什当选总统；普京以52％的优势竞选获胜；四川成都余女士状告居委会麻将扰民，最后表决是否可以在深夜打麻将，结果余女士以1比67的绝对劣势惨败；青海省西宁市虎台中学毕业生杨颖高考分数458分，全校文科第4名，但所报考的外省高校并未录取她，因为她的父母没有送钱给招生人员，尽管这所高校的录取分数线是456分。杨颖一气之下打开了家里的液化气罐......8月27日的日记中，我这样写着："这几天，最让人心灵震撼的就是俄罗斯核潜艇'库尔斯克号'的沉没与118名水手的罹难了。"接近年底，凶案不断，先是看20集电视纪实片《12·1特大持枪杀人案》，说的是陕西以董雷为首的4个人5个月杀死10多人，手段越来越残忍；再是一个名叫张君的恶魔在5年间杀人24名，案迹遍及重庆、湖南、湖北，被捕后受害者家属纷纷要求挖其心、吃其肉。这一年，有了"七十年代新人类"的称呼，并预见到"八十年代新一代"将会是"新新人类"。10月，米洛舍维奇下台，南斯拉夫开始其逐渐解体的历程。这一切，我是在香港凤凰中文台上看到的。也有让人高兴的事：悉尼在开奥运会，金大中由于与金日成握了手，所以获得这一年的诺贝尔和平奖。【2001年】3月，塔利班在"灭佛行动"中炸毁了有百多年历史的巴米扬大佛；4月，米洛舍维奇被捕，接受审判，抓捕他的，自然是美欧联军；也是在这一月，中美飞机在空中相撞，我飞行员下落不明，中美关系降到冰点；6月，尼泊尔王储忽然枪杀王室所有成员，具体原因至今不明；也在这个月，美国判处俄克拉何马城爆炸案的元凶蒂莫西·麦克维死刑，而麦克维以英雄的形象出现在大家面前；9月，就有了举世震惊的"9·11事件 "；10月，爆发"阿富汗战争"。这一年11月，本·拉登正式承认"9·11事件"是他策划的，而且说还要有更多的恐怖袭击。在国内，春节晚会上赵本山的小品《卖拐》使得"忽悠"一词风靡全国，至今长盛不衰；5月，得知河南因卖血而导致的艾滋病患者已逾几十万。这一年，我们成功申办了 2008年奥运会。也是在这一年，我们加入了WTO。11月15日的《文论报》上说，人类共有三种对付时间的办法：一是佛教通过寂灭来摆脱时间的烦恼；二是通过对日常生活的诗意超脱来获得神性以便战胜时间；三是沉溺于感性生活之中，装出忘掉了时间的样子。 【2002年】2月11日的《参考消息》上刊登出了苏联的解密档案，里面说1940年屠杀1.5万名波兰人士的"卡廷惨案 "是贝利亚根据斯大林的指示实施的，在命令上签名的有伏罗希洛夫、莫洛托夫、米高扬、加里宁、卡岗诺维奇等，全部材料被编在政治局编号为1的档案中。8月25日的《报刊文摘》上有一篇《想起了施罗德》的小文章，里面说时任德国总理的施罗德与妻子合住一两居室的小屋，继女要是来了，就在床边另支一张床，三人睡一个房间，而且只要他是因私外出，就一定会乘火车，而且是二等车厢，每周只雇一次清洁工，买菜、下厨、熨熨衣服之类的事都由他妻子承担。在武汉，见到了老朋友、苏州大学的蒋国宝，正是他，提出要把我调到苏州大学，使我一直就潜伏在心底的蠢蠢欲动之心，再一次有了实现的可能，最后的结果就是来到了上海。 【2003年】2月，我最喜爱的相声大师马三立逝世。2月、3月、4月，发生在我们夫妇身上的"逗你玩"的现实，就是有关方面告诉我：我的妻子如果没有办理退休手续，户口就不能随我进上海，因为她不可能在上海找到工作；于是我就事先给她联系了一份临时聘用的工作，再让她办了提前退休手续；但当她办了退休手续来到上海后，却发现户口依旧不能进上海，因为她的退休金、医保费全在海南，上海不可能承担一个已经退休了的人的退休费用。就是在她业已正式退休了4年、在这套自己购买的房子里居住了5 年后的今天，户口还是不能进上海，只能办一个长期居住手续。其实，全部原因就在于这个有着1700万人口的国际大都市，不愿意白白承担一个不再正式上班的人的退休金和医保费。2月中旬，在我的日记中忽然出现了"非典型肺炎"这个古怪的、从未听说过的病名，而且海口的醋一夜之间就卖到150元一瓶，当然，就是出再多的钱也买不到。谁也不知道到底发生了什么事，谣言满天飞，人心惶恐，不知所措。4月，"非典"或"SARS"就已经成为专名，而且大家终于知道了一系列的事情：因"非典"，奥运会足球预选赛在中国赛区的比赛取消，几所高校停课；接着，北京市长、卫生部长相继下台；又接着，北京的情况就开始真正牵动人心了，因为每天都有死亡报告，都有100多人感染，就连上海，也终于发现了4例病人，一列从广州到达上海的K47次列车由于列车员感染了SARS而在全市寻找这列客车上的乘客；而北京的夜晚，在汽车灯光的闪烁中，宛如一座空城般的寂静与恐怖。另一件大事就是美英联军正式攻入伊拉克。在电视画面上看美军进攻，看广场中央的萨达姆塑像被推到，看萨达姆本人毫无任何反抗地被活捉，看中国的军事专家们对这场战争发表各种评论，看那些"既反战也反萨"者们如何曲曲折折地表达自己的意思。【2004年】2月1日，杀人魔头杨新海被判死刑，立即执行。杨当庭表示不上诉。记者问他，知道自己犯了什么罪吗？他淡淡地说：杀了一点人。一点人？杨从1999年起，先后在河南、山东、安徽、河北等地作案26起，杀死67人，伤10人，奸23人，使用的只是剪刀、绳子、砖头等最普通的作案工具。在2日晚上的"东方娱乐频道"中，仍有记者想探究杨新海的作案心理。杨也依旧淡淡地说：很简单，一开始领不到工钱，后来仅仅因偷了一个塑料盒就被判劳教，于是释放后就开始漫无目的地杀人，因为找不着要报复的对象。7月杨小凯逝世，10月，德里达逝世，11月，阿拉法特逝世。接着，就是陕西铜川煤矿的灾难和更可怕的印尼海啸，有10万人遇难。 【2005年】1月27日是奥斯威辛集中营解放60周年纪念日。在电视上重新看到了集中营门前的那块"劳动使你自由"的巨大标语。连战和宋楚瑜相继来大陆访问。西安后宰门小学生的载歌载舞和那声"连爷爷"的称呼，让我感觉"过了"，为此难受了好多天。法国民众投票否定了《欧盟宪法》。作为发起国和核心成员，民众却不支持"欧盟宪法"，说明了什么？在全球化的浪潮中，什么才是更应该珍视的"普世价值"？"宪法"的权威总是无可质疑的，但订立"宪法"的目的又是什么呢？如果我们对什么才是心目中的美好生活没有清晰认识，如果"一切权力源于人民，但他们只在选举日拥有它，此后就归统治者所有"，如果就如杰斐逊1787年1月16日在写给Colonel Edward Carrington的一封信中所说的那样："一旦我们的人民对公共事务变得漠不关心，你和我，国会和州议会，法官和总督，都会变得如狼似虎。"【2006年】老同学易中天在《百家讲坛》走红，而全国人民最大的事就是迎接奥运。 【2007年】最高人民法院收回了对死刑犯的"最后核准权"。4月18日7时15分，辽宁省铁岭市清河特殊钢有限公司发生钢水包倾覆特大安全事故，32人当场被滚烫的钢水烫死，那种场面想起来极其恐怖，世界上没有任何一部恐怖片能达到这样的效果，只要想想，就会浑身战栗。6月，山西洪洞县的"黑砖窑事件"举国关注，尽管连"回到奴隶制"这样的词语都用上了，但事情过去了，也就过去了。"后续报道"、"追踪报道"一直是我们的新闻报道所欠缺的，原因其实也很简单，因为总要到一个地方为止。=========================书名：三十年间有与无作者：陈家琪出版社：复旦大学出版社页码：167 页出版日期：2009年定价：20.00元（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2009年3月27日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（9条）                                                                                                    anchor 说：                                                        身为亲历者，无语中沙发                           2009年3月27日 18:29 | # | 引用                                                                                                                dacuoche2222 说：                                                        感慨万千，尽管好多事情还是没有说出来。                           2009年3月27日 19:15 | # | 引用                                                                                                                josh 说：                                                          从头看到尾，有经历的，有听说的，也有闻所未闻的，即使在2000年。  生活很奇怪                           2009年3月27日 19:59 | # | 引用                                                                                                                阿企 说：                                                        杨新海，为什么这样的杀人犯我居然第一次听说……                           2009年3月27日 21:50 | # | 引用                                                                                                                巫山霏云 说：                                                        陈家琪算是我比较尊重的人吧年前有回到过我们学校做讲座,当时是临时安排的一场,很是惊讶,由于之前看过他的一点文字,知道一些华工的往事,听着也还过的去,也问了一点问题,其实说来这些记录中还是有一些闪烁                           2009年3月28日 02:47 | # | 引用                                                                                                                220volt 说：                                                        胆结石=选择记忆                           2009年3月28日 09:32 | # | 引用                                                                                                                Tinglong 说：                                                        我把此篇blog轉給陳老師看，得到的回音如下：“谢谢你转来的这位写手的缩写。果然是高手，更简练。但他似乎并未意识到我隐藏在隐晦曲折的表达后面的东西，也许意识到了不说。这年头人们都在猜谜语。”個人覺得這個三十年回顧的寫法是相當隱晦的，比如1989年的那一篇，為了回避歷史問題，被號令反復修改了多次，最后面目全非。 陳老師為人非常好，演講和文章都非常精彩。以“不精彩”形容這個專欄似乎不太公道。                           2009年3月28日 13:07 | # | 引用                                                                                                                张君子 说：                                                        挺有意思的东西。值得阅读。                           2009年4月29日 23:18 | # | 引用                                                                                                                尘埃观世界 说：                                                        好多事情第一次听说                            2019年2月22日 14:18 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9de4e983cf45',t:'MTc0MzI0MzQzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2009/03/a_chinese_intellectual_s_memoir_1978-2007.html
图说西兰公国 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    图说西兰公国 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：《Joel谈软件》出版下一篇：买基金，就买指数基金&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              图说西兰公国                                                                                    作者： 阮一峰                                    日期： 2009年12月 5日                                                                                                                                            前几天查资料的时候，意外发现，中文维基百科有一个有趣的条目："西兰公国"。                                                                                                                它的内容非常详细，知识性和趣味性十足，读来引人入胜。根据修订历史，在四年时间中，大概有超过五十个人对这篇文章做出过贡献，这充分证明了"开放式合作"的威力。我为此文配上图，转贴在下面，希望有更多的人使用维基百科或其他互联网工具，把自己的知识贡献出来。==========================西兰公国维基百科，自由的百科全书1. 西兰公国（英文：Principality of Sealand），由个人宣称建立而未被国际普遍承认的国家。它声称怒涛塔（Roughs Tower）是该国的仅有陆上领土。这是一个位于英吉利海峡之上的废弃人造建筑，约距英国英格兰萨福克郡海岸10公里（6英里）。（图一）2. 该国自建立以来一直由其元首派迪·罗伊·贝茨和他的家人以及合作伙伴占据。西兰公国的常住人口很少超过五人，其可供居住的领土面积大约有550平方米。（图二 怒涛塔的地理位置）3. 西兰无疑是世界上最知名的私人国家。虽然没有什么人把它的主权和合法性当作严肃的事情看待，不过在国际法的应用领域，有时候人们仍然把它当作一个有趣的个案来加以研究。（图三）4. 怒涛塔的建造1942年，时值第二次世界大战，作为实行默恩塞尔海洋堡垒（Maunsell Sea Forts）计划的一部分，皇家海军开始在英格兰开工建造怒涛堡垒（HMS Fort Rough）。怒涛堡垒的底部是一艘驳船，驳船上的两座高塔将驳船与顶部的甲板相连，建筑物都座落在甲板上。建造完毕后，驳船再被拖拽到萨福克郡外海面上的怒涛沙洲（Rough Sands sandbar）的指定区域之后被故意凿沉，以使之陷入沙洲的预定位置。因此，现在看到的怒涛塔在水面上的可见部分，其实只是整个建筑的上半部分而已。（图四 怒涛塔的建造过程。）5. 二战期间，驻守在堡垒上的英国皇家海军官兵大约维持在150到300人的范围内。不过当战争结束后，所有的官兵都撤离了堡垒，怒涛堡垒被彻底废弃了。（图五 怒涛塔的设计图纸。）（图六 怒涛塔建造时的照片。）（图七 怒涛塔的整体示意图。）（图八 二战时电报人员工作的照片。）6. 派迪·贝茨对怒涛塔的占领1967年9月2日，前英国皇家海军上校派迪·罗伊·贝茨（Paddy Roy Bates）占领了这个无人堡垒，并且根据他自己对于国际法的解释，声称对怒涛塔行使主权。西兰还宣称怒涛塔周围半径12海里的水域都是该国的领海，该国还至少一次在这一领海范围内抵抗过外国的侵犯。在1990年的事件中，英国皇家海军辅助船"黄金眼号"（Golden Eye）就遇到过西兰方面的火力反击。（图九 1972年贝茨一家的照片。）7. 对英国"侵犯"的抵抗1968年，一艘英国海军的巡逻船只进入了西兰公国，帕迪和儿子迈克尔·贝茨（Michael Bates）向他们鸣枪示警，并向巡逻船只投掷燃烧瓶，结果被英国法庭传令受审。关于当时船只上人员前来的目的有两种说法，一种说法是他们是来试图驱逐居住在堡垒上的贝茨等人的，另外一种说法是他们只是为了修理附近的导航浮标。最后，于1968年11月25日，法庭宣布由于事件发生地处在英国领海之外，他们对此事件无权干预。（图十 ）8. 政变1978年，帕迪·贝茨任命的西兰公国"首相"亚历山大·G·阿亨巴赫教授（Professor Alexander G. Achenbach）趁贝茨不在西兰之机，与其他几名德国、荷兰公民策动了一起"武装政变"，"强制接管"了怒涛塔，并俘虏了帕迪的儿子迈克尔。帕迪·贝茨闻讯后招募了一批雇佣兵，在一次成功的直升机机降突击之后，他重新夺回了堡垒的控制权。他俘虏了入侵者，并把他们作为了战俘。参与政变的荷兰公民在"战争"结束之后被遣送回国。不过前公国"首相"，德国公民阿亨巴赫教授就没有这么幸运了。由于他持有西兰公国护照，他被指控叛国罪，并被拘押了起来。（图十一 平台上的景象。）9. 各国的干涉其后，荷兰和德国政府都曾向英国政府提出要求，要求英国政府设法推动释放阿亨巴赫。但是英国政府援引1968年的判例，宣称西兰不在他们的管辖范围内，他们无权干预此事。于是，德国政府决定派遣一名外交官前往怒涛塔，直接与贝茨磋商阿亨巴赫的释放问题。在几周的谈判之后，贝茨的态度明显温和了许多。后来，他还宣称德国外交官对西兰的访问，标志着德国政府对西兰公国的"事实上的"承认。（但德国政府始终没有承认他的这一说法。）（图十二）10. 流亡政府在被遣送回国之后，阿亨巴赫教授在德国组织了一个流亡政府，为了与帕迪·贝茨针锋相对，他自封"枢密院院长"（Chairman of the Privy Council）。当1989年，阿亨巴赫教授因健康原因辞职之后，原流亡政府"经济合作大臣"（Minister for Economic Co-operation）约翰内斯·塞格尔（Johannes Seiger）接管了叛乱政府的控制权，并自封"首相兼枢密院院长"（Prime Minister and Chairman of the Privy Council）。之后，塞格尔继续宣称，他才是西兰的正统统治者。（图十三 怒涛塔里的休息室。）11. 护照的废除很长一段时间里，一家注册在西班牙的公司一直在大量制造和出售西兰公国的护照（买家大多是东欧人）。这家公司据信与塞格尔的流亡政府长期以来一直在进行着合作。虽然贝茨家族并不承认这些护照的"合法性"，但是买家还是趋之若鹜。这些护照中的不少甚至牵涉进了一些国际上的著名犯罪案件，例如詹尼·范思哲谋杀案。由于这些护照的流通量相当庞大（估计在150,000张左右），在1997年，贝茨家族宣布所有西兰公国护照均为无效，包括他们自己在之前30年所发行的西兰公国护照。（图十四 西兰公国的护照。）12. 西兰大火在2006年6月23日，西兰怒涛塔发生怀疑是由一个发电机引起的大火，当时驻扎在塔中的一位安全人员受伤，被英国急救直升机救起送往医院。同时在海上亦有消防队员通过船只发射水柱灭火。（图十五 起火了。）（图十六 冒出滚滚浓烟。）（图十七 浓烟在几十公里外都可以看到。）（图十八 火势变大了。）（图十九 整个平台都开始燃烧。）（图二十 火势的近景。）（图二十一 赶来救火的船。）（图二十二 救火船喷洒水柱。）（图二十三 大火得到了控制。）13. 因为消防队员并没有进入塔中，这次火灾的损坏程度还不是清楚。有报道说，摄政王迈克尔·贝茨曾经试图进入塔中，并在计划重建"国家"。（图二十四 火灾后现场一片狼藉。）14. 出售西兰公国在2007年初，贝茨家族于《泰晤士报》刊登广告，愿意以6500万英镑的价格出售整个国家。不过理论上公国不能出售，所以实际上只是将西兰公国的"统治权"转让。（图二十五 怒涛塔上的卫星天线。）15. 对外交流英国政府对架设在西兰的服务器的通信和命令记录都进行严格的监控。由于西兰公国的"国家"地位未得到ICANN的承认，并且它也不具备英国政府认可的通讯许可证，因此西兰只能通过卫星传输将信息传送至认可这些信息的国家进行中转，当然这种方法速度相对较慢。当通过建设私人电台使用未经英国政府认可的波段发送消息的尝试失败后，西兰现在已经架设了一条连接英国本岛的微波传送线路，尽管这也未经英国政府的批准。西兰公国在海上建设未经英国批准的船舶航标的计划最终未能实现，同时飞往怒涛塔的不定期航班（直升机）也宣告暂停。西兰公国的所有信件和包裹都通过英国邮政部门被寄往英国本岛的一个指定地址。怒涛塔所在的海域属于英国属地，因此"西兰公国公民"在这片海区的活动也受到了很大的限制。（图二十六 从怒涛塔上的平台向外眺望。）16. 作为合法国家的理据西兰宣称西兰公国作为一个独立的主权国家，其合法性基于以下三点： A. 当派迪·罗伊·贝茨在1967年占领怒涛塔时，怒涛塔位于国际公海水域范围内，并不属于英国或任何其他第三国的管辖范围内。因此，西兰拥有法理上的合法性。B. 英国政府和德国政府在与怒涛塔的占据者的交涉过程中，已经"在事实上"承认了西兰的主权。但这两个涉及到的国家否认这种说法。C. 前文提及的英格兰法庭1968年的判例认为怒涛塔位于国际公海水域，所以它不属于英国国内法庭的司法范畴。这个判例事实上确认了西兰公国的主权。（图二十八 内部的起居室。）17. 国际法的标准《蒙得维的亚关于国家权利与责任公约》（the Montevideo Convention on the Rights and Duties of States）详细规定了在国际法中，一个"国家"是否合法的一系列标准。这些标准包括：有确定的领土、有常住的人口、有一个政府以及与其它的主权国家有外交关系。以上四条标准是建立一个主权国家的必要条件。虽然以上的四个条件都没有固定的解释标准，但是，这些标准自身的一般特性，在一定程度上也可以作为西兰之所以合法的理由之一。（图二十九）18. 法律争论关于西兰公国是否是一个合法国家的法律争论，还集中在国家的构成学说上。其中的一个观点认为，以上标准中，是否为其他国家所承认都比其他几点重要得多。这一点在国际法中得到了广泛的体现，却始终没有被完全承认。由于现在尚未有任何国家承认西兰公国的存在，因此基于以上标准，西兰公国还不能成为一个国家。（图三十 怒涛塔内部的柴油发电机。）19. 在国家的构成学说中，"对存在的承认"（recognition of existence）与"外交承认"（diplomatic recognition）是两个不同的概念。举例来说，尽管英国政府在外交上不承认利比亚，但是国际社会对利比亚的承认确是公认没有疑义的。而英国政府也会在必要的时候要采取特殊措施保护在该国的侨民，同时它也不承认任何其他国家对利比亚的领土拥有主权。根据前述的在英国法庭在1968年的判例，英国已经将她的领海范围延伸到了12海里（约合22公里）。这样一来，根据1958年之后的国际法，英国便可以在以上区域行使其合法权利。这一判例以及此后的判例，也已经明确地对此进行了说明，并且解释了人工岛的法律地位。不过，事实上怒涛塔只是一艘沉船，并不适用于以上的裁决。根据1982年签署的《联合国海洋法公约》，由于没有任何过渡法承认由某个邻近国家建造的建筑物，其国际法意义上的存在地位并不被承认。这也就是说，一个人工岛屿既不能在建造完后作为一个主权国家存在，也不能成为一个国家的领土，或者是作为计算某国的专属经济区或领海的延伸基点。不过，由于怒涛塔不是一个人工岛，而是一艘沉船，所以这些条款并不能适用，因此作为物主的英国政府（因为英国政府是其建造者，且拥有怒涛塔下大陆棚的主权）有必要将它拆除。虽然英国政府曾多次重申对怒涛塔的主权，不过看起来，这似乎只是英国政府为了在不被迫的情况下，克制有关的评论和武力行动的表现。根据在30年的保密期过后公开的英国政府文件，英国政府曾制订计划，试图动用武力夺回堡垒的控制权。不过最后首相出于避免人员伤亡以及法律和国际关系上可能带来的麻烦的考虑，并没有批准这一计划。（图三十一）20. 贝茨家族暂且抛开西兰的法律地位不谈，作为一个受承认的主权实体，西兰公国是由其世袭的王室----贝茨家族统治的。自从西兰建国时起，帕迪·贝茨和琼·贝茨的头衔就变成了"西兰王室罗伊亲王殿下及琼王妃殿下"。帕迪·贝茨自封为"君主"，而琼也被罗伊封为"共治者"（"in joint rule"）。而他们的儿子迈克尔·贝茨（即"迈克尔王子殿下"）自1999年以来就成为了公国的摄政王。因此，他事实上已成为了西兰的国家元首兼政府首脑。而在2004年10月25日，桑德兰大学（University of Sunderland）举办的一个私人袖珍国家研讨会上，代表西兰出席的则是迈克尔·贝茨之子詹姆斯，即"詹姆斯王子殿下"。（图三十二）21. 西兰王室的成员据信都保留有英国的公民身份，而且自1999年以来，贝茨家族的成员们就不再常住在怒涛塔上了。现在怒涛塔由几名全权代表迈克尔·贝茨的看守者留驻。而迈克尔·贝茨本人则居住在英国埃塞克斯郡（Essex）的滨海利（Leigh-on-Sea）。由于西兰在国际上不被承认，所以贝茨家族的成员们只能以英国国民的身份进行国际旅行。（图三十三）22. 西兰的运作西兰公国的宪法在1995年制定完毕并付诸于实行。其内容相当简单，由一段导言和其它七个章节组成。导言宣称西兰是一个独立自主的主权国家，其它七章则规定了西兰公国政治和其他方面的一些重要事项：西兰公国采用君主立宪政体；行政权力授予政府办公署（government bureaux）；政府办公署的职能；公民的权利以及义务；参议院的顾问职能及其作用；顾问法庭的职能；禁止在国境内携带武器（除指定的"西兰卫队"（Sealand Guard）的成员外）；君主拥有解释并阐明国家外交政策和修改宪法的特别权力；君权父系世袭等等。（图三十四 直升机平台。）23. 现在西兰公国政府办公署的下属部门有：外务局（the Bureau of External Affairs）、内务局（the Bureau of Internal Affairs）以及邮政电信和科学技术局（the Bureau of Posts Telecomms and Technology）。显而易见，西兰政府的大多数机关要不是没有任何活动，处于停止办公状态，就是在西兰本国的领土外进行办公。自西兰公国建国之日起，罗伊·贝茨就把"国家的发展"全权委托给了西兰国家公司（Sealand State Corporation），不过其现在的状态和经营活动（如果有的话），已经是不得而知了。（图三十五）24. 在2000年，全世界又把目光聚焦西兰----因为他们建立了一个名为"避风港公司"（HavenCo）的数据避风港来管理怒涛塔。根据西兰官方网站上所述，这里不允许非西兰国籍的外部访客和外部操作[9]。另外，在罗伊·贝茨淡出西兰的政治事务之后，其子迈克尔依然坚持西兰拥有对怒涛塔的主权。（图三十六 会议室。）25. 西兰的法律体系据称仿照自英国式的习惯法，而其各种法令和条例则是以由君主颁布法令的形式付诸实施的。（图三十七 怒涛塔里的一台老式柴油发电机。）26. 避风港公司避风港有限公司（HavenCo Limited）是一家创建于2000年的数据主机服务提供商，其运作地点就在西兰。2000年8月22日，迈克尔·贝茨在英国贸易工业部下属的公司管理部门对其进行了注册，注册号是04056934，而注册的办公地点则是在英格兰伦敦科尔德港的金泰尔大楼11号（11 Kintyre House, Cold Harbour, London, E14 9NL England）。公司的董事包括公司的首席运营官（Chief Operating Officer）迈克尔·罗伊·贝茨，以及一位出生于1979年3月17日的美国公民瑞安·唐纳德·莱基（Ryan Donald Lackey）。公司的创始人还有肖恩·哈斯廷斯（Sean Hastings）、乔·哈斯廷斯（Jo Hastings）及艾维·弗里德曼（Avi Freedman）。后来，公司的注册地点又被更改到了塞浦路斯。（图三十八 从平台上向下看。）27. 甫一建立，避风港公司便获得了全世界媒体的广泛关注----不仅成为了《连线》杂志（Wired）的封面公司，还被全世界其它200多家平面媒体和数家电视台报道。据这些报道所述，避风港公司不仅已经在西兰有了可靠的托管设备，而且已开始着手运作数字天堂业务。不过也有批评者指出，这些报道给人们以先入为主的印象，认为避风港公司注册在西兰本土，因此能够提供注册在西兰的国际域名，而它事实上并没有权力这么做。避风港公司宣称其自2000年12月起就开始进入正常运作，根据他们的可接受使用政策（AUP），除儿童色情、垃圾邮件和恶意黑客行为外，其他内容都可以接受。他们还声称，由于西兰不是世界贸易组织（WTO）和世界知识产权组织（WIPO）的成员，不在国际版权法的管辖范围内，因此存放在他们的服务器上的数据可以不受版权和知识产权法规的约束。避风港公司经营的其它业务还有：IT咨询、系统管理、离岸软件开发和电子邮件服务等等。在2001年9月11日美国遭受恐怖袭击之后，莱基宣称避风港公司的业务中"有悖国际共同习惯和惯例"的内容将会被关闭。避风港公司还说，其业务几乎没有遇到来自世界上的任何国家和组织的麻烦。不过据其反对者透露，英国政府已经通过根据英国法律中的相关条文，来对进出西兰的未经许可的数据加强监管来"平静地作出了反应"了。尽管英国政府的用意何在并不清楚，而且暂时也没有证据证明英国政府曾这么做。由于在公司的管理问题上与贝茨家族有分歧，在严酷的环境下，瑞安·莱基于2001年离开了避风港公司。避风港现在依然在运作，不过其业务的具体范围和情况就不为外人所知晓了。（图三十九 电力控制室。）28. 避风港公司与尼尔·斯蒂芬逊（Neal Stevenson）的小说《编码宝典》（Cryptonomicon）中虚构的数据汇集颇有异曲同工之处，两者在很多细节上更是如出一辙----都有一个名叫艾维（Avi）的投资者；都座落在一个岛上；都与密码朋克（cypherpunk）相联系；都在传输信息的过程中使用加密等等。不过，避风港公司在这部小说开始大规模流行之前就已经开始运作了，而数据汇集这个概念也早已不是什么新鲜的话题了。把小岛作为避税港的做法更是已有上百年的历史，深究起来数据汇集其实也可以算是以上两个概念在现代的一种延伸。（图四十 怒涛塔里的机房。）29. 邮政与邮票1969年，西兰开通了与比利时布鲁塞尔之间的邮路，一架直升机开始在两地间运送信件和包裹。为此，西兰特地发行了一批邮票。这批贴着西兰邮票、盖有西兰邮戳的邮件无疑具有重要意义。而对于这批来自西兰的邮件，比利时邮政部门既未征收罚款也未退回，而是按照一般的国际邮件处理。因此，有人认为这其实象征着比利时对西兰存在的一种默认。虽然自1960年代后，西兰只发行了几批次邮票，数量也很可怜，不过自西兰公国寄出的邮件上绝大多数还是贴上了西兰的邮票、盖上了西兰的邮戳，因为这些邮件的数量也是极其有限的。依照英国皇家邮政的一贯政策，如果国内信件的信封上没有贴英国邮票，邮政部门就会在上面打上"revenue protection"（意为"保护国家收入"）的戳，之后他们会向收件人收取邮资----不过来自西兰的信件（如果信封上面有西兰的邮票或邮戳），却不是被这样处理，而是与其它的国际信件一样正常邮递。西兰公国并不是管理国际信件邮寄的组织----万国邮政联盟的成员，所以其信件的邮寄地址上的国家只能写成一个"外国"（即英国）。与之相类似的是北塞浦路斯土耳其共和国，它也不是万国邮政联盟的成员，因此其邮寄地址上的国家必须填写为土耳其，如"Mersin 10, Turkey"。因此寄往西兰的信件的邮寄地址必须写成如下格式："Sealand 1001; Sealand Post Bag, IP11 9SZ, UK（英国西兰（邮包），邮政编码：IP11 9SZ）。而根据英国皇家邮政的邮政编码系统，这个编码属于费利克斯托（Felixstowe），所以根据皇家邮政官方网站上的标准地址，西兰的邮政地址应该书写为"Sealand Fort, PO Box 3, FELIXSTOWE, IP11 9SZ, UK（"英国费利克斯托3号邮政信箱，西兰堡垒。邮政编码：IP11 9SZ。"）。邮票收藏家通常把西兰的邮票作为"地方类邮票"（"locals"，这类邮票在缺乏定期邮政服务或需要第三地转发邮件的地方通用）收藏。（图四十一 西兰公国的邮票。）30. 钱币西兰公国的官方流通货币是与美元保持等值的"西兰元"（Sealand Dollar）。自1972年以来，西兰已铸造了许多不同面值硬币。由于西兰人口极少，其自然条件无法进行生产，而且根本没有真正的经济，所以这些钱币根本不可能进行正常的货币流通。不过，由于这些硬币都是用贵金属铸造的，因此不少投资者和钱币收藏家对此趋之若鹜。而在1990年代早期，在德国的"流亡政府"也铸造了一批钱币，这些钱币上所印的自然是流亡政府的总理塞格尔的头像。（图四十二 西兰公国的硬币。）31. 风力农场西兰公国孤单的日子将不会持续很久----因为它马上将要迎来一些新邻居了：西兰公国附近的海面将会被用于建造一批离岸风力发电厂。不过据分析，虽然英国政府并不需要在其进一步建造问题上与西兰公国进行互动，不过由于英国和西兰公国在各自声称的领海范围问题上有一定矛盾，因此并不排除双方在各自的海权问题上出现冲突的可能性。（图四十三 怒涛塔里的休息室。）（图四十四 怒涛塔里的走廊。）（图四十五 怒涛塔里的杂物间。）（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2009年12月 5日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（23条）                                                                                                    zp 说：                                                        这个最适合做海盗电台了                           2009年12月 5日 18:32 | # | 引用                                                                                                                Johnny 说：                                                        海盗湾服务器也应该放上去                           2009年12月 5日 18:51 | # | 引用                                                                                                                华星 说：                                                        哈哈，有意思……                           2009年12月 5日 19:11 | # | 引用                                                                                                                wealk 说：                                                        哈哈 太有意思了                           2009年12月 5日 20:04 | # | 引用                                                                                                                realzhang 说：                                                        英国政府没学会强制拆迁啊                           2009年12月 5日 20:50 | # | 引用                                                                                                                Alvin 说：                                                        cyberpunk 基本上是译为赛博朋克cyber取自控制论cybernetic，据我所知是一种科幻小说的类型（黑客帝国即属于此），同时尼尔斯蒂芬森也是此领域的知名作者，我想WIKI上会有更好的解释，阮兄可以上去看看，这个词非常值得了解，对计算机黑客文化也有不少影响，                           2009年12月 5日 21:45 | # | 引用                                                                                                                嘉佑 说：                                                        哈哈，多次从照片中看到 2 个网址，sealandgov.com 和 havenco.com ，不过这两个网址均不能访问。不过我找到西兰公国现在的政府网址了， 感兴趣的朋友去看看 http://sealandgov.org这个国家一直存在着，也只有在英国这样的事情才会出现。                           2009年12月 5日 23:08 | # | 引用                                                                                                                run 说：                                                        上次看了你这介绍海盗湾就说到了西兰公园,就特地去WIKI看完了,哈哈,比小说还好看~                           2009年12月 5日 23:29 | # | 引用                                                                                                                闲耘™ 说：                                                        上次看过维基了，不过这次的图片好多，比维基百科上的还多。                           2009年12月 6日 00:06 | # | 引用                                                                                                                老饕 说：                                                        好传奇啊！！                           2009年12月 6日 17:34 | # | 引用                                                                                                                mz 说：                                                        让我想到去南太平洋找个无人岛                           2009年12月 6日 18:15 | # | 引用                                                                                                                pig 说：                                                        现在国内的BT@CHINA也被禁了啊，真是黑云压城了                           2009年12月 6日 18:17 | # | 引用                                                                                                                xmiangui 说：                                                        这个公国让我想到在《意呆利》里面老是被别人无视。                           2009年12月 6日 20:56 | # | 引用                                                                                                                蔡玉环 说：                                                        真有意思。感恩。                           2009年12月 6日 22:28 | # | 引用                                                                                                                李超 说：                                                        大开眼界，有意思！                           2009年12月 7日 11:14 | # | 引用                                                                                                                tangjiarun 说：                                                        我记得上次看WIKI的时候，图片没这么丰富啊，看来博主的来源可真是丰富啊                           2009年12月 7日 11:44 | # | 引用                                                                                                                OOLI 说：                                                        有创意啊，                           2009年12月 9日 11:04 | # | 引用                                                                                                                崔德生 说：                                                        哈哈。有意思。介绍得很详细。                           2009年12月 9日 15:01 | # | 引用                                                                                                                Alvin 说：                                                        现在Very CD也挂了，一片凄惨啊                           2009年12月 9日 23:42 | # | 引用                                                                                                                Simon 说：                                                        博主总结的好详细啊，很精彩。正好我也在找这个国家的资料，我借用你的资料转载了。我已经标明了出处，谢谢了！                           2009年12月22日 00:30 | # | 引用                                                                                                                深蓝 说：                                                        博主啊，图挂了！                           2013年10月15日 12:07 | # | 引用                                                                                                                yangjiaxiu 说：                                                        2019年前來考古                           2019年4月19日 17:32 | # | 引用                                                                                                                Shmily 说：                                                        非常详细，博主辛苦了！                           2019年6月19日 15:45 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e953efb69cf45',t:'MTc0MzI0MzA4NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2009/12/principality_of_sealand.html
推荐日本电视剧《坂上之云》 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    推荐日本电视剧《坂上之云》 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：网络接入商不应承担连带下一篇：海盗湾的圣诞祝词&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              推荐日本电视剧《坂上之云》                                                                                    作者： 阮一峰                                    日期： 2009年12月20日                                                                                                                                            最近，有一部很特别的日本电视剧《坂上之云》。                                                                                                                这部戏的构思很宏伟，通过秋山好古、秋山真之、正冈子规三个主人公的故事，讲述了"明治维新"以后，日本走向现代化国家的历程。用剧中的话说，就是"一个只有农业和纺织的弱小国家，拼命努力追赶着列强的脚步"。此剧完全按照历史拍摄，三个主人公都实有其人。秋山好古被称作日本骑兵之父，曾在日俄战争中击败号称世界最强的哥萨克骑兵。秋山真之在日俄战争中担任海军参谋，是决策的灵魂人物，封锁旅顺港的计划就是他提出的。正冈子规是明治时代的大文学家，一代俳句宗师。"坂上之云"的本意是"顺着山坡（坂）上升的云"，比喻明治时代的日本奋发图强，国力不断增强的过程。在电视剧中，主人公就说过："倘若正有一朵白云闪耀，那就望云爬坡吧。"小说原作出自司马辽太郎之手，1968年至1972年间连载于《产经新闻》，在日本是家喻户晓的名著。日本NHK电视台投入巨资，将小说拍成了电视剧，共分三部13集，要用三年时间，直到2011年才能全部播完。今年11月29日开始播出第一集，今天晚上（12月20日）会播出第四集。我已经看完了前两集，觉得很值得一看。你不仅可以从中了解日本历史，更重要的是，它详细讲述了1894年的中日甲午海战和1904年发生在旅顺的日俄战争，让我们有机会，从日本的角度了解这两场对中国近代史影响重大的战争。下面是发表在"宽带山"论坛上的一组截图，从中可以一窥这部电视剧的精彩之处。截图直到第三集为止，讲到日本军队战胜中国军队，占领朝鲜。更精彩的甲午海战则是今晚播出的第四集《日清开战》的内容。=====================1. 1886年8月，北洋水师提督丁汝昌率舰队访问日本。中国从德国购买的定远、镇远两艘亚洲第一巨舰驶入横须贺。2. 羡慕嫉妒、愤愤不平的日本海军官兵登上中国战舰参观。定远、镇远激发了日本海军的野心。3. 两国海军官兵敌意与对抗的眼神。4. 舱下中国水兵的生活。 5. 丁汝昌与后来的日本"海军之神"东乡平八郎相遇。这时的东乡还仅是一个基地参谋长。6. 1894年，中日战争已迫在眉睫，以朝鲜为爆发点。7. 日本高层密谋侵占朝鲜。8. 1894年7月25日早上，满载中国陆军的高升号及满载饷银弹药的操江号在丰岛洋面遭遇日本舰队----日本旗舰吉野率浪速、秋津洲三舰。9. 浪速舰长就是后来著名的日本海军"军神"东乡平八郎。10. 东乡平八郎认定这艘英国船内必装有中国军队，便进行了拦截。9：15，浪速发出旗语命令："停驶"（J.W.--to stop immediately)、"下锚"！（L.P.--to anchor)。11. 高升号是一艘由中国政府租借、载有1116名中国陆军的英国商船，在朝鲜附近洋面遭遇日本海军。12. 日舰命令该商船随其驶向指定地区，被船上的中国军人断然拒绝。13. 日本军官回到浪速后，挂出第四次信号："立刻斩断绳缆，或者起锚，随我前进！"。14. "高升"号上的中国军官表示誓死不投降，并通过德国顾问汉纳根居间翻译告诉船长："宁愿死，决不服从日本人的命令！"（rather die than obey Japanese orders）。15. 13：00，浪速向高升发射一枚鱼雷，未中，随即，再发射一枚，同时右舷炮齐射两次。16. 日舰不顾中日尚未宣战和该船悬挂英国国旗、由英国水手驾驶，悍然发射鱼雷及大炮，将该艘商船击沉。17. 高升号被击中后开始倾斜下沉。船上中国官兵用步枪勇敢地还击。18. 最后结果，"操江"被俘。"高升"号被"浪速"击沉，全舰中国官兵1116人，法、英、德三国军舰救起241人，漂流获救2人，被日军俘虏2人，共245人获生，其余871名官兵均壮烈殉国。高升号74名船员中，只有12人得救，余皆葬身海底。19. 6天后的8月1日，中日相互宣战，这时在清廷内部，以光绪帝为首的主战派占上风。是年慈禧太后六十岁，她盼望从速结束战争，以免耽误她大办庆典，因此倾向议和，但迫于清议，一时尚不敢公然主和。 20. 平壤之战发生于9月15日，是双方陆军首次大规模作战。当时驻守平壤的清军共三十五营，一万七千人；进攻平壤的日军有一万六千多人，双方兵力旗鼓相当。21. 战斗在三个战场同时展开：其一为大同江南岸战场。晨三时，日军第九混成旅团在大岛义昌少将的指挥下，首先向大同江南岸清军发起进攻。太原镇总兵马玉崐督队英勇抗击，日军官兵死伤惨重，无力再战，大岛义昌负伤，只得下令退却，午后二时全部撤离战场。22. 其二为玄武门外战场。玄武门为日军的主攻方向，因此集中了优势兵力，由立见尚文少将的第十旅团（又称朔宁支队）和佐藤正大佐的第十八联队（又称元山支队）担任主攻。高州镇总兵左宝贵登玄武门指挥，亲燃大炮轰敌，官兵感奋，英勇杀敌。激战中，左宝贵不幸中炮牺牲，其部下三位营官也先后阵亡。午后二时玄武门遂被日军攻陷。23. 其三为城西南战场。晨七时，野津道贯中将亲率日本第五师团本队，从平壤西南用炮火掩护步兵冲锋，清军马队进行反击。至中午，野津道贯见难以得手，下令暂停攻击，退回驻地。24. 此时对清军来说，战事尚有可为，但清军总统（总指挥）叶志超贪生怕死，于午后四时树白旗停止抵抗，并下令全军撤退。六天里，清军狂奔五百里，于２１日渡鸭绿江回国。日军占领朝鲜全境。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2009年12月20日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（32条）                                                                                                    rosemary 说：                                                        大河剧粉飘过。历史剧日本真的拍得很好。                           2009年12月20日 21:34 | # | 引用                                                                                                                GHawk 说：                                                        刚看了第一集，的确是好片！第一次让我从日本的视角了解近代日本现代化的过程。                           2009年12月20日 21:34 | # | 引用                                                                                                                路人 说：                                                        岔开个话题。不知道为什么，我想起了 NHK 的《激流中国》。大陆拍的电视跟日本比还是差别很远。“在大陆，最没有新闻价值的东西就是新闻”－－－某人语                           2009年12月20日 21:35 | # | 引用                                                                                                                幕后工作者 说：                                                        他是怎么播放的？13集要三年？？                           2009年12月20日 21:41 | # | 引用                                                                                                                rosemary 说：                                                        引用幕后工作者的发言：他是怎么播放的？13集要三年？？貌似因为编剧自杀和经费就推迟了放映。目前来说是很新的片子。                           2009年12月20日 21:51 | # | 引用                                                                                                                rosemary 说：                                                        补充下- -大河剧都是长时间播放风格。一般一周播一次。这一部很特别。                           2009年12月20日 21:54 | # | 引用                                                                                                                郑昀 说：                                                        《坂上之云》第一集配搭流水线的画面，画外音说道：『处在旧文明中的亚洲看来，日本一定是疯了吧，而在欧洲人眼里看来，也一定不过是可笑的山寨罢了，然而当时的日本和日本人却是非常当真的』优酷视频：http://is.gd/5uPhB                           2009年12月20日 22:21 | # | 引用                                                                                                                Marshall 说：                                                        emule上也有下载，直接搜索“坂上之云”                           2009年12月20日 22:52 | # | 引用                                                                                                                pin 说：                                                        推荐给站长另一部正在追的剧，也是几年前预告，最近才出来，目前更新到10集，11集要等到2010年1月14日左右。——《不毛地带》。                           2009年12月20日 23:23 | # | 引用                                                                                                                IQ75 说：                                                        哇，我也是昨天才在土豆上看了第一集。非常感人，强烈推荐。                           2009年12月20日 23:32 | # | 引用                                                                                                                x 说：                                                        阮老師也上寬帶山？？。。。。                           2009年12月21日 01:20 | # | 引用                                                                                                                小扁豆 说：                                                        你之前提到的Boston Legal我看了，挺不错的片子，推荐你一部英剧《是，大臣》和它的续集《是，首相》，不是新片子，也很有意思。祝好~                           2009年12月21日 02:05 | # | 引用                                                                                                                Alvan 说：                                                        对于这段历史，强烈推荐俞天任的《浩瀚的大洋是赌场》，这本书（还未出版，仍在连载）完整的记述了日本太平洋舰队从诞生到灭亡的全过程，跨度从甲午海战一直到二战结束。关于甲午海战的部分尤其发人深省。                           2009年12月21日 02:19 | # | 引用                                                                                                                自测抑郁症 说：                                                        我也很奇怪，13集的电视剧要拖三年？在伟大的祖国，3年时间不知道可以拍出多少让人作呕的电视剧！                           2009年12月21日 10:08 | # | 引用                                                                                                                抬头见喜 说：                                                        嗨嗨，在哪儿看的呀？说一下呀。                           2009年12月21日 10:37 | # | 引用                                                                                                                xtdou 说：                                                        大河剧。。。大河剧笃姬也很不错的..                           2009年12月21日 10:41 | # | 引用                                                                                                                snakekkk 说：                                                        郁闷，转了我的帖子，为什么不转我的观点，删节版啊。。。                           2009年12月21日 11:22 | # | 引用                                                                                                                snowspring 说：                                                        看到这些截图，想起了我小学时放的电视《北洋水师》，那时每个假期都放，现在有时想起那首主题歌时还思绪万千。关于那段历史的有关书籍文章可谓是汗牛充栋，给我留下深刻印象的就是日人的忧患意识，进取心和尚武精神，清朝比起日本就如一个暮气沉沉的老人对一个英气勃勃的青年，岂有不败之理。作为民族主义者，我对司马辽太郎不太感冒，但我尊敬一切为了本民族屹立于世界而努力的仁人志士。有些部门是不会拍这种片子的，除了吃饱混天黑封BT外还能干什么事？                           2009年12月21日 15:32 | # | 引用                                                                                                                想~~~~ 说：                                                        还是很期待连载，看电视剧时间太长有点力不从心。谢谢阮兄！                           2009年12月21日 18:44 | # | 引用                                                                                                                精灵大树 说：                                                        很好，我国兵法讲兵不在多，而在于精！用来形容这部电视剧最合适了。期待阮兄连载中！                           2009年12月21日 22:38 | # | 引用                                                                                                                sunshine 说：                                                        看起来像是日本国民励志片啊。                           2009年12月22日 09:47 | # | 引用                                                                                                                babyone 说：                                                        篡改历史严重啊看了气人 不看也罢                           2009年12月22日 20:40 | # | 引用                                                                                                                sos 说：                                                        只看了前2话。第3话开始找不到汉化字幕版。。                           2009年12月22日 22:38 | # | 引用                                                                                                                yang 说：                                                        前一段还有一部讲日本战后重建的《官僚们的夏天》                           2009年12月23日 10:45 | # | 引用                                                                                                                胡说 说：                                                        胡说八道！日本民族的劣根性在于把屠杀当神圣！在于其拒绝对其50余年的战争暴行忏悔！                           2009年12月24日 15:29 | # | 引用                                                                                                                罗生门 说：                                                        多谢推荐！请以后再多荐些。阮兄英文很好，但好像更爱看日片。以前有一部《讨人嫌的松子的一生》，我也是经你推荐后才找来看的，感觉很不错。                           2009年12月25日 14:59 | # | 引用                                                                                                                飞翔 说：                                                        > babyone 说：> 篡改历史严重啊> 看了气人 不看也罢鬼子在穿改历史也比中国当朝真实！                           2009年12月25日 22:29 | # | 引用                                                                                                                fgffg 说：                                                        日本近代的名人除了战争狂就是文学家，所以围绕这三个人可以有很大发挥余地。比如夏目漱石和子规是同学，还装作猫的样子逗乐，就是他的名作《我是猫》；作家兼军医森鸥外和子规在中国战场相遇，探讨战争的意义。这些情节大多都是小说家编的啦，可是很好看。                           2009年12月28日 10:11 | # | 引用                                                                                                                三十 说：                                                        丁汝昌是谁演的？好猥琐。。                           2010年1月 1日 10:42 | # | 引用                                                                                                                ashoftime 说：                                                        《官僚们的夏天》也很不错                           2010年1月 4日 18:57 | # | 引用                                                                                                                ganlou 说：                                                        突然想到找了一下中国朝代顺序拍成的中国历史电视剧名称（也要按照历史顺序排列）风神榜：商（西）周交替越王勾践：东周（春秋）孙子兵法与三十六计：东周（战国）秦始皇：秦大汉天子，汉武大帝：西汉三国演义：三国贞观长歌：唐少年包青天：北宋射雕英雄转：南宋倚天屠龙记：元皇后马大脚：明康熙大帝，清雍正王朝：清                           2011年4月 2日 09:25 | # | 引用                                                                                                                Andy 说：                                                        这个片很好，就是有些美化侵略战争的目的，那可能是为了日本的政治正确。现在到处都没片源了，好想拿来再看看                           2017年8月31日 23:51 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9692bff6cf45',t:'MTc0MzI0MzEzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2009/12/clouds_over_the_hill.html
网络接入商不应承担连带责任 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    网络接入商不应承担连带责任 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：AOL为什么会失败？&nbsp;下一篇：推荐日本电视剧《坂上之                                                                                分类：                                                                                    观点与感想                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              网络接入商不应承担连带责任                                                                                    作者： 阮一峰                                    日期： 2009年12月18日                                                                                                                                            最近，政府发起"整治互联网低俗风行动"，大批"低俗"网站被关闭。                                                                                                                除了"低俗"网站，网络接入商（ISP）也是此次行动的打击重点。国务院新闻办网络局公开表示：为淫秽色情和低俗网站提供服务的互联网接入服务商，对所接入的网站疏于管理，致使多家淫秽色情网站和大量低俗不良信息长期在网上传播、扩散，严重污染网络环境、败坏社会风气、损害广大青少年身心健康成长。被举报单位要迅速整改，彻底清理所接入的淫秽色情网站和低俗不良信息，切实履行管理责任，有效防范违法信息，以实际整改效果取信于民。这实际上就是说，网络接入商是"淫秽色情和低俗网站"的共犯，必须承担连带责任。所以，各大网络接入商以空前力度，清查了托管于下辖机房的服务器，众多无辜网站惨遭"拔网线"的噩运。中国移动公司的上海怒江路机房，有一台服务器中的某个网站存在低俗内容，结果导致整个机房的近千台服务器全部下线清查。请看一家虚拟主机公司的悲惨经历：2009年11月25日 23点中国移动突击检查网站备案情况，将大量服务器拔线检查，对所有存在未通过备案网站的服务器，移动公司会做封IP处理并追究相关责任。2009年11月25日 23点上海移动认为我们在怒江机房的两台服务器(221.130.201.252和221.130.177.54)有没备案的域名，关停了服务器。但我们查实后发现这些域名所在的空间帐户早已被我们关闭。在这种情况下上海移动还关停服务器实属处理不当。我们正在和上海移动协商处理中。希望能尽快解除关闭。有更新情况我们会在网站公告。2009年11月26日 8点中国移动暂停上海移动怒江路机房所有服务器的接入服务，并要检查每个IP地址对应的网站信息。2009年11月26日 18点由于上海怒江机房中存有违规涉黄现象，受到CCTV主流媒体点名批评，怒江机房采取封闭式突击检查所有服务器运营情况。受此次事件牵连，本公司在怒江机房所有服务器暂时无法访问。目前各方正在沟通中，有进一步的消息我们会及时公告。2009年11月27日 16点我们不再继续等待。合法的检查，哪怕停机一年，我们一定支持。到目前为止，中国移动上海怒江机房只解封了不到5%的服务器，以尚未排查完全部服务器为由，不进行余下机器的解封，即使我们已经按中国移动的要求提交了网站备案，内容资料和承诺书。中国移动在这次事件中表现出这种不诚信的，随意的，混乱的，首创性的管理方式，已经给怒江机房所有用户，包括我们和我们的客户造成了巨大的伤害和损失，我们不再认为服务器继续放在中国移动上海怒江机房是安全的，不再认为今后会得到稳定有效的服务，同时我们也没有必要继续和中国移动一起承担完全不属于我们的义务和责任。所以我们决定将我们在怒江机房的所有服务器迁出，由我公司增加费用转移到上海电信北艾五星级机房。这个机房是五星级规格的机房，管理规范，南北访问速度理想。线路速度和品质会超过现在的怒江机房，也可以改善今年以来怒江机房速度不好的问题。但由于近两天怒江机房大量的机器在迁出，加上怒江机房的效率低下的管理，我们的服务器还需要排队迁出，预计的时间是明天（11月28日）下午迁出并在北艾机房上架开通。还需要我们的客户耐心等待，非常抱歉。中国移动单方面中断对合法网站提供接入服务，这肯定是一种违约行为。但是，我想讨论的并不是这个，而是网络接入商应不应该对客户的行为，承担连带责任？假定有这样一种情况，一位乘客的钱包在公共汽车上被偷窃了，请问该乘客能不能以公交公司管理不善、致使汽车上混入了小偷为理由，向公交公司索赔？回答当然是不能！因为如果公交公司必须对偷窃行为承担连带责任，那么就会导致一种可怕的后果。那就是，公交公司就会采取行动，在乘客上车之前，对每个人进行鉴别，把那些"看上去"很像小偷的乘客拦下来，不让他们上车。不难想像，最后被挡在车外的人，一定是那些比较贫困和弱势的群体，而他们恰恰最需要公交服务。同理，一个机房的上千台服务器中，有一台存在违规网站，请问政府能不能以该机房管理不善、致使违规网站上线为理由，对这个机房做出处罚？回答当然是不能！如果让机房对不归其所有的网站，承担连带责任，就会导致可怕的后果。那就是，网络接入商不得不事先对内容进行审查，把那些"看上去"很可能会违规的网站拒之门外。由于下面会说到的原因，最后被拒绝提供接入服务的，一定是那些比较弱小和弱势的站长，而他们恰恰是最需要互联网提供机会的人群。有人也许会说，在公共汽车上发现一个小偷，比鉴别一个低俗网站难多了。如果你这样想，那么你就错了。事实正好相反，要求网络接入商防止低俗网站，是一件极其困难的事。因为通常来说，一个中型网站就含有数千张网页，大型网站的网页数可以达到数百万张，甚至上千万张。网络接入商根本不可能去一张张网页检查，确保不含有违禁内容，何况有的网站还允许用户上传内容。所以到头来，网络接入商只能要求网站主提供高额押金或第三方担保，或者将提供服务的对象限制为具有一定资本规模的法人。目前的现实情况是，我国的《信息网络传播权保护条例》第二十三条，明确规定网络接入商必须承担连带责任。第二十三条　网络服务提供者为服务对象提供搜索或者链接服务，在接到权利人的通知书后，根据本条例规定断开与侵权的作品、表演、录音录像制品的链接的，不承担赔偿责任；但是，明知或者应知所链接的作品、表演、录音录像制品侵权的，应当承担共同侵权责任。正在征求意见的《中华人民共和国侵权责任法（草案）》，第三十六条也做了同样的规定：第三十六条　网络服务提供者知道网络用户利用其网络服务侵害他人民事权益，未采取必要措施的，与该网络用户承担连带责任。网络法豆的Donnie对这一条规定提出了有力的质疑：什么叫"知道"啊？如果解释成真的知道，那谁都不会说自己真的知道。如果解释成有可能知道，那哪个ISP没可能知道其服务的任何细节？这条不如直接写成："网络服务提供者与网络用户共同承担网络用户利用网络服务所为的一切侵权责任"算了。什么叫"必要措施"？都"必要"了那还可能构成侵权吗？侵权的构成要件是要有后果，既然造成了后果，那肯定措施不够啊。而且，单从语法逻辑上讲就有问题，这里要么写成充分，要么就删掉。翻查了一下整个草案，到处都是补充责任、按份责任，就算是连带责任也大多是过错责任基础上的连带，唯独这里是过错推定基础上的连带（"未采取必要措施" 等于将举证责任交给了ISP，并且还要证明是"必要"的）。将如此苛严的归责原则放在最难判定是否侵权的行为类型----言论型侵权----上，这已经不是用常理能理解的立法了。就是这一条法律，错误地要求网络接入商对其提供接入的内容，承担连带责任，结果对我国互联网产业造成巨大的伤害。它人为加重了网络接入商的责任，严重阻碍了产业的发展，剥脱了无数青年的创业机会和人生梦想，不利于我国科学技术的进步和和谐社会的建设。为了推进我国互联网产业和信息科技，一定要废除这条法律。网络接入商不应承担连带责任，网站所有者才是所有责任的承担者。请还给所有遵纪守法的无辜站长一个宽松的互联网环境！（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2009年12月18日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.07.27: 能源的极限                                                         一、美国能源署统计，1650年到2009年的美国能源消耗，年增长率为2.9%。                            2021.05.19: 中国经济的数字逻辑                                                         重庆市前市长黄奇帆退休以后，受聘担任复旦大学特聘教授，定期给师生做讲座，介绍他对中国经济的看法。                            2020.05.27: 软件吃软件，编程工作会越来越多吗？                                                         1、最近，国外有一篇文章，标题很有趣，叫做《软件吃掉软件》。                            2019.01.31: 一段音频                                                         去年10月，出版社打算录制《未来世界的幸存者》有声版，让我为这个节目录一段话。                            广告（购买广告位）云手机                                                              留言（32条）                                                                                                    HK 说：                                                        現在還有什麽方法跳墻啊~~阮師兄                           2009年12月18日 22:44 | # | 引用                                                                                                                猪头四 说：                                                        我是第一个留言吗？我的态度两个字的：同意！                           2009年12月18日 22:50 | # | 引用                                                                                                                Denmark 说：                                                        不过是5000年的精华继续发扬..                           2009年12月19日 00:34 | # | 引用                                                                                                                红棉812 说：                                                        站点更换域名后还是第一次来留言。从前的域名在国内注册的，这次到国外新注册了一个。真正把握在自己手中了。不过我不想高兴的太早，接踵而至的很可能就是主机问题。照现在的形势，网络移民恐怕是迟早的，而且是被迫的。手里没有选票，那就用脚投吧。让他们瞎折腾吧，我看能折腾出来个什么。蝲蝲蛄叫，就不种庄稼了？                           2009年12月19日 01:25 | # | 引用                                                                                                                作者很差劲 说：                                                        我觉得很扯淡 首先类比就很扯淡 这个跟公交车不是一码事 公交车上小偷无法进行很好的判别 但是网站是否有低俗内容是相对比较容易判别的 另外二者影响不同 公交车上小偷不过是丢钱而且可能被抓住可以弥补 低俗网站却会对社会风气造成比较大的影响 而且打击起来有一定难度所以如果网络接入商没有进行首次监督和检查把好第一关 会对接下来的网络秩序维护造成较大影响。 最重要的是 不知道本文作者出于什么考虑会提出加强网络准入监督会造成弱势网站被拒之门外 简直是无稽之谈 你丫只要不要弄低俗内容 谁把你拒之门外？而且公交车加强检查会把弱势群体拒之门外？你有没有常识啊 就算是检查也是吧看起来像小偷的人拒之门外 你说是老人小孩像小偷还是流里流气的人像小偷？只要不脑残基本不可能把弱势群体拒之门外，所以本文作者纯属偷换概念 论据缺乏常识 满篇无稽之谈                           2009年12月19日 02:17 | # | 引用                                                                                                                必填 说：                                                        公交车的类比的确不严格，弱势网站会先受排挤这一点也缺乏论证。相比之下，楼主引用的技术论证（关于“知道”和“必要措施”）要有力得多。不过，“只要不涉及低俗内容就会平安无事”这恐怕是一厢情愿了；怎样算是低俗内容，也说不上容易判别。请看国学数典的遭遇：跟有关部门沟通得到的结果是因为网站存在金瓶梅类的电子书籍，而被通告，要求整改。虽然相关部门只是要求整改，但是山东正在整顿的风口，机房不堪压力，通知我们更换托管机房，山东是不能待了！网站要中止一段时间，论坛在清理掉相关的图书后，尽量努力寻找一个新的机房，继续提供服务。《金瓶梅》是儿童不宜的书籍，但是中国的网民并不都是儿童。如果按照这样的标准整改下去，结果就是不仅《金瓶梅》，并且连三言二拍、《聊斋志异》这样的书都不能按照其原始面目在中国的网络间流传，那可就太荒谬了。                           2009年12月19日 04:18 | # | 引用                                                                                                                joiho 说：                                                        五毛你好啊，码字累不？引用作者很差劲的发言：不知道本文作者出于什么考虑会提出加强网络准入监督会造成弱势网站被拒之门外 简直是无稽之谈 你丫只要不要弄低俗内容 谁把你拒之门外？                           2009年12月19日 09:46 | # | 引用                                                                                                                woodfishman 说：                                                        楼上的五毛真是思维单纯了，上面说啥你就信啥。“低俗内容”真的是低俗内容吗？那怎么没看到网易，新浪，搜狐整改？再说低俗内容真的败坏社会风气吗？所以全体中国人都不准看“低俗内容”？                           2009年12月19日 10:51 | # | 引用                                                                                                                天天向上 说：                                                        行政干预的力量太可怕，而其方法更是简单粗暴，最终伤害的是终端的用户。总说多一点市场 少一点行政，但是，现在的情况恰恰相反，总是行政先行，又想起了博主上一篇文章的话，极权主义的恐怖                           2009年12月19日 10:56 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用作者很差劲的发言：类比就很扯淡 这个跟公交车不是一码事 公交车上小偷无法进行很好的判别 但是网站是否有低俗内容是相对比较容易判别的我在文章中加了一段，作为对这个问题的说明：“有人也许会说，在公共汽车上发现一个小偷，比鉴别一个低俗网站难多了。如果你这样想，那么你就错了。事实正好相反，要求网络接入商防止低俗网站，是一件极其困难的事。因为通常来说，一个中型网站就含有数千张网页，大型网站的网页数可以达到数百万张，甚至上千万张。网络接入商根本不可能去一张张网页检查，确保不含有违禁内容，何况有的网站还允许用户上传内容。所以到头来，网络接入商只能要求网站主提供高额押金或第三方担保，或者将提供服务的对象限制为具有一定资本规模的法人。”                           2009年12月19日 11:13 | # | 引用                                                                                                                whtepigeon 说：                                                        。。。在我看来这一篇很无力。算起来也只有一条，拔网线影响商业运作。其他，权利等等都不是他们考虑的对象，他们只有一句话，老子有枪国内的互联网也只能变得如此杯具了。。                           2009年12月19日 11:20 | # | 引用                                                                                                                陳水扁 说：                                                        引用作者很差劲的发言：低俗网站却会对社会风气造成比较大的影响 而且打击起来有一定难度所以如果网络接入商没有进行首次监督和检查把好第一关 会对接下来的网络秩序维护造成较大影响。 按你這個概念，當你們這些貪官污吏被挖出來的時候為什麼老胡老溫他們不負連帶責任不下臺呢？整官就可以放鬆，整老百姓就該用點勁？                           2009年12月19日 13:11 | # | 引用                                                                                                                法豆 说：                                                        你说的观点我是同意的，但论据不是那么回事。《信息网络传播权保护条例》第二十三条不是讲接入商的，第二十条才是针对接入商的。恰恰是有避风港的。这些是有关著作权的规定。至于草案的那条，说的很笼统，是网络服务提供者，不止是接入商。我在日志里讨论的都是民法上侵权责任的归责原则的问题。不是国家专政行为的东西。至于现在拔网线，根本没什么好讨论的，根本已经超出了法律讨论的范围了，那是另一个世界的事。                           2009年12月19日 13:42 | # | 引用                                                                                                                特情人员 说：                                                        搬入电信机房有个鸡毛用,到时CCAV批判电信,电信照样拔网线.国外才是王道,国内就别想了,我看我们离中华局域网不远了,                           2009年12月19日 14:25 | # | 引用                                                                                                                老饕 说：                                                        反正是下面的遭殃：移动整服务商，服务商整站长，站长~~没办法，只能被整！                           2009年12月19日 17:18 | # | 引用                                                                                                                幕后工作者 说：                                                        杯具啊，现在感觉这个社会比以前的旧社会还乱了！现在 有钱有关系做什么都可以~~没钱没关系做什么都不可以，中国的广大人们群众有什么自由可言？？他们那些大声在喧哗“淫秽”，“低俗”……啊实际上比起人家网站放上几张裸照，拿那几个广告钱不知要比“淫秽”，“低俗”……！多少NNNNNN倍！！！！他们拿人民的血汗钱去包小姐 包N奶，榨干人民老百姓人血汗钱做尽多少勾当，就没有“低俗”……！现在 想上一下gmail google docs还要辛辛苦苦的翻墙~~~~~~~注册一个域名 还要开一家公司！！！！！！！这个社会怎么活着活着就倒退了呢？回到清朝算了……                           2009年12月19日 18:47 | # | 引用                                                                                                                iamduyu 说：                                                        gov允许了人们办网站，那应该承担什么连带责任？是不是应该下台？太荒谬了                           2009年12月19日 21:30 | # | 引用                                                                                                                痛打落水狗 说：                                                        中国的电影没有分级制度，实际上等于要求“全年龄级”。现在发生了同样的事情，互联网没有、难以分级，加上ADULT内容在大陆地区属于非法，按照保护“祖国花朵”的逻辑，互联网必须是“全年龄级”。挺像保甲制度，一人出事，全部连坐。ADULT信息根本禁不绝，如同古老繁荣的娼妓业，猫捉老鼠，蛇鼠一窝。立法判定其非法，本意虽好，执行效果却大打折扣。堵不如疏，只是口头上的说辞。到底还是保守的国家，等到信息能自由流动、加在人们身上的各种高压祛除时，兴许会改善。                           2009年12月20日 02:02 | # | 引用                                                                                                                史诗在线 说：                                                        问题是这样的：　　主管部门除了不能抓其他的都可以抓，ISP好找，做网站的难找，发帖留言的更难找。找到一个做网站的估计要花三十万，找ISP花三十块就够了。到最后只要网站关掉就能交差，其他网站就不用管了。　　ISP不敢得罪主管部门，但可以得罪客户。上面让关，你能说不关吗，当然要关，而且要关得多，这样可以表决心。至于跟用户的什么违约，那三家运营商大家是清楚的，平时就动不动断线当机，现在更是顶着皇命断网线，他不掐你掐谁呢？　　最后，咱么这些小民能跟谁闹呢，三大接入商咱们是清楚的，主管部门那个德行咱们也是清楚地，反正他们怎么合适怎么来，你不满意？现在就是活该，想要权利，一百年以后再说吧！                           2009年12月20日 03:01 | # | 引用                                                                                                                阮永松 说：                                                        秀才遇到兵，有理讲不清。哎，这个兵还是喝狼奶长大的兵，装疯卖傻，只许自己说话，不许别人辩驳。                           2009年12月20日 14:15 | # | 引用                                                                                                                明天会更好 说：                                                        没办法，只能按照人家说的做，不然能怎么办？                           2009年12月20日 16:00 | # | 引用                                                                                                                ddfs 说：                                                        这些都是行政关停，你讲法律有个毛用？除非你让党政分离                           2009年12月20日 17:15 | # | 引用                                                                                                                Jing 说：                                                        难道ISP不像是修路公司吗？他把路修通了，汽车、摩托车、三轮车、自行车、人，甚至猪、牛、羊都可以上来。修路公司只是在路上建个收费亭子，你车来了，该交费了，钱缴了，你就可以走了，至于你车上有没有藏毒品，你的牌照合不合法，收费的人是不管的，那是交通部门的事。如果交通部门认为这辆车有问题并且要走这条路，一个电话扣下这辆车，还是要交给交通部门。修路公司和交通部门是两个权责分明的单位，你修路并收钱，我负责安全管理，各有各的分工并互为配合。有谁看到要修路的去检查车辆牌照的合法与否，是否藏有毒品？谁检查？现实中是检查站，就像边境检查站那样，手持冲锋枪的是谁？难道是修路公司的？                           2009年12月20日 19:51 | # | 引用                                                                                                                化石 说：                                                        “上海电信北艾五星级机房”没几天后也拔网线了。                           2009年12月20日 19:54 | # | 引用                                                                                                                Jing 说：                                                        原来是盘古网络，公司在重庆，前几个月我还去这家公司面试过呢，老总面善，娃娃脸，总是面带笑容。                           2009年12月20日 19:59 | # | 引用                                                                                                                拒绝下锅的鱼 说：                                                        我建议，《信息网络传播权保护条例》应该修订了，新规如下：卖服务器的就应该负起连带负责，你必须保证你卖出去的服务器不是拿来传播色情网站的，否则应该与使用者共同承担责任。这好比是，卖菜刀的必须负责这把菜刀的使用，严格禁止拿来刀人肉。很好，很强大。                           2009年12月21日 12:29 | # | 引用                                                                                                                babyone 说：                                                        色情有法律规定在哪里 查了也没话说低俗不违法好不好人民有低俗的权利我边吃饭边挖鼻孔怎么了                           2009年12月22日 20:47 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        今天，全国人大通过了《侵权责任法》，第三十六条一字未改。                           2009年12月26日 23:03 | # | 引用                                                                                                                ddfs 说：                                                        这就叫株连                           2009年12月29日 19:17 | # | 引用                                                                                                                Ray 说：                                                        "蝲蝲蛄叫，就不种庄稼了？" 此言极是                           2010年1月 1日 22:25 | # | 引用                                                                                                                warii 说：                                                        这次从手机扫黄开始的一系列清扫行动，说穿了不过是广电在得到可以经营互联网业务之后，对电信、移动等传统ISP展开的一次大规模抹黑下柈子行动而已。真要扫除低俗，满街的桑拿浴室拿下了先，那个比低俗网站可好抓多了                           2010年2月 7日 17:45 | # | 引用                                                                                                                重慶大俠 说：                                                        流氓行政                           2012年6月13日 14:24 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9778fe01cf45',t:'MTc0MzI0MzE3Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2009/12/should_isp_bear_joint_liabilities.html
IE8开发人员工具教程（二） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    IE8开发人员工具教程（二） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：IE8开发人员工具教程下一篇：数据类型和Json格式                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              IE8开发人员工具教程（二）                                                                                    作者： 阮一峰                                    日期： 2009年5月26日                                                                                                                                            实例二 修改元素的属性                                                                                                                操作目标是将"价格"栏从"左对齐"改为"居中"。操作步骤：1. 打开"查找"菜单，选择"单击选择元素"，然后点击网页上的第一个价格单元格，也就是"$39.99"所在的单元格。2. 这时，代码中的"td"已经高亮显示了。3. 打开td的右键菜单，选择"添加属性"。4. 在td标签后面键入align=center。5. 对其他的价格单元格，重复上面的过程。按回车键后，可以看到价格已经居中排列了。上面的方法需要对每一个单元格进行操作，非常麻烦。事实上，还有更简便的方法，可以一次操作就实现所有单元格居中排列。具体操作是从上面第二步开始，选择好td元素后，切换到右面的属性选项卡，添加一个属性，名称为"align"，值为"center"。添加完成后，会有一个"将属性应用于"的提示，选择"此列中所有的单元格"即可。实例三：修改CSS的设置操作目标是让表格中的字体变得更小一点。操作步骤：1. 切换到CSS选项页，找到.listingsTable类。2. 将font-family属性从Verdana改为Tahoma，将font-size属性从12pt，改为10pt。实例四：为网页元素添加一个新的CSS类操作目标是为"价格"栏添加一个新的.price类。操作步骤：1. 切换到CSS选项卡，随便选择一个规则，打开右键菜单，在"之前添加规则"和"之后添加规则"中任选一个点击。2. 键入.price，然后打开右键菜单，选择"添加属性"。3. 添加color:green规则，然后再重复上面的过程，添加另外两条规则"font-weight:bold"和"text-align:center"。4. 为价格栏的每个单元格添加"class=price"属性，具体方法参照实例二。实例五：在Javascript代码中设置断点在原始网页中，勾选单选框后，选中的背景色会变为绿色。我们操作目标是将背景色改为天蓝色。操作步骤：1. 打开"脚本"选项卡，切换到goShopping.js。2. 找到selectRow(row, color) 函数，在行首单击设置断点。3. 点击"启动调试"。4. 在网页上勾选一个单选框，这时会自动跳到断点处。然后，在右面"控制台"底部的输入行，输入"color="#bee7ed""，再点击"运行脚本"。（这相当于将color="#bee7ed"这句命令插在断点之前。）5. 这时再点击工具栏上的"继续"按钮，这时可以看到背景色已经变成了天蓝色。6. 点击"停止调试"，结束调试过程。实例六：对Javascript进行探查操作目标是找出当用户选择单选框后，函数的调用顺序，以及每个函数的运行时间。操作步骤：1. 选择"探查器"选项卡，点击"开始配置文件"。2. 从上到下一一选中网页中的三个单选框，然后再一一把它们取消。3. 点击"停止配置文件"，这时就会显示出所有的代码运行信息。4. 一共有两种查看方式，一种是"函数"，另一种是"调用树"。5. 在"函数"查看方式中，可以看到所有被调用的函数信息。比如从下图中，可以看到productSelection函数被调用了6次，共耗时31.25毫秒。debug函数也被调用了6次，耗时15.63毫秒。6. 在"调用树"查看方式中，可以看到函数被调用的顺序。比如从下图中，可以看到依次共有三个onClick动作，其中第一个onClick先调用了productionSelection函数，而productionSelection函数又依次调用了debug、total、selectRow三个函数。最后，为了做进一步分析，你可以选择想要查看的项目，进行排序和csv格式的输出。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2009年5月26日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（7条）                                                                                                    lingkun 说：                                                        看来阮兄最近不是太忙了,开始有心思做些研究了,想问下那本书翻译的怎么样了?啥时候能出版?                           2009年5月26日 22:41 | # | 引用                                                                                                                佚名 说：                                                        阮老师近期写的教程通俗易懂，很适合我这样的初学者。在此致谢。                           2009年5月30日 03:12 | # | 引用                                                                                                                charming_lady 说：                                                        大哥，我们大学生该如何创业啊？？想改变中国企业的现状~                           2009年5月30日 15:35 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用lingkun的发言：想问下那本书翻译的怎么样了?啥时候能出版?暑假里一定能译完。                           2009年5月30日 21:13 | # | 引用                                                                                                                lingkun 说：                                                        引用Ruan YiFeng的发言： 暑假里一定能译完。那还要等一段时间啊........                           2009年6月 1日 12:22 | # | 引用                                                                                                                angela 说：                                                        一直很喜欢用谷歌的控制台，这会子才发现原来IE的开发人员工具也是蛮强大的呀！                           2015年1月 8日 10:39 | # | 引用                                                                                                                土豪哥哥 说：                                                        没想到以前的IE也曾辉煌过                           2021年3月 4日 22:45 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9c986b19cf45',t:'MTc0MzI0MzM4Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2009/05/ie8_developer_tools_tutorial_part_ii.html
IE8开发人员工具教程（一） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    IE8开发人员工具教程（一） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：推荐一个摄影项目《面孔下一篇：IE8开发人员工具教程                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              IE8开发人员工具教程（一）                                                                                    作者： 阮一峰                                    日期： 2009年5月25日                                                                                                                                            2009年3月，微软公司发布了Internet Explorer 8.0版。                                                                                                                目前，在所有浏览器中，IE家族的份额占到2/3，而且，IE 8会捆绑在Windows Vista和Windows 7之中。可以预料，这个软件将成为使用量最大的软件之一。但是，在网页设计师心目中，IE的名声一向不好。IE6简直是网页设计师的灾难，IE7也没有多少改善。所以，在业界，大家对IE8的发布并没有特别的关心。不过，在使用了几个星期之后，我要说IE8真是出人意料，它的表现堪称优秀。我不想比较它与其他浏览器谁优谁劣，我只想说IE6一向被诟病的几个最大的缺陷，IE8都做出了很大的改善，比如对标准的支持、对内存的管理、经常崩溃的问题等等。在所有的改进之中，我最欣赏的莫过于IE8的新附件----开发人员工具（Developer Tools）。它彻底改变了网页设计师的生活，可以毫不夸大地说，有了这个强大的工具，使得为IE开发网站再也不是一件苦差了。本文就是根据我自己的学习过程，整理出的一份教程，主要参考了微软公司的官方文档。目标是只用几个最简单的例子，就帮助你快速掌握它的使用。开发人员工具的简介IE8中附带了"开发人员工具"，不需要任何安装。只要IE8能使用，它就能使用。如果你还没安装IE8，可以去官方网址下载中文版。这是阅读这篇教程所必需的。"开发人员工具"默认是关闭的，必须手动打开。方法是点击"工具"菜单中的"开发人员工具"，或者直接按F12键。打开以后，就是下面这样的界面。可以看到，在主工作区（Primary Content Pane）中有四个选项卡----HTML、CSS、Javascript（脚本）、Profiler（探查器）。这就是开发工作的主要环境。HTML是默认的选项卡，每当新打开一个网页，网页的源代码就以DOM树的形式在其中展示。点击最左边的+号，可以展开/收缩该DOM元素。同Firebug的比较Firebug是Firefox浏览器中使用最广的开发工具。我的感觉是，对于一些最常见的任务，IE8的"开发人员工具"和Firebug都可以完成，比如网页元素的样式分析和Javascript代码的除错。除此之外，两者各有特点。（关于Firebug，可以参见我翻译的《Firebug入门指南》。）根据我的观察，IE8的"开发人员工具"有三个功能，是Firebug不具备的。第一，列出失效样式。"开发人员工具"会以删除线的形式，列出被其他CSS命令取代的样式设置，可以很方便地看出样式之间的继承关系。第二，颜色选取器。打开"工具"菜单，选择"显示颜色选取器"。原始网页上，就会显示一个小的吸管，可以用来查看每一个像素点的颜色。第三，性能调试的"探查器"（Profiler）功能。这个功能会列出Javascript脚本中每一个函数、每一个命令运行的次数和所花费的时间，很有助于找出网页代码的性能瓶颈。另一方面，Firebug也有一些功能是IE8的"开发人员工具"所不具备的。最重要的就是，"开发人员工具"无法显示关于HTTP请求的信息，所以它几乎无法用来调试Ajax网页程序。当然，IE8的"开发人员工具"和Firebug并不是互相替代的关系，因为两者都无法安装在对方的浏览器上，所以网页设计师还是需要同时学会这两个工具。范例网页以下的内容都需要动手操作。使用的范例网页地址为http://www.ruanyifeng.com/webapp/ie8/，请用IE8打开这个网址。注意，一定要用IE8打开，其他版本和型号的浏览器无效。范例网页是一个假想的游戏软件销售列表。用户勾选单选框，底下的"总价"栏就会自动显示总金额。我们就用这个网页，来说明如何使用"开发人员工具"。实例一：修改网页中的文字操作的目标是将"产品"改成"产品描述"。操作步骤：1. 打开"查找"菜单，选择"单击选择元素"。2. 用鼠标点击原始网页上的"产品"两个字，这时它所在的区域会显示蓝色边框。3. 再回到"开发人员工具"，这时"产品"所在的"TH"部分已经高亮显示了。4. 将其展开后，可以看到有一行浅色的"文字 - 产品"。 5. 点击"产品"两个字，就会变成可编辑状态，将其改为"产品描述"。6. 按下回车后，网页就会自动更新，出现"产品描述"。除了"单击选择元素"，另一个选择元素的方法是使用搜索。在左上角的搜索栏中，键入"产品"，按回车后，就能直接找到需要修改的文字。（未完待续）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2009年5月25日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（23条）                                                                                                    摩西英语 说：                                                        一峰的技术功底也让人佩服，多来这里看看，这是我的空白区呀！                           2009年5月25日 17:56 | # | 引用                                                                                                                Sivan 说：                                                        失效样式貌似firebug可以显示，也是用throughline表示。                           2009年5月25日 19:30 | # | 引用                                                                                                                purpleboy 说：                                                        IE8是有很大的革新，而且对W3C标准有更好的支持。但是就国内的环境来说，IE6还是超级主流，只要用户不换掉XP,IE6就将成为开发者长久的梦魇。所以在我看来WIN7的普及才至关重要，广大的盗版用户升级了，直接用上IE8,否则，6，7，8版本同时出现的话，开发者只有叹气的份了。                           2009年5月25日 20:26 | # | 引用                                                                                                                xykqdy 说：                                                        开发工具再好用，也不能掩盖ie8死来死去的事实。现在主攻firefox，反正有ietab和一大堆插件。opera也是好东西，打开那种图多杀猫的网页非常快                           2009年5月25日 20:44 | # | 引用                                                                                                                shixinyu 说：                                                        我唯一想纠正的是Windows Vista是不捆绑IE8的，只会通过Windows Update推送更新安装IE8，只有Windows 7才是捆绑IE8的。                           2009年5月25日 21:02 | # | 引用                                                                                                                Dennis 说：                                                        我唯一想纠正的是firebug是具有列出失踪样式的功能的。同样适用删除线来表示。                           2009年5月25日 21:47 | # | 引用                                                                                                                Arthraim 说：                                                        我倒是一直喜欢用chrome的Inspect element也能看到失效样式之类的，总之我已经够用了                           2009年5月25日 22:54 | # | 引用                                                                                                                bigCat 说：                                                        我唯一想纠正的是这玩意儿之前叫Internet Explorer Developer Toolbar就是微软出的,可以安装在IE6 7 上,后来8直接集成了原来调试IE6一直用这个,不过,老实说没firebug好使...http://www.microsoft.com/DownLoads/details.aspx?familyid=E59C3964-672D-4511-BB3E-2D5E1DB91038&displaylang=en                           2009年5月26日 00:32 | # | 引用                                                                                                                roy_hu 说：                                                        Profiler的功能在Firefox上有YSlow实现                           2009年5月26日 11:01 | # | 引用                                                                                                                令狐虫 说：                                                        点选颜色可以使用Firefox的扩展ColorZilla，很好用。                           2009年5月26日 11:15 | # | 引用                                                                                                                wang 说：                                                        这东西不行,调试起来,一调就死,必死无疑!不成熟的东西! windows 8估计才行,别吹了,看你就是抄袭的!                           2009年5月26日 13:00 | # | 引用                                                                                                                Fdream 说：                                                        失效样式用删除线标识，Firebug下是有点吧？                           2009年5月26日 14:49 | # | 引用                                                                                                                Showfom 说：                                                        用IE 8打开，网页显示错误……囧                           2009年5月26日 17:22 | # | 引用                                                                                                                Ruan Yifeng 说：                                                        引用Showfom的发言： 用IE 8打开，网页显示错误……囧不会吧，我家的两台电脑都可以正常显示。                           2009年5月26日 21:41 | # | 引用                                                                                                                Ke 说：                                                        我唯一要纠正的错误上面有好多人纠正了……所以算了 不过还是要说现在发现Safari的开发者工具也非常之好用 不必Firebug差IE8的这个没用过……                           2009年5月27日 00:07 | # | 引用                                                                                                                pin 说：                                                        哇，楼上好多都是在谈技术的，我就一直在揣测为啥站长这么热衷于网页技术呢？是要做个耀目的读书公园么？呵呵                           2009年5月27日 15:55 | # | 引用                                                                                                                textbox 说：                                                        这个东东我一设置断点调试它就假死，不知道怎么回事儿。                           2010年9月 7日 09:22 | # | 引用                                                                                                                王少锋 说：                                                        很方便，一直在用。                           2011年5月22日 21:37 | # | 引用                                                                                                                violet 说：                                                        但是很奇怪，有些页面的样式，它是跟踪不到的..                           2012年5月18日 17:50 | # | 引用                                                                                                                小蝶 说：                                                        我想知道怎么通过开发工具查看图片大小呢？                           2012年8月 6日 21:48 | # | 引用                                                                                                                木木 说：                                                        现在再看这个简直笑话                           2018年12月 7日 12:44 | # | 引用                                                                                                                一缕阳光 说：                                                        貌似图片没有了呢。                           2019年3月19日 20:01 | # | 引用                                                                                                                小小前端开发 说：                                                        考古                           2022年7月25日 11:52 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9eee6966cf45',t:'MTc0MzI0MzQ4MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2009/05/ie8_developer_tools_tutorial_part_i.html
如何让搜索引擎抓取AJAX内容？ - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    如何让搜索引擎抓取AJAX内容？ - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：GPG入门教程&nbsp;&nbsp;&nbsp;&nbsp;下一篇：Linux&nbsp;的启动流程                                                                                分类：                                                                                    开发者手册， JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              如何让搜索引擎抓取AJAX内容？                                                                                    作者： 阮一峰                                    日期： 2013年7月16日                                                                                                                                            越来越多的网站，开始采用"单页面结构"（Single-page application）。                                                                                                                整个网站只有一张网页，采用Ajax技术，根据用户的输入，加载不同的内容。这种做法的好处是用户体验好、节省流量，缺点是AJAX内容无法被搜索引擎抓取。举例来说，你有一个网站。　　http://example.com  　　用户通过井号结构的URL，看到不同的内容。　　http://example.com#1　　http://example.com#2　　http://example.com#3  　　但是，搜索引擎只抓取example.com，不会理会井号，因此也就无法索引内容。为了解决这个问题，Google提出了"井号+感叹号"的结构。　　http://example.com#!1　　当Google发现上面这样的URL，就自动抓取另一个网址：　　http://example.com/?_escaped_fragment_=1　　只要你把AJAX内容放在这个网址，Google就会收录。但是问题是，"井号+感叹号"非常难看且烦琐。Twitter曾经采用这种结构，它把　　http://twitter.com/ruanyf　　改成　　http://twitter.com/#!/ruanyf　　结果用户抱怨连连，只用了半年就废除了。那么，有没有什么方法，可以在保持比较直观的URL的同时，还让搜索引擎能够抓取AJAX内容？我一直以为没有办法做到，直到前两天看到了Discourse创始人之一的Robin Ward的解决方法，不禁拍案叫绝。Discourse是一个论坛程序，严重依赖Ajax，但是又必须让Google收录内容。它的解决方法就是放弃井号结构，采用 History API。所谓 History API，指的是不刷新页面的情况下，改变浏览器地址栏显示的URL(准确说，是改变网页的当前状态)。这里有一个例子，你点击上方的按钮，开始播放音乐。然后，再点击下面的链接，看看发生了什么事？地址栏的URL变了，但是音乐播放没有中断！History API 的详细介绍，超出这篇文章的范围。这里只简单说，它的作用就是在浏览器的History对象中，添加一条记录。　　window.history.pushState(state object, title, url);　　上面这行命令，可以让地址栏出现新的URL。History对象的pushState方法接受三个参数，新的URL就是第三个参数，前两个参数都可以是null。　　window.history.pushState(null, null, newURL); 　　目前，各大浏览器都支持这个方法：Chrome（26.0+），Firefox（20.0+），IE（10.0+），Safari（5.1+），Opera（12.1+）。下面就是Robin Ward的方法。首先，用History API替代井号结构，让每个井号都变成正常路径的URL，这样搜索引擎就会抓取每一个网页。　　example.com/1　　example.com/2　　example.com/3　　然后，定义一个JavaScript函数，处理Ajax部分，根据网址抓取内容（假定使用jQuery）。　　function anchorClick(link) {　　　　var linkSplit = link.split('/').pop();　　　　$.get('api/' + linkSplit, function(data) {　　　　　　$('#content').html(data);　　　　});　　}　　再定义鼠标的click事件。　　$('#container').on('click', 'a', function(e) {　　　　window.history.pushState(null, null, $(this).attr('href'));　　　　anchorClick($(this).attr('href'));　　　　e.preventDefault();　　});　　还要考虑到用户点击浏览器的"前进 / 后退"按钮。这时会触发History对象的popstate事件。　　window.addEventListener('popstate', function(e) {     　　　　anchorClick(location.pathname); 	 　　});　　定义完上面三段代码，就能在不刷新页面的情况下，显示正常路径URL和AJAX内容。最后，设置服务器端。因为不使用井号结构，每个URL都是一个不同的请求。所以，要求服务器端对所有这些请求，都返回如下结构的网页，防止出现404错误。　　&lt;html&gt;　　　　&lt;body&gt;　　　　　　&lt;section id='container'&gt;&lt;/section&gt;　　　　　　&lt;noscript&gt;　　　　　　　　... ... 　　　　　　&lt;/noscript&gt;　　　　&lt;/body&gt;　　&lt;/html&gt;　　仔细看上面这段代码，你会发现有一个noscript标签，这就是奥妙所在。我们把所有要让搜索引擎收录的内容，都放在noscript标签之中。这样的话，用户依然可以执行AJAX操作，不用刷新页面，但是搜索引擎会收录每个网页的主要内容！===================================[通知]接下来三周，我外出旅行，暂停更新网志。大家可以从 http://www.ruanyifeng.com/tweets/，了解我的行程。欢迎关注。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2013年7月16日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（73条）                                                                                                    artwl 说：                                                        非常棒，只是不知道IE7~9有没有什么方案                           2013年7月16日 12:56 | # | 引用                                                                                                                Gaubee 说：                                                        引用artwl的发言：非常棒，只是不知道IE7~9有没有什么方案这IE7~9只能直接跳转页面了，但能保证页面正常显示而已……我觉得既然已经可以被SEO抓取到，那么完全可以两套方案一起上。IE6+不支持History API的可以直接用Hash搞。                           2013年7月16日 13:17 | # | 引用                                                                                                                tom 说：                                                        之前做过类似的东西. 每个link都是真正完整的url, 你直接在新窗口打开url的时候, 是看到完整的跟url对应的页面的. 但是如果用户点击这个link, 事件会被javascript截获, ajax去load内容然后加载. 好处就是所有的浏览器都可以支持.坏处就是内容变了url没有更新.                           2013年7月16日 14:58 | # | 引用                                                                                                                riophae 说：                                                        搜索引擎并没有解析 JavaScript 啊. 我觉得搜索引擎的未来是完全收录 JavaScript 生成的内容.                           2013年7月16日 19:41 | # | 引用                                                                                                                奶牛 说：                                                        这个方法真的非常赞，就是得多套方案来保证兼容性哇~~~                           2013年7月16日 22:27 | # | 引用                                                                                                                墨水 说：                                                        很赞的说，同LS所说，兼容性要考虑~~                           2013年7月16日 23:45 | # | 引用                                                                                                                Jak Wings 说：                                                        不错，这样就不怕影响到文章内容中的标题或脚注的 anchor 了。祝旅途愉快～准备给自己的博客改装！                           2013年7月17日 00:04 | # | 引用                                                                                                                dcxy0 说：                                                        非常不错，学习一下。有时候也在思考这个问题，看到这个的确眼前一亮啊。                           2013年7月17日 01:43 | # | 引用                                                                                                                Aminby 说：                                                        又学到新知识了。谢谢。旅途愉快                           2013年7月17日 09:33 | # | 引用                                                                                                                AB_AAB 说：                                                        订阅阮大哥日志真是百利无害啊，越来越喜欢。每篇新文章都会认真读，受益匪浅。有时间会读一下算法相关的文章。                           2013年7月17日 10:05 | # | 引用                                                                                                                weedge 说：                                                        网易的云音乐不知道是不是这么弄的呢？？？                           2013年7月17日 10:09 | # | 引用                                                                                                                山荣 说：                                                        url改变后，再刷新貌似就会出问题吧。请求就丢了                           2013年7月17日 11:52 | # | 引用                                                                                                                熊猫 说：                                                        设置服务器端是必要的么？是不是只设置window.history.pushState(state object, title, url);搜索引擎就会收录地址栏中变换的地址对应的内容？                           2013年7月17日 17:22 | # | 引用                                                                                                                啊啊啊啊 说：                                                        网易的云音乐用的是iframe                           2013年7月17日 18:05 | # | 引用                                                                                                                Jak Wings 说：                                                        引用熊猫的发言：设置服务器端是必要的么？是不是只设置window.history.pushState(state object, title, url);搜索引擎就会收录地址栏中变换的地址对应的内容？服务器端必需保持原来的设置，不是单靠 API 就能搞定的，即是说人们还是可以直接通过访问 URL 且不需要开启 Javascript 就能获得页面内容。然后再给页面内的链接添加点击事件来在当前页面动态载入其它内容，顺便用 API 改变地址栏 URL 和修改访问记录。                           2013年7月18日 04:35 | # | 引用                                                                                                                dyllen 说：                                                        我看了一遍，没怎么看明白啊！可能是因为我不懂seo吧！                           2013年7月18日 11:37 | # | 引用                                                                                                                Du 说：                                                        很赞啊，移动上webapp和原生app相比，体验的很关键一点是流畅，无刷新在手机的浏览器里体验很流畅，再配合响应式设计，web又能跨平台，容易更新维护，以后浏览器的升级，兼容性更好的话，web似乎更值得做另祝旅途愉快                           2013年7月18日 13:15 | # | 引用                                                                                                                holyzfy 说：                                                        引用tom的发言：...坏处就是内容变了url没有更新.为什么说这条是坏处呢，不解。                           2013年7月18日 15:39 | # | 引用                                                                                                                imlgsh 说：                                                        土耳其，土耳其，回来谈谈旅行的感受                           2013年7月18日 19:48 | # | 引用                                                                                                                依云 说：                                                        github、bitbucket 和现在的 twitter 都是这样做的。我也曾做过这种东西。还记得从火狐 3.6 迁移到火狐 4 时，发现 github 上点链接不会整个页面刷新了呢。不过有个小问题：火狐和 Chrome 不一样，有一个在页面加载时就触发 popstate 事件，另一个没有。                           2013年7月19日 13:28 | # | 引用                                                                                                                wang 说：                                                        引用weedge的发言：网易的云音乐不知道是不是这么弄的呢？？？iframe的                           2013年7月20日 17:07 | # | 引用                                                                                                                wang 说：                                                        其实文章要说的和标题有些偏。 标题， 如何让搜索引擎抓取ajax内容。 文章， 如何拦截掉a标签的链接跳转， ajax load内容， 同时改变url。                           2013年7月20日 17:08 | # | 引用                                                                                                                wang 说：                                                        引用holyzfy的发言：为什么说这条是坏处呢，不解。ajax load部分内容不改变url被认为是友好体验。 但是load 网页大部分内容又不改变url， 这样用户无法复制分享传播当前所见内容的url                           2013年7月20日 17:10 | # | 引用                                                                                                                whiletrue 说：                                                        这个不是rooter的概念吗，把网站设计为restfull风格就是了                           2013年7月21日 10:00 | # | 引用                                                                                                                袁源 说：                                                        这个方法弱爆了啊 onclick 可以 preventDefualt 的，所以想怎么来就怎么来么么                           2013年7月21日 10:20 | # | 引用                                                                                                                照常生活 说：                                                        想问一下，我在多看阅读购买了《黑客与画家》，您能收到稿酬吗？                           2013年7月23日 08:40 | # | 引用                                                                                                                阮一峰 说：                                                        引用照常生活的发言：想问一下，我在多看阅读购买了《黑客与画家》，您能收到稿酬吗？不能。译者没有版税，只有一次性的翻译费。                           2013年7月23日 10:39 | # | 引用                                                                                                                gd 说：                                                        国外好多都在用了问题是pushState 在国内ie6-9的年代 完全不适用                           2013年7月23日 11:56 | # | 引用                                                                                                                红色石头 说：                                                        愚见：pjax似乎也可以做这个功能~                           2013年7月26日 12:32 | # | 引用                                                                                                                elarity 说：                                                        引用holyzfy的发言：为什么说这条是坏处呢，不解。我也不解。。 。。。                           2013年7月26日 18:24 | # | 引用                                                                                                                s 说：                                                        引用artwl的发言：非常棒，只是不知道IE7~9有没有什么方案IE 8 and 9: hashchange event...IE 6 and 7: I've no idea but just do what links should do...                           2013年7月30日 13:51 | # | 引用                                                                                                                Chon 说：                                                        很早github就已经使用这个方法了                           2013年8月 4日 20:53 | # | 引用                                                                                                                rongmic 说：                                                        引用红色石头的发言：愚见：pjax似乎也可以做这个功能~pjax就是pushState+ajax                           2013年8月 5日 14:40 | # | 引用                                                                                                                Net's H 说：                                                        /#!/方法对于不支持hashchange的浏览器怎么办呢。                           2013年8月 8日 21:28 | # | 引用                                                                                                                erji 说：                                                        转的那篇文章之前看过 需要server权限pass当时正写了个ajax全站shop http://goo.gl/LPuII                           2013年8月10日 10:40 | # | 引用                                                                                                                革命的小蘑菇医生 说：                                                        阮先生您好，我是一位重症医学科的医生，大概6年前无意间看到您的博客，觉得非常好，就一直追着看。一眨眼，看了6年了，感觉时间过得好长，也感觉您的博客的内容越来越高深了，逐渐看不懂了。衷心祝愿您在取得更大的成就的同时，务必注意身体健康！！！即使看不懂，也还要追着看。哈哈。                           2013年8月11日 21:27 | # | 引用                                                                                                                IT菜鸟 说：                                                        一峰，虽然你不认识我，但是我关注你很久了。你翻译的书黑客与画家还有软件随想录，翻译的特别棒我也很赞成你收费文章的想法，我也愿意为你的文章付费。知识是无价之宝。每次读你的文章犹如醍醐灌顶。朋友加油！有一批认同你的粉丝。坚持对的。                           2013年8月14日 07:59 | # | 引用                                                                                                                Edwin 说：                                                        感谢你的分享，History API是一个很不错的解决方案啊。。。。                           2013年8月23日 18:20 | # | 引用                                                                                                                Evan 说：                                                        用this.href比用$(this).attr('href')更高效                           2013年8月25日 22:00 | # | 引用                                                                                                                .... 说：                                                        引用wang的发言：ajax load部分内容不改变url被认为是友好体验。 但是load 网页大部分内容又不改变url， 这样用户无法复制分享传播当前所见内容的url你没看明白 用history api  url是会变的                           2013年9月 5日 13:56 | # | 引用                                                                                                                Meteoric_cry 说：                                                        github.com 就是用这种机制实现的                           2013年9月 9日 17:28 | # | 引用                                                                                                                sp42 说：                                                        History API很拍案叫绝么？                           2013年9月13日 01:13 | # | 引用                                                                                                                Lukas 说：                                                        如果服务器对这些请求返回的是这样的结构，那我刷新不是没用了？按我的理解，应该是如果只是异步操作，那么使用ajax改变内容，同时改变url。但如果直接访问该url(改变后的url)，那么服务器不是应该返回完整的相同页面么？为什么返回文中所示的结构？？                           2013年9月15日 23:34 | # | 引用                                                                                                                小欧 说：                                                        很不错的文章，只可惜这个技术目前只能支持高版本的浏览器，如果能兼容低版本浏览器就完美了。                           2013年10月10日 20:30 | # | 引用                                                                                                                Jak Wings 说：                                                        引用Lukas的发言：如果服务器对这些请求返回的是这样的结构，那我刷新不是没用了？按我的理解，应该是如果只是异步操作，那么使用ajax改变内容，同时改变url。但如果直接访问该url(改变后的url)，那么服务器不是应该返回完整的相同页面么？为什么返回文中所示的结构？？页面可以是直接访问的，载入后可通过 JS 动态生成更多内容，或者在不需要 JS 的情况下也有内容。阮先生指的大概是几乎完全用 JS 根据 URL 动态加载内容吧。结构相同是为了方便在更新内容的同时不引起「闪烁」效果。                           2013年11月 2日 00:31 | # | 引用                                                                                                                Jak Wings 说：                                                        引用Evan的发言：用this.href比用$(this).attr('href')更高效两者获取方式有差异，后者是取 DOM 属性的字面值，前者会自动转换为完整 URL 。                           2013年11月 2日 00:33 | # | 引用                                                                                                                newsky8 说：                                                        也就是将url当作一个变量，js的window.history.pushState也可以实现这个功能，个人愚见，欢迎探讨                           2014年2月26日 18:04 | # | 引用                                                                                                                张文 说：                                                        js的window.history.pushState是干啥的？                           2014年6月16日 09:16 | # | 引用                                                                                                                nonjene 说：                                                        引用wang的发言：ajax load部分内容不改变url被认为是友好体验。 但是load 网页大部分内容又不改变url， 这样用户无法复制分享传播当前所见内容的urlwindow.history.pushState 的作用就是更新URL                           2014年7月 7日 15:14 | # | 引用                                                                                                                行陌路 说：                                                        引用weedge的发言：网易的云音乐不知道是不是这么弄的呢？？？网易云音乐用的iframe,后退音乐会从头开始。。。                           2014年9月28日 22:29 | # | 引用                                                                                                                OsBelief 说：                                                        最后对服务器端的设置不是很理解，是不是在服务器端判断是不是Ajax请求，如果是的话，只发送当前分页的内容，如果不是的话，就发送整个HTML文档，这样的话，对于每一个分页，都要准备两份HTML文档，一份只是该分页的内容，一份是包含该分页的整个HTML文档，不知道这样想对不对？                           2014年11月 5日 16:21 | # | 引用                                                                                                                ChieveiT 说：                                                        分享的demo很不错，建议大家想确切了解还是看demo比较好。个人认为文章的重点有点乱，看着看着发现搜索引擎抓取和修改地址栏似乎成了一回事，评论也有人指出了这一点，不过我觉得真要说清这个问题，从后台的url接口切入会好很多，注意这两个url：for ajax——http://inserthtml.com/demo/history/pages/page-1.htmlfor 地址栏——http://inserthtml.com/demo/history/page-1.html说到底，这篇文章就介绍了这样一种技巧，ajax请求http://inserthtml.com/demo/history/pages/page-1.html后，把地址栏的url改为http://inserthtml.com/demo/history/page-1.html。好了那么问题来了（心中默念：挖掘机哪家强）。如果地址栏的url跟实际请求的url不一致，那么在当前页面刷新一下会发生什么？这才是问题的关键，神马修改地址栏事小，后台能否提供一致的内容接口事大，形象地说，就是改了你得负责。开发者不能期望每个用户都从某一启动页访问这个web应用，然后通过一系列异步跳转到当前的内容页，对于用户来说，不论在什么情况下，在地址栏输入一个url就应该看到一个完整的页面。demo展示了这一点，刷新一下，发现还是一致的页面内容，说明后台的确提供了http://inserthtml.com/demo/history/page-1.html这个页面，改出来的url不是随意糊弄的，而是确有其事，文章没说清这个问题，更把这个url换成了是一个防止404敷衍搜索引擎的奇怪页面，个人感觉是偏离这个技巧初衷的。                           2014年11月29日 15:39 | # | 引用                                                                                                                水中月镜中花 说：                                                        我现在做的好多项目（html5移动端项目）基本上都是一个页面，然后通过pushSate和监听popstate事件来控制页面的跳转，这个真的太有用了                           2014年12月11日 22:22 | # | 引用                                                                                                                bumfod 说：                                                        引用袁源的发言：这个方法弱爆了啊 onclick 可以 preventDefualt 的，所以想怎么来就怎么来么么但是如果我要引用這個頁面的 url 呢？得到的結果只是入口頁的。hash 就是為了兼容歷史紀錄和收藏夾的。                           2014年12月12日 20:30 | # | 引用                                                                                                                Bible 说：                                                        如果是單純一個頁面, 2/3 是用ajax加載, 那麼 google 會 cache 到那部份動態產生的內容嗎? 我查 facebook 的頁面幾乎都是動態, 但 google 有 cache耶                           2014年12月26日 04:41 | # | 引用                                                                                                                莫六名 说：                                                        使用的Ajax技术架构网站，用户体验好、节省流量，但Ajax内容真的能被搜索引擎抓取吗？谷歌好像可以，但百度真的也能抓取Ajax下的内容吗？如何在SEO优化中规避Ajax带来的影响呢？如何让百度抓取Ajax内容并能给网站赋予一定的权重呢？                           2015年1月16日 16:22 | # | 引用                                                                                                                mayy77 说：                                                        noscript 标签中放搜索的内容，具体的可以放什么呢？关键词、链接地址？这样搜索引擎就能收录了吗？是不是每次ajax请求，noscript的内容都要重新设置搜索内容的？                           2015年1月24日 12:01 | # | 引用                                                                                                                全栈笔记 说：                                                        写得不错，感谢分享                           2015年3月17日 10:45 | # | 引用                                                                                                                nan a 说：                                                        引用mayy77的发言：noscript 标签中放搜索的内容，具体的可以放什么呢？关键词、链接地址？这样搜索引擎就能收录了吗？是不是每次ajax请求，noscript的内容都要重新设置搜索内容的？同样不明白noscript要放啥                           2015年4月27日 13:23 | # | 引用                                                                                                                move on 说：                                                        @ChieveiT：赞一个 携程移动端就是用的history Api                           2015年5月 6日 11:00 | # | 引用                                                                                                                怠惰之熊 说：                                                        我记得angularJS的router就是用HistoryAPI+Hashchange来实现的，支持HistoryAPI的就用，不支持的自动退回Hashchange。                           2015年6月 8日 15:14 | # | 引用                                                                                                                jk2K 说：                                                        监听浏览器后退的代码需要更新了window.addEventListener('popstate', function(e) {         anchorClick(location.href); 	});在Google Chrome 版本 43.0.2357.130 (64-bit)下验证通过                           2015年7月 3日 17:01 | # | 引用                                                                                                                chris 说：                                                        学到了，很有用，谢谢然而这个办法对百度搜索来说还是没用的对吧？                           2015年8月 3日 13:55 | # | 引用                                                                                                                Hehoo 说：                                                        最后一段确实没怎么理解。希望能详细解释。 按照demo后台是需要准备好两种不同url的内容，一个是ajax提交的，一个是直接浏览器地址提交的。                            2015年8月 5日 18:04 | # | 引用                                                                                                                大牛哦 说：                                                        我的做法是服务器该怎样就怎样在前端,改变url的同时,不会去请求该url的内容,而是去请求一部分数据而已一句话说,就是做原来的事,仅仅准备一份内容给蜘蛛爬                           2015年10月 6日 17:24 | # | 引用                                                                                                                cherryWu 说：                                                        pushState不会触发hashchange时间吗?                           2016年7月22日 15:19 | # | 引用                                                                                                                FN 说：                                                        引用cherryWu的发言：pushState不会触发hashchange时间吗?Note that pushState() never causes a hashchange event to be fired, even if the new URL differs from the old URL only in its hash.                           2016年7月29日 11:56 | # | 引用                                                                                                                Rain 说：                                                        感谢分享！正好需要这方面的知识                           2017年2月23日 14:36 | # | 引用                                                                                                                nick 说：                                                        网站注释其实也和noscript标签差不多，因为注释内容在源代码中也不会影响页面内容，所以很多人会在注释里面堆砌关键词，认为注释信息会参与到网页的索引和排名，这一点谷歌也是可以识别注释信息忽略掉的。百度工程师也指出，在Html中的注释内容，会在正文提取环节直接忽略,但虽然注释的代码不会被抓取，也会造成代码冗杂的情况，所以能少则少吧。                           2017年3月 5日 23:50 | # | 引用                                                                                                                业余草 说：                                                        现在的 RESTful 可以更友好的被搜索引擎抓取！                           2017年3月20日 15:50 | # | 引用                                                                                                                Kevin 说：                                                        http://inserthtml.com/demo/history/按这种实现方法，有一个问题：content中每次显示的数据岂不是需要做两份拷贝。一个用于加载内容数据，另一个用于url改变后，刷新当前页面。                            2017年8月10日 17:53 | # | 引用                                                                                                                Lana 说：                                                        阮老师好, 接近5年后才看到这篇文章, 不过五年前我还在上初中...肯定不能看的.在阅读的过程中我产生了一点疑问: 这种解决方案听上去不错, 但是实际上是不是让浏览器生成更加好看的URL+后台产生独立的专门的用于搜索引擎收录的html页面?这种方式虽然能解决搜索引擎的问题, 但是如果使用浏览器的收藏夹功能收藏网址再打开那显示的不就是提供给搜索引擎的、没有css的页面么?刚开始学习这个.有很多不懂的地方,阮老师有空的话能不能帮忙解答下...谢谢啦                           2018年5月12日 11:15 | # | 引用                                                                                                                bjun 说：                                                        2021了，头铁的人来了，vue router history + noscript 写的博客网站 《B君笔记》。不要问我为啥不用vue的SSR，我就是看了这文章要来是试一下。1.评论区里面很多讨论pushState改不改url,，有什么用。这个问题在原文里面已经写明白了，“每个URL都是一个不同的请求。所以，要求服务器端对所有这些请求，都返回如下结构的网页，防止出现404错误”。2.有人问noscript里面放什么。  标签内就是上文jQuery请求后$('#content').html(data);的data。3.服务端除了返回的结构noscript内容，其实还要在head给title、descriptiond等内容喂给搜索引擎。4.可能真如nick所说的注释其实也和noscript标签差不多，在bing的链接检查中，noscript的h1标签是被忽略的。                           2021年10月 4日 16:44 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e94f899d2cf45',t:'MTc0MzI0MzA3My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2013/07/how_to_make_search_engines_find_ajax_content.html
Javascript 严格模式详解 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Javascript 严格模式详解 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：泊松分布与美国枪击案&nbsp;下一篇：JavaScript&nbsp;                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Javascript 严格模式详解                                                                                    作者： 阮一峰                                    日期： 2013年1月14日                                                                                                                                            一、概述除了正常运行模式，ECMAscript 5添加了第二种运行模式："严格模式"（strict mode）。顾名思义，这种模式使得Javascript在更严格的条件下运行。                                                                                                                设立"严格模式"的目的，主要有以下几个：　　- 消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;　　- 消除代码运行的一些不安全之处，保证代码运行的安全；　　- 提高编译器效率，增加运行速度；　　- 为未来新版本的Javascript做好铺垫。"严格模式"体现了Javascript更合理、更安全、更严谨的发展方向，包括IE 10在内的主流浏览器，都已经支持它，许多大项目已经开始全面拥抱它。另一方面，同样的代码，在"严格模式"中，可能会有不一样的运行结果；一些在"正常模式"下可以运行的语句，在"严格模式"下将不能运行。掌握这些内容，有助于更细致深入地理解Javascript，让你变成一个更好的程序员。本文将对"严格模式"做详细介绍。二、进入标志进入"严格模式"的标志，是下面这行语句：　　"use strict";老版本的浏览器会把它当作一行普通字符串，加以忽略。三、如何调用"严格模式"有两种调用方法，适用于不同的场合。3.1 针对整个脚本文件将"use strict"放在脚本文件的第一行，则整个脚本都将以"严格模式"运行。如果这行语句不在第一行，则无效，整个脚本以"正常模式"运行。如果不同模式的代码文件合并成一个文件，这一点需要特别注意。(严格地说，只要前面不是产生实际运行结果的语句，"use strict"可以不在第一行，比如直接跟在一个空的分号后面。)　　&lt;script&gt;　　　　"use strict";　　　　console.log("这是严格模式。");　　&lt;/script&gt;　　&lt;script&gt;　　　　console.log("这是正常模式。");kly, it's almost 2 years ago now. I can admit it now - I run it on my school's network that has about 50 computers.　　&lt;/script&gt;上面的代码表示，一个网页中依次有两段Javascript代码。前一个script标签是严格模式，后一个不是。3.2 针对单个函数将"use strict"放在函数体的第一行，则整个函数以"严格模式"运行。　　function strict(){　　　　"use strict";　　　　return "这是严格模式。";　　}　　function notStrict() {　　　　return "这是正常模式。";　　}3.3 脚本文件的变通写法因为第一种调用方法不利于文件合并，所以更好的做法是，借用第二种方法，将整个脚本文件放在一个立即执行的匿名函数之中。　　(function (){ 　　　　"use strict";　　　　// some code here 　　 })();四、语法和行为改变严格模式对Javascript的语法和行为，都做了一些改变。4.1 全局变量显式声明在正常模式中，如果一个变量没有声明就赋值，默认是全局变量。严格模式禁止这种用法，全局变量必须显式声明。"use strict";　　v = 1; // 报错，v未声明　　for(i = 0; i 　　}因此，严格模式下，变量都必须先用var命令声明，然后再使用。4.2 静态绑定Javascript语言的一个特点，就是允许"动态绑定"，即某些属性和方法到底属于哪一个对象，不是在编译时确定的，而是在运行时（runtime）确定的。严格模式对动态绑定做了一些限制。某些情况下，只允许静态绑定。也就是说，属性和方法到底归属哪个对象，在编译阶段就确定。这样做有利于编译效率的提高，也使得代码更容易阅读，更少出现意外。具体来说，涉及以下几个方面。（1）禁止使用with语句因为with语句无法在编译时就确定，属性到底归属哪个对象。　　"use strict";　　var v  = 1;　　with (o){ // 语法错误 　　　　v = 2;　　}（2）创设eval作用域正常模式下，Javascript语言有两种变量作用域（scope）：全局作用域和函数作用域。严格模式创设了第三种作用域：eval作用域。正常模式下，eval语句的作用域，取决于它处于全局作用域，还是处于函数作用域。严格模式下，eval语句本身就是一个作用域，不再能够生成全局变量了，它所生成的变量只能用于eval内部。　　"use strict";　　var x = 2;　　console.info(eval("var x = 5; x")); // 5　　console.info(x); // 24.3 增强的安全措施（1）禁止this关键字指向全局对象　　function f(){　　　　return !this;　　} 　　// 返回false，因为"this"指向全局对象，"!this"就是false　　function f(){   　　　　"use strict";　　　　return !this;　　} 　　// 返回true，因为严格模式下，this的值为undefined，所以"!this"为true。因此，使用构造函数时，如果忘了加new，this不再指向全局对象，而是报错。　　function f(){   　　　　"use strict";　　　　this.a = 1;　　};　　f();// 报错，this未定义（2）禁止在函数内部遍历调用栈　　function f1(){　　　　"use strict";　　　　f1.caller;    // 报错　　　　f1.arguments; // 报错　　}　　f1();4.4 禁止删除变量严格模式下无法删除变量。只有configurable设置为true的对象属性，才能被删除。　　"use strict";　　var x;　　delete x; // 语法错误　　var o = Object.create(null, {'x': {　　　　　　value: 1,　　　　　　configurable: true 　　}});　　delete o.x; // 删除成功4.5 显式报错正常模式下，对一个对象的只读属性进行赋值，不会报错，只会默默地失败。严格模式下，将报错。　　"use strict"; 　　var o = {};　　Object.defineProperty(o, "v", { value: 1, writable: false });　　o.v = 2; // 报错严格模式下，对一个使用getter方法读取的属性进行赋值，会报错。　　"use strict"; 　　var o = {    　　　　get v() { return 1; } 　　};　　o.v = 2; // 报错严格模式下，对禁止扩展的对象添加新属性，会报错。　　"use strict";　　var o = {};　　Object.preventExtensions(o);　　o.v = 1; // 报错严格模式下，删除一个不可删除的属性，会报错。　　"use strict";　　delete Object.prototype; // 报错4.6 重名错误严格模式新增了一些语法错误。（1）对象不能有重名的属性正常模式下，如果对象有多个重名属性，最后赋值的那个属性会覆盖前面的值。严格模式下，这属于语法错误。　　"use strict";　　var o = {　　　　p: 1,　　　　p: 2　　}; // 语法错误（2）函数不能有重名的参数正常模式下，如果函数有多个重名的参数，可以用arguments[i]读取。严格模式下，这属于语法错误。　　"use strict";　　function f(a, a, b) { // 语法错误  　　　　return ; 　　}4.7 禁止八进制表示法正常模式下，整数的第一位如果是0，表示这是八进制数，比如0100等于十进制的64。严格模式禁止这种表示法，整数第一位为0，将报错。　　"use strict";　　var n = 0100; // 语法错误4.8 arguments对象的限制arguments是函数的参数对象，严格模式对它的使用做了限制。（1）不允许对arguments赋值　　"use strict";　　arguments++; // 语法错误　　var obj = { set p(arguments) { } };  // 语法错误　　try { } catch (arguments) { }  // 语法错误　　function arguments() { }  // 语法错误　　var f = new Function("arguments", "'use strict'; return 17;");  // 语法错误（2）arguments不再追踪参数的变化　　function f(a) {　　　　a = 2;　　　　return [a, arguments[0]];　　}　　f(1); // 正常模式为[2,2]　　function f(a) {　　　　"use strict";    　　　　a = 2;　　　　return [a, arguments[0]];　　}　　f(1); // 严格模式为[2,1]（3）禁止使用arguments.callee这意味着，你无法在匿名函数内部调用自身了。　　"use strict";　　var f = function() { return arguments.callee; };　　f(); // 报错4.9 函数必须声明在顶层将来Javascript的新版本会引入"块级作用域"。为了与新版本接轨，严格模式只允许在全局作用域或函数作用域的顶层声明函数。也就是说，不允许在非函数的代码块内声明函数。　　"use strict";　　if (true) {　　　　function f() { } // 语法错误　　}　　for (var i = 0; i 　　　　function f2() { } // 语法错误　　}4.10 保留字为了向将来Javascript的新版本过渡，严格模式新增了一些保留字：implements, interface, let, package, private, protected, public, static, yield。使用这些词作为变量名将会报错。　　function package(protected) { // 语法错误　　　　"use strict";　　　　var implements; // 语法错误　　}此外，ECMAscript第五版本身还规定了另一些保留字（class, enum, export, extends, import, super），以及各大浏览器自行增加的const保留字，也是不能作为变量名的。五、参考链接  - MDN, Strict mode  - Dr. Axel Rauschmayer，JavaScript's strict mode: a summary  - Douglas Crockford, Strict Mode Is Coming To Town（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2013年1月14日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（64条）                                                                                                    杨至轩 说：                                                        Javascript的规矩还真是越来越多了                           2013年1月14日 14:20 | # | 引用                                                                                                                冯大宝 说：                                                        javascript确实太不严谨了，给新手养成坏的代码编写习惯提供了土壤。                           2013年1月14日 14:37 | # | 引用                                                                                                                依云 说：                                                        javascript 似乎越来越像 java 了？                           2013年1月14日 17:36 | # | 引用                                                                                                                sifu 说：                                                        js的规矩越多就越脱离他的本色啊                           2013年1月14日 20:24 | # | 引用                                                                                                                RedNax 说：                                                        引用sifu的发言：js的规矩越多就越脱离他的本色啊JS早就不再是做点页面小效果的简单脚本了。对于数万甚至数十万行的中大型JS项目来说没有规矩根本不能建立起来。这一点MS的TypeScript走得更远，我更看好一些。P.s. 4.2有关静态绑定的说法是错的。strict mode和绑定无关，JS始终是动态绑定的语言。下面两点也只是把以前随意扩大的scope收缩一下而已。                           2013年1月14日 21:52 | # | 引用                                                                                                                SKY 说：                                                        还有什么办法实现匿名函数对自身的调用么？                           2013年1月14日 22:48 | # | 引用                                                                                                                RedNax 说：                                                        引用SKY的发言：还有什么办法实现匿名函数对自身的调用么？加一个名字：var funcA = function funcA() {  funcA();};                           2013年1月14日 22:59 | # | 引用                                                                                                                jeff 说：                                                        （2）arguments不再追踪参数的变化		function f(a) {　　　　a = 2;　　　　return [a, arguments[0]];　　}　　console.log(f(1)); // 正常模式为[2,2]　　function f(a) {　　　　"use strict"; 　　　　a = 2;　　　　return [a, arguments[0]];　　}　　console.log(f(1)); // 严格模式为[2,1]			IE9下 是【2，2】【2，2】CHROME和FF下是【2，1】 【2，1】 请问如何测试出[2,2],[2,1]                           2013年1月15日 09:38 | # | 引用                                                                                                                阮一峰 说：                                                        引用RedNax的发言：4.2有关静态绑定的说法是错的。strict mode和绑定无关，JS始终是动态绑定的语言。下面两点也只是把以前随意扩大的scope收缩一下而已。谢谢指出。我已经做了修改。                           2013年1月15日 10:39 | # | 引用                                                                                                                阮一峰 说：                                                        @jeff：不要两个函数一起运行，而要一个个分别测试，因为第一个函数的a是全局变量。另外，IE 9不支持严格模式，所以才会是[2, 2]。                            2013年1月15日 10:40 | # | 引用                                                                                                                nomi 说：                                                        引用sifu的发言：js的规矩越多就越脱离他的本色啊我个人也赞成你的说法，我觉得以后javascript走上正式化的道路的话，估计会失去很多这种原有的灵活性啊，很多让人赞叹的写法，hack的手段，都可能走不通了。对于大项目，我觉得不一定要约束语言本身去办的吧，内部有一套约定成俗的规范，也能够满足吧。implements, interface, let, package, private, protected, public, static, yield, class, enum, export, extends, import, super这些保留字，也可以看到，如果都用上了当然方便了初学者，特别是有java底子的初学者，不过他们学的就不再是javascript了，而真的有点像java的script了~当初javascript真正吸引我，正是这种灵活强大有趣的体验，可以用很优雅的方法去写出真正javascript-like的代码，不过最近也看到很多像写java一样去写javascript的代码，感觉有点太可惜了，浪费了这么好的这么有趣一门语言。                           2013年1月15日 12:23 | # | 引用                                                                                                                TonyQ 说：                                                        我也覺得 JS 硬要加上強型別語言特性（類別、靜態型別）的話，就有點兒失去他原味，但是強型別的 client 語言倒也是需要的。我是希望整體發展歷程上，可以變成選用 JS 或另一種強型別語言，透過雙方協作的方向來進行。有如現在我們可以選用 Java 或 C# 的嚴謹強型別語言來開發後端，也能選用 php 或 ruby 這類腳本語言來開發後端一樣。                           2013年1月15日 12:41 | # | 引用                                                                                                                TonyQ 说：                                                        var myfunc = function funcA() {  funcA();};在 IE6,7,8 要特別小心其 scope 和其他瀏覽器不一樣。                           2013年1月15日 12:42 | # | 引用                                                                                                                Chris Lee 说：                                                        学习Google的AngularJS上的例子 - phonecat，刚好遇到'use strict'这种用法；ps，JavaScript算是中约定俗成的写法吧，阮兄为何一直Javascript？                           2013年1月15日 14:54 | # | 引用                                                                                                                Dai Hua 说：                                                        原来是你翻译了《黑客与画家》，不错!!                           2013年1月16日 08:27 | # | 引用                                                                                                                我的名字叫麒 说：                                                        javascript是要逆天的！                           2013年1月16日 20:36 | # | 引用                                                                                                                冷知识 说：                                                        你的博客很干净。。。不过我对代码不是很感兴趣，对你表示支持吧！                           2013年1月20日 19:12 | # | 引用                                                                                                                franky 说：                                                        这个不是ES5严格模式所定义的规范. 而是引擎们自己弥补实现的吧?有几个问题想和 阮老师讨论下. 严格模式指令,并不是只能放在第一行的.举个例子.function fn(){    'abc';    'use strict';    'def';}ES5会把 'abc' 和 'def' 也作为指令序言 的某个指令处理, 只不过引擎不认识这个指令, 只认识 'use strict' 指令, 则同样会进入严格模式.4.9 函数必须声明在顶层将来Javascript的新版本会引入"块级作用域"。为了与新版本接轨，严格模式只允许在全局作用域或函数作用域的顶层声明函数。也就是说，不允许在非函数的代码块内声明函数这个似乎不是ES5 严格模式所约束的东西.似乎是各个引擎自作主张,作为各个引擎在ES3时代,就都没有遵守标准的一种弥补措施..我是这样看待这个问题的:无论ES3,还是ES5,实际上都不允许 block 中出现 function declaration .但所有的引擎都没有遵守标准. 而ES5 不可能 在非标准模式就不允许出现的 function declaration. 还要在 严格模式中重复说,这个不允许..  所以针对这个问题 .ES5只有一段说明,大概意思如下:已知的绝大多数ES引擎,都支持把函数声明,作为一个语句来处理(实际特指引擎们违背了block , statement中出现function declaration).   而实际上这带来了语意冲突.  ES5的建议是禁止这种行为, 或者发出一个警告..  并且在将来的ES版本中 基于这两种建议中的一个.来作为标准的行为… so .从标准角度,正确的说法是.一直以来javascript标准都不允许if(bol){    function fn(){}}只不过所有引擎在实现严格模式时,才修正了这个错误.还有,保留字,似乎漏掉了 "const"最后, 严格模式的制定,本身就有一些错误, 比如 arguments.calller 的禁用. 因为这东西是IE的一个似有实现. 根本不在ES3,或ES5非严格模式中所定义. 对于一个标准中不存在的东西,去禁用它. 完全是针对 IE的一种歧视 . 当初草案的提出者,绝对要反省!                           2013年1月24日 10:23 | # | 引用                                                                                                                阮一峰 说：                                                        @franky：1. 'use strict'应该只能放在函数体的第一行，否则无效。比如，下面的代码不报错。function f(){  a = 1;  "use strict";  b = 1;}2. 如果函数不声明在顶层，目前在非严格模式下不报错。所以我觉得，这应该也算作严格模式的特点之一。3. 至于const，“并不是ECMAScript 5标准的一部分,目前只有Firefox和Chrome(V8)支持该特性。”https://developer.mozilla.org/zh-CN/docs/JavaScript/Reference/Statements/const                           2013年1月24日 18:12 | # | 引用                                                                                                                franky 说：                                                        @阮一峰：1. a = 1'use strict'这已经破坏了指令序言的语法了.   我所指的是,'use strict'  严格模式指令, 并不一定非要在第一行. 它前面可以出现其他指令的. 比如下面这个情况就不在第一行的.'abc';'use strict';这时候 它在第二行, 仍然会生效. 因为这完全符合指令许言,多指令共存的语法. 所被应用的代码仍然会进入严格模式.2. 这个问题,我主要想指出主流引擎因历史原因,擅自把这部分放在严格模式中悄悄实现成只在严格模式下不能用. 这本质上和标准并不统一. 而且其行为是不正确的.正确的实现,应该是,无论是否进入严格模式,都禁止这样做. 所以从标准角度,这里不应该属于严格模式的一部分...当然您从引擎实现角度,把它归入 严格模式 是完全正确的. 3. 我是说阮老师在提到保留字时,漏掉了const 这个保留字. -_-!    "此外，ECMAscript第五版本身还规定了另一些保留字：class, enum, export, extends, import, super。它们也是不能使用的"    这里漏掉了const 呀... 非严格模式,ES5有7个保留字...您只提到6个..                           2013年1月25日 00:12 | # | 引用                                                                                                                阮一峰 说：                                                        @franky:谢谢你的意见。1. 已经修改为“严格地说，只要前面不是产生实际运行结果的语句，“use strict”可以不在第一行，比如直接跟在一个空的分号后面。”2. 因为严格模式与正常模式在这一点上有显著差异，我就不修改原文了。3. 已经修改为“以及各大浏览器自行增加的const保留字，也是不能作为变量名的”。                           2013年1月26日 06:20 | # | 引用                                                                                                                苦逼男 说：                                                        其实现在的JS已经很好了，语法简单，容易上手；但正是由于简单，约束少，因此灵活。写几个简单的小效果容易，写出富客户端应用则需要JS大师级的水平，很合理。                           2013年2月 1日 17:55 | # | 引用                                                                                                                ouxingzhi 说：                                                        大多数合理的，但arguments不能获得callee，这也太严了，真要弄得跟java一样                           2013年2月 2日 11:50 | # | 引用                                                                                                                張旭 说：                                                        我覺得大家可以參考看看 Github 對於 javascript 的 code style 建議，第一條就是：# Write new JS in CoffeeScript.嚴格規定什麼的這類事情，就交給 CoffeeScript 翻譯器來做就好了 ....                           2013年2月 4日 14:29 | # | 引用                                                                                                                xwei_chen 说：                                                        这个不常用吧，现在，第一次在firefox插件开发帮助文档看到这个，百度到这里的，写的很清晰                           2013年6月 6日 10:03 | # | 引用                                                                                                                rambo 说：                                                        "use strict";function b(x, y, a) {//"use strict";   // 为什么我在全局 添加严格模式 在这里不管用呢?    arguments[2] = 10;    alert(a);}b(1, 2, 3);                           2013年7月10日 18:43 | # | 引用                                                                                                                Sigma 说：                                                        下面的代码是严格模式，evale中的赋值语句没有声明，却不会报错。是不是违背了你有关eval所说的那段呢？(function() {	"use strict";	window.eval( 'sigma=1;' );})();console.log( sigma );                           2013年8月21日 10:58 | # | 引用                                                                                                                阮一峰 说：                                                        @Sigma：问题出在你在匿名函数内部，调用window对象的eval方法，两者的上下文（context）不同。匿名函数内部是严格模式，外部则不是。改成下面的写法就对了。(function() {"use strict";eval('sigma=1')})();                           2013年8月21日 13:46 | # | 引用                                                                                                                前端小秋 说：                                                        写的挺好的，博客看着也舒服，呵呵，学习了                           2013年11月13日 11:30 | # | 引用                                                                                                                taoist 说：                                                        好博客，学习了，谢谢你！                           2013年11月13日 15:33 | # | 引用                                                                                                                KeenWon 说：                                                        out了，最近才知道有这个玩意儿                           2014年3月 8日 16:40 | # | 引用                                                                                                                司徒正枚 说：                                                        多写一下文章. 你的博客样式, 看起来特别舒服..                           2014年11月20日 16:13 | # | 引用                                                                                                                袁家小黑球 说：                                                        请问您对coffeescript怎么看？  是否推荐coffeescript呢？                           2014年11月28日 17:53 | # | 引用                                                                                                                徐斌 说：                                                        @阮一峰：4.4 禁止删除变量 中，Object.create那段是否有误？在Chrome中测试报错，改成下面这段运行通过。var o = Object.create(null, {            x: {	        value: 1,	        configurable: true	    }        });                           2014年12月10日 10:49 | # | 引用                                                                                                                阮一峰 说：                                                        @徐斌：谢谢指出，已经该过来了。                           2014年12月10日 21:31 | # | 引用                                                                                                                hugeannex 说：                                                        引用ouxingzhi的发言：大多数合理的，但arguments不能获得callee，这也太严了，真要弄得跟java一样我也觉得这个可惜了，可是为了运行效率，也只能认了。                           2015年1月14日 10:38 | # | 引用                                                                                                                elf 说：                                                        引用阮一峰的发言：@jeff：不要两个函数一起运行，而要一个个分别测试，因为第一个函数的a是全局变量。另外，IE 9不支持严格模式，所以才会是[2, 2]。 =A+只是单纯的函数被重写吧                           2015年3月17日 16:05 | # | 引用                                                                                                                jimo 说：                                                        引用SKY的发言：还有什么办法实现匿名函数对自身的调用么？函数里有一个内置参数 arguments ,它包含一个 arguments.callee  方法 可调用自身                           2015年3月30日 16:13 | # | 引用                                                                                                                xhay 说：                                                        javascript在慢慢变化                           2015年7月 2日 21:25 | # | 引用                                                                                                                jichengxi 说：                                                        嗯，社会在进步，思想在飞翔！必须的！（明白匿名函数的意思了，谢谢）                           2015年9月 5日 12:11 | # | 引用                                                                                                                青柠 说：                                                        4.4 禁止删除变量严格模式下无法删除变量。只有configurable设置为true的对象属性，才能被删除。经常拜读阮老师的文章，通俗易懂便于理解。关于严格模式的全篇结构上很清晰。不过对于其中一条的描述，个人有一些不同的意见。ES3的规范，就已经约束了变量是不可删除的。而并非到ES5的严格模式时才特别提出。例如在ES3的全局环境下执行：var foo = 'foo';bar = 'bar';delete foo; // 静默失败delete bar; // 成功区别在于此时 foo 是变量，而 bar 不是。（这里判断是否变量的依据在于是否存在于Variable Object。bar作为全局对象的一个属性，而非变量的形式存在。）ES5的严格模式，对于删除变量的这种行为是变得严格，显式地提示语法错误。                           2015年9月17日 15:27 | # | 引用                                                                                                                青柠 说：                                                        4.3 增强的安全措施（1）禁止this关键字指向全局对象阮老师在这里的描述不严谨， 会有误导嫌疑。例如：'use strict';(function (global) {    alert(global);})(this);其中global指向全局对象的原因，在于匿名函数的调用实参this指向的也是全局对象。函数执行时才会确定执行上下文的this，this是什么取决于函数调用时的标识符解析结果。全局环境下执行函数调用，类似 `foo.call(null)` 的效果，只不过在ES3标准 [10.2.3 Function Code]中规定了，如果函数执行阶段，this不是一个对象（例如 undefined, null）时，会将this指向全局对象。[ES5的规范](http://es5.github.io/#x10.4.3) 中修改了描述，仅当非严格模式下才会有 this 指向的转变。因此并不等同文中标题所写的“this禁止指向全局对象”的表述。不然会给人以this在严格模式下无法再指向全局对象的理解。大概可以举个反例：'use strict';function foo() {    alert(this);}foo.call(this);此时foo执行时this仍然还是指向的全局对象。                           2015年9月17日 17:07 | # | 引用                                                                                                                MwumLi 说：                                                        对象不能有重名的属性 里面的那个例子在 chrome 中并不适用  是不是chrome 现在并没有完全支持 'use strict'为什么有禁止过去八进制的表示呢? 那个不是挺好用的吗                           2015年11月16日 10:09 | # | 引用                                                                                                                大飞 说：                                                        阮老师，能否把正确执行的方式写一下尼，如果只是单纯的说错误的方式，对于新人来说甚至有经验的JS码农都无法理解，如果正确的写应该怎么写                           2015年12月16日 10:27 | # | 引用                                                                                                                张云 说：                                                        js 已经不是以前的js了，整个开发模式都变了，手机应用的爆炸式增长，注定js要成为手机应用主流，reactnative的出现已经是潮流的必然，将来APP的天下岌岌可危了                           2016年3月10日 09:30 | # | 引用                                                                                                                空山 说：                                                        引用徐斌的发言：@阮一峰：4.4 禁止删除变量 中，Object.create那段是否有误？在Chrome中测试报错，改成下面这段运行通过。var o = Object.create(null, {x: {	value: 1,	configurable: true	}});阮老师您好:个人感觉这段依然有错误,楼上这段代码只是删除了对象o的属性x;而不是变量x;下面这段代码 chrome严格模式下configurable: true依然无法删除,会报错;"use strict";			　　var x= new Object();				x.configurable = true				delete x;                           2016年5月14日 20:41 | # | 引用                                                                                                                wtsolutions 说：                                                        如果在我的js里面采用严格模式，而引用的一些别人的js没有完全按照严格模式来写的话，我的js出问题的概率应该挺大的。所以建议大家都采用严格模式。                           2016年5月23日 17:46 | # | 引用                                                                                                                蔡忠文 说：                                                        你好，非常感谢您文章对我的启发，我是一个刚入行的程序员。如有错误理解请谅解。4.4 禁止删除变量严格模式下无法删除变量。只有configurable设置为true的对象属性，才能被删除。　　"use strict";　　var x;　　delete x; // 语法错误　　var o = Object.create(null, {'x': {　　　　　　value: 1,　　　　　　configurable: true　　}});　　delete o.x; // 删除成功这里我看了其他的一些文档 说var 声明的全局变量不允许删除，但是window.XX=111；这种是可以删的，还有var声明的非全局变量是可以删除的。这是不是表示，只有var声明的全局变量的configurable默认为false;其他的都是true;                           2016年6月21日 16:39 | # | 引用                                                                                                                胡佩杰 说：                                                        阮老师好，(严格地说，只要前面不是产生实际运行结果的语句，"use strict"可以不在第一行，比如直接跟在一个空的分号后面。)在chrome里尝试了在'use strict'前加了一个; 结果不启用严格模式了。在node4.4版本下测试了一下结果也一样。可能是时隔三年规范变化过了。                           2016年8月13日 21:46 | # | 引用                                                                                                                Leo 说：                                                        "对象不能有重名的属性" 这个用nodejs和chrome都测试，重名属性是允许的。                           2016年11月 9日 14:06 | # | 引用                                                                                                                ffffxq 说：                                                        引用SKY的发言：还有什么办法实现匿名函数对自身的调用么？可以使用命名函数表达式来实现递归,在严格模式下可用。                           2016年11月11日 11:04 | # | 引用                                                                                                                fzhw88 说：                                                        引用MwumLi的发言：对象不能有重名的属性 里面的那个例子在 chrome 中并不适用是不是chrome 现在并没有完全支持 'use strict'为什么有禁止过去八进制的表示呢? 那个不是挺好用的吗1，ES6中的严格模式已经允许对象有重名的属性，所以这个并非Chrome的问题，Chrome完全支持严格模式，并且是ES6标准的。2，以0开头跟0-7数字表示八进制的方法并不是ECMAScript的标准，只是各种js引擎自己的实现，因为新手为了格式化数字可能在数字前添加0而导致不必要的错误，因此严格模式禁止了此表示方法，但是，ES6中有了新的八进制表示法——0o后面跟0-7的数字（第一个字符是数字0，第二个字符是字母o），这种表示法可以在严格模式下使用。参考链接：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode                           2017年1月16日 15:38 | # | 引用                                                                                                                fzhw88 说：                                                        引用SKY的发言：还有什么办法实现匿名函数对自身的调用么？在function后加个名字来命名一下这个函数就可以了，既然要递归，就不要追求匿名了嘛～                           2017年1月16日 15:42 | # | 引用                                                                                                                刘桃伟 说：                                                        4.7 禁止八进制表示法 有错 可以用八进制 只不过八进制表示法不是0nnn，而是0bnnn                           2017年2月13日 14:26 | # | 引用                                                                                                                galaxyw 说：                                                        引用刘桃伟的发言：4.7 禁止八进制表示法 有错 可以用八进制 只不过八进制表示法不是0nnn，而是0bnnnOctal literals（八进制常量） are not allowed in strict mode. 而你指出的, 0b***，开头的是二进制数字，并不是八进制。                           2017年4月21日 17:30 | # | 引用                                                                                                                undefined 说：                                                        引用Leo的发言："对象不能有重名的属性" 这个用nodejs和chrome都测试，重名属性是允许的。亲测确实可以                           2017年6月13日 10:26 | # | 引用                                                                                                                cui 说：                                                        var obj = { set p(arguments) { } };//set p是什么意思                           2017年7月13日 17:06 | # | 引用                                                                                                                LiaoYu 说：                                                        引用依云的发言：javascript 似乎越来越像 java 了？是越来越像 C#                            2018年6月12日 11:59 | # | 引用                                                                                                                掌上明猪 说：                                                        真好，从现在开始使用严格模式写代码。                           2019年2月26日 09:44 | # | 引用                                                                                                                jiecheng 说：                                                        决定写use strict了，确实是有好处的，较少写错误代码的次数，提高代码的性能，看一看阮大的博客，又学到了                           2019年9月 5日 17:26 | # | 引用                                                                                                                最问吗 说：                                                        js严格模式的知识点还重要吗                           2020年8月23日 17:37 | # | 引用                                                                                                                somebody 说：                                                        阮老师，请问怎么用代码或者有什么浏览器插件、方法可以绕过严格模式？因为我想查看某网站的callee.caller做自动化处理，不想通过调用栈调试..                           2020年10月15日 16:07 | # | 引用                                                                                                                Frankie 说：                                                        原文：严格地说，只要前面不是产生实际运行结果的语句，"use strict"可以不在第一行，比如直接跟在一个空的分号后面。实测效果：里面提到的“直接跟在一个空的分号后面”，实测效果是不行的，代码在非严格模式下运行了                           2021年2月17日 17:38 | # | 引用                                                                                                                z8g 说：                                                        严格模式下，禁止使用八进制一节，描述地有点出入，以下摘自 JavaScript 的词法规则：OctalIntegerLiteral: '0' [0-7]+ {!this.IsStrictMode()}?; // 八进制，例如 071 转成十进制为 57OctalIntegerLiteral2: '0' [oO] [0-7] [_0-7]*; // 八进制，0后跟个字母o/O，例如 0o71 或 0O71 转成十进制为 57                           2021年4月 6日 14:04 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e95c8fa24cf45',t:'MTc0MzI0MzEwNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2013/01/javascript_strict_mode.html
如何做到 jQuery-free？ - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    如何做到 jQuery-free？ - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：字符串匹配的Boyer下一篇：如何理解当代中国---                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              如何做到 jQuery-free？                                                                                    作者： 阮一峰                                    日期： 2013年5月11日                                                                                                                                            jQuery是现在最流行的JavaScript工具库。                                                                                                                据统计，目前全世界57.3%的网站使用它。也就是说，10个网站里面，有6个使用jQuery。如果只考察使用工具库的网站，这个比例就会上升到惊人的91.7%。虽然jQuery如此受欢迎，但是它臃肿的体积也让人头痛不已。jQuery 2.0的原始大小为235KB，优化后为81KB；如果是支持IE6、7、8的jQuery 1.8.3，原始大小为261KB，优化后为91KB。这样的体积，即使是宽带环境，完全加载也需要1秒或更长，更不要说移动设备了。这意味着，如果你使用了jQuery，用户至少延迟1秒，才能看到网页效果。考虑到本质上，jQuery只是一个操作DOM的工具，我们不仅要问：如果只是为了几个网页特效，是否有必要动用这么大的库？2006年，jQuery诞生的时候，主要用于消除不同浏览器的差异（主要是IE6），为开发者提供一个简洁的统一接口。相比当时，如今的情况已经发生了很大的变化。IE的市场份额不断下降，以ECMAScript为基础的JavaScript标准语法，正得到越来越广泛的支持。开发者直接使用JavScript标准语法，就能同时在各大浏览器运行，不再需要通过jQuery获取兼容性。下面就探讨如何用JavaScript标准语法，取代jQuery的一些主要功能，做到jQuery-free。一、选取DOM元素jQuery的核心是通过各种选择器，选中DOM元素，可以用querySelectorAll方法模拟这个功能。　　var $ = document.querySelectorAll.bind(document);这里需要注意的是，querySelectorAll方法返回的是NodeList对象，它很像数组（有数字索引和length属性），但不是数组，不能使用pop、push等数组特有方法。如果有需要，可以考虑将Nodelist对象转为数组。　　myList = Array.prototype.slice.call(myNodeList);二、DOM操作DOM本身就具有很丰富的操作方法，可以取代jQuery提供的操作方法。尾部追加DOM元素。　　// jQuery写法　　$(parent).append($(child));　　// DOM写法　　parent.appendChild(child)头部插入DOM元素。　　// jQuery写法　　$(parent).prepend($(child));　　// DOM写法　　parent.insertBefore(child, parent.childNodes[0])删除DOM元素。　　// jQuery写法　　$(child).remove()　　// DOM写法　　child.parentNode.removeChild(child)三、事件的监听jQuery的on方法，完全可以用addEventListener模拟。　　Element.prototype.on = Element.prototype.addEventListener;为了使用方便，可以在NodeList对象上也部署这个方法。　　NodeList.prototype.on = function (event, fn) {　　　　[]['forEach'].call(this, function (el) {　　　　　　el.on(event, fn);　　　　});　　　　return this;　　};四、事件的触发jQuery的trigger方法则需要单独部署，相对复杂一些。　　Element.prototype.trigger = function (type, data) {　　　　var event = document.createEvent('HTMLEvents');　　　　event.initEvent(type, true, true);　　　　event.data = data || {};　　　　event.eventName = type;　　　　event.target = this;　　　　this.dispatchEvent(event);　　　　return this;　　};在NodeList对象上也部署这个方法。　　NodeList.prototype.trigger = function (event) {　　　　[]['forEach'].call(this, function (el) {　　　　　　el['trigger'](event);　　　　});　　　　return this;　　};五、document.ready目前的最佳实践，是将JavaScript脚本文件都放在页面底部加载。这样的话，其实document.ready方法（jQuery简写为$(function)）已经不必要了，因为等到运行的时候，DOM对象已经生成了。六、attr方法jQuery使用attr方法，读写网页元素的属性。　　$("#picture").attr("src", "http://url/to/image");DOM元素允许直接读取属性值，写法要简洁许多。　　$("#picture").src = "http://url/to/image";需要注意，input元素的this.value返回的是输入框中的值，链接元素的this.href返回的是绝对URL。如果需要用到这两个网页元素的属性准确值，可以用this.getAttribute('value')和this.getAttibute('href')。七、addClass方法jQuery的addClass方法，用于为DOM元素添加一个class。　　$('body').addClass('hasJS');DOM元素本身有一个可读写的className属性，可以用来操作class。　　document.body.className = 'hasJS';　　// or　　document.body.className += ' hasJS';HTML 5还提供一个classList对象，功能更强大（IE 9不支持）。　　document.body.classList.add('hasJS');　　document.body.classList.remove('hasJS');　　document.body.classList.toggle('hasJS');　　document.body.classList.contains('hasJS');八、CSSjQuery的css方法，用来设置网页元素的样式。　　$(node).css( "color", "red" );DOM元素有一个style属性，可以直接操作。　　element.style.color = "red";;　　// or　　element.style.cssText += 'color:red';九、数据储存jQuery对象可以储存数据。　　$("body").data("foo", 52);HTML 5有一个dataset对象，也有类似的功能（IE 10不支持），不过只能保存字符串。　　element.dataset.user = JSON.stringify(user);　　element.dataset.score = score;十、AjaxjQuery的Ajax方法，用于异步操作。　　$.ajax({　　　　type: "POST",　　　　url: "some.php",　　　　data: { name: "John", location: "Boston" }　　}).done(function( msg ) {　　　　alert( "Data Saved: " + msg );　　});我们可以定义一个request函数，模拟Ajax方法。　　function request(type, url, opts, callback) {　　　　var xhr = new XMLHttpRequest();　　　　if (typeof opts === 'function') {　　　　　　callback = opts;　　　　　　opts = null;　　　　}　　　　xhr.open(type, url);　　　　var fd = new FormData();　　　　if (type === 'POST' && opts) {　　　　　　for (var key in opts) {　　　　　　　　fd.append(key, JSON.stringify(opts[key]));　　　　　　}　　　　}　　　　xhr.onload = function () {　　　　　　callback(JSON.parse(xhr.response));　　　　};　　　　xhr.send(opts ? fd : null);　　}然后，基于request函数，模拟jQuery的get和post方法。　　var get = request.bind(this, 'GET');　　var post = request.bind(this, 'POST');十一、动画jQuery的animate方法，用于生成动画效果。　　$foo.animate('slow', { x: '+=10px' })；jQuery的动画效果，很大部分基于DOM。但是目前，CSS 3的动画远比DOM强大，所以可以把动画效果写进CSS，然后通过操作DOM元素的class，来展示动画。　　foo.classList.add('animate')；如果需要对动画使用回调函数，CSS 3也定义了相应的事件。　　el.addEventListener("webkitTransitionEnd", transitionEnded);　　el.addEventListener("transitionend", transitionEnded);十二、替代方案由于jQuery体积过大，替代方案层出不穷。其中，最有名的是zepto.js。它的设计目标是以最小的体积，做到最大兼容jQuery的API。zepto.js 1.0版的原始大小是55KB，优化后是29KB，gzip压缩后为10KB。如果不求最大兼容，只希望模拟jQuery的基本功能，那么，min.js优化后只有200字节，而dolla优化后是1.7KB。此外，jQuery本身采用模块设计，可以只选择使用自己需要的模块。具体做法参见它的github网站，或者使用专用的Web界面。十三、参考链接　　- Remy Sharp，I know jQuery. Now what? 　　- Hemanth.HM，Power of Vanilla JS　　- Burke Holland，5 Things You Should Stop Doing With jQuery（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2013年5月11日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（54条）                                                                                                    riophae 说：                                                        这篇文章适合那些从 jQuery 入门 JavaScript 的同学学习啊.                           2013年5月11日 20:20 | # | 引用                                                                                                                kmxz 说：                                                        写了很多年JS，基本都在写vanilla JS。用过Google closure library，用过angular.js，从来不用jQuery。对jQuery及其厌恶，无非就是少量syntactic sugar，把代码变得更不优雅且带来各种overhead。                           2013年5月11日 20:26 | # | 引用                                                                                                                陈玉驰 说：                                                        jQuery的优化缩减支持IE低版本，也说明了标准化的趋势，只是国内的银行、大型国企还在使用IE6...                           2013年5月11日 20:27 | # | 引用                                                                                                                倉優小子 说：                                                        jquery在删除dom元素前对元素上的已绑定的事件做了清理操作，防止内存泄漏，在用原生js操作dom时也应该注意这一点。                           2013年5月11日 20:42 | # | 引用                                                                                                                匿名选手 说：                                                        博主，非常感谢你的这篇文章，这是我从没想过的事，当然我也刚入门。不过我有一些问题想请教你，能说说你是如何开始构思一篇文章的吗，是如何发现这个思路，然后花了多长时间写文章，这些时间是如何安排出来的，你是同时构思几篇文章，还是一篇写完后才开启第二篇？你可以考虑写篇文章介绍下，相信对其他人也有用的。因为你发文章的速度比我快多了，我经常忙的忘了我还开了博客这件事，所以有这些疑问。先行道谢了。                           2013年5月11日 22:30 | # | 引用                                                                                                                Pride Chung 说：                                                        好讽刺，jQuery当初干掉其他JS libraries 很重要的一个原因就是小巧的体积，1.3版貌似只有30K出头。                           2013年5月11日 23:14 | # | 引用                                                                                                                Jak Wings 说：                                                        看来 jQuery 终有一天会被淘汰，抑或说 jQuery 也会像 Zepto 那样精简化。jQuery 的语法糖还是设计得很不错的，现在改用 Zepto 也不错。                           2013年5月12日 07:37 | # | 引用                                                                                                                Jak Wings 说：                                                        引用倉優小子的发言：jquery在删除dom元素前对元素上的已绑定的事件做了清理操作，防止内存泄漏，在用原生js操作dom时也应该注意这一点。去 Zepto 的 GitHub 看了下源码，发现 $.fn.detach 功能还没弄好，暂时用 $.fn.remove 替代着。                           2013年5月12日 07:44 | # | 引用                                                                                                                墨菲斯托同学 说：                                                        jquery的确很大，但是另外一个情况是，大部分网站都加载jquery，在第一次以后jquery就存在用户电脑中了，下次直接调用本地的jquery库。所以并不是每次加载含有jquery的网页都会延迟一秒钟。如果用户浏览得越多网页，平均下来加载的延迟就会越低。比起js来说，jquery在开发上还是简单容易许多的                           2013年5月12日 08:22 | # | 引用                                                                                                                olyd 说：                                                        软老师可否写一些关于linux内核方面的文章啊。不打算写本书吗？                           2013年5月12日 10:41 | # | 引用                                                                                                                laoguo 说：                                                        从一开始就不用jQuery的话还可以铁下心来，无视那些丰富美妙的jQuery plugin，通过实践jQuery-free来成长为一个独行大侠。可一旦已经用上了jQuery，恐怕就不可能不用了。                           2013年5月12日 12:31 | # | 引用                                                                                                                greatghoul 说：                                                        引用墨菲斯托同学的发言：jquery的确很大，但是另外一个情况是，大部分网站都加载jquery，在第一次以后jquery就存在用户电脑中了，下次直接调用本地的jquery库。这个前提应该是使用了 CDN                           2013年5月12日 15:22 | # | 引用                                                                                                                Gao Jie 说：                                                        使用公用的jquery cdn链接，是解决这个库文件偏大的更优解。既然已有的网站都有超过50%使用jquery，而且普通用户接触到的大型网站比如微博，淘宝， 都提供了静态的cdn给jquery使用（google，微软也有）。那么自己的小网站在include js文件的时候如果是使用这些cdn，一方面网速很快，延迟小， 另外一方面，这个链接极大可能已经被用户的浏览器缓存了，所以实际上不会花费任何网络流量和延时。                           2013年5月12日 19:43 | # | 引用                                                                                                                红色石头 说：                                                        jquery无法被替代，文章名字应该改成《JQuery和原生JS操作的10个区别》已转载~                           2013年5月13日 09:44 | # | 引用                                                                                                                Tux 说：                                                        写的很好！很简单的网页也用jquery确实太重量了。发现这个网站引用了你的文章：http://blog.jobbole.com/39546但是中间插入了很多广告（e.g 什么教育网），这可能不符合你声明的“Creative Commons BY-NC-ND 3.0”协议。                           2013年5月13日 10:43 | # | 引用                                                                                                                黄利民 说：                                                        To @ruanyf：从其他网站复制了内容，没有删除干净那个网站强行添加的内容，这是我们的失误，十分抱歉。我们已删除更新了。谢谢Tux的提醒。                           2013年5月13日 12:04 | # | 引用                                                                                                                murusu 说：                                                        jquery的加载问题可以通过cdn来解决用原生js虽然速度快，可是会带来两个问题：一个是代码量的增多，二是无法利用现有的jquery plugin，这两点所导致的开发流程延长足够抵消使用原生js的速度优势                           2013年5月13日 12:33 | # | 引用                                                                                                                风海迷沙 说：                                                        已经使用了CDN无压力，包括jquery-ui                           2013年5月13日 12:35 | # | 引用                                                                                                                bachue 说：                                                        减少体积这种事情和优化性能一样都是一条不归路啊只要没有明显的性能问题，何必去干这个？jQuery明显成熟而且功能强大，如果其他库没有拿出更好的功能，仅仅精简代码，那就毫无疑义了。网速问题最终会被时间解决，庞大的人力物力下去就是为了精简功能，甚至使用一个不成熟的库，有意思吗？我以前也想过类似的事情，现在都发现毫无意义了，太蛋疼了。                           2013年5月13日 14:01 | # | 引用                                                                                                                摸摸来了 说：                                                        感觉各有千秋吧。。                           2013年5月13日 14:21 | # | 引用                                                                                                                小牛仔 说：                                                        引用greatghoul的发言：这个前提应该是使用了 CDN这个和cdn有什么关系，这个应该是web服务器设置了缓存头信息就可以。                           2013年5月14日 13:24 | # | 引用                                                                                                                rambo 说：                                                        引用bachue的发言：减少体积这种事情和优化性能一样都是一条不归路啊只要没有明显的性能问题，何必去干这个？jQuery明显成熟而且功能强大，如果其他库没有拿出更好的功能，仅仅精简代码，那就毫无疑义了。网速问题最终会被时间解决，庞大的人力物力下去就是为了精简功能，甚至使用一个不成熟的库，有意思吗？我以前也想过类似的事情，现在都发现毫无意义了，太蛋疼了。我非常同意此观点   中小型公司追求的就是效率 高效  中小公司往往在高人才上面比较缺乏,如果上来就让一个前端工程师用原生js  也许速度什么的是高了 但是老板不乐意啊 他们追求的更多的是 RMB 啊 如今的网速(pc:目前查看普遍都是4M网速 手机端:3G 4G wifi)  缓存 用户浏览器的提高(ff chrome ie10份额提升) 加上许多公司开始放弃自己的jquery使用大公司的CDN  楼主如果仅仅是因为大小的问题,则完全可以忽视.ps:网传比较好的方法(因避免html标签解析错误 使用中文代替):使用google CDN:http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js然后检测是否加载完毕 (网速 或者 被墙之类的)if(!jQuery){document.write('你自己的src')}                           2013年5月16日 18:27 | # | 引用                                                                                                                Rache 说：                                                        引用陈玉驰的发言：jQuery的优化缩减支持IE低版本，也说明了标准化的趋势，只是国内的银行、大型国企还在使用IE6...深深感觉银行他们严重影响开发人员进步……                           2013年5月25日 21:38 | # | 引用                                                                                                                inhu.net 说：                                                        这个做法很久之前看到过..不过我觉得满足不了我强大的需求                           2013年5月29日 15:48 | # | 引用                                                                                                                欧文 说：                                                        首张那图片是什么书，好像不是英文版的。难道峰哥还会其它什么语言的？膜拜中...                           2013年5月30日 09:16 | # | 引用                                                                                                                依云 说：                                                        引用欧文的发言：首张那图片是什么书，好像不是英文版的。难道峰哥还会其它什么语言的？膜拜中...德文。今天在自己的 reveal.js 修改中做到了 jQuery free，哦耶～                           2013年5月30日 19:11 | # | 引用                                                                                                                qinshou.me 说：                                                        …求返回页首按钮                           2013年6月 7日 10:51 | # | 引用                                                                                                                ph1t 说：                                                        同求增加返回页首。。                           2013年6月28日 23:58 | # | 引用                                                                                                                V客小站 说：                                                        试用了一下Zepto，发现其他使用了jQuery的库无法正常工作，放弃！                           2013年8月 4日 07:43 | # | 引用                                                                                                                宁逍遥 说：                                                        并非所有的浏览器都有效兼容css3, 为了加快一秒中的加载速度, 愿意抛弃那些用户和开发效率, 也可以放弃jQuery. 随着网速和硬件水平的不断提高, 所有的性能问题都不是问题. 而且我认为用户并不像我们认为的那么急不可待.                           2013年8月20日 14:54 | # | 引用                                                                                                                星空 说：                                                        看了一下zepto.js  发现官网没打算支持 IE                            2013年8月21日 16:28 | # | 引用                                                                                                                张钦青 说：                                                        我也主张如果几个简单的小效果还用jQ就太重了。问题是楼主以上列举的几个方法貌似对IE6的支持性不好。。                           2013年10月18日 12:58 | # | 引用                                                                                                                新浪微博rss 说：                                                        jQuery很赞，特别是对现代浏览器，对于IE，那就没有办法了。                           2013年10月25日 14:15 | # | 引用                                                                                                                随便说两句 说：                                                        引用小牛仔的发言：这个和cdn有什么关系，这个应该是web服务器设置了缓存头信息就可以。当然有关系。因为前面大家说的CDN，不是自己域名的CDN，而是ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js这种类型的CDN。这种CDN使用的网站非常多，一个用户访问的某一个网站使用了这个CDN，你的页面再加载时，就不用再次加载了，体积大小也就不是问题了。这篇文章我是不大赞同的。虽然JQuery体积确实大，但是其带来的开发便利性，对于中小型团队来说是非常重要的。毕竟中小型团队没有Yahoo，淘宝，Twitter这种公司那么强大的实力，自己搞一套好用的框架出来是相当不现实的。因为体积原因而放弃JQuery，就像因为性能原因只使用C语言，放弃Java,C#,甚至C++一样                           2013年10月31日 11:11 | # | 引用                                                                                                                digdeep126 说：                                                        引用kmxz的发言：写了很多年JS，基本都在写vanilla JS。用过Google closure library，用过angular.js，从来不用jQuery。对jQuery及其厌恶，无非就是少量syntactic sugar，把代码变得更不优雅且带来各种overhead。恰恰相反，我觉得使用jquery写js代码比原生的写js代码要优雅有趣的多，原生的js代码，感觉写起来像是一坨屎，冗长的方法名，极其厌恶！而写jquery代码和写python有似曾相识的令人愉悦的感觉，而且写jqeury比写python更加舒服。举个例子，简单的一个.each()方法就可以去掉90%的for循环，那个感觉真是爽啊。                           2013年11月23日 21:48 | # | 引用                                                                                                                新一 说：                                                        看团队能力吧，个人想法普通的小团队也包括我的，用jquery会比较妥当。                           2013年12月29日 11:24 | # | 引用                                                                                                                Mayon 说：                                                        其实jquery没那么可恶，对于敏捷开发而言，利于整个团队的开发进度。不过，如果个人想在前端领域更进一步，自然需要摒弃对jquery的依赖。其实，当年我开始自学前端时，听都没听说过jquery，哈哈，还是换了一家公司之后才被要求用jquery。不过如今想起来，还真是庆幸当年傻了叭唧的只知道埋头学自己的。                           2014年3月 4日 11:42 | # | 引用                                                                                                                zjzhome 说：                                                        好文。不过还没用过jQuery,用了下zepto，发现这个东西确实是方便，但是会导致像我这样的入门者基础不牢。                           2014年5月21日 18:50 | # | 引用                                                                                                                MR.陈 说：                                                        拿到手机上就知道jQuery真的是不行！！                           2014年5月29日 12:17 | # | 引用                                                                                                                lxjwlt 说：                                                        开发中 必须用到代码库的 不管是jQuery 还是其他的库 直接用原生代码来开发 还是得写成一个库嘛 不然冗余代码多 维护性差只是jQuery作为一个给大家用的库 要考虑的东西非常的多 所以代码量大是必然的                            2014年6月14日 17:58 | # | 引用                                                                                                                JS 说：                                                        只用原生JS不用框架的路过。                           2014年8月11日 01:57 | # | 引用                                                                                                                初学者 说：                                                        如果你们去开发移动端, 就会发现, 性能开销是个多么重要的问题.自从转移动端WEB开发之后, 基本没用过任何库了, 全部原生Js.原生js操作dom, 也并非我最开始想的那么棘手, 反而让我对jQuery的一些机制更加明白了.特效用css3.基本和博主建议的差不多.                           2015年6月 1日 17:40 | # | 引用                                                                                                                怠惰之熊 说：                                                        引用初学者的发言：如果你们去开发移动端, 就会发现, 性能开销是个多么重要的问题.自从转移动端WEB开发之后, 基本没用过任何库了, 全部原生Js.原生js操作dom, 也并非我最开始想的那么棘手, 反而让我对jQuery的一些机制更加明白了.特效用css3.基本和博主建议的差不多.移动端有个好处就是环境极其统一，而且支持各种最新的特性，因为andriod和iOS的浏览器都是webkit，这样用原生JS写起来基本不需要多少兼容性处理。web版的firefox和WP的浏览器虽然内核不同，但好歹都是支持了新标准的，而且占比不高。而且移动端窘迫的性能和带宽也跟适合使用原生JS。然而到了PC端，各种浏览器新旧版本并存，运行环境五花八门，除非你下定决心只支持最新浏览器，否则各种兼容性问题层出不穷。不过PC拥有更高的性能和更快的带宽，配合CDN的话，jQuery的大小并不是什么问题。从个人学习的角度来看，脱离jQuery是必要的，但是从项目开发的角度来看，jQuery能让开发人员更专心于业务逻辑的实现。                           2015年6月 8日 14:54 | # | 引用                                                                                                                杯子里的影子 说：                                                        其实我是挺喜欢JQuery的，而且觉得现在的网络环境下一个JQuery库大概也不算什么。脱离不脱离JQuery其实对JavaScript本身的水平影响不大吧？不过可能会更加清楚DOM的那些东西。CSS3动画据说有硬件加速，然而前一阵子（大概一两年前？）不知道为什么性能还是很差，尤其是移动端，非常差，现在不知道怎么样了。DOM动画的话，有个小问题需要注意是，要发生动画的元素得拿出来，别让整个DOM陪它重绘去……最近经常用Typescript+Angular1.x，虽然没有什么因果关系，但是微妙的发现自己好像不怎么用JQuery了。                           2015年6月 9日 15:58 | # | 引用                                                                                                                andy 说：                                                        请问阮老师NodeList.prototype.on这个肿么使用，没看懂。。                           2016年2月23日 10:08 | # | 引用                                                                                                                朽木 说：                                                        引用陈玉驰的发言：jQuery的优化缩减支持IE低版本，也说明了标准化的趋势，只是国内的银行、大型国企还在使用IE6...还有各种医院...                           2016年3月 3日 15:16 | # | 引用                                                                                                                Double 说：                                                        引用kmxz的发言：写了很多年JS，基本都在写vanilla JS。用过Google closure library，用过angular.js，从来不用jQuery。对jQuery及其厌恶，无非就是少量syntactic sugar，把代码变得更不优雅且带来各种overhead。怎么就用其他框架就用出优越感，极其厌恶了，只能显示自己是个lowB                           2016年3月18日 16:32 | # | 引用                                                                                                                BF200 说：                                                        jquery无法被替代，文章名字应该改成《JQuery和原生JS操作的10个区别》                           2016年5月28日 11:42 | # | 引用                                                                                                                eeee 说：                                                        兼容问题怎么办？不能一味的否定jQuery                           2016年7月19日 20:08 | # | 引用                                                                                                                weaming 说：                                                        引用eeee的发言：兼容问题怎么办？不能一味的否定jQuery文章开头就写了。。IE的市场份额不断下降，以ECMAScript为基础的JavaScript标准语法，正得到越来越广泛的支持。开发者直接使用JavScript标准语法，就能同时在各大浏览器运行，不再需要通过jQuery获取兼容性。                           2016年7月25日 21:00 | # | 引用                                                                                                                歌小熊 说：                                                        这才过了几年啊，我们连dom都不用操作了，喵哈哈哈哈哈                           2016年9月 2日 14:51 | # | 引用                                                                                                                NsZbf 说：                                                        现在变化太快了,ng2 react.js webpack gulp....，已经让人措手不及了                           2016年9月29日 10:18 | # | 引用                                                                                                                嘻嘻白 说：                                                        引用ph1t的发言：同求增加返回页首。。没有返回按钮确实不方便，只能自己动手写一个，扩展了。。。                           2016年11月23日 13:55 | # | 引用                                                                                                                dante 说：                                                        真是要用发展的眼光看问题啊，前几楼说jQuery无法被替代的应该没想到过了没几年出来了angular，react，vue等前端框架。。已经颠覆了前端的写码方式                           2016年12月 9日 10:16 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e97d25966cf45',t:'MTc0MzI0MzE5MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2013/05/jquery-free.html
进程与线程的一个简单解释 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    进程与线程的一个简单解释 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：熵的社会学意义&nbsp;&nbsp;&nbsp;&nbsp;下一篇：字符串匹配的KMP算法                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              进程与线程的一个简单解释                                                                                    作者： 阮一峰                                    日期： 2013年4月24日                                                                                                                                            进程（process）和线程（thread）是操作系统的基本概念，但是它们比较抽象，不容易掌握。                                                                                                                最近，我读到一篇材料，发现有一个很好的类比，可以把它们解释地清晰易懂。1.计算机的核心是CPU，它承担了所有的计算任务。它就像一座工厂，时刻在运行。2.假定工厂的电力有限，一次只能供给一个车间使用。也就是说，一个车间开工的时候，其他车间都必须停工。背后的含义就是，单个CPU一次只能运行一个任务。3.进程就好比工厂的车间，它代表CPU所能处理的单个任务。任一时刻，CPU总是运行一个进程，其他进程处于非运行状态。4.一个车间里，可以有很多工人。他们协同完成一个任务。5.线程就好比车间里的工人。一个进程可以包括多个线程。6.车间的空间是工人们共享的，比如许多房间是每个工人都可以进出的。这象征一个进程的内存空间是共享的，每个线程都可以使用这些共享内存。7.可是，每间房间的大小不同，有些房间最多只能容纳一个人，比如厕所。里面有人的时候，其他人就不能进去了。这代表一个线程使用某些共享内存时，其他线程必须等它结束，才能使用这一块内存。8.一个防止他人进入的简单方法，就是门口加一把锁。先到的人锁上门，后到的人看到上锁，就在门口排队，等锁打开再进去。这就叫"互斥锁"（Mutual exclusion，缩写 Mutex），防止多个线程同时读写某一块内存区域。9.还有些房间，可以同时容纳n个人，比如厨房。也就是说，如果人数大于n，多出来的人只能在外面等着。这好比某些内存区域，只能供给固定数目的线程使用。10.这时的解决方法，就是在门口挂n把钥匙。进去的人就取一把钥匙，出来时再把钥匙挂回原处。后到的人发现钥匙架空了，就知道必须在门口排队等着了。这种做法叫做"信号量"（Semaphore），用来保证多个线程不会互相冲突。不难看出，mutex是semaphore的一种特殊情况（n=1时）。也就是说，完全可以用后者替代前者。但是，因为mutex较为简单，且效率高，所以在必须保证资源独占的情况下，还是采用这种设计。11.操作系统的设计，因此可以归结为三点：（1）以多进程形式，允许多个任务同时运行；（2）以多线程形式，允许单个任务分成不同的部分运行；（3）提供协调机制，一方面防止进程之间和线程之间产生冲突，另一方面允许进程之间和线程之间共享资源。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2013年4月24日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（127条）                                                                                                    tingliang 说：                                                        写得太好了，显浅易懂。                           2013年4月24日 11:04 | # | 引用                                                                                                                dyb 说：                                                        还不错                           2013年4月24日 11:13 | # | 引用                                                                                                                sun 说：                                                        简洁，浅显易懂，到时往往越是这样越难以触及本质。当然对于深入理解还是很有帮助的。                           2013年4月24日 11:16 | # | 引用                                                                                                                dee 说：                                                        写得太好了 好形象                           2013年4月24日 11:23 | # | 引用                                                                                                                hope 说：                                                        配图好亮~                           2013年4月24日 11:31 | # | 引用                                                                                                                hejianchao 说：                                                        浅显易懂，境界真高。                           2013年4月24日 11:37 | # | 引用                                                                                                                reverland 说：                                                        喜欢配图～                           2013年4月24日 11:49 | # | 引用                                                                                                                Tim Shen 说：                                                        现在说的线程都是内核线程，是服从系统调度，独占CPU的。                           2013年4月24日 11:50 | # | 引用                                                                                                                herodot 说：                                                        阮兄，我是你的博客（包括你的英文BLOG）的忠实读者。这个回复纯属技术探讨。你这篇关于进程和线程的文章，图文并茂，很通俗，但不易懂。坦白说，在我看来很多比喻很不恰当，比如：1. 车间/电力/人三者，来比喻进程/CPU/线程三者，其实既没有体现出进程作为程序的一次执行（有独立的内存空间）这一特点，也没有体现出线程作为CPU调度单位这一特点。人和电力的关系是什么呢？所以“车间的空间是工人们共享的，比如许多房间是每个工人都可以进出的”，这句话就很难理解。2. 用厕所容量，来比喻锁，也不合适。因为线程间同步是为了防止竞争（就是说因同时修改，而导致的数据不一致）。本质上讲，进程的内存空间是天然独立的，线程的内存空间是天然共享的。正因为如此，进程通信/线程同步才是系统编程的很大一块内容。进程和线程简单而基本靠谱的定义如下：1. 进程：程序的一次执行2. 线程：CPU的基本调度单位这两个概念虽然过于简单，但是完全可以为理解OS/线程/进程打下坚实的基础，我认为关于进程/线程的探讨，无论采用何种方式，都必须以这两句话为落脚点，才算靠谱。你写的大多数文章相当出色。在以通俗的方式解释复杂的概念这方面，尤其出色。但是，我个人的经验，这种方式比较适合用来解释一个复杂概念的一个方面，或者从某个角度的理解。想面面俱到的说明白一个复杂的系统，繁琐枯燥的概念，以及这些概念间的推演几乎不可避免。坦白说，在实际项目中大量用到线程/进程之前，我看过很多遍相关的概念，也写过小的示例程序，但真到了用的时候，还是发现之前没搞明白。我对进程/线程的理解也很粗浅。个人见解，仅供参考。                           2013年4月24日 11:57 | # | 引用                                                                                                                jas 说：                                                        其实线程进程的东西比较好理解，希望下一期能用形象的方式讲讲协程　纤程                           2013年4月24日 12:08 | # | 引用                                                                                                                AriesDevil 说：                                                        写的真好                           2013年4月24日 12:43 | # | 引用                                                                                                                cangzhang 说：                                                        期待下一期！                           2013年4月24日 12:51 | # | 引用                                                                                                                walfred 说：                                                        没有讲解多进程，以及CPU对多线程的调度，不过这些比喻能让人有一些最起码的认识                           2013年4月24日 12:52 | # | 引用                                                                                                                尹良灿 说：                                                        刚好这个学期学的操作系统，表示很有帮助                           2013年4月24日 12:56 | # | 引用                                                                                                                大脸猫 说：                                                        我正学到多线程呢？看完以后表示对多线程的理解包括防锁死的机制理解清晰不少。                           2013年4月24日 13:06 | # | 引用                                                                                                                chemandy 说：                                                        赞！果真浅显易懂！                           2013年4月24日 13:10 | # | 引用                                                                                                                detailyang 说：                                                        多次看到博主的写的文章通俗易懂，相当优雅啊                           2013年4月24日 13:46 | # | 引用                                                                                                                GameXG 说：                                                        >>假定工厂的电力有限，一次只能供给一个车间使用。也就是说，一个车间开工的时候，其他车间都必须停工。背后的含义就是，单个CPU一次只能运行一个任务。>>进程就好比工厂的车间，它代表CPU所能处理的单个任务。任一时刻，CPU总是运行一个进程，其他进程处于非运行状态。>>一个车间里，可以有很多工人。他们协同完成一个任务。>>线程就好比车间里的工人。一个进程可以包括多个线程。文章的意思是同一个进程的多个线程是同时执行的，cpu的调度单位是进程。但实际是错误的，cpu的调度单位是线程，一次只能执行一个线程(当然多核的有几核就能同时执行几个线程)，而不是一次执行一个进程！                           2013年4月24日 14:21 | # | 引用                                                                                                                viho_he 说：                                                        抛开各种技术细节，从应用程序角度讲：1、在单核计算机里，有一个资源是无法被多个程序并行使用的：cpu。没有操作系统的情况下，一个程序一直独占着全都cpu。如果要有两个任务来共享同一个CPU，程序员就需要仔细地为程序安排好运行计划--某时刻cpu和由程序A来独享，下一时刻cpu由程序B来独享而这种安排计划后来成为OS的核心组件，被单独名命为“scheduler”，即“调度器”，它关心的只是怎样把单个cpu的运行拆分成一段一段的“运行片”，轮流分给不同的程序去使用，而在宏观上，因为分配切换的速度极快，就制造出多程序并行在一个cpu上的假象。2、在单核计算机里，有一个资源可以被多个程序共用，然而会引出麻烦：内存。在一个只有调度器，没有内存管理组件的操作系统上，程序员需要手工为每个程序安排运行的空间 -- 程序A使用物理地址0x00-0xff,程序B使用物理地址0x100-0x1ff，等等。然而这样做有个很大的问题：每个程序都要协调商量好怎样使用同一个内存上的不同空间，软件系统和硬件系统千差万别，使这种定制的方案没有可行性。为了解决这个麻烦，计算机系统引入了“虚拟地址”的概念，从三方面入手来做：2.1、硬件上，CPU增加了一个专门的模块叫MMU，负责转换虚拟地址和物理地址。2.2、操作系统上，操作系统增加了另一个核心组件：memory management，即内存管理模块，它管理物理内存、虚拟内存相关的一系列事务。2.3、应用程序上，发明了一个叫做【进程】的模型，（注意）每个进程都用【完全一样的】虚拟地址空间，然而经由操作系统和硬件MMU协作，映射到不同的物理地址空间上。不同的【进程】，都有各自独立的物理内存空间，不用一些特殊手段，是无法访问别的进程的物理内存的。3、现在，不同的应用程序，可以不关心底层的物理内存分配，也不关心CPU的协调共享了。然而还有一个问题存在：有一些程序，想要共享CPU，【并且还要共享同样的物理内存】，这时候，一个叫【线程】的模型就出现了，它们被包裹在进程里面，在调度器的管理下共享CPu，拥有同样的虚拟地址空间，同时也共享同一个物理地址空间，然而，它们无法越过包裹自己的进程，去访问别一个进程的物理地址空间。4、进程之间怎样共享同一个物理地址空间呢？不同的系统方法各异，符合posix规范的操作系统都提供了一个接口，叫mmap，可以把一个物理地址空间映射到不同的进程中，由不同的进程来共享。5、PS：在有的操作系统里，进程不是调度单位（即不能被调度器使用），线程是最基本的调度单位，调度器只调度线程，不调度进程，比如VxWorks                           2013年4月24日 14:53 | # | 引用                                                                                                                selfcontrol 说：                                                        这个文章是转贴的。我认为楼主转贴的有些仓促了，浅显易懂但是根本不准确。很多比喻都错了。                           2013年4月24日 15:13 | # | 引用                                                                                                                selfcontrol 说：                                                        引用herodot的发言：你写的大多数文章相当出色。在以通俗的方式解释复杂的概念这方面，尤其出色。但是，我个人的经验，这种方式比较适合用来解释一个复杂概念的一个方面，或者从某个角度的理解。想面面俱到的说明白一个复杂的系统，繁琐枯燥的概念，以及这些概念间的推演几乎不可避免。坦白说，在实际项目中大量用到线程/进程之前，我看过很多遍相关的概念，也写过小的示例程序，但真到了用的时候，还是发现之前没搞明白。握手，比喻确实浅显易懂，但是很容易导致谬误。另外，这篇文章是作者转贴的，不是他原创的。                           2013年4月24日 15:15 | # | 引用                                                                                                                Tux 说：                                                        引用GameXG的发言：文章的意思是同一个进程的多个线程是同时执行的，cpu的调度单位是进程。但实际是错误的，cpu的调度单位是线程，一次只能执行一个线程(当然多核的有几核就能同时执行几个线程)，而不是一次执行一个进程！对，这样解释其实更容易误解。进程和线程的区别其实也没那么明显，像linux里面就只有一个task，当然也可以根据不同task间共享数据的多少来区分是否线程，不过似乎没什么必要。                           2013年4月24日 16:34 | # | 引用                                                                                                                阮一峰 说：                                                        引用selfcontrol的发言：这个文章是转贴的。你是指从英文翻译的？                           2013年4月24日 16:41 | # | 引用                                                                                                                阮一峰 说：                                                        引用herodot的发言：你这篇关于进程和线程的文章，图文并茂，很通俗，但不易懂。坦白说，在我看来很多比喻很不恰当进程和线程简单而基本靠谱的定义如下：1. 进程：程序的一次执行2. 线程：CPU的基本调度单位我完全同意你对进程和线程的定义。这篇文章的比喻，确实不是完全准确。但是，进程和线程要找到现实生活中准确的对应，恐怕很困难吧。我的基本想法是：（1）进程是一个容器。（2）线程是容器中的工作单位。车间—工人的比喻就是这样来的。                           2013年4月24日 16:47 | # | 引用                                                                                                                jeffhyj 说：                                                        我觉得解释的很好也很正确啊，只是没有说明多进程这种情况。                           2013年4月24日 16:49 | # | 引用                                                                                                                xgl 说：                                                        配图挺逗，哈哈                           2013年4月24日 17:26 | # | 引用                                                                                                                dota 说：                                                        不是很容易让人理解。留言里面有高手                           2013年4月24日 20:00 | # | 引用                                                                                                                herodot 说：                                                        引用阮一峰的发言：我完全同意你对进程和线程的定义。这篇文章的比喻，确实不是完全准确。但是，进程和线程要找到现实生活中准确的对应，恐怕很困难吧。我的基本想法是：（1）进程是一个容器。（2）线程是容器中的工作单位。车间—工人的比喻就是这样来的。确实，对于一个复杂点的系统来说，在现实中找到完全对位的例子很难。这也是我前面回复中提到的，类比这种表达方式，贵在准而不在全。用一个生活中的例子，捕获到复杂系统一个侧面，就足够了。想完全对位，取舍之后，往往会很牵强，失去通俗易懂的目的。我大概浏览了一下你所参考的原文（原文很长，我英文一般，可能理解的不完整），发现原文重点讲述了三个方面：1. 进程与线程的关系2. 线程间的关系3. 线程与CPU （核心）的关系而且只有1和2是用类比（多人合租房子，房子比做进程，人比做线程）来讲解的，这种比喻可以说很恰当，把进程和线程间的关系，以及线程间的关系分析的非常清楚。而讲到3的时候，已经更多的从概念角度分析了，就是说在作者并没有试图在一个类比中说明这三个概念（我没有在那篇文章中找到电力概念）。而阮兄的文章，通过 工厂/车间/人 试图把CPU/进程/线程说清楚，这也是我的困惑所在。在我看了，引入电力这种类比之后，但是开头这句，已经把线程/进程混淆了（不过话说回来，在linux系统里面，在最底层，进程线程确实不分的）：假定工厂的电力有限，一次只能供给一个车间使用。也就是说，一个车间开工的时候，其他车间都必须停工。背后的含义就是，单个CPU一次只能运行一个任务。 BTW:                            2013年4月24日 21:11 | # | 引用                                                                                                                小涛 说：                                                          进程是OS在程序运行时资源分配和调度的一个独立单元，一个进程可以开启一个或多个线程，进程抢到cpu时间片之后，如果该进程开启了多个线程，再由线程抢占cpu时间片，谁得到时间片谁执行。                           2013年4月24日 21:42 | # | 引用                                                                                                                86er 说：                                                        这个写的太赞了，通俗易懂！                           2013年4月24日 21:46 | # | 引用                                                                                                                selfcontrol 说：                                                        引用阮一峰的发言：你是指从英文翻译的？我的意思就是从翻译来的。我用词错误，用转贴是不合适的。见谅见谅。                           2013年4月25日 01:13 | # | 引用                                                                                                                （void*） 说：                                                        这篇文章写的很好，尤其是对于对计算机系统了解不是很多的人，看了这篇文章之后，会对计算机中的多任务（其实也就是多进程），以及一个进程的多线程有了一个初步的了解。但是因为文章的更多的内容是关于CPU调度的，所以其中对内存的东西解释的就不是那么清楚了。比如上面各位提到的内存共享之类的讨论。计算器系统对计算资源的分配（CPU）和对内存的分配是分开进行的，只有这两个方面的知识都介绍了，才能比较清楚的解释这方面的内容。相反如果非要把一个柔和到一个中去，那么就会出现各种不合适的地方。比如我觉的用房子的比喻进程，用房间比喻线程，是合适的，将是吧内存比喻为房子中房间是不合适的。毕竟系统的内存的时候用多种不一样的用法，堆和栈你可以勉强的比喻为房间中的空间，但是共享内存，这个东西就在进程之外了，再用空间比喻就不恰当了。我觉的阮兄可以考虑再写一篇系统如何管理内存的问题。                           2013年4月25日 10:38 | # | 引用                                                                                                                冰上游鱼 说：                                                        配图很好玩啊                           2013年4月25日 10:43 | # | 引用                                                                                                                viho_he 说：                                                        引用小涛的发言：进程是OS在程序运行时资源分配和调度的一个独立单元，一个进程可以开启一个或多个线程，进程抢到cpu时间片之后，如果该进程开启了多个线程，再由线程抢占cpu时间片，谁得到时间片谁执行。就我所知道到的OS(windows / linux / VxWorks / qnx)里，目前没有哪个是这样做的。虽然目前没有不排除有这系统会这样去实现，然而从模型来说，这是个很糟糕的模型，因为这个模型增加了调度器的复杂度，调度器需要判断当前调度的单位是进程还是线程，并且做出不同的处理，加上优先级、时间片轮转、线程/进程运行状态等机制以后，此模型复杂度会显著增加，而到了SMP（同构并发多处理器）的系统上，此模型基本上已无能够工作的可能性。即使在qnx这样鼓励用进程而非线程的微内核的OS上，文档仍然说到：Threads are scheduled globally across all processes.即调度的基本单位是线程，不是进程。调度器在调度任务时，只知道线程，不知道进程这个东西，对于进程的管理，是OS别的组件的事情。                           2013年4月25日 12:30 | # | 引用                                                                                                                noname 说：                                                        但实际上，从low-level implementation的角度来看，线程进程没什么区别，只是要处理一些资源共享带来的一些问题(比如信号怎么处理)而已。因此真正design和implement过操作系统的人就会觉得，这么解释反而会增加一些误解。                           2013年4月26日 23:19 | # | 引用                                                                                                                六月 说：                                                        从调度来看，进程和线程应该是一样的。                           2013年4月26日 23:42 | # | 引用                                                                                                                gordon 说：                                                        引用viho_he的发言：就我所知道到的OS(windows / linux / VxWorks / qnx)里，目前没有哪个是这样做的。viho_he 能够推荐一些资料吗？受个人条件限制，能把硬件和操作系统结合起来讲的人很少，遇到一个明白人不容易，就厚着脸皮问了。                           2013年4月27日 05:21 | # | 引用                                                                                                                artwl 说：                                                        通俗易懂                           2013年4月27日 14:42 | # | 引用                                                                                                                V客小站 说：                                                        浅显易懂，好文！                           2013年4月27日 17:35 | # | 引用                                                                                                                bj0629 说：                                                        我个人感觉80年代和90年代初期的书和杂志里一般说multi task,后来变成 multi processing ，在90年代末期 windows 编程里又看到了 multi thread。单个CPU实现所谓的多任务、进程、线程，只能靠分时中断或事件中断，排队来实现。有些理念我自己理解是在忽悠和为了广告效应而已。谢谢楼主的分享                           2013年4月28日 09:45 | # | 引用                                                                                                                gordon 说：                                                        为什么要引入多级存储和虚拟存储器？单级存储器的基本矛盾和解决方法在一定存储器件条件下，容量越大，其寄生参量和走线延迟也越大，因而会降低其工作主频，也就是降低了存储速度。寄生参量是电路的东西，为什么要考虑这个？最典型的就是现在最热门的量子计算机，根据摩尔定律 大概每两年 一块集成电路板上可以容纳的器件数会加倍。 这个大家可以感受得到 计算机和其他电子设备的速度容量都在不断翻倍 当一个二级管小到只有几个原子那么大的时候 经典物理就不再适用 必须考虑量子效应了传统计算机10几年后就会碰到量子障碍。                           2013年4月29日 18:52 | # | 引用                                                                                                                xubincd 说：                                                        话说，我认为抽象的概念，发明出多少种比喻来进行解释也是在做无用功，抽象就是抽象，必须经常用去琢磨这种概念，拿现实世界的来做比喻我觉得对抽象本身来说其实并无帮助。仅个人意见，不知道各位怎么看                           2013年4月29日 22:34 | # | 引用                                                                                                                viho_he 说：                                                        引用gordon的发言：viho_he 能够推荐一些资料吗？受个人条件限制，能把硬件和操作系统结合起来讲的人很少，遇到一个明白人不容易，就厚着脸皮问了。操作系统是一门实践性极强的学问，而且与CPU的硬件功能结合得非常紧密，可以说操作系统的核心模块都是关于怎样玩转CPU的硬件功能的，很多过去原本是操作系统的软件功能，被做到了CPU硬件里面。个人经验是，不要怕接触技术细节，只有在大量具体的技术细节的积累之上，才能真正理解抽像的概念。我建议你调试linux kernel玩玩，有条件的话买一个arm的开发板自己弄弄，没条件可以在PC机上安装模拟器来玩，比如QEMU。读书的话，可以啃《Linux内核源代码情景分析》，不用读全书，只把你关心的那几章通读就行了。另外，为了能真正读懂kernel源码，你需要至少学习一门CPU的知识（即阅读枯燥冗长的CPU手册）作为辅助，可以从IA入手，也可以从ARM入手，以你手头的能用的硬件为准。最起码要了解中断的处理机制、内存的处理机制。《Linux内核源代码情景分析》用的是IA。                           2013年5月 2日 15:12 | # | 引用                                                                                                                lee 说：                                                        懂得人一看就懂不懂的人就........                           2013年5月 2日 18:43 | # | 引用                                                                                                                红色石头 说：                                                        配图不错~~~很有爱...另外，我对阮一峰这个名字感觉又印象，问下你是写过什么技术类书籍的？                           2013年5月 9日 10:53 | # | 引用                                                                                                                mdyang 说：                                                        “不难看出，mutex是semaphore的一种特殊情况（n=1时）。也就是说，完全可以用后者替代前者。”mutex和二元信号量并不同，http://stackoverflow.com/questions/62814/difference-between-binary-semaphore-and-mutex                           2013年5月 9日 12:17 | # | 引用                                                                                                                土木坛子 说：                                                        能把抽象复杂的现象用通俗易懂的方式讲出来，是多么不容易的一件事情啊。                           2013年5月11日 04:20 | # | 引用                                                                                                                李奇 说：                                                        虽然不是很准确，不过确实比较形象，对于初级了解一下挺有帮助。但还未涉及到进程和线程资源分配的问题，加上这部分会更完整。                           2013年5月21日 00:29 | # | 引用                                                                                                                吕小荣 说：                                                        通俗易懂，很适合新手理解。                           2013年5月24日 09:57 | # | 引用                                                                                                                daleydeng 说：                                                        简单的说，线程就是深度共享的进程，都是名为struct task_struct 的一家人 by kernerer                           2013年6月 3日 23:51 | # | 引用                                                                                                                屌丝男 说：                                                        进程就是我们打开的一个快播播放器,线程就是快播里面的那些功能,如搜索、播放、暂停等。。                           2013年7月 5日 22:06 | # | 引用                                                                                                                helloworld 说：                                                        楼主怎么没给翻译完啊？很期待啊                           2013年9月21日 09:38 | # | 引用                                                                                                                刀尖红叶 说：                                                        通俗易懂~                           2013年11月23日 15:10 | # | 引用                                                                                                                大鱼 说：                                                        看了留言收获很多。                           2013年12月15日 23:22 | # | 引用                                                                                                                pubemail 说：                                                        开始略懂进程和线程                           2014年3月12日 14:48 | # | 引用                                                                                                                tuzhi 说：                                                        写得真好。还有一种分法是按照是否拥有独立用户空间。                           2014年3月17日 19:38 | # | 引用                                                                                                                ifanr 说：                                                        通俗易懂，适合资深新手，呆学得足够深入时，才好提自己的看法……                           2014年4月 3日 17:16 | # | 引用                                                                                                                马琳琳 说：                                                        很容易看懂，图片也放的很好看，这在为软考备战，看了这篇文章，觉得看题看的晕晕的我也不晕了，谢谢楼主分享这么好的经验，这么好的文章，感谢                           2014年4月10日 10:27 | # | 引用                                                                                                                coderlu 说：                                                        果然简单易懂，但是没怎么讲进程喔。                           2014年5月 5日 11:38 | # | 引用                                                                                                                barry.zhou 说：                                                        进程和线程的类比总结得非常好，跟我之前自己总结的一样，知音啊~                           2014年6月 7日 10:41 | # | 引用                                                                                                                Alina1999 说：                                                        确实很形象                           2014年7月 2日 11:53 | # | 引用                                                                                                                Joanna 说：                                                        写的特别赞！！！很形象很好懂                           2014年9月21日 17:06 | # | 引用                                                                                                                Ssun 说：                                                        醍醐灌顶的感觉，我很喜欢看博主的文章，看完发现自己需要学的东西太多了！                           2014年9月30日 21:20 | # | 引用                                                                                                                春泥面包 说：                                                        看评论也能学到不少东西                           2014年10月10日 09:05 | # | 引用                                                                                                                Hallie 说：                                                        直观形象！                           2014年11月19日 17:51 | # | 引用                                                                                                                TK 说：                                                        @viho_he：寫的太讚了                           2014年11月25日 01:28 | # | 引用                                                                                                                问 说：                                                        通俗易懂，写的太好了，期待下一期。这必须要赞一个！！非常好                           2014年12月 5日 17:50 | # | 引用                                                                                                                niewj 说：                                                        看你的技术博客，就像听袁腾飞讲历史，难得的技术解惑达人！！！                           2015年1月 9日 00:45 | # | 引用                                                                                                                书生Maple 说：                                                        真真是极好的，浅显易懂。以前对这一块特别的混乱，现在理清了这些思路。想到进程、线程，就想到工厂、车间了。                           2015年2月 7日 14:25 | # | 引用                                                                                                                一生只做一件事 说：                                                        这种方式比较适合用来解释一个复杂概念的一个方面，或者从某个角度的理解。想面面俱到的说明白一个复杂的系统，繁琐枯燥的概念，以及这些概念间的推演几乎不可避免。 正解！但 阮 先生能解释到这个地步已属难得，尤其是这种比喻方式极好。往往让初学者瞬间理清思路。                           2015年3月21日 18:26 | # | 引用                                                                                                                火贼君 说：                                                        大神                           2015年3月26日 14:26 | # | 引用                                                                                                                zephoonyu 说：                                                        赞一个                           2015年4月 2日 20:58 | # | 引用                                                                                                                yueyanglou 说：                                                        这篇文章写得很好，对于概念比较混淆或者对因为其他文章描写复杂的互斥锁望而却步的人有很大的帮助！博主辛苦了！                           2015年4月10日 22:55 | # | 引用                                                                                                                FredWe 说：                                                        引用viho_he的发言：抛开各种技术细节，从应用程序角度讲：1、在单核计算机里，有一个资源是无法被多个程序并行使用的：cpu。没有操作系统的情况下，一个程序一直独占着全都cpu。如果要有两个任务来共享同一个CPU，程序员就需要仔细地为程序安排好运行计划--某时刻cpu和由程序A来独享，下一时刻cpu由程序B来独享而这种安排计划后来成为OS的核心组件，被单独名命为“scheduler”，即“调度器”，它关心的只是怎样把单个cpu的运行拆分成一段一段的“运行片”，轮流分给不同的程序去使用，而在宏观上，因为分配切换的速度极快，就制造出多程序并行在一个cpu上的假象。2、在单核计算机里，有一个资源可以被多个程序共用，然而会引出麻烦：内存。在一个只有调度器，没有内存管理组件的操作系统上，程序员需要手工为每个程序安排运行的空间 -- 程序A使用物理地址0x00-0xff,程序B使用物理地址0x100-0x1ff，等等。然而这样做有个很大的问题：每个程序都要协调商量好怎样使用同一个内存上的不同空间，软件系统和硬件系统千差万别，使这种定制的方案没有可行性。为了解决这个麻烦，计算机系统引入了“虚拟地址”的概念，从三方面入手来做：2.1、硬件上，CPU增加了一个专门的模块叫MMU，负责转换虚拟地址和物理地址。2.2、操作系统上，操作系统增加了另一个核心组件：memory management，即内存管理模块，它管理物理内存、虚拟内存相关的一系列事务。2.3、应用程序上，发明了一个叫做【进程】的模型，（注意）每个进程都用【完全一样的】虚拟地址空间，然而经由操作系统和硬件MMU协作，映射到不同的物理地址空间上。不同的【进程】，都有各自独立的物理内存空间，不用一些特殊手段，是无法访问别的进程的物理内存的。3、现在，不同的应用程序，可以不关心底层的物理内存分配，也不关心CPU的协调共享了。然而还有一个问题存在：有一些程序，想要共享CPU，【并且还要共享同样的物理内存】，这时候，一个叫【线程】的模型就出现了，它们被包裹在进程里面，在调度器的管理下共享CPu，拥有同样的虚拟地址空间，同时也共享同一个物理地址空间，然而，它们无法越过包裹自己的进程，去访问别一个进程的物理地址空间。4、进程之间怎样共享同一个物理地址空间呢？不同的系统方法各异，符合posix规范的操作系统都提供了一个接口，叫mmap，可以把一个物理地址空间映射到不同的进程中，由不同的进程来共享。5、PS：在有的操作系统里，进程不是调度单位（即不能被调度器使用），线程是最基本的调度单位，调度器只调度线程，不调度进程，比如VxWorks                           2015年4月25日 01:56 | # | 引用                                                                                                                FredWe 说：                                                        这个评论写得好，想知道对于多核处理器又该如何解释引用viho_he的发言：抛开各种技术细节，从应用程序角度讲：1、在单核计算机里，有一个资源是无法被多个程序并行使用的：cpu。没有操作系统的情况下，一个程序一直独占着全都cpu。如果要有两个任务来共享同一个CPU，程序员就需要仔细地为程序安排好运行计划--某时刻cpu和由程序A来独享，下一时刻cpu由程序B来独享...                           2015年4月25日 01:57 | # | 引用                                                                                                                lukase 说：                                                        浅显易懂，境界真高。                           2015年5月12日 08:58 | # | 引用                                                                                                                anonymous 说：                                                        引用herodot的发言：阮兄，我是你的博客（包括你的英文BLOG）的忠实读者。这个回复纯属技术探讨。你这篇关于进程和线程的文章，图文并茂，很通俗，但不易懂。坦白说，在我看来很多比喻很不恰当，比如：1. 车间/电力/人三者，来比喻进程/CPU/线程三者，其实既没有体现出进程作为程序的一次执行（有独立的内存空间）这一特点，也没有体现出线程作为CPU调度单位这一特点。人和电力的关系是什么呢？所以“车间的空间是工人们共享的，比如许多房间是每个工人都可以进出的”，这句话就很难理解。2. 用厕所容量，来比喻锁，也不合适。因为线程间同步是为了防止竞争（就是说因同时修改，而导致的数据不一致）。本质上讲，进程的内存空间是天然独立的，线程的内存空间是天然共享的。正因为如此，进程通信/线程同步才是系统编程的很大一块内容。进程和线程简单而基本靠谱的定义如下：1. 进程：程序的一次执行2. 线程：CPU的基本调度单位这两个概念虽然过于简单，但是完全可以为理解OS/线程/进程打下坚实的基础，我认为关于进程/线程的探讨，无论采用何种方式，都必须以这两句话为落脚点，才算靠谱。你写的大多数文章相当出色。在以通俗的方式解释复杂的概念这方面，尤其出色。但是，我个人的经验，这种方式比较适合用来解释一个复杂概念的一个方面，或者从某个角度的理解。想面面俱到的说明白一个复杂的系统，繁琐枯燥的概念，以及这些概念间的推演几乎不可避免。坦白说，在实际项目中大量用到线程/进程之前，我看过很多遍相关的概念，也写过小的示例程序，但真到了用的时候，还是发现之前没搞明白。我对进程/线程的理解也很粗浅。个人见解，仅供参考。这个才是正解 楼主说的其实我真没看懂 但是在各位仁兄说的 我貌似知道了点什么。                           2015年6月19日 11:32 | # | 引用                                                                                                                wisdom701021 说：                                                        這篇文章真的寫得太好了，跟我心中所想，完全不謀而合但願版主下次還有類似的講解（當然如果這篇文章還有簡單易懂以及可執行的程式碼的話那更好）期待下次再來，謝謝分享                           2015年8月28日 13:28 | # | 引用                                                                                                                lansekuihua 说：                                                        哈哈，好形象的比喻，一下子都看懂了，顺便理解了锁和信号量的含义！                           2015年9月 2日 21:07 | # | 引用                                                                                                                --=---- 说：                                                        解释的很清楚                           2015年9月 7日 02:59 | # | 引用                                                                                                                Rick 说：                                                        像读小人书拟的                           2015年9月 9日 17:04 | # | 引用                                                                                                                mousycoder 说：                                                        @herodot：线程其实是轻量级进程(Lightweight Process，LWP），这个才是根本，进程才是CPU调度基本单位。阮兄的比喻确实不够恰当，其实这些概念翻译过来，都变味了，不过你的评判大部分是对的，少部分还是有些问题。详情可以看下：http://mousycoder.com/the-pragmatic-sa-13/                           2015年9月14日 13:27 | # | 引用                                                                                                                小浩 说：                                                        懂了这部分  想看下多线程                           2015年10月 9日 19:41 | # | 引用                                                                                                                混的灵 说：                                                        阮兄弟是写给没接触过的人，至少很快的理解一些基本概念。各位大神是帮我们纠正错误的概念，进一步帮我们提高，所以看完这篇博客和评论，学习效率很高。学习本来就应该相互探讨，百家争鸣，拥有批判精神，这样你们的过程和结果，让我们这个菜鸟受益无穷                           2015年10月14日 15:10 | # | 引用                                                                                                                ss 说：                                                        我是初学者，对于进程，线程，程序三者概念模糊。老师可以解释一下程序吗？谢谢。                           2015年11月23日 09:20 | # | 引用                                                                                                                海星 说：                                                        我见过最最最形象的讲解！太棒了好喜欢~                           2015年12月16日 09:02 | # | 引用                                                                                                                MummyDing 说：                                                        引用mousycoder的发言：@herodot：线程其实是轻量级进程(Lightweight Process，LWP），这个才是根本，进程才是CPU调度基本单位。阮兄的比喻确实不够恰当，其实这些概念翻译过来，都变味了，不过你的评判大部分是对的，少部分还是有些问题。详情可以看下：http://mousycoder.com/the-pragmatic-sa-13/博文很赞,不过地址现在变了,更新下  http://mousycoder.com/2015/10/14/the-pragmatic-sa-13/                           2015年12月29日 22:16 | # | 引用                                                                                                                张家浩 说：                                                        我理解的进程，就相当于我们公司就是一个程序，没接到一个项目就开始了一个进程，我们工程师就相当于cpu，单核就相当于只有我这一个工程师，多进程就相当于我们单位同时接了好多个项目，我把每一个项目拆分成一个个小的项目来依次完成，所以这些项目的小项目就是线程，共享了我和我处理这个项目所需的一些材料，但是项目之间我是不能混淆共享的，我会把一天时间分给一个项目，把这天中的一个个小时分给各个小小项目，不断地在多个小小项目和项目之间切换，来给我的上司（用户）呈现出项目都在执行的假象，不知道这样的理解对不对。                           2016年1月 4日 23:06 | # | 引用                                                                                                                sandheart 说：                                                        通俗易懂，不懂计算机的也能理解                           2016年2月 4日 16:43 | # | 引用                                                                                                                mary 说：                                                        引用sun的发言：简洁，浅显易懂，到时往往越是这样越难以触及本质。当然对于深入理解还是很有帮助的。你如果觉得难以触及本质大可以自己去看“本质”的书籍，不要一边在这里看了文章入了门，一边喷别人写的“不触及本质”。请问您看文章给阮一峰付费了么。吃相难看，懂？                           2016年3月 6日 23:57 | # | 引用                                                                                                                public 说：                                                        写的真好                           2016年6月 3日 13:52 | # | 引用                                                                                                                test 说：                                                        只有我觉得完全没用吗？讲给小学生听得？？                           2016年6月11日 17:22 | # | 引用                                                                                                                jain 说：                                                        搞这么复杂干嘛，写段代码不就浅显易懂了吗public List GeValue()    //进程{    var resultA = factoryA.getResult();   //线程    var resultB = factoryB.getResult();   //线程    return ...}                           2016年6月23日 10:35 | # | 引用                                                                                                                阮小二 说：                                                        我觉得比喻的挺好的。至于 线程是CPU的基本调度单位，也能从工人的点去理解，因为工厂里的基本单位也是人，即使分成小组，来调度，也是人为单位的。虽然看完这篇博客中的讲解，就是我现在还理解不了代码中的 多线程，比如 张宴（赶集网架构师）的博客中 curl 抓取页面。请看到的同学 帮忙理解一下成么。QQ 508440335                           2016年7月 4日 14:23 | # | 引用                                                                                                                11111 说：                                                        好文章， 我也是如此理解 进程和线程的关系的。进程就是个完整的程序.可以单独运行一个exe 文件就是 一个进程。线程就是进程中多个运行路线。cpu控制这线程的运行。                           2016年7月14日 16:04 | # | 引用                                                                                                                小蜜蜂 说：                                                        看了原文和留言，收获不少，谢谢，自己粗浅的总结如下：（1）进程process： 程序的一次执行（进程与进程之间有天然独立的内存空间），可包括1个或多个线程。（2）线程thread：CPU的基本调度单位。同一进程里的内存空间天然共享，不同进程里的线程则不共享。内存线程间同步是为了防止竞争（就是说因同时修改，而导致的数据不一致）。（3）进程与线程的关系： 线程包括进程，进程封装在线程中。                           2016年7月15日 19:52 | # | 引用                                                                                                                qwe 说：                                                        引用jain的发言：搞这么复杂干嘛，写段代码不就浅显易懂了吗public List GeValue()//进程{var resultA = factoryA.getResult(); //线程var resultB = factoryB.getResult(); //线程return ...}你这个都是线程吧，第一个算进程？                           2016年8月10日 10:05 | # | 引用                                                                                                                林 说：                                                        学到了，谢谢                           2016年8月20日 23:32 | # | 引用                                                                                                                黄亭亭 说：                                                        阮老师真的是大牛，您的博客页面很好看                           2016年8月30日 23:33 | # | 引用                                                                                                                入水的鱼渴望海洋 说：                                                        初接触，感觉体会好深。电脑的硬件资源是一定的，上层的软件系统就是共用这些资源完成不同的工作。                           2016年9月 3日 14:31 | # | 引用                                                                                                                ice_bear 说：                                                        我觉得很舒服，这样的文章可以加深印象，评论里很多人写出了更深刻更准确的定义，但是这种定义就是走马观花，看的时候觉得很有道理，看完之后想想那个人写了什么，头脑就一片空白了。喜欢博主的文章，以后也会继续关注。                           2016年9月 9日 11:27 | # | 引用                                                                                                                sunman721 说：                                                        还真是不错！有点懂了！                           2016年10月 4日 10:06 | # | 引用                                                                                                                杨洋 说：                                                        一直没明白进程和线程，有了阮老师的图片解说，秒懂。原创知识一定要坚持下去，请问有公众号吗？想多向阮老师学习。《沙海》，闲暇之余的消遣读物，一旦看上，根本停不下来。htt://shahai.org谁看谁知道。                           2016年10月 4日 14:04 | # | 引用                                                                                                                冬瓜蔡 说：                                                        思考下这种常见：如果服务器是多核，但是只有一个任务，并且任务是多线程的。那么这个任务是运行在多处理器上还是只占用了其中一个CPU                           2016年10月11日 10:31 | # | 引用                                                                                                                whereami 说：                                                        图画的不错                           2017年1月10日 21:18 | # | 引用                                                                                                                李争 说：                                                        http://blog.csdn.net/zheng548/article/details/54669908我也写了关于线程和进程的一篇文章。欢迎大佬拍砖                           2017年1月22日 20:18 | # | 引用                                                                                                                winfirm 说：                                                        很好理解啊                           2017年8月 4日 15:58 | # | 引用                                                                                                                Jerry 说：                                                        互斥锁和信号量区别原来就在于资源个数，搜嘎斯呢                           2017年8月15日 21:01 | # | 引用                                                                                                                AaronHU 说：                                                        @小蜜蜂：（3）写反了吧                           2017年8月28日 16:57 | # | 引用                                                                                                                学生 说：                                                        这学期的课程  我也觉得线程才是基本单位 进程感觉是个没必要存在的概念 是这样吗                           2017年9月12日 10:03 | # | 引用                                                                                                                菜鸟1号 说：                                                        温故而知新                           2017年9月20日 10:37 | # | 引用                                                                                                                様 说：                                                        引用屌丝男的发言：进程就是我们打开的一个快播播放器,线程就是快播里面的那些功能,如搜索、播放、暂停等。。之前看了那么多例子，一直有疑惑，多线程要用锁来阻塞其他线程而防止数据混乱，要用多线程的话有要开启多进程，那为啥还要用多线程呢！看到了播放器，恍然大悟                           2018年5月18日 10:19 | # | 引用                                                                                                                kaidi 说：                                                        引用阮一峰的发言：我完全同意你对进程和线程的定义。这篇文章的比喻，确实不是完全准确。但是，进程和线程要找到现实生活中准确的对应，恐怕很困难吧。我的基本想法是：（1）进程是一个容器。（2）线程是容器中的工作单位。车间—工人的比喻就是这样来的。我觉得这个定义最贴切, 最初理解时, 也是很迷惑, 但是后来看到容器概念后, 有种恍然大悟的感觉.线程, 进程, 容易弄混的是有部分人为对比因素,非要把两个概念抽象出相同点, 尤其是在单进程 单线程 程序中                            2018年6月 6日 16:57 | # | 引用                                                                                                                小龙 说：                                                        6中车间的空间是工人们共享的，比如许多房间是每个工人都可以进出的。这象征一个进程的内存空间是共享的，每个线程   此处应该是进程吧                             2018年9月 5日 15:21 | # | 引用                                                                                                                pcli 说：                                                        搞清楚进程 线程是干什么的，解决了什么问题？ 这样才能真正理解                           2018年9月20日 19:43 | # | 引用                                                                                                                午後のお茶で一杯 说：                                                        引用jain的发言：搞这么复杂干嘛，写段代码不就浅显易懂了吗public List GeValue()//进程{var resultA = factoryA.getResult(); //线程var resultB = factoryB.getResult(); //线程return ...}锁呢？交互呢？呵呵                           2018年9月26日 13:34 | # | 引用                                                                                                                Troublemaker 说：                                                        配图 里有《怪兽电力公司》哎 哈哈 形容的很贴切                           2018年10月18日 16:39 | # | 引用                                                                                                                suxiongit 说：                                                        @小蜜蜂：你第3点描述进程与线程的关系，是不是搞混？                           2018年12月 6日 15:31 | # | 引用                                                                                                                liao 说：                                                        引用mousycoder的发言：@herodot：线程其实是轻量级进程(Lightweight Process，LWP），这个才是根本，进程才是CPU调度基本单位。阮兄的比喻确实不够恰当，其实这些概念翻译过来，都变味了，不过你的评判大部分是对的，少部分还是有些问题。详情可以看下：http://mousycoder.com/the-pragmatic-sa-13/线程是一种轻量级的进程，与进程相比，线程给操作系统带来侧创建、维护、和管理的负担要轻，意味着线程的代价或开销比较小。但是线程才是CPU调度基本单位。进程是资源分配的最小单位，但是那是在没有引入线程以前，在那之前，进程既是最小资源分配单位，也是最小调度单位。后来引入了线程，最小调度单位就是线程，                           2020年1月 3日 17:05 | # | 引用                                                                                                                Kenneth 说：                                                        浅显易懂，赞。                           2020年11月25日 17:31 | # | 引用                                                                                                                淹不死的鱼 说：                                                        深入浅出，不错撒                           2021年3月10日 10:33 | # | 引用                                                                                                                Awen 说：                                                        文章写得好，跟帖的评论写得也非常好，让我们从不同角度去理解进程和线程之间的关系。                           2021年6月12日 00:37 | # | 引用                                                                                                                没有大名 说：                                                        妙啊，阮老师牛逼啊                           2021年8月29日 19:56 | # | 引用                                                                                                                哈哈哈 说：                                                        有意思，明白了互斥锁和信号量的区别，书上写了一大堆搞得人云里雾里的还看不懂，这帖子讲的好通俗，我姥都能看懂！                           2023年5月28日 14:27 | # | 引用                                                                                                                majiko 说：                                                        一下子就懂了                           2023年6月16日 09:14 | # | 引用                                                                                                                Smile 说：                                                        写的非常好                           2024年12月13日 11:45 | # | 引用                                                                                                                子小 说：                                                        看到了十几年前的技术交流，受益匪浅，没有空白的东西，都是学术的交流，氛围真好                           2024年12月29日 23:43 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9834cd00cf45',t:'MTc0MzI0MzIwNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2013/04/processes_and_threads.html
为什么寄存器比内存快？ - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    为什么寄存器比内存快？ - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：梁漱溟：做学问的八个境下一篇：什么是&nbsp;Event&nbsp;L                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              为什么寄存器比内存快？                                                                                    作者： 阮一峰                                    日期： 2013年10月14日                                                                                                                                            计算机的存储层次（memory hierarchy）之中，寄存器（register）最快，内存其次，最慢的是硬盘。                                                                                                                同样都是晶体管存储设备，为什么寄存器比内存快呢？Mike Ash写了一篇很好的解释，非常通俗地回答了这个问题，有助于加深对硬件的理解。下面就是我的简单翻译。原因一：距离不同距离不是主要因素，但是最好懂，所以放在最前面说。内存离CPU比较远，所以要耗费更长的时间读取。以3GHz的CPU为例，电流每秒钟可以振荡30亿次，每次耗时大约为0.33纳秒。光在1纳秒的时间内，可以前进30厘米。也就是说，在CPU的一个时钟周期内，光可以前进10厘米。因此，如果内存距离CPU超过5厘米，就不可能在一个时钟周期内完成数据的读取，这还没有考虑硬件的限制和电流实际上达不到光速。相比之下，寄存器在CPU内部，当然读起来会快一点。距离对于桌面电脑影响很大，对于手机影响就要小得多。手机CPU的时钟频率比较慢（iPhone 5s为1.3GHz），而且手机的内存紧挨着CPU。原因二：硬件设计不同苹果公司新推出的iPhone 5s，CPU是A7，寄存器有6000多位（31个64位寄存器，加上32个128位寄存器）。而iPhone 5s的内存是1GB，约为80亿位（bit）。这意味着，高性能、高成本、高耗电的设计可以用在寄存器上，反正只有6000多位，而不能用在内存上。因为每个位的成本和能耗只要增加一点点，就会被放大80亿倍。事实上确实如此，内存的设计相对简单，每个位就是一个电容和一个晶体管，而寄存器的设计则完全不同，多出好几个电子元件。并且通电以后，寄存器的晶体管一直有电，而内存的晶体管只有用到的才有电，没用到的就没电，这样有利于省电。这些设计上的因素，决定了寄存器比内存读取速度更快。原因三：工作方式不同寄存器的工作方式很简单，只有两步：（1）找到相关的位，（2）读取这些位。内存的工作方式就要复杂得多：  （1）找到数据的指针。（指针可能存放在寄存器内，所以这一步就已经包括寄存器的全部工作了。）（2）将指针送往内存管理单元（MMU），由MMU将虚拟的内存地址翻译成实际的物理地址。（3）将物理地址送往内存控制器（memory controller），由内存控制器找出该地址在哪一根内存插槽（bank）上。（4）确定数据在哪一个内存块（chunk）上，从该块读取数据。（5）数据先送回内存控制器，再送回CPU，然后开始使用。内存的工作流程比寄存器多出许多步。每一步都会产生延迟，累积起来就使得内存比寄存器慢得多。为了缓解寄存器与内存之间的巨大速度差异，硬件设计师做出了许多努力，包括在CPU内部设置缓存、优化CPU工作方式，尽量一次性从内存读取指令所要用到的全部数据等等。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2013年10月14日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（65条）                                                                                                    江南胡杨 说：                                                        这篇文章让我震惊的是潜意识里被认为是非常大的光速居然也是限制性因素，想想数量级确实只有10^8                           2013年10月14日 21:54 | # | 引用                                                                                                                Jation 说：                                                        我觉得有个很重要的问题没说到，根据计算机组成原理的知识，由于硬件设计不同，内存会掉电，要定时刷新充电，而寄存器的电总是满满的，这点不但影响了寄存器和内存的速度差异，也影响了他们的容量差异（单位体积的容量）                           2013年10月14日 22:08 | # | 引用                                                                                                                caomaocao 说：                                                        “这篇文章让我震惊的是潜意识里被认为是非常大的光速居然也是限制性因素，想想数量级确实只有10^8”。不能同意更多，之前对光速度概念都是光年什么的，没想到在计算机中竟然也是限制。。。。                           2013年10月14日 22:47 | # | 引用                                                                                                                nnkken 说：                                                        我比較在意的是最上面的圖片的價錢單位Cache $150/MB，12MB = $1200RAM $0.58/MB，8GB = $4751難道是日元嗎？但圖中用了美金符號，若是美金那還得了……                           2013年10月14日 23:20 | # | 引用                                                                                                                fripSide 说：                                                        从计组的角度来看寄存器是稳态电路触发器不是存储器,这篇文章是想比较cache和内存？一个是SRAM一个DRAM用得着比？严重怀疑这作者没本科文凭                           2013年10月15日 00:27 | # | 引用                                                                                                                马猴 说：                                                        引用fripSide的发言：从计组的角度来看寄存器是稳态电路触发器不是存储器,这篇文章是想比较cache和内存？一个是SRAM一个DRAM用得着比？严重怀疑这作者没本科文凭用不着这么激动。不妨当成另外一个角度看问题。                           2013年10月15日 09:05 | # | 引用                                                                                                                watchdb 说：                                                        “在CPU的一个时钟周期内，光可以前进10厘米。因此，如果内存距离CPU超过5厘米，就不可能在一个时钟周期内完成数据的读取”这句话是不是有矛盾？也有可能是我没理解这句话的意思                           2013年10月15日 09:23 | # | 引用                                                                                                                JamesChen1988 说：                                                        引用watchdb的发言：“在CPU的一个时钟周期内，光可以前进10厘米。因此，如果内存距离CPU超过5厘米，就不可能在一个时钟周期内完成数据的读取”这句话是不是有矛盾？也有可能是我没理解这句话的意思他的意思是往返的速度                           2013年10月15日 09:33 | # | 引用                                                                                                                dario67 说：                                                        引用watchdb的发言：“在CPU的一个时钟周期内，光可以前进10厘米。因此，如果内存距离CPU超过5厘米，就不可能在一个时钟周期内完成数据的读取”这句话是不是有矛盾？也有可能是我没理解这句话的意思意思是“读取”，就是往返                           2013年10月15日 09:44 | # | 引用                                                                                                                Phoenix 说：                                                        头一次见到光速不够用的情况 :D                           2013年10月15日 10:06 | # | 引用                                                                                                                po 说：                                                        引用nnkken的发言：我比較在意的是最上面的圖片的價錢單位Cache $150/MB，12MB = $1200RAM $0.58/MB，8GB = $4751難道是日元嗎？但圖中用了美金符號，若是美金那還得了……仔细想想，这张图可能是很久以前的了。                           2013年10月15日 10:15 | # | 引用                                                                                                                shincepu 说：                                                        请问第一个图里面读取速度是按照1bit算的吗？                           2013年10月15日 11:38 | # | 引用                                                                                                                mine260309 说：                                                        "内存的晶体管只有用到的才有电，没用到的就没电" 这句话是真的吗？我印象中，内存不管有没有用到（是1还是0）都需要刷新，也就都需要电                           2013年10月15日 12:28 | # | 引用                                                                                                                Solarex 说：                                                        Registers get used extremely frequently, and there aren't a lot of them. There are only about 6,000 bits of register data in an A7 (32 64-bit general-purpose registers plus 32 128-bit floating-point registers, and some miscellaneous ones). There are about 8 billion bits (1GB) of RAM in an iPhone 5S. It's worthwhile to spend a bunch of money making each register bit faster. There are literally a million times more RAM bits, and those eight billion bits pretty much have to be as cheap as possible if you want a $650 phone instead of a $6,500 phone.这段翻译的个人感觉不太好，看原文很容易理解，看译文理解不能。。。                           2013年10月15日 12:43 | # | 引用                                                                                                                阿昭 说：                                                        看来很多人跟我一样，是想进来喷的然后看了之后，只能说“不能同意更多"这让我们第一次意识到我们身边有的东西已经可以光速进行比较了不说图有点旧啊                           2013年10月15日 13:14 | # | 引用                                                                                                                codezyc 说：                                                        谢谢分享                           2013年10月15日 14:04 | # | 引用                                                                                                                Whiskier 说：                                                        引用江南胡杨的发言：这篇文章让我震惊的是潜意识里被认为是非常大的光速居然也是限制性因素，想想数量级确实只有10^8确实令我震惊，同时有一种大开眼界的感觉                           2013年10月15日 16:34 | # | 引用                                                                                                                爱的色放 说：                                                        引用Jation的发言：我觉得有个很重要的问题没说到，根据计算机组成原理的知识，由于硬件设计不同，内存会掉电，要定时刷新充电，而寄存器的电总是满满的，这点不但影响了寄存器和内存的速度差异，也影响了他们的容量差异（单位体积的容量）我顶你                           2013年10月15日 17:17 | # | 引用                                                                                                                大名 说：                                                        引用watchdb的发言：“在CPU的一个时钟周期内，光可以前进10厘米。因此，如果内存距离CPU超过5厘米，就不可能在一个时钟周期内完成数据的读取”这句话是不是有矛盾？也有可能是我没理解这句话的意思来回                           2013年10月15日 19:28 | # | 引用                                                                                                                mr_nop 说：                                                        引用爱的色放的发言：我顶你这个说法是比较接近真实世界                           2013年10月15日 21:38 | # | 引用                                                                                                                ccc 说：                                                        文章编译的很好，我这种小白也看懂了。付费阅读那篇文章也写的很好，但是习惯于免费的东西了，而且你也免费给我看了，那就不掏钱了                           2013年10月16日 09:02 | # | 引用                                                                                                                kingods 说：                                                        引用watchdb的发言：“在CPU的一个时钟周期内，光可以前进10厘米。因此，如果内存距离CPU超过5厘米，就不可能在一个时钟周期内完成数据的读取”这句话是不是有矛盾？也有可能是我没理解这句话的意思读取要有来回，CPU发送指令给内存，内存在值传回来。如果是5厘米来回就十厘米，需要的时间是一个时钟周期，然后，寻址也是要时间的。所以应该是要超过一个时间周期                           2013年10月16日 09:06 | # | 引用                                                                                                                van 说：                                                        可以去看看英文原文的评论，里面提到了很多有意义的信息，也可以加深理解。                           2013年10月16日 09:45 | # | 引用                                                                                                                aatu 说：                                                        惊讶光速的应该是做纯软件吧。高速电路里面，内存到cpu的总线必须要满足等长，不然有的bit到得早，有的到得迟，就乱了。所以PCB上很多弯弯曲曲的蛇形线就是用来凑长度的。                           2013年10月16日 20:24 | # | 引用                                                                                                                dcxy0 说：                                                        这篇文章让我长知识了，谢谢！支持了！！！                           2013年10月16日 23:15 | # | 引用                                                                                                                ALittleMing 说：                                                        引用nnkken的发言：我比較在意的是最上面的圖片的價錢單位Cache $150/MB，12MB = $1200RAM $0.58/MB，8GB = $4751難道是日元嗎？但圖中用了美金符號，若是美金那還得了……是不是还要考虑规模经济？                           2013年10月17日 22:09 | # | 引用                                                                                                                digitalguy 说：                                                        引用Jation的发言：我觉得有个很重要的问题没说到，根据计算机组成原理的知识，由于硬件设计不同，内存会掉电，要定时刷新充电，而寄存器的电总是满满的，这点不但影响了寄存器和内存的速度差异，也影响了他们的容量差异（单位体积的容量）正解。像A7这样的DRAM和CPU封装到一起了延迟影响不大. 主要速度和成本区别在于register是寄存器做的，cache用SRAM,而内存是DRAM做的。                           2013年10月18日 15:43 | # | 引用                                                                                                                zhangzl419 说：                                                        请问您用的什么技术做的这个博客？                           2013年10月18日 22:17 | # | 引用                                                                                                                Little Fish 说：                                                        引用zhangzl419的发言：请问您用的什么技术做的这个博客？他有一篇文章介绍了如何搭建个人博客，你可以自己搜索。                           2013年10月21日 13:34 | # | 引用                                                                                                                zhangzl419 说：                                                        引用Little Fish的发言：他有一篇文章介绍了如何搭建个人博客，你可以自己搜索。谢谢你，我去搜索一下                           2013年10月22日 12:53 | # | 引用                                                                                                                eyny 说：                                                        计算机组成原理里面学过，一直没搞明白，看了之后就懂了！                           2013年10月24日 13:15 | # | 引用                                                                                                                jtcat 说：                                                        上次去wiki搜 flash memory，顺着搜了DRAM和CPU，可以分的很清晰。寄存器由好多个晶体管组成，成本高，和CPU同频好象（速度就在这里体现出来了）可以直接在寻址，而内存RAM之类电路简单，每个bit一个管，由电容存储数据，需要专用电路来不停的刷新电容保持数据不丢，也需要专门的寻址电路接口什么的，频率好象是和主板一样（板频是cpu的几分之一，慢），读写也要好多个指令周期。基本上就是这样，可以自己去wiki.最好玩的是关于flash，就是我们用的U盘和固态硬盘，原来用浮闸Mos管做的，把电荷永久封在闸里，根据每个管能存的bit数不同还分为SLC,MLC,TLC，TLC是一管有3个状态电位，当然可靠性就更差，一直想去找个工具查一下我的U盘是哪种，没找到。                           2013年11月23日 23:17 | # | 引用                                                                                                                嘻嘻嘻 说：                                                        光速=电流传导速度？                           2013年12月16日 16:38 | # | 引用                                                                                                                atoliu 说：                                                        引用嘻嘻嘻的发言：光速=电流传导速度？说了没他快啊                           2013年12月24日 15:33 | # | 引用                                                                                                                fgh 说：                                                        看了这篇日志，让我突然想起，现在的计算机真的太高级了，以至于大多数的使用者不知道了一些硬件常识！现代计算机，虽然性能很高，但是和上世纪7、8十年代的计算机比，其实结构都差不多。现在讲存储，一般讲有内存和外存，内存一般有寄存器(register)，缓存(cache)和内存(memory)，有些小型应用例如MCU没有cache，甚至没有memory——直接从flash/ROM到register。寄存器是CPU基础单元，CPU直接处理的内存就它了，好比医院，医生对面的椅子就是寄存器，要看病的病人(data)就座这个椅子(register)；已经挂号的(data)进入诊室(cache)排队，其他的就在医院里（memory）。医生可以操作的就是面对面的病人，其他人要看病（如急病）也需先坐上这个位置，这是最快的。诊室里的座位相对于cache，一般cache都是sram存储器，速度很快，但一般cpu不会直接访问，而是要把数据挪到register后才可直接操作，而一般的内存为DRAM，速度比SRAM慢多了，而且通过总线访问，速度就更慢了。应该说这不完全是距离问题，而是内存结构和总线结构和访问方式的问题。                           2013年12月27日 11:17 | # | 引用                                                                                                                DingSoung 说：                                                        等CPU把内存也集成进去，估计性能还会上升一个层次                           2014年1月12日 13:00 | # | 引用                                                                                                                sipeny 说：                                                        这主要是SRAM和DRAM的差异，DRAM为了节约晶体管，用了电容器维持电位，但电容器会漏电，需要周期性刷新，刷新期间不能读写                           2014年1月14日 16:35 | # | 引用                                                                                                                jehovah0121 说：                                                        引用sipeny的发言：这主要是SRAM和DRAM的差异，DRAM为了节约晶体管，用了电容器维持电位，但电容器会漏电，需要周期性刷新，刷新期间不能读写这个解释蛮好~                           2014年1月25日 19:33 | # | 引用                                                                                                                netstu 说：                                                        总结的很好。『深入理解计算机系统』一书中讲的也不错                           2014年3月26日 13:38 | # | 引用                                                                                                                netstu 说：                                                        引用fripSide的发言：从计组的角度来看寄存器是稳态电路触发器不是存储器,这篇文章是想比较cache和内存？一个是SRAM一个DRAM用得着比？严重怀疑这作者没本科文凭作者好像不是计算机专业的：）不过文凭嘛，听说很高                           2014年3月26日 13:41 | # | 引用                                                                                                                mll 说：                                                        第三条完全是第二条导致的啊，是因为设计不同才导致的使用方式不同。                           2014年3月26日 15:17 | # | 引用                                                                                                                bihuzhufu 说：                                                        引用fripSide的发言：从计组的角度来看寄存器是稳态电路触发器不是存储器,这篇文章是想比较cache和内存？一个是SRAM一个DRAM用得着比？严重怀疑这作者没本科文凭作者能让没本科文凭的人明白，你不能。                           2014年4月 1日 13:58 | # | 引用                                                                                                                4king 说：                                                        引用bihuzhufu的发言：作者能让没本科文凭的人明白，你不能。这是翻译，作者是mike ash                           2014年4月16日 08:46 | # | 引用                                                                                                                赖信涛 说：                                                        通俗易懂                           2014年5月21日 09:57 | # | 引用                                                                                                                A_stranger 说：                                                        看完百度百科中的作者介绍，前来膜拜                           2014年5月30日 20:41 | # | 引用                                                                                                                sapwood 说：                                                        "而内存的晶体管只有用到的才有电，没用到的就没电"这句话不对吧。DRAM是一直需要刷新的。                           2014年6月11日 00:10 | # | 引用                                                                                                                LJC 说：                                                        那显卡里面的显存呢？应该比内存快把  比寄存应该慢了点                           2014年7月10日 23:56 | # | 引用                                                                                                                Qbuer 说：                                                        引用watchdb的发言：“在CPU的一个时钟周期内，光可以前进10厘米。因此，如果内存距离CPU超过5厘米，就不可能在一个时钟周期内完成数据的读取”这句话是不是有矛盾？也有可能是我没理解这句话的意思从内存中读出来,再送回内存.我是这么理解的                           2014年10月23日 16:23 | # | 引用                                                                                                                6943916 说：                                                        偶然在搜寻cache时候浏览到这篇文章，仔细看了一遍，包括评论，很不错，唯一不爽又黑没本科文凭                           2015年3月17日 21:41 | # | 引用                                                                                                                陈曦 说：                                                        “电流实际上达不到光速”这句话说得不妥。一般来说导体中电子移动速度是很慢的，米每秒级，但是电场建立的速度是很快的，与光速相同，这里要关心的是电场建立的速度。但是三十万公里每秒是在真空中的速度，在介质中速度会低一些。                           2015年5月11日 14:14 | # | 引用                                                                                                                小白 说：                                                        疯狂的程序员那个小说的作者当年是写汇编的，他同时用C++，当时他俩都是菜鸟，在哪互相比较汇编和C++。小说作者说，我什么都放到寄存器里运算，你算数我位移，你还能比我快？几年之后，那个小说作者说，寄存器比内存快原因是因为寻址。mov ax,bx和mov ax,[bx]速度肯定不一样啊。当然了，他是从OS的角度说的。                           2015年5月20日 21:45 | # | 引用                                                                                                                yizishou 说：                                                        在看JVM的书，提到“物理机会比虚拟机快一些，因为物理机能直接利用寄存器，而虚拟机基于栈，也就是内存”，感到疑惑，看了帖子之后豁然开朗。感谢！                           2015年6月 2日 17:25 | # | 引用                                                                                                                虐猫狂人薛定谔 说：                                                        哇哈哈 看了文章翻译还有大伙儿的讨论，感触良多~ 感谢哈哈                           2015年11月 7日 11:07 | # | 引用                                                                                                                BeanMr 说：                                                        我觉着其实关键因素还在设计、制造成本上，寄存器一般都使用SRAM实现而内存使用DRAM实现。SRAM比DRAM更快速、功耗更低（尤其是空闲状态，但SRAM功耗取决于它的访问频率，DRAM一般有固定刷新频率），所以从性能方面SRAM超越DRAM很多。从设计与制造成本一般教材的SRAM单元有6个晶体管，DRAM有3个晶体管。更多的晶体管意味着更复杂的连线更昂贵的设计成本，更大的硅晶占用面积。https://zh.wikipedia.org/wiki/%E9%9D%99%E6%80%81%E9%9A%8F%E6%9C%BA%E5%AD%98%E5%8F%96%E5%AD%98%E5%82%A8%E5%99%A8                           2016年2月17日 19:01 | # | 引用                                                                                                                BeanMr 说：                                                        引用yizishou的发言：在看JVM的书，提到“物理机会比虚拟机快一些，因为物理机能直接利用寄存器，而虚拟机基于栈，也就是内存”，感到疑惑，看了帖子之后豁然开朗。感谢！虚拟机基于栈说的是硬件编程模型上，最终运行还是基于寄存器的。之所以慢是因为中间层的消耗，并不是说虚拟机的运算时存储使用的是内存上的栈，栈最终还是会加载到寄存器中，因为汇编语言操作的是寄存器。                           2016年2月17日 19:50 | # | 引用                                                                                                                BeanMr 说：                                                        引用Jation的发言：我觉得有个很重要的问题没说到，根据计算机组成原理的知识，由于硬件设计不同，内存会掉电，要定时刷新充电，而寄存器的电总是满满的，这点不但影响了寄存器和内存的速度差异，也影响了他们的容量差异（单位体积的容量）我觉着寄存器和内存都属于易失存储都不能掉电。内存和寄存器差别在于一个是DRAM一个SRAM，存储单元的结构造成了他们的速度差别。您所说的内存掉电可能指的是DRAM的刷新过程，的确这个过程造成了延迟。                           2016年2月17日 19:58 | # | 引用                                                                                                                Andy 说：                                                        光速确实挺慢，进一步清澈了光速，时钟周期，寄存器和CPU的认识                           2016年6月22日 16:36 | # | 引用                                                                                                                Andy 说：                                                        引用eyny的发言：计算机组成原理里面学过，一直没搞明白，看了之后就懂了！这说明作者讲解的多么透彻和清晰啊                           2016年6月22日 16:39 | # | 引用                                                                                                                一颗自由小星星 说：                                                        讲的很清晰，赞                           2016年7月17日 17:05 | # | 引用                                                                                                                郭腾虎 说：                                                        http://www.cypress.com/knowledge-base-article/sram-and-dram-differenceSRAM和DRAM的区别，讲的挺好。当时学的，现在都忘了                           2017年4月14日 17:53 | # | 引用                                                                                                                1 说：                                                        我才发现。阮一峰你的好多文章都是直接复制的维基百科的内容。上面还有链接你都不处理一下。                           2017年5月27日 11:11 | # | 引用                                                                                                                Dr.G 说：                                                        看了这篇文章，我打算继续复习我的数逻了。                           2017年12月30日 12:21 | # | 引用                                                                                                                hoho 说：                                                        引用atoliu的发言：说了没他快啊电场速度                           2018年6月 6日 11:28 | # | 引用                                                                                                                0x2a 说：                                                        引用fripSide的发言：从计组的角度来看寄存器是稳态电路触发器不是存储器,这篇文章是想比较cache和内存？一个是SRAM一个DRAM用得着比？严重怀疑这作者没本科文凭cache 是高速缓存，但不是寄存器。                           2018年7月20日 00:06 | # | 引用                                                                                                                fier 说：                                                        讲得很透彻,评论更精彩                           2018年10月 9日 23:15 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9d7ba9cccf45',t:'MTc0MzI0MzQyMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2013/10/register.html
RSA算法原理（一） - 阮一峰的网络日志    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    RSA算法原理（一） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：HTML&nbsp;Email&nbsp;下一篇：RSA算法原理（二）&nbsp;                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              RSA算法原理（一）                                                                                    作者： 阮一峰                                    日期： 2013年6月27日                                                                                                                                            如果你问我，哪一种算法最重要？                                                                                                                我可能会回答"公钥加密算法"。因为它是计算机通信安全的基石，保证了加密数据不会被破解。你可以想象一下，信用卡交易被破解的后果。进入正题之前，我先简单介绍一下，什么是"公钥加密算法"。一、一点历史1976年以前，所有的加密方法都是同一种模式：　　（1）甲方选择某一种加密规则，对信息进行加密；　　（2）乙方使用同一种规则，对信息进行解密。由于加密和解密使用同样规则（简称"密钥"），这被称为"对称加密算法"（Symmetric-key algorithm）。这种加密模式有一个最大弱点：甲方必须把加密规则告诉乙方，否则无法解密。保存和传递密钥，就成了最头疼的问题。1976年，两位美国计算机学家Whitfield Diffie 和 Martin Hellman，提出了一种崭新构思，可以在不直接传递密钥的情况下，完成解密。这被称为"Diffie-Hellman密钥交换算法"。这个算法启发了其他科学家。人们认识到，加密和解密可以使用不同的规则，只要这两种规则之间存在某种对应关系即可，这样就避免了直接传递密钥。这种新的加密模式被称为"非对称加密算法"。　　（1）乙方生成两把密钥（公钥和私钥）。公钥是公开的，任何人都可以获得，私钥则是保密的。　　（2）甲方获取乙方的公钥，然后用它对信息加密。　　（3）乙方得到加密后的信息，用私钥解密。如果公钥加密的信息只有私钥解得开，那么只要私钥不泄漏，通信就是安全的。1977年，三位数学家Rivest、Shamir 和 Adleman 设计了一种算法，可以实现非对称加密。这种算法用他们三个人的名字命名，叫做RSA算法。从那时直到现在，RSA算法一直是最广为使用的"非对称加密算法"。毫不夸张地说，只要有计算机网络的地方，就有RSA算法。这种算法非常可靠，密钥越长，它就越难破解。根据已经披露的文献，目前被破解的最长RSA密钥是768个二进制位。也就是说，长度超过768位的密钥，还无法破解（至少没人公开宣布）。因此可以认为，1024位的RSA密钥基本安全，2048位的密钥极其安全。下面，我就进入正题，解释RSA算法的原理。文章共分成两部分，今天是第一部分，介绍要用到的四个数学概念。你可以看到，RSA算法并不难，只需要一点数论知识就可以理解。二、互质关系如果两个正整数，除了1以外，没有其他公因子，我们就称这两个数是互质关系（coprime）。比如，15和32没有公因子，所以它们是互质关系。这说明，不是质数也可以构成互质关系。关于互质关系，不难得到以下结论：　　1. 任意两个质数构成互质关系，比如13和61。　　2. 一个数是质数，另一个数只要不是前者的倍数，两者就构成互质关系，比如3和10。　　3. 如果两个数之中，较大的那个数是质数，则两者构成互质关系，比如97和57。　　4. 1和任意一个自然数是都是互质关系，比如1和99。　　5. p是大于1的整数，则p和p-1构成互质关系，比如57和56。　　6. p是大于1的奇数，则p和p-2构成互质关系，比如17和15。三、欧拉函数请思考以下问题：　　任意给定正整数n，请问在小于等于n的正整数之中，有多少个与n构成互质关系？（比如，在1到8之中，有多少个数与8构成互质关系？）计算这个值的方法就叫做欧拉函数，以φ(n)表示。在1到8之中，与8形成互质关系的是1、3、5、7，所以 φ(n) = 4。φ(n) 的计算方法并不复杂，但是为了得到最后那个公式，需要一步步讨论。第一种情况如果n=1，则 φ(1) = 1 。因为1与任何数（包括自身）都构成互质关系。第二种情况如果n是质数，则 φ(n)=n-1 。因为质数与小于它的每一个数，都构成互质关系。比如5与1、2、3、4都构成互质关系。第三种情况如果n是质数的某一个次方，即 n = p^k (p为质数，k为大于等于1的整数)，则 比如 φ(8) = φ(2^3) =2^3 - 2^2 = 8 -4 = 4。这是因为只有当一个数不包含质数p，才可能与n互质。而包含质数p的数一共有p^(k-1)个，即1×p、2×p、3×p、...、p^(k-1)×p，把它们去除，剩下的就是与n互质的数。上面的式子还可以写成下面的形式：可以看出，上面的第二种情况是 k=1 时的特例。第四种情况如果n可以分解成两个互质的整数之积，　　n = p1 × p2则　　φ(n) = φ(p1p2) = φ(p1)φ(p2)即积的欧拉函数等于各个因子的欧拉函数之积。比如，φ(56)=φ(8×7)=φ(8)×φ(7)=4×6=24。这一条的证明要用到"中国剩余定理"，这里就不展开了，只简单说一下思路：如果a与p1互质(a&lt;p1)，b与p2互质(b&lt;p2)，c与p1p2互质(c&lt;p1p2)，则c与数对 (a,b) 是一一对应关系。由于a的值有φ(p1)种可能，b的值有φ(p2)种可能，则数对 (a,b) 有φ(p1)φ(p2)种可能，而c的值有φ(p1p2)种可能，所以φ(p1p2)就等于φ(p1)φ(p2)。第五种情况因为任意一个大于1的正整数，都可以写成一系列质数的积。根据第4条的结论，得到再根据第3条的结论，得到也就等于这就是欧拉函数的通用计算公式。比如，1323的欧拉函数，计算过程如下：四、欧拉定理欧拉函数的用处，在于欧拉定理。"欧拉定理"指的是：如果两个正整数a和n互质，则n的欧拉函数 φ(n) 可以让下面的等式成立：也就是说，a的φ(n)次方被n除的余数为1。或者说，a的φ(n)次方减去1，可以被n整除。比如，3和7互质，而7的欧拉函数φ(7)等于6，所以3的6次方（729）减去1，可以被7整除（728/7=104）。欧拉定理的证明比较复杂，这里就省略了。我们只要记住它的结论就行了。欧拉定理可以大大简化某些运算。比如，7和10互质，根据欧拉定理，已知 φ(10) 等于4，所以马上得到7的4倍数次方的个位数肯定是1。因此，7的任意次方的个位数（例如7的222次方），心算就可以算出来。欧拉定理有一个特殊情况。假设正整数a与质数p互质，因为质数p的φ(p)等于p-1，则欧拉定理可以写成这就是著名的费马小定理。它是欧拉定理的特例。欧拉定理是RSA算法的核心。理解了这个定理，就可以理解RSA。五、模反元素还剩下最后一个概念：如果两个正整数a和n互质，那么一定可以找到整数b，使得 ab-1 被n整除，或者说ab被n除的余数是1。这时，b就叫做a的"模反元素"。比如，3和11互质，那么3的模反元素就是4，因为 (3 × 4)-1 可以被11整除。显然，模反元素不止一个， 4加减11的整数倍都是3的模反元素 {...,-18,-7,4,15,26,...}，即如果b是a的模反元素，则 b+kn 都是a的模反元素。欧拉定理可以用来证明模反元素必然存在。可以看到，a的 φ(n)-1 次方，就是a的模反元素。==========================================好了，需要用到的数学工具，全部介绍完了。RSA算法涉及的数学知识，就是上面这些，下一次我就来介绍公钥和私钥到底是怎么生成的。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2013年6月27日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（103条）                                                                                                    bigeagle 说：                                                        建议公式用透明背景看着舒服些，mathjax更好～// mod 作为运算符不该用斜体呀，强迫症犯了                           2013年6月27日 22:35 | # | 引用                                                                                                                roywoo 说：                                                        欧拉这位数学家真的很厉害                           2013年6月27日 23:31 | # | 引用                                                                                                                Du 说：                                                        峰哥的技术文章写的总是这么深入浅出，大赞                           2013年6月28日 03:48 | # | 引用                                                                                                                小白 说：                                                        记得看到说1024位也不安全了，估计已经或者接近被破解了。而且政府和法院可以命令企业提供私钥的吧。                           2013年6月28日 11:05 | # | 引用                                                                                                                danny 说：                                                        快点出二！我正期待这类文章呢！                           2013年6月28日 15:15 | # | 引用                                                                                                                Frank 说：                                                        建议使用 MathJax，浏览器中显示数学公式会好看得多。样例： http://www.mathjax.org/demos/mathml-samples/。                           2013年6月28日 21:53 | # | 引用                                                                                                                chaoc 说：                                                        期待下一篇。楼主很专业。希望马上看到楼主的下一篇。                           2013年6月29日 11:55 | # | 引用                                                                                                                米格 说：                                                        很喜欢、很佩服你讲解技术的方式，深入浅出，娓娓道来。也很喜欢你的博客网站的风格，朴素但是有内容，非常实在。顺便请教一下，你的博客是采用哪个平台呢？还是自己开发的？就像你的关于github和Jekll搭建博客的文章，你的博客也是按照这个方式组织的吗？谢谢！                           2013年6月30日 00:01 | # | 引用                                                                                                                稀饭 说：                                                        ＂这是因为只有当一个数不包含质数p，才可能与n互质。而包含质数p的数一共有p^(k-1)个，即1×p、2×p、3×p、...、p^(k-1)×p，把它们去除，剩下的就是与n互质的数。＂虽然很容易推导，但是这句话这样说应该是有逻辑问题。前面是＂可能＂，后面是＂就是＂。                           2013年7月 1日 00:45 | # | 引用                                                                                                                Jak Wings 说：                                                        欧拉定理找本高等数学的书就能知道了，的确有点复杂，感觉不必在这里详细介绍，囧。我以前也写过一篇简单的笔记：http://jakwings.is-programmer.com/posts/29107.html公钥和私钥的来源简单来说就是下面这样吧，当然具体是怎么把它们复杂化我就不清楚了，希望下次你能详细讲到。:)公钥：w, n私钥：p, q, Φ(n), d                           2013年7月 1日 12:08 | # | 引用                                                                                                                malasang 说：                                                        深入浅出，我当时做网络安全的时候还专门研究了这个东西呢，现在忘了很多，不过看起来依然很亲切。                           2013年7月 2日 13:15 | # | 引用                                                                                                                银色Blues 说：                                                        早上查看微信,看到推荐的这篇文章.下午查询https相关知识,又来到博主这里,实在是太巧了.谢谢楼主的分享,非常详细,很是受用.                           2013年7月 5日 17:32 | # | 引用                                                                                                                Viko 说：                                                        有点疑问第五种情况中 “再根据第3条的结论，得到”使用第3条的条件应为“P(k1,1)为质数的某一个次方，且次幂大于1”，即P(k1,1)不是质数但第五条的题设是“因为任意一个大于1的正整数，都可以写成一系列质数的积。”则P(k1,1)为质数，与第三条的条件不符，不能用第三条吧？                           2013年7月 5日 22:03 | # | 引用                                                                                                                Viko 说：                                                        再看了一下感觉欧拉函数中第三条“k为大于1的整数”可以改为“k为大于或等于1的整数”                           2013年7月 5日 22:19 | # | 引用                                                                                                                阮一峰 说：                                                        To Viko:谢谢指出，已经改过来了。                           2013年7月 6日 06:44 | # | 引用                                                                                                                hilojack 说：                                                        您好博主，对于第四种情况，我也有点疑问："由于a的值有φ(p1)种可能，b的值有φ(p2)种可能，则数对 (a,b) 有φ(p1)φ(p2)种可能，而c的值有φ(p1p2)种可能，所以φ(p1p2)就等于φ(p1)φ(p2)。"这里我不太理解的是，9与8是互质的：φ(8)有4种a可能：1 3 5 7φ(9)有6种b可能:1 2 4 5 7 8φ(8*9) = φ(72)真的有24(4*6)种c(对应[a,b])可能吗？ 如果取a=3 b=2 而c=a*b=3*2=6 并非是8×9=72的互质数呀                           2013年7月 9日 21:21 | # | 引用                                                                                                                holys 说：                                                        引用米格的发言：很喜欢、很佩服你讲解技术的方式，深入浅出，娓娓道来。也很喜欢你的博客网站的风格，朴素但是有内容，非常实在。顺便请教一下，你的博客是采用哪个平台呢？还是自己开发的？就像你的关于github和Jekll搭建博客的文章，你的博客也是按照这个方式组织的吗？谢谢！风格是stylesheet决定的, 内容是作者的, 与平台何关呢?                           2013年7月10日 15:40 | # | 引用                                                                                                                阮一峰 说：                                                        To hilojack:c 是（a，b）的函数，但不一定等于 a*b ，比如c可以等于2a+b。                           2013年7月10日 18:46 | # | 引用                                                                                                                shyixiu 说：                                                        我想请问，因为e和d都非常大，那对于加解密的幂运算取模是不是速度都很慢呢？                           2013年7月11日 11:14 | # | 引用                                                                                                                软件局局长 说：                                                        没完全看懂，看来我得再加强理论学习。                           2013年7月17日 09:32 | # | 引用                                                                                                                xfq 说：                                                        有点疑问第三种情况中说“只有当一个数不包含质数p，才可能与n互质”，这个好理解，但是为什么把它们去除后，剩下的就是与n互质的数呢？                           2013年7月22日 21:58 | # | 引用                                                                                                                huaxingmaster 说：                                                        引用xfq的发言：有点疑问第三种情况中说“只有当一个数不包含质数p，才可能与n互质”，这个好理解，但是为什么把它们去除后，剩下的就是与n互质的数呢？这个情况是针对n=p^k形式，n只包含质因子p，如果一个数不包含质因子p，那显然不会和n有共同的质因子，当然互质了                           2013年8月16日 13:37 | # | 引用                                                                                                                赵三 说：                                                        “因此，7的任意次方的个位数（例如7的222次方），心算就可以算出来”7的222次方=7的2次方*7的（4*55）次方，下面该怎么算呢？谢谢~                           2014年1月 2日 13:55 | # | 引用                                                                                                                any 说：                                                        引用赵三的发言：“因此，7的任意次方的个位数（例如7的222次方），心算就可以算出来”7的222次方=7的2次方*7的（4*55）次方，下面该怎么算呢？谢谢~7的2次方个位数9, 7的（4*55）次方 个位数1（1^55）  9×1=9                           2014年1月 2日 16:09 | # | 引用                                                                                                                gk 说：                                                        我高等数学中没有这个欧拉定理啊，欧拉定理有很多。看了这篇文章我才知道费马小定理原来是欧拉定理中的特殊情况，真高端！                           2014年2月18日 21:08 | # | 引用                                                                                                                zhangyuqin 说：                                                        图片大多数挂掉了！                           2014年3月 3日 11:15 | # | 引用                                                                                                                刘婷 说：                                                        我是今年的应届毕业生，毕业论文就是关于RSA算法的，在网页上看到阮先生的这篇文章，受益匪浅。因为本身对于数学并不擅长，希望可以借鉴一下阮先生的这篇文章。希望能够得到您的许可。                           2014年3月 5日 10:43 | # | 引用                                                                                                                Seraph256 说：                                                        谢谢一峰！想了解 RSA 很长时间了，一直不得要领，今天看到了这篇文章和后续的（二），马上看完记笔记，醍醐灌顶，受益匪浅！谢谢一峰！                           2014年3月18日 17:02 | # | 引用                                                                                                                Dude 说：                                                        引用小白的发言：记得看到说1024位也不安全了，估计已经或者接近被破解了。而且政府和法院可以命令企业提供私钥的吧。现在都有人急着用2048了。当然量子计算机一出现RSA就是浮云了。                           2014年5月13日 14:38 | # | 引用                                                                                                                Z10 说：                                                        已经看晕了.                            2014年7月 3日 10:44 | # | 引用                                                                                                                Z00 说：                                                        公式图片好像都不显示了...                           2014年10月15日 10:55 | # | 引用                                                                                                                C860 说：                                                        你好，这篇文章的图片貌似都挂掉了，影响了阅读质量哦。                           2014年10月17日 10:11 | # | 引用                                                                                                                Asn 说：                                                        引用Viko的发言：第五种情况中 “再根据第3条的结论，得到”使用第3条的条件应为“P(k1,1)为质数的某一个次方，且次幂大于1”，即P(k1,1)不是质数但第五条的题设是“因为任意一个大于1的正整数，都可以写成一系列质数的积。”则P(k1,1)为质数，与第三条的条件不符，不能用第三条吧？那如果该数不是某个质数的次方呢，即不符合第三种情况的条件呢？根据3和5推出的式子还成立么(。・д・。)。PS：感谢博主的耐心解释~(・∀・)~                           2014年10月18日 18:09 | # | 引用                                                                                                                王发康 说：                                                        公式不显示啦~~~~                           2014年11月24日 14:03 | # | 引用                                                                                                                Rigg在路上 说：                                                        图挂啦~~                           2014年11月26日 22:31 | # | 引用                                                                                                                Rigg在路上 说：                                                        我有直觉，只要翻墙那些图就会出来                           2014年11月27日 13:30 | # | 引用                                                                                                                Rigg在路上 说：                                                        刚试了一下，翻墙后确实出来了昨天晚上看到最后，最关键的地方，结果图全部都是X现在才看到，有种非常不爽的感觉。                           2014年11月27日 13:40 | # | 引用                                                                                                                亮黑色书脊 说：                                                        引用Dude的发言：现在都有人急着用2048了。当然量子计算机一出现RSA就是浮云了。用8192bit是不是丧心病狂的表现                           2014年12月12日 06:09 | # | 引用                                                                                                                WT 说：                                                        阮哥，为什么图片没有了                           2015年1月24日 13:19 | # | 引用                                                                                                                clpszpp 说：                                                        引用WT的发言：阮哥，为什么图片没有了图片在这个网站上，http://chart.googleapis.com/chart，看到URL中的google你就知道为什么了                           2015年2月 3日 18:07 | # | 引用                                                                                                                jeffyang 说：                                                        >> 任意给定正整数n，请问在小于等于n的正整数之中，有多少个与n构成互质关系？（比如，在1到8之中，有多少个数与8构成互质关系？）计算这个值的方法就叫做欧拉函数-->> 如果n是质数，则 φ(n)=n-1 。因为质数与小于它的每一个数，都构成互质关系。这两处定义出入                           2015年2月13日 22:05 | # | 引用                                                                                                                谢飞 说：                                                        太棒了！很有心得！感谢分享！                           2015年3月16日 06:01 | # | 引用                                                                                                                出体 说：                                                        看了感觉可以  不错的文章                           2015年3月18日 13:52 | # | 引用                                                                                                                eomer 说：                                                        引用clpszpp的发言：图片在这个网站上，http://chart.googleapis.com/chart，看到URL中的google你就知道为什么了天朝上国！悲哀                           2015年4月 1日 11:06 | # | 引用                                                                                                                adele 说：                                                        欧拉定理的公式看不到了！_(:з」∠)_                           2015年4月 2日 22:57 | # | 引用                                                                                                                小白 说：                                                        看着看着就晕了的飘过                           2015年4月 8日 15:25 | # | 引用                                                                                                                waldenpond 说：                                                        发明非对称加密的科学家 好像甘道夫                           2015年4月26日 09:11 | # | 引用                                                                                                                gxin 说：                                                        果然需要翻墙才能看图片。好文章赞一个。                           2015年5月25日 16:23 | # | 引用                                                                                                                冒菜 说：                                                        下次再来继续看。。。                           2015年6月 6日 10:04 | # | 引用                                                                                                                lenina 说：                                                        今天在看到，原来早在1973年和RSA等效的算法已经被一个英国情报部门工作的数学家Clifford Cocks弄出来了，只是由于工作性质，知道1997年他的这部分工作才解密，4年后RSA三人才独立重新发明这个算法，还是Whitfield Diffie 和 Martin Hellman两个人的前期工作下（而这两人的“前期”工作也后于Clifford Cocks），这样Cocks的工作虽然没有直接带来革命，但作为一个数学家的成就，还有这个故事本身的趣味性，感觉都值得一提，如果阮先生以后要更新这篇文章或者RSA相关内容的不妨看看                           2015年8月 3日 16:37 | # | 引用                                                                                                                钱俊 说：                                                         看来你的文章，对RSA算法讲解很到位，准备在公司培训采用你的资料，谢谢你。                           2015年8月22日 22:42 | # | 引用                                                                                                                N 说：                                                        _(:зゝ∠)_ 看《离散数学》看到这里，不太明白，谢谢博主的文章                           2015年9月29日 21:21 | # | 引用                                                                                                                Jasper 说：                                                        条理很清晰，十分感谢！！                           2015年10月 4日 16:09 | # | 引用                                                                                                                wuxinliulei 说：                                                        图挂了                           2016年1月21日 18:47 | # | 引用                                                                                                                gxy 说：                                                        阮哥，既然这个私钥那么重要，那么在开发中怎样保护私钥呢？                              2016年3月18日 14:35 | # | 引用                                                                                                                apple 说：                                                        要翻墙可以把图片显示出来。。翻墙怎么办？自己想办法                           2016年3月30日 09:37 | # | 引用                                                                                                                Hanse 说：                                                        讲得真好，本来以为加密都是高大上的东西，原来核心原理并不复杂，再次感慨数学的神奇！                           2016年4月22日 12:29 | # | 引用                                                                                                                冲浪板 说：                                                        有人说量子计算机出现将使得它失效,可是他没想到,量子计算机同样可以出题目,它算出来的题目,它自己解起来要多久....                           2016年5月 2日 17:40 | # | 引用                                                                                                                ddc 说：                                                        有一个相关的问题，publickey 和 publickey token 是否有对应关系，或者通过某个工具可否查看两者是否匹配？                           2016年5月15日 22:25 | # | 引用                                                                                                                jack 说：                                                        第二种情况：“而包含质数p的数一共有p^(k-1)个，即1×p、2×p、3×p、...、p^(k-1)×p，把它们去除，剩下的就是与n互质的数”这里有错误，有p^(k-1)个质数是对的，但是1×p、2×p、...应该是p、p^2...                           2016年5月30日 17:42 | # | 引用                                                                                                                acerpeanut 说：                                                        包含质数p的数，也就是说p是这个数的因数。毫无疑问，p都是1*p, 2*p, 3*p的因数。所以原文并没有错。                           2016年6月15日 10:13 | # | 引用                                                                                                                alert 说：                                                        因为任意一个大于1的正整数，都可以写成一系列质数的积。上面这句话是错的吧、一个大于1的正整数7怎么写成一系列质数的积啊，1不是质数也不是合数                           2016年8月27日 11:03 | # | 引用                                                                                                                Jerry 说：                                                         写了太好了，比我们教授讲了清楚，哈哈                           2016年10月26日 22:21 | # | 引用                                                                                                                陈玩玩 说：                                                        这学期开了密码学的课程，正学到RSA这里，围观一峰大大的日志=w=                           2016年11月27日 00:30 | # | 引用                                                                                                                赵兴君 说：                                                        师兄，你好。后面部分你给出的算式是用图片表示的。但是我无法打开图片。我用过几部设备打开网页都是无法打开的。希望能得到师兄的帮助，谢谢师兄                           2016年11月28日 09:54 | # | 引用                                                                                                                何怡 说：                                                        引用zhangyuqin的发言：图片大多数挂掉了！好多图片看不见了=，=马下来作者以后修复了重新看                           2016年12月22日 13:53 | # | 引用                                                                                                                陈大东 说：                                                        条理好清晰配上图片 好容易理解比起教科书好太多感谢                           2017年1月 7日 16:41 | # | 引用                                                                                                                陈大东 说：                                                        想看到完整的公式翻了墙还是看不到 图片明明写得很好的                           2017年1月 7日 17:17 | # | 引用                                                                                                                王超 说：                                                        很烦躁，图片都看不到，哎                           2017年3月31日 09:39 | # | 引用                                                                                                                CSHwang 说：                                                        引用acerpeanut的发言：包含质数p的数，也就是说p是这个数的因数。毫无疑问，p都是1*p, 2*p, 3*p的因数。所以原文并没有错。p^k / 2p = p^(k-1) / 2p^(k-1)/2 不是整数，所以2p不是因数                           2017年4月19日 09:06 | # | 引用                                                                                                                riophae 说：                                                        感觉这句话：这是因为只有当一个数不包含质数p，才可能与n互质改为：这是因为只有当一个数的因数不包含质数p，才可能与n互质更明白一些                           2017年5月19日 09:54 | # | 引用                                                                                                                lc 说：                                                        最上面的图中大牛好像东邪黄药师                           2017年5月31日 18:05 | # | 引用                                                                                                                萌 说：                                                        有没有人能简单易懂的说一下这个的意义！                           2017年8月11日 12:28 | # | 引用                                                                                                                kkkkk 说：                                                        在了解RSA算法之前，还是要先了解一下如何求最大公约数的吧http://www.jianshu.com/p/bbca651ed5bb     欧几里得算法的应用：RSA的加密解密                           2017年8月27日 12:49 | # | 引用                                                                                                                lake 说：                                                        思路清晰，文笔简练，可惜图片load不到，峰哥要不试试七牛的服务吧                           2017年11月13日 10:06 | # | 引用                                                                                                                Panda 说：                                                        图片没有了                           2017年12月27日 10:49 | # | 引用                                                                                                                a 说：                                                        公式图片没有了，我在下面这里看的https://www.cnblogs.com/hiflora/archive/2013/07/04/3171775.html                           2018年1月29日 19:42 | # | 引用                                                                                                                Mark 说：                                                        图片全挂了                           2018年5月15日 10:17 | # | 引用                                                                                                                王 说：                                                        m与n不互质时，m=kpq不行么，或者甚至说m=n这种情况呢。再或者说文中说以m=kp为例，如果k碰巧为q，那么“m与q必然互质”的说法不就不对了么？                           2018年7月31日 13:35 | # | 引用                                                                                                                周海汉 说：                                                        引用王的发言：m与n不互质时，m=kpq不行么，或者甚至说m=n这种情况呢。再或者说文中说以m=kp为例，如果k碰巧为q，那么“m与q必然互质”的说法不就不对了么？m必须小于n，否则会解密失败。所以m也不会在k大于1时，等于kpq。设m=kp, k必然小于q。由于q为质数，所以k必然和q互质。                           2018年11月13日 18:15 | # | 引用                                                                                                                xzw 说：                                                        1和2互质，那么2^φ(1)≡1(mod 1) 其中φ(1)=1，即得到 2^1%1=0 这与源等式不一致啊，为啥？                           2018年12月12日 16:39 | # | 引用                                                                                                                江东小白板 说：                                                        一峰哥 能否更新一下图片 图片显示不了                           2019年6月 4日 00:19 | # | 引用                                                                                                                linw 说：                                                         博主你好，你的博客图片都挂了，最近梯子限制得厉害，翻不了墙，能否修改一下                           2020年3月29日 21:54 | # | 引用                                                                                                                RLWS 说：                                                        7的4次方个位数一定是1理解了,但7的任意次方的个位数（例如7的222次方），心算就可以算出来为啥呢?为啥呢?为啥呢?                           2020年4月 9日 14:34 | # | 引用                                                                                                                李京潼 说：                                                        博客中的图片看不到了。。。                           2020年5月 6日 17:46 | # | 引用                                                                                                                路人J 说：                                                        引用RLWS的发言：7的4次方个位数一定是1理解了,但7的任意次方的个位数（例如7的222次方），心算就可以算出来为啥呢?为啥呢?为啥呢?因为根据定理可以得出7的220次方（200可以被4整除）个位数一定是1，然后再乘以7再乘以7，得到最后一位是9                           2020年5月31日 21:28 | # | 引用                                                                                                                payne 说：                                                        大佬，博客里的图片显示不出来了                           2020年6月11日 10:11 | # | 引用                                                                                                                wind315 说：                                                        文章中“3. 如果两个数之中，较大的那个数是质数，则两者构成互质关系，比如97和57。”这个不成立吧？比如，21，17，21就不是质数?还是我对这句话理解有误？？                           2020年8月24日 16:11 | # | 引用                                                                                                                X_x 说：                                                        引用wind315的发言：文章中“3. 如果两个数之中，较大的那个数是质数，则两者构成互质关系，比如97和57。”这个不成立吧？比如，21，17，21就不是质数?还是我对这句话理解有误？？21不是质数啊3、7。较大的数是质数，如果一个数小于它，那除了1以外，其他数不是和它互质吗                           2020年8月28日 11:31 | # | 引用                                                                                                                Lotus 说：                                                        切比雪夫，有兴趣看质数数论的不容错过                           2020年9月16日 12:08 | # | 引用                                                                                                                robin 说：                                                        文章中的图片都显示不出来，影响阅读和理解，希望阮大佬更新一下                           2020年10月23日 15:16 | # | 引用                                                                                                                对饮 说：                                                        最近在看《信息论》，可一拿起书，就看不进去，前几章好枯燥                           2020年12月14日 17:40 | # | 引用                                                                                                                Learner 说：                                                        有些重要的图片看不了了，希望老师可以更新一下                           2021年6月14日 22:24 | # | 引用                                                                                                                暮光 说：                                                        梯子可以看到图片                           2021年6月30日 11:31 | # | 引用                                                                                                                图班龙格 说：                                                        RSA算法原理（二）传送门：https://www.ruanyifeng.com/blog/2013/07/rsa_algorithm_part_two.html                           2021年9月30日 20:11 | # | 引用                                                                                                                cw 说：                                                        已知 φ(10) 等于4，所以马上得到7的4倍数次方的个位数肯定是1。70^20最后一位不是1啊                           2021年10月12日 16:59 | # | 引用                                                                                                                dogtor doggo 说：                                                        欧拉函数totient function的第四种情况，用容斥原理可以比较清楚点解释.                           2022年2月18日 01:52 | # | 引用                                                                                                                lxq 说：                                                        引用xfq的发言：有点疑问第三种情况中说“只有当一个数不包含质数p，才可能与n互质”，这个好理解，但是为什么把它们去除后，剩下的就是与n互质的数呢？确实这里说法有问题，改成“如果一个数的因子包含质数p，那么就不与n互质”就好了，不过这里也没解释为什么“只有当一个数的因数不包含质数p，才会与n互质”                           2022年4月10日 21:44 | # | 引用                                                                                                                若微fly 说：                                                        看了很多关于私钥和公钥的文章，都一头无数。这篇是最清晰的，解决了我的困惑，谢谢！                           2022年4月29日 13:52 | # | 引用                                                                                                                灰尘疾客 说：                                                        作者大哥，文中一些图片链接挂了，我访问不了（网络环境：广东电信）                           2023年9月 2日 17:39 | # | 引用                                                                                                                旅行者 说：                                                        太厉害了，就是有些图看不了有些可惜。                           2023年9月30日 16:11 | # | 引用                                                                                                                momo 说：                                                        图片挂了                           2025年2月27日 15:56 | # | 引用                                                                                                                大理 说：                                                        引用cw的发言：已知 φ(10) 等于4，所以马上得到7的4倍数次方的个位数肯定是1。70^20最后一位不是1啊7的4倍数次方，你这里写的“70^20”用中文读出来，是“七十的4的5倍数次方”，你这里的底数是七十，不是七。那最后一位当然不一定是啥啦！                           2025年3月17日 17:36 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9e9cfeb3cf45',t:'MTc0MzI0MzQ2OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2013/06/rsa_algorithm_part_one.html
《千与千寻》原画欣赏 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    《千与千寻》原画欣赏 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：米尔顿·弗里德曼去世了下一篇：《富爸爸，穷爸爸》摘录                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              《千与千寻》原画欣赏                                                                                    作者： 阮一峰                                    日期： 2006年11月20日                                                                                                                                            《千与千寻》是一部我非常喜欢的动画片，以前我曾经做过截图。现在，将异常精美的动画底稿转载过来，希望大家喜欢。                                                                                                                			　																																																																																																																																																																																																																																																																																																																																																																																																				 					[出处] 宫崎骏映画馆                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2006年11月20日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（9条）                                                                                                    ximing 说：                                                        站长同志，又到你的叶子来了。以后可以每天都来坐一下，真好啊。我也很喜欢宫崎骏呐，像是永远的童话世界。我也在考虑开垦个小花园什么的，但愿我能够有恒心。北京这几天的雾那么大，而且这周五据说要下雪啦，这在上海还是不可想象的吧。要开始工作了，就先说这么多了：）                           2006年11月21日 08:37 | # | 引用                                                                                                                ximing 说：                                                        嘿嘿，原来我是这篇文字的第一个评论者呀，再冒个泡泡：）                           2006年11月21日 08:39 | # | 引用                                                                                                                Carly 说：                                                        是伐是国关的RYF?偶是吴月:)偶尔撞进来的~很不错的网站!                           2006年11月21日 20:03 | # | 引用                                                                                                                Ruan Yifeng 说：                                                        引用ximing的发言：北京这几天的雾那么大，而且这周五据说要下雪啦，这在上海还是不可想象的吧。有个朋友今天去北京，希望她一切顺利。                           2006年11月21日 20:26 | # | 引用                                                                                                                ximing 说：                                                        引用Ruan Yifeng的发言：有个朋友今天去北京，希望她一切顺利。hehe,今天没有雾了，可是气温仍然很低啊。但愿你的朋友装备充分一些，否则可能要吃苦头了：）                           2006年11月22日 08:32 | # | 引用                                                                                                                   isabelle 说：                                                           冒冒失失进来了，呵呵，不过很不错啊，看来我和站长   同志有不少爱好相同啊                              2006年12月 4日 09:43 | # | 引用                                                                                                                Veronica 说：                                                        真得很佩服站长，在我看来呢，站长同志就是热爱一切美好的咚咚！！                           2007年4月 7日 05:51 | # | 引用                                                                                                                emotion 说：                                                        太谢谢LZ了!!最喜欢千寻..                           2007年10月13日 19:44 | # | 引用                                                                                                                cathleen 说：                                                        不止是动画漂亮 情节也很好                           2011年6月17日 16:51 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e950b8df6cf45',t:'MTc0MzI0MzA3Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2006/11/spirited_away_s_original_manuscript.html
100个常见别字测验 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    100个常见别字测验 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：凡高的星星为什么如此明下一篇：关于司法的英语单词&nbsp;&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              100个常见别字测验                                                                                    作者： 阮一峰                                    日期： 2006年5月 8日                                                                                                                                            我只有80分了！太打击人了，发现自己的汉语这么差......这个汗哪！                                                                                                                下面选5道我错误的题目。1。老（）口 （a） 两 （b） 俩2。美（）美奂（a） 轮 （b） 仑3。额（）称庆（a） 手 （b） 首 4。坐（）（a） 阵 （b） 镇5。床（）之私 （a） 笫 （b） 第答案：aaaba（按住鼠标左键，选上此行查看）点击下载文件，进行测验。（xls文件，33K）Download file新浪网的详细报道（感谢石衣同学提供）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2006年5月 8日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（14条）                                                                                                    fishee 说：                                                        我也是昨天刚做83分 哈哈 竟然比你高 心理安慰了很多你列的这5题我只做对3和4-,-                           2006年5月 9日 10:13 | # | 引用                                                                                                                linda 说：                                                        这是我上个月做的。哈哈，我86分呢！看到比一个学识渊博的人高几分，真是太兴奋了！（唱个小曲乐一乐、、、、、）                           2006年5月 9日 13:04 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        我高考语文一塌糊涂，想起这个就伤心啊，:(                           2006年5月10日 00:09 | # | 引用                                                                                                                淳于沫 说：                                                        刚做的．８９分．不过有几个真的是觉得不可思议耶，难道真是我错了吗？比如那个额手称庆？不过还是让我明白了自己有好多无知啊                           2006年5月10日 10:41 | # | 引用                                                                                                                fishee 说：                                                        真不该在这里把自己的分数贴出来...额手称庆/颂,我一直记得意思是说把手放在额上表示高兴,所以不会是"额首"咯. 好在这个词排在成语词典靠前的地方...我本来对常见成语还是挺有信心的:)                           2006年5月11日 15:39 | # | 引用                                                                                                                达之 说：                                                        你错的这5个里面 我错了4个～～汗                           2006年5月11日 16:56 | # | 引用                                                                                                                落霞余影 说：                                                        呵呵，其实现在好多人的文章里都有错别字的，知道错了改过来了就好了啊~~我也一直还以为自己语文还学得不错的，结果5个里也错了2个~~                           2006年6月 5日 19:19 | # | 引用                                                                                                                小小 说：                                                        谁知道工作表的密码呢？                           2007年7月31日 14:14 | # | 引用                                                                                                                InterMa 说：                                                        同错了4个。。。－_－bb                           2007年9月 1日 13:03 | # | 引用                                                                                                                Lok 说：                                                        呵呵～～除了坐镇～～其他都错 - -#                           2007年9月26日 14:38 | # | 引用                                                                                                                camus 说：                                                        也是80分。。。                           2008年2月15日 22:06 | # | 引用                                                                                                                Kitty 说：                                                        我承认，我是文盲，5555                           2008年3月 5日 17:34 | # | 引用                                                                                                                mimo 说：                                                        90分,趋之若鹜好亏啊,我一混乱把鸭子想成马了>,                           2010年3月25日 01:59 | # | 引用                                                                                                                孔雀东南舞 说：                                                        97,好开心好开心~饮 鸩 止渴， 脍 炙人口，蛛丝 马 迹弄错了。由于我先做了日志中博主给出的五道题，错了美 轮 美奂和额 手 称庆，所以后面的100题里面就避免了这个错误，所以实际应该是95分才对。                           2015年1月 5日 11:14 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e98f66e48cf45',t:'MTc0MzI0MzIzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2006/05/100.html
中国的大学改名（转贴） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    中国的大学改名（转贴） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：《纽约时报》系列报道：下一篇：美联储（Federal                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              中国的大学改名（转贴）                                                                                    作者： 阮一峰                                    日期： 2006年4月25日                                                                                                                                                哈尔滨船舶工程学院----〉哈尔滨工程大学（是我国船舶工业系统唯一一所全国重点大学。改后的校名不但抹杀了学校的特色及其"哈军工"海军工程系血统的荣耀。而且给人的感觉就是有意想和哈尔滨工业大学搅在一起，让考生莫辨东西！）。                                                                                                                 　　华东纺织工学院----〉中国纺织大学----〉东华大学（一听还以为是民办的，如果说第一次改名，华东改为中国，学院改为大学算是为学校壮了胆的话，那再次改名有什么含义？对学校的发展有什么帮助？却让人有些云里雾里的。）    　　无锡轻工大学----〉江南大学（莫名其妙！像所民办大学！后来知道原来是创办人的爷爷曾创办"江南大学"。故不顾师生竭力反对硬是在2001年改为此名。）     　　北京语言学院----〉北京语言文化大学----〉北京语言大学（也属于翻来覆去型的。该校更名固然有着语言习惯的原因，但更主要的原因却是季羡林先生曾经指出的，语言本身就是文化的重要组成部分，"语言文化"并列本身就不妥当。为了向"知名大学"靠拢，更为 了纠正语法错误。所以改了！）     　　四川大学----四川联合大学----四川大学（也是折腾型的！因为北京有个市属的"北京联合大学"，弄得四川联合大学也被误认为是这等档次的高校，在北京都招不上学生，改名四川大学后，报考的人数很快上来了）。     　　石油大学----〉中国石油大学（怕人家不知道自己是中国的一样！）     　　华中理工大学----〉华中科技大学    　　长春光学精密机械学院----〉长春理工大学     　　广东民族学院----〉广东职业技术师范学院----〉广东技术师范学院（4年间，改了2次名，广东民族学院，简称民院，所有人都没有意见；广东职业技术师范学院，官方简称职师，但学生不干，学生们都说应该简称技院。）     　　     　　西南师范大学和西南农业大学合并为西南大学~听起就像稀烂大学     　　浙江经济高等专科学校，升为本科后改名为"嘉兴学院"（该校位于浙江嘉兴），听上去就像个民办的。    　　     　　绵阳经济技术高等专科学校和西南工学院(前身:四川建材学校)合并后----〉西南科技大学（表面上看和西南交大是同等档次了！）     　　四川工业学院、成都师范高等专科学校合并----〉西华大学（本想改名"四川工业大学"，上头不同意，叫"华西大学"又不够格，所以只好改了如今这个名。）     　　沈阳工业学院----〉沈阳理工大学（名字还像是比以前响些，但是要和同省的大连理工比，差了十万八千里！）     　　南医科大学、长沙铁道学院、中南工业大学合并----〉中南大学    　　西南师范大学、西南农业大学合并----〉西南大学     　　郑州粮食学院----〉郑州工程学院----〉河南工业大学（能够骗的！）     　　河北地质学院----〉石家庄经济学院（变的太离谱了吧！地质----〉经济 一个字"强"！）     　　山东农机化学院----〉山东工程学院----〉山东理工大学（越来越"牛"）     　　青岛海洋大学----〉中国海洋大学（地方性名称变全国了！领导需要点实力的啊！）     　　湛江水产学院----〉湛江海洋大学----〉广东海洋大学（改来改去反正都在水里游！又可以骗更多的外省的水鱼进来了！）     　　淮南煤炭学校----〉淮南矿业学院----〉淮南工业学院----〉安徽理工大学（一路升级！顺！）     　　株洲工学院----〉湖南工业大学（又是一个地方成省的）     　　达县师范高等专科学校----〉四川文理学院（终于知道达县是四川的了！）     　　上海商业职业技术学院----〉上海商学院（这个是多少职业技术学院梦寐以求的啊！）     　　常德师范高等专科学校和常德高等专科学校----〉常德师范学院----〉湖南文理学院（99年那会儿升级的，03年又升级了）     　　岳阳师范学院----〉湖南理工学院（现该院网站已经完全抹掉了岳阳师范学院的痕迹了！）     　　锦州师范学院、辽宁商业高等专科学校合并----〉渤海大学     　　郴州师专、郴州医专、郴州教育学院、郴州师范----〉湘南学院（四个专科一合并成了本科了，还有了个好校名！）     　　赤峰民族师范高等专科学校、赤峰教育学院、内蒙古电视大学赤峰分校、赤峰卫生学校，内蒙幼儿师范学校部分合并----〉赤峰学院（这么多中专，大专合并还成了本科，牛！）     　　西昌农业高等专科学校、西昌师范高等专科学校、凉山大学、凉山教育学院合并----〉西昌学院（因为西昌发射卫星，敢保证改名后招生超好！）     　　鹭江职业大学----〉厦门理工学院（"职业"变成"理工" 何止"牛"字能罢了的！）     　　彭城职业大学、徐州经济管理干部学院合并----〉徐州工程学院（成人大学变本科）     　　金陵职业大学、南京农业专科学校合并----〉金陵科技学院（真是毁了"金陵"美名，金陵仍是南京最雅致的别称，该校起名"金陵科技学院"，也许是想沾 "金陵大学"的光，金陵大学是国内历史悠久的著名教会大学之一，是现在南京大学的源头之一。它的前身是创 办于1888年的汇文书院，是美国基督教会在华早期创立的一所学校。）     　　南昌高等专科学校、南昌农业学校、南昌市高级技工学校、南昌卫生学校、南昌粮食职工中专合并----〉江西科技师范学院----〉南昌科技大学（筹）（中专！！一大堆中专！）     　　杭州应用工程学院----〉浙江科技学院（2001年才升本，但是沾了"科技"的光，招生就业上硬是把浙江林学院等拥有近50年本科历史的实力派高等院校比下去了。 备注：浙江高校中有50年本科历史的院校没有几所。）     　　天津职业技术师范学院----〉天津工程师范学院（该校是培养职业技术学院教师的师范院校，但是带着"职业技术"招生不佳，改吧！好了！）     　　上海机械学院----〉华东工业大学----〉上海理工大学（几易校名，"面孔"每变一次，考生的报考热情就高涨一次。）     　　山东矿业学院、山东煤炭教育学院合并----〉山东科技大学（2001年3月，山东省财政学校并入。都不咋地学校成了山科大！）     　　北京煤炭干部管理学院分院----〉华北矿业高等专科学校----〉华北科技学院（2003年升本改名华北科技学院，有网友这么评论：这个学校是典型的骗子，其实学校根本不在北京在河北一个叫燕郊的镇，可是在年年的招生考试报上都写着校址：北京市。按照官方资 料所述：学院地处河北省燕郊经济技术开发区，毗邻北京，距天安门35公里...... 跟首都这么会拉关系，看来不拉关系日子难过啊！请给予理解！）     　　哈尔滨工业大学重型机械学院----〉东北重型机械学院----〉燕山大学（还以为是北京的大学呢！河北秦皇岛的！好像河北的大学很爱跟北京套近乎！当然这是人家优势啊！）     　　南充师范学院近年更名史：南充师范学院----四川师范学院----西华师范大学；     　　四川省人民警察学校（中专）近年更名史：四川省人民警察学校----四川警官高等专科学校----四川警官学院（本科）。     　　自贡的原"四川轻化工学院"更名为"四川理工学院"，不知道把成都理工大学放在哪里？！     　　江苏大学和江苏科技大学在哪个城市？----南京？？ 错！！！在镇江！！ 江苏理工改成江苏大学了，原来的华东船舶工业学院改成江苏科技大学了；     　　河北省五七干校-->河北经济管理干部学院+河北省行政学院+河北省社会主义学院+河北乡镇企业学院+-->河北经贸学院-->河北经贸大学     　　     　　北京广播学院----〉中国传媒大学（北京变中国是大了，但是"北广"50年的老字号没了。实属不解，你要升格成大学，叫"北京广播大学"不就完了，是不是怕人家误以为你是"广播电视大学""电大"，这下好了"中国传媒大学"校名听起来更像个民办大学。浙 江传媒学院的校友们常说"北广"是看到他们由"浙江广播高等专科学校"改成"浙江传媒学院"后才模仿着改名的，原浙广的人现在很愿意自称自己是"浙传"的，不知道以前的"北广"校友们愿不愿意自称是"中传" 的？）     　　北方交通大学----〉北京交通大学（1923年更名为北京交通大学。新中国成立后，经政务院批准定名为北方交通大学。官方说恢复校名的目的是为了突出学校地处首都北京的地理位置，改名的效果是立竿见影的，之后招生形势一片大好。首都的学校嘛！吃香啊！）     　　太原机械学院----〉华北工学院----〉中北大学（作为国防军工特色的一所院校，"太原机械学院"这个牌子老一辈的军工人都知道的。硬是改名了，还没熟悉华北工学院呢，又改了！中北----不同于华东，华南这些常规地域名称，初次听说的人肯定要问这学校在哪啊 ？）     　　杭州商学院----〉浙江工商大学（省会升级成省名了，是大了。不过刚改名那会儿，学生是多么的不愿意戴"浙江工商大学"的校徽。）     　　第一军医大学----〉南方医科大学（大学上一级管理机构发生变化，军队的院校转给地方了，干嘛非得改名？）     　　浙江丝绸工学院----〉浙江工程学院----〉浙江理工大学（表面看名称越来越牛了！事实上，浙江丝绸工学院，在老一辈心中的地位是很高的！至今在中国纺织服装界人们依旧留恋的说"浙丝院模式"，可见影响的深远！就连2002年4月15日，时任中共中央政治 局常委、国务院副总理李岚清视察浙江理工大学时，还无不留恋的回忆了当时的"浙丝院"，因为他在浙江省委党校呆过很久，当时浙江省委党校与浙江丝绸工学院一强之隔，那是一个神秘的学府！）     　　西安公路交通大学、西安工程学院、西北建筑工程学院----〉长安大学（像个民办大学，好好的西安公路交大被糟蹋了。）     　　吉林师范学院、吉林医学院、吉林林学院、吉林电气化高等专科学校合并----〉北华大学（没实力叫"华北大学"啊！只好愁合着用！）     　　江汉石油学院、湖北农学院、荆州师范学院、湖北省卫生职工医学院合并----〉长江大学（好好的长江这个好名被这样糟蹋了！也像个民办的！）     　　郑州纺织工学院----〉中原工学院（由于中国纺织行业不景气，也直接导致该校的不景气。要改可以改的好听点嘛！叫中原也挺像民办大学的。）     　　中南工学院、衡阳医学院合并----〉南华大学（冲着北大清华叫板的味道）     　　兰州铁道学院----〉兰州交通大学（趟"交大"这浑水了，简称"兰交"！）     　　     　　南方冶金学院----〉江西理工大学（南方冶金学院本想改名为南方工业大学或者南方理工大学，被教育部否决了，说是不能带有与实际不符的区域性名字。得南方之名，失大学、得大学之名，失南方。）     　　华东地质学院----〉东华理工学院（华东地质学院改名的时候也是遇到这样的难题，想升大学则必然华东两字不保，委曲求全，改成"东华"，不知何意？后据了解，该校前任院长周文斌说要华东要不到理工，要理工要不到华东，所以就叫东华。当时被选的校名有 "南方工业大学"、"江西理工大学"、"南华工业大学"。如今该校很多学生对"东华"这个名字十分不喜欢，觉得像民办大学，不过大家要"理解"校领导的"苦心"，毕竟为了"大学"啊！注：该校位于江西省抚州市）     　　温州师范学院、温州大学合并----〉温州大学（外人一听还好，但是温州本地人谁不知道温州大学是所贵族学校，全国少有的名叫"大学"却是专科的末流大学。温州师范学院是好歹是所地方性本科院校，历史也比温州大学悠久。但是温州大学面临要被摘掉"大学"的 危机，温州师范学院希望升格"大学" 的关头，上演了"以弱吞强"的好戏。后来原温州师范学院的毕业生为文凭上是"温州大学"而不是"温州师范学院"而感到苦恼。）     　　甘肃工业大学----〉兰州理工大学（同样道理，得甘肃之名，失理工，得理工之名，失甘肃）     　　西北轻工业学院----〉陕西科技大学（不喝"西北"风了，咱科技了！）     　　华东船舶工业学院----〉江苏科技大学（本来是以船舶制造为其特色的高校，这从其原来的校名中可以一望而知，但如今改为了"江苏科技大学"，谁还能看出它的专业特色是什么？）     　　吉林工学院----〉长春工业大学（以后是不是还想改名成"理工"呀？没戏了！已经有长春理工大学了！是原长春光学精密机械学院改的。）     　　中国煤炭经济学院----〉山东工商学院（弃煤从商了，也知道了您原来是在山东混得呀！）     　　     　　浙江工业大学----〉如果要改名的话，按照当今的"理工"热，毫无疑问应该更名为"浙江理工大学"，无奈被浙江工程学院捷足先登了，该校于2004年5月更名为"浙江理工大学"。据说浙工大想改名为"杭州大学"，哎！降级不说！老杭大的人也不愿意啊！     　　海淀走读大学----〉北京城市学院（因为"走读"在今天已经属于过时的词语，改名比较合适！）     　　杭州电子工业学院----〉杭州电子科技大学（名称没变，简称还是"杭电"，又有"科技"，又是"大学"，皆大欢喜啊！）     　　     　　北京建筑工程学院分院----〉京北职业技术学院（误以为是北京职业技术学院，也不是什么名校呀！）     　　华北航天工业学院----〉北华航天工业学院（抛弃掉华北这个好名儿，用北华真是高觉悟啊！）     　　吉林大学：经教育部批准，分别隶属教育部、卫生部、国土资源部、信息产业部的原吉林大学、吉林工业大学、白求恩医科大学、长春科技大学、长春邮电学院5所高校组建成新吉林大学；2004年8月，中央军委、国务院决定原解放军军需大学合并到吉林大学。合并后的吉林大学有6个校区、9个校园，教职工近2万人，全日制在校生近7万人，涵盖了12大学科门类。     　　     　　贵州大学：2005年8月，贵州大学与贵州工业大学合并，组建成新的贵州大学，顺利的进了211。新贵州大学共有八所学校合并而成的，现在10个校区：花溪北校区、花溪南校区、蔡家关校区、太慈桥校区、小关校区、茶店校区、花果园校区（教学点）。原贵州大学部分：贵州人民大学（1993-11-3并入）、贵州农学院（1997-2-3并入）、贵州艺术高等专科学校（1997-2-3并入）、贵州农业管理干部学院（1997-2-3并入）。原贵州工业大学部分：贵州建筑高等专科学校（1992-5-18并入）、贵州经济管理干部学院（2000-3-27并入）。 ======================    　　     　　附录1 容易混淆的大学校名     　　     　　北京师范大学 VS 首都师范大学前者北京师范大学是教育部隶属的一所拥有百年历史的著名高等学府，教学和科研力量居于全国一流水平。其前身是创办于 1902年的京师大学堂，地址在北太平庄路。 后者首都师范大学是原北京市市属的北京师范学院改名的，地址在西三环花园村。 两个学校没有什么关系的,并不是什么分流出来的.     　　中国青年政治学院 VS 北京青年政治学院 后者办学层次为高职高专，学院占地面积40亩     　　哈尔滨工业大学 VS 哈尔滨工程大学     　　广西师范大学 VS 广西师范学院 前者是省属重点，后者是区属普通本科院校     　　湖南科技大学 VS 湖南科技学院 前者是（原湘潭工学院、湘潭师范学院） 后者是（原零陵学院）     　　中央音乐学院 VS 中国音乐学院     　　中央美术学院（北京） VS 中国美术学院（浙江）     　　     　　湖南文理学院 VS 湖南理工学院 VS 湖南工学院 VS 湖南工业大学     　　湖南文理学院（原常德师范学院）     　　湖南理工学院（原岳阳师范学院）     　　湖南工学院（原湖南建材高等专科学校、湖南大学衡阳分校合并组建）     　　湖南工业大学（原株洲工学院、株洲师专、湖南冶金职业技术学院合并组建）     　　     　　很明显，这些学校的名字是如此的相似，很容易让人混淆。就连《商标法》也有规定不能取同样或近似的商标，可教育部还是批准了这些相似的校名，原因何在？     　　湖南文理学院、湖南理工学院、湖南工学院只有一字之差，相信很多人都会混淆。最离谱的还要算湖南科技大学和湖南科技学院，广西师范大学和广西师范学院，所谓学院和大学并没有十分确切的界线。     　　     　　"华工"之争     　　     　　华南理工大学，华东理工大学，华中科技大学（原华中理工大学），理论上来说这三所学校都有叫"华工"的资格！但是本来最有资格叫的应该是华中理工大学，可是改名成华中科技大学了，硬是把"华工"让给了华南理工大学。华东理工大学嘛！还需要努力！     　　     　　貌似兄弟的大学     　　     　　东华大学、西华大学、南华大学、北华大学、清华大学----中国五华（建议合并为中华大学！呵呵！）     　　东南大学，东北大学     　　西北大学，西南大学     　　中南大学，中北大学     　　     　　中北，中南，西北，西南，西华，华南，华东，东北，北华等都被人使用了，还有"中东"，"中西"等好名称等待有关院校选用，可以预见"中华大学"也即将诞生！     　　 ==========================    　　附录2 中国五大交通大学     　　     　　1896年，津海关道、太常寺少卿盛宣怀筹款在上海徐家汇创办了南洋公学，隶属招商、电报两局。民国成立后，学校改隶交通部，并易名为交通部上海工业专门学堂。1920年12月，上海工业专门学校、唐山工业专门学校、唐山工业专门学校、北京铁路管理学 校和北京邮电学校合并成一所学校，定名为交通大学。 1921年8月，上海工业专门学校改名为交通大学上海学校。交通大学和交通并没有直接的关系，因为它是隶属民国交通部的大学，所以才被称为交通大学的。 "交通大学"四个字也不是可以随便滥用的，它有特定的历史原因，据说正因为叫交通大学，后来唐文治校长确定校庆的时候，就定于4月8日，取自交通是为了 "四通八达"的意思。     　　     　　"交通大学（Jiao Tong University，旧名Chiao Tung University）"在中国一直以来是个特定名称，并不是类别名，这和工业大学、理工大学、科技大学、师范大学、农业大学、矿业大学等的称法有着本质的区别，后者属于行业名称，尽管现在很多的行业大学都是多科性大学，但总是以本行业学科或相关学科为主 。而交通大学却不是行业大学，这个从交通大学一直沿用的英文名（Jiao Tong University）就可看出，而尤其对于上海交大和西安交大，是两所不搞交通的交通大学。从这个层面上来说，"交通"两字一旦和"大学"组合在一起，是一个特定的名字，这和清华、复旦、同济等名称是一样的。因历史渊源沿用交通大学并同属交通大学大家庭 的共有5所：上海交通大学、西安交通大学、北京交通大学、西南交通大学和台湾新竹交通大学，这5所交大都被海内外校友广泛认同。现在，上海交通大学、西安交通大学、西南交通大学、北方交通大学、新竹交通大学五所交大已经联合成立 "交通大学校友总会"（Ji ao Tong University Alumni Association）。其宗旨是：加强校友与母校、校友之间的联系、团结和合作，发扬交大的优良传统，共同为振兴中华，为增进各国人民之间的友谊，为母校的发展贡献力量。其任务是：沟通校友与母校、校友之间的联系、发挥海内外校友的智力优势和广泛影响 ，为母校的发展作贡献，为祖国的统一和现代化建设作贡献。     　　     　　上海交通大学（1959.9-）     　　北京交通大学（1970.6-）     　　西南交通大学（1972）     　　西安交通大学（1959.9-）     　　新竹交通大学（台湾）     　　     　　其他一些成为交通大学的大多是近年改的！为了沾"交大"的光啊！这些"交通大学"有一个共性：英文校名升格为Jiao Tong University，都使用毛体字（毛泽东曾题"交通大学"四字）。咋一看，真是惹眼，像极了正牌的交大，一时间引来许多非议。     　　     　　兰州交通大学：兰州铁道学院----〉兰州交通大学，虽然兰州铁道学院称与原交大有历史瓜葛（其称自己是西南交通大学的前身唐山铁道学院和北京交通大学的前身北京铁道学院迁部分系科迁兰组建而成的），虽然更名为"交通大学"时，北京交大和西南交大还发去贺 信，但终究不能被原交大校友总会承认为嫡系。     　　     　　华东交通大学：位于江西南昌的华东交通大学，其英文名也是Jiao Tong，因为称其是"1971年9月22日,国务院、中央军委联合下发《关于六所高等院校的体制调整和领导关系的通知》，决定将上海交通大学机车车辆系和同济大学铁道工程专业并入上海铁道学院迁往江西，改名为华东交通大学。"     　　     　　大连交通大学：大连铁道学院----〉大连交通大学，大连铁道学院经教育部批准更名为所谓"大连交通大学"。看其校史，确实跟"交通大学"没有任何关系。     　　     　　重庆交通大学：重庆交通学院----〉重庆交通大学，最让人气愤的还是重庆交通大学，其学校网络域名为www.cquc.edu.cn，可见其原来的英文名为Chongqing University of Communication，然而其主页抬头已经赫然写着 Chongqing Jiaotong University了。     　　     　　既然这些学校原来都是铁道学院，改名为铁道大学似乎更合乎常理，但为何要改为交通大学呢，从英文名称的使用上，我们不难发现这些学校有其不正当利益所驱动。退一万步讲，你改成交通大学也就算了，为何连英文名也要盗用成Jiao Tong University？或者干脆翻译成 Univ. of Transportation（或Communication），这并不是不可行。我们没见过有哪个工业大学把学校翻译成 Gongye University的，或者农业大学翻译成Nongye University，显然，行业大学应该遵照字面的原意翻译才利于国际交流和理解。很明显，它们是想利用交大在海外形成的知名度。     　　 =========================    　　附录3 纺织高校"说变就变"     　　     　　近些年，纺织高校的名字就象时装一样，频频变脸。叫人难以产生悠远的历史感，由于文化积淀而产生的自豪感也荡涤一空。倒是应了那句古话，人在江湖，身不由己。象我这样有怀旧情绪的的人是不是也要象九斤老太那样叹息：如今的豆子也比从前硬多了。     　　据说在纺织风光的时候，全国纺织院校及有纺织系科的学校有二十几所，如今没有一所独立的"纺织学院"，"纺织大学"了！一些纺织院校"变脸"如下：     　　     　　原 名 现 名 变更原因 改名时间     　　     　　山东纺织工学院 青岛大学 4校合并 1993年     　　南通纺织工学院 南通工学院 改名 1995年     　　苏州丝绸工学院 苏州大学 4校合并 1997年     　　中国纺织大学 东华大学 改名 1999年     　　上海纺织专科学校 中国纺织大学 2校合并 1999年     　　天津纺织工学院 天津工业大学 改名 2000年     　　武汉纺织工学院 武汉科技学院 改名 2000年     　　西北纺织工学院 西北工程科技学院 改名 2000年     　　浙江丝绸工学院 浙江理工大学 改名 2000年     　　郑州纺织工学院 中原工学院 改名 2000年     　　     　　以下几所院校未更名     　　     　　北京服装学院（全国唯一以服装命名，其他的一些所谓号称服装学院的事实上都是民办的服装职业技术学院。）     　　成都纺织高等专科学校     　　河南纺织高等专科学校     　　 ===========================        附录4 其他    　　冠以"中国"的大学们（不包含民办）     　　     　　中国传媒大学 原北京广播学院     　　中国劳动关系学院 原中国工运学院     　　中国美术学院 原浙江美术学院     　　中国海洋大学 原青岛海洋大学     　　中国石油大学 原石油大学     　　中国计量学院 原浙江计量学院　简称"中计院"     　　中国农业大学     　　中国科学技术大学     　　中国人民大学     　　中国医科大学     　　中国矿业大学     　　中国政法大学     　　中国地质大学     　　中国药科大学     　　     　　高校专业新名词     　　     　　大学里的专业是怎么划分和表达的？估计连一些老师也是一头雾水。看看5年前的叫法和现在有什么区别......     　　     　　中文系----〉文学与传媒学院　     　　教育系----〉教育科学学院　     　　历史系----〉社会学院　     　　数学系----〉数学计算机科学学院　     　　物理系----〉电子信息学院     　　化学系----〉化学与材料学院     　　地质系----〉地理与资源管理学院/地球科学学院     　　英语系----〉外国语学院　     　　政教系----〉经济法政学院     　　生物系----〉生命科学学院　　     　　无线电系----〉通信工程学院　　　     　　音乐系、美术系----〉艺术学院     　　     　　大学改名规律     　　     　　教育产业化，高校市场化，扩招、圈地、兼并，高校也纷纷出招，打造自己的航空母舰，改名热是最显著的一个环节，如果是专科学校一定要改名为学院；如果是商学院，那就一定要改为工商大学；如果是外国语学院，那一定要变成外国语大学才罢休；于是电子科技大 学、科技大学、理工大学、交通大学之类的校名满天飞，明明是个专业院校，却为了吸引考生的需要来一个像是综合性大学的校名。     　　     　　包括"矿冶"、"地质"、"气象"、"农林"、"石油"、"煤炭"、"纺织"等都是冷门的，这些专业几乎到了无人问津的地步，不仅招生难、毕业生就业难，教师引进也难。所以都要改！     　　     　　电子工业----〉电子科技　　　　例如：杭州电子工业学院----〉杭州电子科技大学；桂林电子工业学院----〉桂林电子科技大学     　　矿业----〉工业，理工，科技　　例如：西安矿业学院----〉西安科技学院----〉西安科技大学     　　工学，工业----〉理工，科技　　例如：华东工学院----〉南京理工大学；沈阳工业学院----〉沈阳理工大学     　　地质----〉工程　　 例如：西安地质学院----〉西安工程学院     　　机械----〉理工　　 例如：陕西机械学院----〉西安理工大学     　　经济----〉财经 例如：南京经济学院----〉南京财经大学     　　铁道----〉交通 例如：兰州铁道学院----〉兰州交通大学；大连铁道学院----〉大连交通大学     　　工程----〉理工 例如：浙江工程学院----〉浙江理工大学     　　气象----〉信息工程 例如：成都气象学院----〉成都信息工程学院；南京气象学院----〉南京信息工程大学     　　     　　"改名游戏"有规则     　　     　　那么，国家教育部门对高校更改名称是如何规定的呢？近几年来，国家教育部对高校名称进行了规范限制，学院升为大学必须具备七个条件：①100名以上正教授；②8000名本科在校生；③三大学科门类，每门有三个以上专业；④有10个以上硕士研究点；⑤国 家基金项目获奖20项以上；⑥教师中硕士博士比例占 42%以上；⑦科研课题经费在600-2000万元。     　　     　　大学校名的商标注册     　　     　　更名为"鲁东大学"的烟台师范学院也面临一个难题，因为作为核心内容和资产的"鲁东"已经在2005年03月28日被商标投资人申请注册，与其相似的事例还有"济大"商标等等。     　　     　　目前我国学校更名一般通过上级教育主管部门审批的形式进行，很少有人想到要提前或同期进行商标注册保护，这些学校在更名前本可以查询一下同类商标（第41类）是否已注册，但是这些学校因为不了解商标相关法规忽略了这一点。     　　     　　所以想问众多更名的院校，你们校名商标注册了吗？     　　     　　一改就能成名校乎？     　　     　　大多数国人对中国至今未能拥有一所世界名校感到遗憾。上至政要显贵，下到黎民百姓，都大有一种恨铁不成钢的架势。于是，中国由上至下地展开了一场声势浩大的"名校制造"运动。这大概能成为为什么全国各地的很多高校都不约而同的掀起了一股合并热潮的理由 。似乎一合并，校园大了，学生多了，师资强了，学校也就跟着上了档次。     　　     　　大学的品牌是和校名联系在一起的，大学更换一次名字，元气都损伤一次，因此不到万不得已大学不要改校名。对于校名，老师、学生和校友都很有感情，更换校名容易伤害他们。大学校名的频繁更换，一定程度上反映中国高等教育发展有时不太尊重教育规律，行政主 导的力量过强。如果只把改名当作学校发展的一个策略，对于学校没有太多的意义。但如考虑学校办学的方向存在问题，校名一改，相应的办学方针、专业设置等方面都随之变更，这也就无可厚非。     　　     　　其实，对一所高校的评价并不是看它的校名是否显赫、有气派，而是看它能否出大师、出成果、出思想。清华大学校长梅贻琦早就说过："大学者非谓有楼之谓也，有大师之谓也。"巴黎高等师范学校两百多年来从未改过校名，却不影响它作为世界知名大学的地位，仅 仅从这里走出的诺贝尔奖获得者就有10多位。盛名显赫的麻省理工学院就更不用说了，至今未听说他们想把学院改为大学。德克萨斯农工大学如今已成名校，但始终不把"农工"二字去掉，因为这个校名已经成了响亮的名字。     　　     　　故意拉长自己的校史     　　     　　某些高校提升自己的影响故意拉长自己的校史，去年庆祝学校建校49周年，今年就是庆祝建校100周年，如2002年江苏就有南京大学、东南大学、江南大学等多所高校举行百年校庆。然而当中除了南京大学外其他高等学校才刚重新合并组建1年，仅仅是因为合 并前某一院校在1952院系调整中曾有一小部分是从一老牌大学中调整而来，就将校史拉长到100年，并于2002年举办百年校庆。这样现象的出现，学生和家长包括很多从事高等教育行业的人也很难客观判断某所学校的真实实力。                                                                                                         文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2006年4月25日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（6条）                                                                                                    sourire372 说：                                                        好不容易才找到我的学校。                           2006年4月25日 21:26 | # | 引用                                                                                                                Michael Ye 说：                                                        东华大学在解放前就叫这个名字，当时是由因为国旗事件从圣约翰大学起义出来的师生共同创办的。著名诗人徐志摩也曾在东华执教。这次改名，只是回归她的本来面目。对这样的具有革命传统和人文气息的名校不应当给予如此不公正的错误评价。                           2006年8月28日 17:17 | # | 引用                                                                                                                estella 说：                                                        这里面大多数大学我都没听说过。。。我该去看看这方面的书了。。。                           2007年8月 4日 21:05 | # | 引用                                                                                                                yujan 说：                                                        无锡轻工变成江南大学是因为合并了江南学院（好象是市属的），而江南学院是荣氏家族创建的，最初称为江南大学                           2009年1月14日 12:01 | # | 引用                                                                                                                陈刚的地盘 说：                                                        还有三峡大学                           2020年1月28日 09:01 | # | 引用                                                                                                                陈刚的地盘 说：                                                        湖北合并的大学有武汉理工大学，长江大学，三峡大学，改名的大学武汉纺织大学，武汉轻工大学                           2020年1月28日 09:06 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9960fa0ecf45',t:'MTc0MzI0MzI1NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2006/04/post_208.html
《纽约时报》系列报道：《依法治国》之四（Rule by Law） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    《纽约时报》系列报道：《依法治国》之四（Rule by Law） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：《纽约时报》系列报道：下一篇：《纽约时报》系列报道：                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              《纽约时报》系列报道：《依法治国》之四（Rule by Law）                                                                                    作者： 阮一峰                                    日期： 2006年4月22日                                                                                                                                            一位考验中国法院的法官：她改变了历史作者：JIM YARDLEY原载2005年11月28日《纽约时报》在法院的档案室里，李慧娟法官恰巧遇见一个办事员，后者接到紧急命令，来查找一个关于种子价格的普通案件的判决。"这个案子是我判的。"李慧娟告诉办事员，她很惊讶有人对它感兴趣。但是几天内，洛阳市中级法院的纪律委员会找到她。省政府的官员抗议这个裁决有严重的政治错误。面对省法和国法的冲突，李慧娟宣布省法无效。她无意间创造了法律史上的一个重要事件，导致了一场关于法律的独立性与政府之间关系的全国性讨论。插图一：李慧娟2001年从中国政法大学硕士毕业的时候，还是一个天真的学生。                                                                                                                在许多国家，包括美国，一个法官拒绝适用低级别的法律是司空见惯的。然而在中国，政府（不是法院）却拥有终审权。李慧娟眼中的法律常识问题，在省内立法者看来，却是法院的叛变。他们要镇压这种反抗。李慧娟当法官已经将近三年了，她很担心自己的职业生涯要结束了。"当权者的一句话就可以使人们屈服，没有人敢于坚持原则，我成了牺牲品。"她在申诉书里写，"我只是一个普通人，一个试图捍卫法制的女法官。谁会来捍卫我的权利呢？"面对统治一个混乱无序的、逐渐现代化的国家的复杂需求，中国领导人已经将法治作为规范社会的最有效手段。但是要真正实现法治，有个核心的问题尚没有得到解决----中共是否打算允许司法独立。李法官在2003年所做的判决，令人意想不到的成为中国法制史上一个里程碑式的案例。李的困境暴露了中国司法自治的限制和法官们所面对的政治报复。它也同样反映了法律改革派的影响正在上升。学者和律师都团结起来支持李，并将她的判决作为一个考验，让这个无意中发生的案件作为考验法院自治的试金石。（以下翻译略，网上有全文的参考译文。）插图二 洛阳的法院和中国其他地方一样，充满了要求照顾的"纸条"。插图三 洛阳的两家种子公司之间的纠纷，演变成了省法与国法之间的冲突。上图是洛阳一家典型的种子公司。=======================================A Judge Tests China's Courts, Making History By JIM YARDLEYLUOYANG, China - Judge Li Huijuan happened to be in the courthouse file room when clerks, acting on urgent orders, began searching for a ruling on a mundane case about seed prices. "I handled that case," Judge Li told the clerks, surprised that anyone would be interested.But within days, the Luoyang Middle Court's discipline committee contacted her. Provincial officials had angrily complained that the ruling contained a serious political error. Faced with a conflict between national and provincial law, Judge Li had declared the provincial law invalid. In doing so, she unwittingly made legal history, setting in motion a national debate about judicial independence in China's closed political system. In many countries, including the United States, a judge tossing out a lower-level law would scarcely merit attention. But in China, the government, not a court, is the final arbiter of law. What Judge Li had considered judicial common sense, provincial legislators considered a judicial revolt. Their initial response was to try to crush it. Judge Li, who had been on the bench less than three years, feared her career might be finished."An order by those in power has forced local leaders, none of whom dared to stand on principle, to sacrifice me," she wrote in rebuttal. "I'm just an ordinary person, a female judge who tried to protect the law. Who is going to protect my rights?"Faced with the complex demands of governing a chaotic, modernizing country, China's leaders have embraced the rule of law as the most efficient means of regulating society. But a central requirement in fulfilling that promise lies unresolved - whether the governing Communist Party intends to allow an independent judiciary. The 2003 ruling by Judge Li has become, quite unexpectedly, a landmark case for the evolving Chinese legal system. Her plight exposed the limits on judicial autonomy in China and the political retribution faced by judges. But it also revealed the rising influence of legal reformers. Scholars and lawyers rallied to Judge Li's defense and embraced her ruling as a test case, if an accidental one, for a more autonomous court system. "For the first time, a judge announced a local law or regulation was void," said Xiao Taifu, a member of the Beijing Lawyers Association, which petitioned the central government on Judge Li's behalf. "It was historic. For the legal process in China, it was a first, and it carried deep meaning."Today, China's court system is far from an independent entity that can curb government power. Often, the courts remain a pliable tool to reinforce that power. Many judges are poorly educated in the law and corrupt. Judges often must answer to government officials as much as to the law. Political pressure is common, and private trial committees often dictate rulings. There are also signs of change. One of the busiest courts in Beijing announced in November that it would stop punishing judges if a ruling was later deemed politically or legally "wrong." A budding idealism about the law, and its potential to transform Chinese society, is evident not only in the number of new lawyers but also in the emerging civic belief that ordinary people have "legal rights." The case of Judge Li illustrates how such changes continue to meet enormous resistance within the system. Judge Li, now 32, a Communist Party member, is among the new generation of younger judges expected to become the future backbone of a strengthened court system.That Judge Li and others granted interviews for this article reflects, to some extent, the evolution of China's legal system and an effort by the judiciary to be more assertive. But the dispute over the seed case taught her that being a judge involved far more than simply interpreting laws. "When I look back on the cases I dealt with, I have no regrets," she said. "I don't think any of the parties involved can complain." But, she added, any judge who acts on conscience does so at a risk."I think my colleagues and supervisors think I'm naïve," she said. "And they think I'm not wise."Youthful Ideals Meet RealityAs a teenager, Li Huijuan first saw a judge as a character in a television soap opera. She grew up in southern Henan Province in the city of Nanyang, where she watched dramas about judges in ancient China. Their passion for justice was scripted, but it inspired a young girl."I saw these images of judges and lawyers defending the people," she said. "I thought it was glorious."She was one of three children, and her father was a government official who oversaw local markets to ensure that merchants and vendors abided by city rules and regulations. To curry favor with her father, vendors often visited the family's apartment at night, banging on the door with offers of gifts or bribes."My father never accepted," Judge Li recalled. "He lectured them and drove them out. I think I have the same stubbornness in my character. My parents taught me to be a straightforward, honest person."Her two siblings became teachers, an honored profession in China, but Li Huijuan graduated from Henan University with a four-year degree in law. She later earned a master's degree in law at the prestigious University of Politics and Law in Beijing. Her qualifications placed her in an elite circle at a time when China was starting to introduce new, tougher standards for the legal profession. Even so, she said much of her education had been "more like legal theory.""The teacher was telling us how it should be," she recalled of her undergraduate studies. "But they did not teach us how it really worked in China."She began learning that lesson in 1996 after she started working at the Middle Court in Luoyang in Henan's north. She arrived at a courthouse dominated by older judges, some with limited legal education, including retired soldiers given judgeships to reward them for serving their country. Her naïve belief that judges ruled independently - as they did on television - was quickly dispelled.Instead, she learned that cases were heard by panels of judges, whose rulings were often reviewed by supervisors or, in major cases, by private trial committees of court officials. Judges were held responsible for rulings that carried their name, even if others in the court actually made the decision. But if government officials or influential citizens complained about a ruling, a judge could be punished, fined or even fired.Some judges tried to reduce the pressure of a potential mistake by taking on fewer cases. "The less you do," Judge Li said, "the fewer mistakes you make."She began as a court secretary but quickly qualified as a judge and, later, as a presiding judge. In January 2003, she was named presiding judge over a three-judge panel hearing a dispute between two local companies over the price of seeds. The legal dispute revolved around a conflict between provincial and national law, but Judge Li never anticipated that that would bring her trouble.Instead, the political subtext of the case - the parochial interests of two local companies fighting over thousands of dollars - infused the process. At one point, a city official forwarded a letter from one company to Judge Li's supervisor. In the margin, the official had written an instruction for the court: "Please pay attention.""I felt quite uncomfortable when I received the letter," she said. "I felt they were making assumptions that I was already taking sides. I didn't do anything about it. I just put it in the files."At another point, the director of the Luoyang court - since replaced on an unrelated matter - telephoned Judge Li. A representative from one of the companies was in his office. Could she meet with him? "I considered this very inappropriate," Judge Li said. "But I couldn't say so because of the director. So I told the man to come to my office."When he arrived, Judge Li said, she pretended to be stuck on a long telephone call. Exasperated, the man finally left. A System Grappling With ReformLegal experts say political pressure on judges is routine and derives, in part, from the subservient status of the court system within the Chinese bureaucracy. Nationally, the chief judge of the People's Supreme Court is not even a member of the Politburo, the inner decision-making entity of the Communist Party. By comparison, the head of the Ministry of Public Security is a member.Locally, judges are appointed by their people's congresses, while the courts receive their budget from local governments. In addition, branches of the Communist Party operate committees that can apply pressure and exert influence on a court behind the scenes. Earlier this year, a presiding judge in the northeastern city of Harbin told Workers' Daily, a state-controlled newspaper, that government officials had overruled three different innocent verdicts and ordered the courts to convict a local businessman of fraud. The presiding judge was later censured for publicizing the case.The system also can make it easy for corrupt court officials to exploit their position. In April 2004, two vice directors of the Middle Court in Wuhan, a large city in central China, were sentenced to prison for selling verdicts in exchange for $500,000 in bribes. The directors paid judges to participate in the scheme.Many legal reformers believe the court system must become more autonomous to eliminate corruption in the legal system. But in seeking more authority, they also are trying to rapidly modernize the system and improve judicial training to counter public perceptions that too many judges are corrupt or unqualified. "The public may be skeptical about judicial independence, given the quality of judges and judgments," said He Weifang, a prominent constitutional scholar. "But if you want accountability, you can only have accountability if you have independence. Otherwise, it is never clear who made a decision."On the campus of the National Judges College on the outskirts of Beijing, the primary educational arm of the People's Supreme Court, roughly 10,000 judges spend a month of every year on professional training. In the past, judges were taught to serve the interests of the Communist Party, but now a different message is emphasized."We train them with a modern theory of law: that the courts are impartial, on the need for legal justice and of innocence until proven guilty," said Huai Xiaofeng, president of the college. "We stress that during a trial, you cannot favor the government or the National People's Congress. In the past, they told them to emphasize the political qualities. "Now, we tell them to emphasize the law and the facts."For Judge Li, the reaction to the ruling on the seed case proved how political considerations remained deeply embedded in the legal system. Because the case seemed likely to provoke controversy, she had submitted a draft ruling to the court director, who in turn forwarded it to a trial committee. Everyone signed off, and both parties were informed in June 2003.But by October, word of the case had reached the Henan Province People's Congress, the provincial legislature. In the legal affairs office, the ruling was interpreted as a naked challenge to the lawmaking authority of the People's Congress. Provincial officials publicly described the ruling as "a serious breach of law.""The authority of the National People's Congress system is not to be challenged," said Mao Yinduan, head of the legal office, in an interview. "The judge in this case was very young and had little experience. She had every right to choose which law to use. But courts have no right in a verdict to say which law is invalid."The reaction stunned Judge Li. To research the verdict, she had studied Chinese law, as well as the speeches of senior political leaders. China's Law on Legislation stated that local laws that conflicted with national laws should be abolished. She thought including this point in her opinion was within her judicial purview.She had not intended to challenge the political system, nor, apparently, did her director or anyone on the trial committee. "He read the verdict and didn't realize the significance of what it said," Judge Li said of the director. "I, at first, didn't realize the significance, either."But Judge Li, not the court officials who had approved the decision, faced the possibility of serious punishment. "I felt persecuted," she recalled. "Everyone I talked to told me what I had done was wrong."Job Saved but System UnchangedAnxious and uncertain of her future, Li Huijuan telephoned her husband, Chang Jianyi. High school sweethearts, they married in 1999 but lived apart because Mr. Chang worked in Beijing as a software developer. His wife reached him on a business trip to Tibet, and he advised her to seek help in Beijing. He believed she had been wronged."She had to fight back to restore her reputation and her dignity," Mr. Chang said. "If she did not fight back, she would have to live with the stain."She left for Beijing and planned to seek help from an association of women in the judiciary. She wrote a long passionate letter in which she promised to "undergo criticism and education" if she had erred. "But if I'm right, I will protect my integrity and defend the integrity of the law, even if it means being like a moth that flies into a flame."At the association's office, a woman told her that she had been treated too harshly and agreed to contact someone at the People's Supreme Court. Then the case attracted the attention of the Chinese news media and of scholars and lawyers pushing for legal reform.Mr. He, the constitutional scholar, rose to her defense in an op-ed article. In an interview, he characterized the seed case as one of the most important in the legal evolution of China because of the attention it focused on judicial independence. "It may not be Marbury v. Madison," Mr. He said of the landmark case credited with establishing the authority of the United States Supreme Court, "but it is a very important case."As it turned out, Judge Li had stumbled upon a fundamental contradiction. In the Chinese system, based loosely on European models and the old Soviet structure, judges are supposed to refer conflicts in law for review by the Standing Committee of the National People's Congress, the country's center of legislative power. Judges are then expected to follow the decision made by the Standing Committee.Yet, in practical terms, those referrals rarely happen and when they do, the Standing Committee has rarely showed interest in the housekeeping role. As a result, judges have become accustomed to assuming this role, if doing so silently, and then simply leaving the conflicting law untouched.To many lawyers, the system was grossly inefficient and outdated. Mr. Xiao, the Beijing lawyer, joined three other lawyers in formally requesting that the National People's Congress review the situation. Scholars organized a legal conference at the elite Tsinghua University to debate the seed case and other issues about judicial autonomy. The public attention, and the possible intervention on her behalf by the People's Supreme Court, apparently saved Judge Li's career. She returned to work in summer 2004 before leaving on maternity leave later that year. She is now in Beijing on a leave to continue her legal studies.But the system remained largely intact. In summer 2004, the Standing Committee announced the creation of a new review panel to mediate conflicts of law. Some lawyers have hailed the panel as the equivalent of a constitutional court. Others are concerned about the panel's secrecy and believe the responsibility should belong to the courts.Judge Li still believes in the rule of law, but she is no longer the impressionable teenager who watched soap operas about judges. "Judges are confused," she said. "It is not that they do not know how to do cases professionally. It is just all these relationships to coordinate. And they also have to weigh consequences."In 2004, Henan's High Court reheard the seed case. It ruled exactly as Judge Li had, with one exception: it criticized her for invalidating the provincial law. （完）《纽约时报》原文                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2006年4月22日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                                      我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9b6b0cffcf45',t:'MTc0MzI0MzMzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2006/04/rule_by_law_3.html
美联储（Federal Reserve）的英语 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    美联储（Federal Reserve）的英语 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：中国的大学改名（转贴）下一篇：《纽约时报》系列报道：                                                                                分类：                                                                                    笔记本                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              美联储（Federal Reserve）的英语                                                                                    作者： 阮一峰                                    日期： 2006年4月25日                                                                                                                                            下面要谈的是英语，跟经济学没有关系。但是会涉及到经济学的名词，我尽量解释清楚吧。                                                                                                                美联储是美国的中央银行，它下面有一个机构，叫做公开市场委员会FOMC，负责决定美国的货币政策。FOMC每6个星期开一次会，会议会形成一个操作建议，说明今后6个星期中，美国的货币政策应该如何操作。这个操作建议会在下一次会议举行3天前公开，因为它包含了下一步政策举动的信息，所以市场很关注。显然，FOMC知道这一点。它大概不愿意市场把它的操作意图搞得太清楚，所以故意把句子写得非常模糊难懂。在我用来，它所用的英语简直是一种暗语。请看下面这一段：In the implementation of policy for the immediate future, the Committee seeks to maintain the existing degree of pressure on reserve positions. In the context of the Committee's long-run objectives for price stability and sustainable economic growth, and giving careful consideration to economic, financial, and monetary developments, somewhat greater reserve restraint would or slightly lesser reserve restraint might be acceptable in the intermeeting period.  上面这段话摘自1996年11月13日FOMC会议纪录中的操作建议部分。我将它翻成中文：关于下一步实施的政策，委员会希望保持现在的储备状况。委员会的长期目标是价格稳定和经济可持续增长。在这个目标下，密切关注最新的经济、金融和货币状况，略微收紧储备或者略微放宽储备都是这段时期可接受的操作选择。请注意，我在原文中标黑体的句子，"somewhat greater reserve restraint would or slightly lesser reserve restraint might be ......"，既然 greater 和 lesser 都可接受，操作方向等于没说。据美国的知情人士透露窍门，这段话表明联储将保持货币政策稳定的前提下，略微紧缩。破译的规则有三条：（1）如果措词是Increased "pressure" or "restraint" on reserves，表明计划中货币政策将收缩。如果措词是 decreased "pressure" or "restraint" on reserves ，表明计划中货币政策将放松。（2）"would be acceptable"比"might be acceptiable"，表明有更大的可能采取相应的政策举动。（3）"somewhat"比"slightly"表明可能性程度更大。                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2006年4月25日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2019.07.27: 信用卡的历史起源                                                         最近，我读到一篇文章，介绍信用卡的来历，讲得非常清楚，既增长金融知识，又富有趣味。                            2012.01.15: 王实味的《野百合花》                                                         1.去年12月26日，南京大学历史系高华教授患肝癌去世，享年57岁。                            2011.03.04: 民国名人的婚姻与情爱                                                         阅读徐中约教授的《中国近代史》，使我对很多民国名人产生了兴趣。                            2011.02.03: 查尔斯·凯特灵语录                                                         查尔斯·凯特灵（Charles Kettering，1876-1958）是一个美国发明家，曾经担任通用汽车公司研发主管27年（1920-1947）。                            广告（购买广告位）云手机                                                              留言（2条）                                                                                                    ZHANGXUE 说：                                                        I want to know the functions and operations of the the United States Federal Reserve,in English.                            2006年10月17日 17:03 | # | 引用                                                                                                                aton 说：                                                        reserve positions,准备金头寸       所谓准备金头寸，是指银行实际保持在中央银行准备金账户上的余额与中央银行规定的法定准备金余额之差，差额为正数时，银行有超额准备金或头寸有余，意味着资金闲置，存在利息损失或机会成本；差额为负数时，银行准备金不足或资金头寸不足，若遇必须的对外清偿或好的投资机会，就会因资金短绌而处于被动状态，因此，同业拆借市场最主要的目的和作用就是解决银行之间准备金头寸余缺的调剂问题。                             2006年11月29日 18:11 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9f075c42cf45',t:'MTc0MzI0MzQ4NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2006/04/federal_reserve.html
分类：理解计算机 - 阮一峰的网络日志    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);    分类：理解计算机 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                      分类： 理解计算机 （共63篇文章）                                                          2022年              DNS 查询原理详解（[email&#160;protected]）                字节序探析：大端与小端的比较（[email&#160;protected]）                万兆家庭网络的时代（[email&#160;protected]）                      2021年            为什么 Web3 与区块链有关（[email&#160;protected]）                异或运算 XOR 教程（[email&#160;protected]）                      2019年            容错，高可用和灾备（[email&#160;protected]）                关于计算机科学的50个误解（[email&#160;protected]）                你所不知道的 AI 进展（[email&#160;protected]）                信息论入门教程（[email&#160;protected]）                      2018年            exFAT 文件系统指南（[email&#160;protected]）                CAP 定理的含义（[email&#160;protected]）                根域名的知识（[email&#160;protected]）                汇编语言入门教程（[email&#160;protected]）                加密货币的本质（[email&#160;protected]）                比特币入门教程（[email&#160;protected]）                      2017年            区块链入门教程（[email&#160;protected]）                IaaS，PaaS，SaaS 的区别（[email&#160;protected]）                如何验证 Email 地址：SMTP 协议入门教程（[email&#160;protected]）                TCP 协议简介（[email&#160;protected]）                XOR 加密简介（[email&#160;protected]）                      2016年            User space 与 Kernel space（[email&#160;protected]）                理解字节序（[email&#160;protected]）                布尔代数入门（[email&#160;protected]）                DNS 原理入门（[email&#160;protected]）                      2015年            为什么主引导记录的内存地址是0x7C00？（[email&#160;protected]）                图解 Monad（[email&#160;protected]）                      2014年            编译器的工作过程（[email&#160;protected]）                数据压缩与信息熵（[email&#160;protected]）                数据库的最简单实现（[email&#160;protected]）                      2013年            Stack的三种含义（[email&#160;protected]）                为什么寄存器比内存快？（[email&#160;protected]）                Linux 的启动流程（[email&#160;protected]）                RSA算法原理（二）（[email&#160;protected]）                RSA算法原理（一）（[email&#160;protected]）                字符串匹配的Boyer-Moore算法（[email&#160;protected]）                字符串匹配的KMP算法（[email&#160;protected]）                进程与线程的一个简单解释（[email&#160;protected]）                计算机是如何启动的？（[email&#160;protected]）                代码的抽象三原则（[email&#160;protected]）                      2012年            互联网协议入门（二）（[email&#160;protected]）                互联网协议入门（一）（[email&#160;protected]）                函数式编程初探（[email&#160;protected]）                Unix目录结构的来历（[email&#160;protected]）                      2011年            SSH原理与运用（二）：远程操作与端口转发（[email&#160;protected]）                SSH原理与运用（一）：远程登录（[email&#160;protected]）                理解inode（[email&#160;protected]）                EOF是什么？（[email&#160;protected]）                每行字符数（CPL）的起源（[email&#160;protected]）                数字签名是什么？（[email&#160;protected]）                理解Linux系统负荷（[email&#160;protected]）                DOS的历史（[email&#160;protected]）                四位计算机的原理及其实现（[email&#160;protected]）                最常见的电话号码（[email&#160;protected]）                      2010年            云主机是什么？（[email&#160;protected]）                为什么Lisp语言如此先进？（译文）（[email&#160;protected]）                浮点数的二进制表示（[email&#160;protected]）                几种计算机语言的评价（修订版）（[email&#160;protected]）                      2009年            Web service是什么？（[email&#160;protected]）                关于2的补码（[email&#160;protected]）                关于Unix哲学（[email&#160;protected]）                      2007年            字符编码笔记：ASCII，Unicode 和 UTF-8（[email&#160;protected]）                      2006年            密码学笔记（[email&#160;protected]）                回车和换行（[email&#160;protected]）                                                                      分类                散文（159）                                          观点与感想（195）                                          算法与数学（32）                                          开发者手册（223）                                          理解计算机（63）                                          JavaScript（100）                                          计算机行业历史（39）                                          周刊（341）                                          创业（58）                                          译文集（46）                                          科技爱好者（149）                                          文学爱好者（36）                                          英语爱好者（66）                                          剪贴板（162）                                          笔记本（179）                                          杂物间（288）                                          Joel谈软件（14）                                          USENET（7）                                                                                                       Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9511ea3ccf45',t:'MTc0MzI0MzA3Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/computer/index.html
日本刀的制造过程 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    日本刀的制造过程 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：相似图片搜索的原理&nbsp;&nbsp;下一篇：jQuery设计思想&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              日本刀的制造过程                                                                                    作者： 阮一峰                                    日期： 2011年7月23日                                                                                                                                            日本刀是日本的象征，以优美锋利而著称。                                                                                                                它是钢制的，历史可以追溯到13世纪。也就是说，至少在900年前，日本人已经掌握了炼钢技术，可以制造出一流的钢铁兵器。但是那个时候，日本还是一个非常落后的国家，冶炼技术怎么可能达到这样的水平呢？美国的日本刀爱好者Jesus Hernandez，对这个问题很好奇。他决定在自己家里，使用古代日本人的方法，打造一把日本刀，看看能达到怎样的水平。他把整个过程拍成了照片，放到网上。图文并茂，读来非常增长见识。下面就是我的翻译。============================================日本刀的制造过程作者：Jesus Hernandez翻译：阮一峰1.首先，准备一些木炭。它们是炼钢过程中的炉内燃料，以及碳元素的来源。2.原料还有红色的氧化铁矿砂。3.熔炉的示意图。为了装卸方便，分成了三截。4.熔炉采用水泥和沙子制造。5.下部是进风口，用来输送空气。6.组装完成后的熔炉实物。7.炼钢时，首先用煤气进行加热。8.为了提高热效率，熔炉外面裹一层防热毯。一个小时之后，测温计显示炉内温度已经达到了1000华氏度，并在继续上升。9.不久，炉口冒出了熊熊火焰。10.两个小时之后，炉内开始爆出火星。11.大约四个小时之后，熄灭熔炉。冷却后打开，炉内堆满矿渣。12.去除矿渣后，紧贴炉壁的一层就是炼钢得到的钢渣。13.将钢渣取下。14.剖开后就可以看到钢了。15.钢截面的特写。16.将所有的钢渣收集起来。17.送到火炉内，让它们融合成一块。18.将融合在一起的钢，压制成钢块。19.压制的过程。20.压制成型的钢胚。21.将钢胚进一步做成钢条。22.钢条加热。23.取出烧红的钢条。24.对钢条进行锻造。25.初步做出刀的形状。26.查看钢条的表面。27.再一次送入炉内。28.打造出刀锋。29.初步完成的成品。30.刀的表面抹上特制的泥浆。31.做出花纹。32.进行高温烘烤。33.刀身上就出现了花纹。34.对刀进行磨光。35.磨光后的刀身。36.用竹子制作刀鞘。37.做好的刀鞘。38.对刀进行抛光。39.刀身的花纹依稀可见。40.最后的成品。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2011年7月23日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（73条）                                                                                                    mondain 说：                                                        土法炼钢                           2011年7月23日 10:25 | # | 引用                                                                                                                张刚 说：                                                        太多的图片了，电信网络上网，都刷了3次，还没显示完全，继续刷新中                           2011年7月23日 10:34 | # | 引用                                                                                                                colordancer 说：                                                        这种精神，太可怕了。国内有这样的人吗                           2011年7月23日 10:34 | # | 引用                                                                                                                群情 说：                                                        硬度如何？                           2011年7月23日 10:35 | # | 引用                                                                                                                Healson 说：                                                         用了很多现代设备和辅助产品，也不算土法炼钢了，不知道古代条件那么差的情况到底是怎么造剑的？                           2011年7月23日 10:45 | # | 引用                                                                                                                万俟尘 说：                                                        不知阮大师是怎么有机会看到全过程的，在中国大部分地方，熟悉的铁匠铺已经消失，叹。就我所在的刘桥镇，小学上学时候总会经过铁匠铺，黑漆漆里包裹着红通通的炙热，传出叮叮当当的响声，如今再也听不到了，店铺不在了，人也不知哪里去了。小镇的特产之一便是刘桥菜刀，不知道现在还有没有了。                           2011年7月23日 10:53 | # | 引用                                                                                                                米拉之落 说：                                                        http://movie.douban.com/subject/5279620/  这个纪录片也讲了日本武士刀的制作过程                           2011年7月23日 10:55 | # | 引用                                                                                                                fsy 说：                                                        引用米拉之落的发言：http://movie.douban.com/subject/5279620/这个纪录片也讲了日本武士刀的制作过程看过这个，不错，武士刀制作耗时两年，刀背面夹层材质有韧性，刀刃刚性，很多都被美国大兵抢走了，优酷传送门: http://v.youku.com/v_show/id_XMTA1MTQ4NjUy.html                           2011年7月23日 11:10 | # | 引用                                                                                                                pp2moonbird 说：                                                        日本刀好看不中用吧，砍了几刀就卷刃。                           2011年7月23日 11:29 | # | 引用                                                                                                                Wave 说：                                                        最后在刀身上锻制花纹的步骤没讲清楚，那是最关键的一部啊，好像要用揉制法反复锻压才行，刀好不好全看花纹了。                           2011年7月23日 11:39 | # | 引用                                                                                                                D 说：                                                        大开眼界。钢最初形态的粗糙与成品刀的优雅形成令人难忘的对比。工艺条件的原始与工匠志向（品质追求）的高卓之间的对比也令人感慨。创造的人真了不起。                           2011年7月23日 11:42 | # | 引用                                                                                                                lyman 说：                                                        我记得日本刀不是用的折铁法么，这个流程貌似一折也没有啊                           2011年7月23日 11:45 | # | 引用                                                                                                                Ven 说：                                                        貌似少了步骤？记得看过一部纪录片，钢块是要来回敲打折叠的，提高强度。                           2011年7月23日 12:39 | # | 引用                                                                                                                商夏 说：                                                        按照上面的纪录片 这最多就是山寨日本刀吧。                           2011年7月23日 13:59 | # | 引用                                                                                                                依云 说：                                                        引用colordancer的发言：这种精神，太可怕了。国内有这样的人吗估计国内想做这种事的要么没有经济实力，要么没有时间和精力，要么是官方不允许。                           2011年7月23日 14:13 | # | 引用                                                                                                                autoxbc 说：                                                        这个算工艺刀吧，离实战刀还有距离。而且从图片看，没有相应的合金成分控制，没有良好的锻压技术，没有合适的热处理，可能都无法叫做钢刀，最多是铁刀，抛光的比较漂亮。而如果仅仅说冶铁的话，那历史可不止 900 年，公元前就有了。不过还是有个收获，印象中倭刀是苗刀的山寨，查了下维基发现是反过来，不知从何时开始有误传。                           2011年7月23日 14:38 | # | 引用                                                                                                                momo5269 说：                                                        国内倒是有自己打制剑的，CCTV上讲过一个 为了重现他们地方以前的宝剑.......                           2011年7月23日 15:02 | # | 引用                                                                                                                土木坛子 说：                                                        开眼界了。不过刀要是用来杀人，就有些邪恶了。                           2011年7月23日 16:38 | # | 引用                                                                                                                游海洋 说：                                                        这个锻造过程很山寨，缺少关键细节，上面的整个过程除了烧刃之外，跟一般锻造刀的过程并没有任何区别。比如说，选用什么样的铁矿有讲究，而且炼出钢来之后，刀匠会将钢块敲碎，凭经验挑出好的碎片（含碳量正合适），然后用挑出来的这些碎片进行锻造。之后的工序，比如折叠锻打、覆土烧刃、研磨什么的都有很多讲究。国内禁刀，所以这方面长久以来发展很慢，好多东西都丢掉了。但还是有一些人在做的，这几年也有很多进步。有几个论坛还不错，比如刀友（可惜已经分裂成三个了）。                           2011年7月23日 17:58 | # | 引用                                                                                                                unkstar 说：                                                        译文省略掉太多关键步骤的图片和翻译了，说制作方法山寨的同学去看下原帖把。                           2011年7月23日 22:08 | # | 引用                                                                                                                bhzhang 说：                                                        这种方法得到的顶多只能是铸铁吧,一个简易小高炉而已.要得到钢需要氧化剂消耗掉铁中的碳素,这种技术是进代才有的吧.                           2011年7月23日 22:39 | # | 引用                                                                                                                仰肖 说：                                                        日本刀太难看。。看着就不舒服。。                           2011年7月24日 00:42 | # | 引用                                                                                                                小年 说：                                                        这货，好霸气！                           2011年7月24日 09:29 | # | 引用                                                                                                                一一 说：                                                        日本刀是从唐大刀继承发展而来的看过一个日本工匠使用传统工艺制作日本刀的纪录片，制作工程相当复杂，我觉得这不仅是武器，而是艺术品了日本刀的刀法一般都很阴狠，都是冲着人的各个致命部位而去的。跟普通大刀片拼刀肯定是不行的                           2011年7月24日 09:58 | # | 引用                                                                                                                S^S_leng3 说：                                                        话说，据说 武士刀是根据唐刀发展过来的，而且技术也是唐朝时期传入的。                           2011年7月24日 11:33 | # | 引用                                                                                                                Peter Zhu 说：                                                        我非常佩服Jesus Hernandez的实践精神。                           2011年7月24日 13:51 | # | 引用                                                                                                                badants 说：                                                        复古的制程啊，很有意思。                           2011年7月24日 19:18 | # | 引用                                                                                                                荞麦 说：                                                        看了原文，确实是很牛啊                           2011年7月25日 09:19 | # | 引用                                                                                                                四九爷 说：                                                        日本刀跟唐刀有渊源。咱这儿战乱频繁国家又重文轻武对刀剑生产严格控制，加上一直都有庞大常备军，刀剑生产自然以能量产为标准——这从根子上就决定了与日本刀质量有差距。家传，以及身份象征，所以日本刀工艺精良。但日本刀硬度高韧性差，咱大刀片硬度低韧性好，所以对劈他们吃亏。                           2011年7月26日 00:34 | # | 引用                                                                                                                路人A 说：                                                        妈呀，这个过程可不对哦，花纹是钢多次折叠打压而成的，多次折叠也是日本刀结实的一个因素，这个过程太山寨了，还有那个炉子，还有那个打压。。。请感兴趣的同学去看Discovery 的日本刀制作，那个才可信，从选料到最后精磨完全手工，完全传统工艺，非常精致，非常讲究，我第一次看到用手指细磨刀刃那段感动到要哭，日本人精益求精的精神太可怕了。PS:博主发文前稍微做点调查，好吗？只是一个建议，不是意见。                           2011年7月26日 03:38 | # | 引用                                                                                                                墨言 说：                                                        我去～你不感觉这很像中国的唐刀？我敬佩这种有独立思想的人～因为我们都相信“温水煮青蛙”的故事而没人真正去实验其真实性！我连知道两个铁球一块落地都是来自定理……                           2011年7月26日 06:32 | # | 引用                                                                                                                Vding 说：                                                        的确，是不是正宗的做法。太山寨了些，玉钢应该是要反复折打，然后嵌套两种不同钢材，直接冷却然后因为两种钢材不同膨胀收缩比，产生自然的弧度。                           2011年7月26日 09:50 | # | 引用                                                                                                                小白 说：                                                        引用pp2moonbird的发言：日本刀好看不中用吧，砍了几刀就卷刃。日本刀超级结实的，南京大屠杀比赛杀人的那个日本兵的日记里面写，他的刀能在白刃战中把中国军人从头盔劈成两半。卷刃什么的不太发生在日本刀上                           2011年7月26日 11:05 | # | 引用                                                                                                                师兄断水流 说：                                                        我看过讲的不是这么做的。日本的战刀是用折叠的方式，就是一直对折，上面密密麻麻象彩虹的花纹是因为折叠的层数太多而形成的，最多据说20万层，这样的刀除了锋利坚韧外还不震手。原来看过一篇文章说是某人收藏的一把日本刀，是在清理战场的时候，一个鬼子跳出来，一瞬间用刀杀了8个中国兵，后来被用枪打死了。这文可能能在网上搜到。                           2011年7月26日 14:43 | # | 引用                                                                                                                Ryan.Luo 说：                                                        仅仅只是展示了一个传统制刀的粗糙流程，但是这样的实验过程的确很有意思                           2011年7月26日 14:49 | # | 引用                                                                                                                HAOYU 说：                                                        日本刀是世界4大名刀之一，制作工艺绝对没有这么简单，锻完还要折的，这样做出来的只是工艺品而已。                           2011年7月26日 18:03 | # | 引用                                                                                                                东海后学 说：                                                        看了开始的几张图片，想起关于大跃进大炼钢铁时代的一些传闻，当时也是炼出铁疙瘩，被批判为胡闹，现在看并不完全是胡闹，土法炼钢也是有道理的，很可能因为农民的科学知识贫乏，技术不过关，炉温达不到要求。                           2011年7月26日 21:46 | # | 引用                                                                                                                pandacon 说：                                                        这种烂玩意 你让日本铸剑师情何以堪啊国内铸剑师做的 也得反复锻打 工期基本都在3个月左右 卷刃这种事情？ 铸剑师做得东西 切铁都跟玩似的  横斩4个1.5l可乐瓶  上面全飞 下面的还在桌子上里面的水还在  瓶子且不倒  你就知道这东西不是玩的高仿现在都在2w+的价格了                            2011年7月26日 21:49 | # | 引用                                                                                                                rein 说：                                                        引用小白的发言：日本刀超级结实的，南京大屠杀比赛杀人的那个日本兵的日记里面写，他的刀能在白刃战中把中国军人从头盔劈成两半。卷刃什么的不太发生在日本刀上卷刃一般出现在菜刀上，特别是柳叶刀之类的做海鲜料理的。 由于要求刀十分的刃，所以含碳量高，所以容易生锈。 优秀的日本料理厨师每天都要磨刀，而且磨刀是日本料理最基本的训练。 我自己手上有把双立人的Professional系列的主厨刀，刀很硬很锋利，但是对鱼皮完全没有办法。 想入手把日本刀看看                           2011年7月26日 22:08 | # | 引用                                                                                                                Karton 说：                                                        百炼成钢，今天见识了                           2011年7月26日 22:56 | # | 引用                                                                                                                木凡 说：                                                          哪儿有卖的  我想买一把                           2011年7月26日 23:41 | # | 引用                                                                                                                成果大侠 说：                                                        挺唬人的。从一大块儿黑了吧叽的东西就成了钢刀了。                           2011年7月27日 11:20 | # | 引用                                                                                                                露露 说：                                                        这个是切腹用的匕首吧？                           2011年7月27日 12:27 | # | 引用                                                                                                                619 说：                                                        这套图是很久以前的吧，现在都全自动了哈                           2011年7月27日 18:11 | # | 引用                                                                                                                温暖的已然 说：                                                        很漂亮。。。。。不崇洋媚外的说，一直很喜欢日本的很多东西。看着很安静                           2011年7月27日 21:19 | # | 引用                                                                                                                斯巴达客 说：                                                        额.我是浙江龙泉的.. 家乡的刀剑算是有名.也见过好多. . . 虽然不懂剑.记得花纹刚是结果无数次折叠锻打(使钢材具有良好柔韧性)后形成的.这里怎么变成"做"出来的花纹...这哪算的上日本刀啊.                            2011年7月27日 22:26 | # | 引用                                                                                                                宁静致远 说：                                                        这篇文章太酷了 哈，原来钢刀就这么出来的啊，等我老了退休的时候，也许没事这么搞一下 吼吼。                           2011年7月28日 04:23 | # | 引用                                                                                                                胡健 说：                                                        覆土烧刃啊，第一次看见图片，不过最后一张看，肌地没有太清楚，国内什么地方可以参观制作过程啊。                           2011年7月28日 09:29 | # | 引用                                                                                                                无名加佚名 说：                                                        要我说啥呢，这跟真正的日本刀制作工艺还差十万八千里啊……                           2011年7月29日 22:18 | # | 引用                                                                                                                Ra 说：                                                        国家地理有一期视频讲武士刀的，更加详细。记得传统工艺做出的好刀耗费时间很长。                           2011年8月 3日 14:55 | # | 引用                                                                                                                iOdin 说：                                                        我記得日本刀最重要的工藝除了是冶煉之外，還有淬火（冷卻速度的控制），淬火做得好，讓鋼有適當的結晶化，才能兼顧剛性（鋒利度）和韌度（抗折力）。一般冶煉方法只講求技師的耐性，但淬火講求對冷卻時間的把握，需要的是經驗。我佩服文中人兄，但沒有淬火，總是有點欠缺似的。                           2011年8月 3日 23:59 | # | 引用                                                                                                                iOdin 说：                                                        另外，亦想談談部份網友說到的卷刃問題...由於我也玩過一會兒居合道，知道日本刀有所謂的「刀筋」概念，「刀筋」是指用刀者控刀的能力，每次斬擊都能讓刀垂直砍向物體即斬擊方向與刀面呈直線（而非把刀面「拍」向物體），這樣才能發揮日本刀的最大破壞力。我們練居合道時會有試斬的環節，斬擊對象一般會是濕草蓆，箇中高手會用竹來試斬。只要刀筋做得好，就算是很普通的刀斬向竹上，也不會卷刃；但如果刀筋做得不好，即使你拿著妖刀村正去斬草蓆，幾次後就會卷刃。這是因為如果刀筋不對，刃口就會受到橫向力量衝擊，但日本刀的剛性都集中於刃口之上而欠缺韌度，故此再好的刀也會崩口；但是，如果刃口與斬擊方向垂直，刃口受的是直向力，衝擊力都會轉移到刀背上；由於日本刀的特殊淬火設計，使刀背有較好的韌度來承受縱向衝擊力，所以並不易折斷或卷刃。我記得美國就曾有刀具廠拍了一段片段，用手槍來射擊日本刀，結果日本刀絲毫無損，但子彈卻分成兩段。簡單來說，如果控刀能力不好，要讓日本刀卷刃不算太難，但這不是日本刀的問題，而是人的問題。                           2011年8月 4日 00:36 | # | 引用                                                                                                                gimzo 说：                                                        看评论，掌握技术的不少！？我很敬佩老外的实践精神，我相信他看过discovery。                           2011年8月 5日 14:56 | # | 引用                                                                                                                路人甲 说：                                                        峰哥，翻译的不够完整呢。到原文去看了，分好几个部分，怎么没翻译完整呢。原来里面大有文章。                           2011年8月 7日 11:17 | # | 引用                                                                                                                justemp 说：                                                        可以去刀剑论坛看看，那儿有好多国内一流的刀匠                           2011年8月16日 09:18 | # | 引用                                                                                                                2002亚东 说：                                                        日本刀是很不错的，上文省略很多重要的制作步骤，真正锻造的部分没有显示出来，好刀都得反复的锤炼，像和面似得反复折叠锻打，最后才能刀背有韧性刀刃有刚性，不容易折断和崩口，一把好刀得好几个月的时间才能完成，好的东西都是不易完成的                           2011年9月 1日 09:56 | # | 引用                                                                                                                马书柱 说：                                                        我的爷爷有一把日本刀，怎么砍柴都不会卷刃，后来虽然不利了，但还是比普通的刀快多了，甚至比斧头快多了。你说怪不怪？小日本，就是有点邪乎。                           2011年9月 1日 22:54 | # | 引用                                                                                                                裴超 说：                                                        这不是中国还有没有铁匠铺的问题。1.中国即便有，也没有日本人的这种“匠”的精神，精益求精，不断的追求完美，把一把刀炼到极致。2.中国也没有（现在可能有，但是依然不常见，没有这种氛围）这个美国人这样的。                           2011年9月 4日 09:02 | # | 引用                                                                                                                罗布泊 说：                                                        想买把此刀，多少钱？                           2011年9月30日 14:21 | # | 引用                                                                                                                POPOEVER 说：                                                        我有一把朋友作为生日礼物赠送的花纹钢黑太刀，是中国龙泉镇的剑铺依照日本的造刀传统方法打造的，现在的龙泉镇剑铺也为影视公司打造各种道具刀，以及各种不开刃的复制品作为礼品出售或供影视、动漫爱好者收藏，比如《指环王》的系列刀剑。就这柄黑太刀的长度和重量本身便足以“削铁如泥”，太重了，如果像视频里那样挥舞的话一定需要很强的膂力，也就是说真正挥舞自如的黑太刀威力强大，我试过自家的水泥墙角，轻轻碰一下墙角上便有5mm的缺口，而一些宽口塑料水管更是一挥即断，令人印象深刻。                           2011年10月 8日 11:01 | # | 引用                                                                                                                viiaan 说：                                                        这个过程太简单了。                           2011年10月 8日 23:22 | # | 引用                                                                                                                杨黎 说：                                                        倭奴的炼钢、制刀技术的确很不错，精益求精的精神都值得我们学习。但即使这样也请我们的同胞不要一副想当汉奸的样子去崇拜！！希望大家不要忘了，日本——倭奴，这个杂碎民族的本质是啥样的？真不希望，真不希望再出现一个国难日；再出现八年抗战；再死2千万同胞；再出现N多的汉奸！家仇、世仇、国仇，和时报！！！！                           2011年10月14日 18:59 | # | 引用                                                                                                                Giuseppe M. 说：                                                        厉害，绝对厉害。                           2011年10月29日 21:20 | # | 引用                                                                                                                catamaran 说：                                                        看过一个纪录片，说的是中国的剑，剑上的花纹是折叠锻打的结果，不是多次啊，都是千、万次折叠的，非常麻烦。                           2011年11月 7日 14:46 | # | 引用                                                                                                                BillGates 说：                                                        引用东海后学的发言：土法炼钢也是有道理的，很可能因为农民的科学知识贫乏，技术不过关，炉温达不到要求。一个是渣子，一个是钢，一样吗？一个是跃进，一个是传统，一样吗？                           2012年2月 5日 10:28 | # | 引用                                                                                                                快捷键shift 说：                                                        引用catamaran的发言：看过一个纪录片，说的是中国的剑，剑上的花纹是折叠锻打的结果，不是多次啊，都是千、万次折叠的，非常麻烦。童鞋，你说的纪录片我没看过，但是我也是经常看这些的，若你是在电视上面看到的，而且是央视的，那么可能是这个了——《走遍中国》|《揭秘户撒刀》。里面说了一种高超的制刀工艺，也是在刀上加注五彩的条文的。不知这个是不是你要的。                           2012年2月 9日 14:52 | # | 引用                                                                                                                成子 说：                                                        好刀在心中 你要想打造一把绝世好刀 就要自己去学习去研究去实践等到你大彻大悟经济条件身体素质思想品质都已超脱时 神器自成 刀是一种情节 从古至今冷兵器时代占据了主要历史时期 人们恋刀是天性使然 人的征服 扩张霸占毁灭摧毁等一些隐性特征都体现在了刀上 我想任何热血男儿在握到一把好刀时都会有一种豪情觉得自己热血沸腾 就像上面的日本刀一样我想日本刀已经成为了一种精神我们只不过是过客 日本这个国家我就不多说了它是有一些良好的品质就像造刀工艺以升华到一种精神但它的本质还是那一些隐形的特征 这些都已经在日本的那些侵略战争中体现出来啦 它们是以它们这种尚武说不好听的就是扩张 征服 毁灭的精神进行传播的 以前日本或许并不是为了打造更好的刀而提高锻造水平那时的战争幕府 势力 之间的争斗催生的只是一种血腥的征服欲望而传承至今的你们想想 好好想想 也许如果以后我们或者是后代或者是未来的某一时期又会发生战争你们希望有这样一把＂日本精神＂的＂好刀＂出现在中国的土地上吗？重蹈覆辙不是说给外国人听的 这把刀出现在了我们中国历史上不该出现的历史时期上斩出的不是你的血削的不是你的肉但斩裂的是泱泱大国的自尊说实在的是斩破了每一个中国人的脸！你能握得住这把有历史文化沉淀的倭刀吗？                           2012年2月14日 17:27 | # | 引用                                                                                                                Terry Zheng 说：                                                        国家地理拍过一个纪录片，制作过程比这个复杂一些。http://v.youku.com/v_show/id_XMzIzNzQ4NjYw.htmlhttp://www.youtube.com/watch?v=NMOBs-l_YJY&feature=related                           2012年6月25日 13:17 | # | 引用                                                                                                                cccc 说：                                                        日本武士是爱好和平的组织，但是二战时期被天皇控制成为可怕的机器组织这就好比城管和GCD的关系                           2012年9月23日 21:02 | # | 引用                                                                                                                Moses 说：                                                        引用colordancer的发言：这种精神，太可怕了。国内有这样的人吗大练钢铁的节奏么                           2015年1月 1日 19:02 | # | 引用                                                                                                                Akem 说：                                                        引用cccc的发言：日本武士是爱好和平的组织，但是二战时期被天皇控制成为可怕的机器组织这就好比城管和GCD的关系天天为了武道而求死的人竟然也是和平爱好者了。                           2015年6月30日 04:41 | # | 引用                                                                                                                小陈 说：                                                        引用万俟尘的发言：不知阮大师是怎么有机会看到全过程的，在中国大部分地方，熟悉的铁匠铺已经消失，叹。就我所在的刘桥镇，小学上学时候总会经过铁匠铺，黑漆漆里包裹着红通通的炙热，传出叮叮当当的响声，如今再也听不到了，店铺不在了，人也不知哪里去了。小镇的特产之一便是刘桥菜刀，不知道现在还有没有了。  有的，只是越来越少了。而且我们那边都是只用成品铁来打造                           2015年12月 2日 18:03 | # | 引用                                                                                                                zevil 说：                                                        我怎么感觉图上的刀看起来是用来自尽的。。。。                           2016年9月21日 10:54 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e952bfceacf45',t:'MTc0MzI0MzA4MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/07/making_of_a_katana.html
Javascript诞生记 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Javascript诞生记 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：与父亲在一起的日子（组下一篇：Javascript的                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Javascript诞生记                                                                                    作者： 阮一峰                                    日期： 2011年6月24日                                                                                                                                            1.二周前，我谈了一点Javascript的历史。                                                                                                                今天把这部分补全，从历史的角度，说明Javascript到底是如何设计出来的。只有了解这段历史，才能明白Javascript为什么是现在的样子。我依据的资料，主要是Brendan Eich的自述。2.上一篇文章写道："1994年，网景公司（Netscape）发布了Navigator浏览器0.9版。这是历史上第一个比较成熟的网络浏览器，轰动一时。但是，这个版本的浏览器只能用来浏览，不具备与访问者互动的能力。......网景公司急需一种网页脚本语言，使得浏览器可以与网页互动。"网页脚本语言到底是什么语言？网景公司当时有两个选择：一个是采用现有的语言，比如Perl、Python、Tcl、Scheme等等，允许它们直接嵌入网页；另一个是发明一种全新的语言。这两个选择各有利弊。第一个选择，有利于充分利用现有代码和程序员资源，推广起来比较容易；第二个选择，有利于开发出完全适用的语言，实现起来比较容易。到底采用哪一个选择，网景公司内部争执不下，管理层一时难以下定决心。3.就在这时，发生了另外一件大事：1995年Sun公司将Oak语言改名为Java，正式向市场推出。Sun公司大肆宣传，许诺这种语言可以"一次编写，到处运行"（Write Once, Run Anywhere），它看上去很可能成为未来的主宰。网景公司动了心，决定与Sun公司结成联盟。它不仅允许Java程序以applet（小程序）的形式，直接在浏览器中运行；甚至还考虑直接将Java作为脚本语言嵌入网页，只是因为这样会使HTML网页过于复杂，后来才不得不放弃。总之，当时的形势就是，网景公司的整个管理层，都是Java语言的信徒，Sun公司完全介入网页脚本语言的决策。因此，Javascript后来就是网景和Sun两家公司一起携手推向市场的，这种语言被命名为"Java+script"并不是偶然的。4.此时，34岁的系统程序员Brendan Eich登场了。1995年4月，网景公司录用了他。Brendan Eich的主要方向和兴趣是函数式编程，网景公司招聘他的目的，是研究将Scheme语言作为网页脚本语言的可能性。Brendan Eich本人也是这样想的，以为进入新公司后，会主要与Scheme语言打交道。仅仅一个月之后，1995年5月，网景公司做出决策，未来的网页脚本语言必须"看上去与Java足够相似"，但是比Java简单，使得非专业的网页作者也能很快上手。这个决策实际上将Perl、Python、Tcl、Scheme等非面向对象编程的语言都排除在外了。Brendan Eich被指定为这种"简化版Java语言"的设计师。5.但是，他对Java一点兴趣也没有。为了应付公司安排的任务，他只用10天时间就把Javascript设计出来了。由于设计时间太短，语言的一些细节考虑得不够严谨，导致后来很长一段时间，Javascript写出来的程序混乱不堪。如果Brendan Eich预见到，未来这种语言会成为互联网第一大语言，全世界有几百万学习者，他会不会多花一点时间呢？总的来说，他的设计思路是这样的：　　（1）借鉴C语言的基本语法；　　（2）借鉴Java语言的数据类型和内存管理；　　（3）借鉴Scheme语言，将函数提升到"第一等公民"（first class）的地位；　　（4）借鉴Self语言，使用基于原型（prototype）的继承机制。所以，Javascript语言实际上是两种语言风格的混合产物----（简化的）函数式编程+（简化的）面向对象编程。这是由Brendan Eich（函数式编程）与网景公司（面向对象编程）共同决定的。6.多年以后，Brendan Eich还是看不起Java。他说："Java（对Javascript）的影响，主要是把数据分成基本类型（primitive）和对象类型（object）两种，比如字符串和字符串对象，以及引入了Y2K问题。这真是不幸啊。"把基本数据类型包装成对象，这样做是否可取，这里暂且不论。Y2K问题则是直接与Java有关。根据设想，Date.getYear()返回的应该是年份的最后两位：　　var date1 = new Date(1999,0,1); 　　var year1 = date1.getYear();　　alert(year1);  // 99但是实际上，对于2000年，它返回的是100！　　var date2 = new Date(2000,0,1); 　　var year2 = date2.getYear();　　alert(year2); // 100如果用这个函数生成年份，某些网页可能出现"19100"这样的结果。这个问题完全来源于Java，因为Javascript的日期类直接采用了java.util.Date函数库。Brendan Eich显然很不满意这个结果，这导致后来不得不添加了一个返回四位数年份的Date.getFullYear()函数。如果不是公司的决策，Brendan Eich绝不可能把Java作为Javascript设计的原型。作为设计者，他一点也不喜欢自己的这个作品："与其说我爱Javascript，不如说我恨它。它是C语言和Self语言一夜情的产物。十八世纪英国文学家约翰逊博士说得好：'它的优秀之处并非原创，它的原创之处并不优秀。'（the part that is good is not original, and the part that is original is not good.）"（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2011年6月24日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（44条）                                                                                                    依云 说：                                                        原来 Javascript 是这样悲剧的。。。                           2011年6月25日 00:24 | # | 引用                                                                                                                Rei 说：                                                        这篇文章可以解释我为什么觉得javascipt这么烂了                           2011年6月25日 01:02 | # | 引用                                                                                                                ishmael 说：                                                        python是绝对的面向对象语言…                           2011年6月25日 02:22 | # | 引用                                                                                                                执手泪眼 说：                                                        我也是一很很难理解javascript中的类和继承机制。原来javascript是这么的悲剧！                           2011年6月25日 07:15 | # | 引用                                                                                                                aduhupu 说：                                                        我也是学什么东西，都从它的历史学起。这蛮好玩的，以前学心理学，把心理学史导论先看了一遍。javascript没学过，不过我也是学计算机，对这个偶你有一点兴趣。                           2011年6月25日 20:37 | # | 引用                                                                                                                netwjx 说：                                                        函数式部分还是很不错的日期部分确实不好用                           2011年6月25日 21:28 | # | 引用                                                                                                                Micky 说：                                                        Brendan Eich 的照片，真像一位慈祥的大婶……噗~                           2011年6月25日 21:40 | # | 引用                                                                                                                RedNax 说：                                                        Javascript一点都不烂，只是比较灵活。当然有一些设计不够严谨的地方是不太好，不过稍微注意一下就行（需要注意的陷阱可比C/C++少太多了）。                           2011年6月26日 16:40 | # | 引用                                                                                                                bush 说：                                                        10天啊！JS 再爛也不能抹殺 Eich 的功績。 真正的程序員就應該是這樣幹活的～                           2011年6月26日 18:50 | # | 引用                                                                                                                离谱 说：                                                        他对Java一点兴趣也没有。为了应付公司安排的任务，他只用10天时间就把Javascript设计出来了听到这话 我忽然感觉，学习js的都是一群杯具的人物~                           2011年6月26日 21:23 | # | 引用                                                                                                                w 说：                                                        引用Rei的发言：这篇文章可以解释我为什么觉得javascipt这么烂了JavaScript本身不烂，只是在Ajax复兴前被脚本少年搞烂了。                           2011年6月26日 23:35 | # | 引用                                                                                                                Avenger 说：                                                        10 天设计一门语言，神一般的人物啊。                           2011年6月27日 07:03 | # | 引用                                                                                                                神仙 说：                                                        10天设计一个语言，不过应该不会10天实现了吧。                           2011年6月27日 15:18 | # | 引用                                                                                                                idea 说：                                                        不知博主是否发现你的个人简介打不开？                           2011年6月28日 17:02 | # | 引用                                                                                                                fff 说：                                                        这是要证明　杂种优势么                           2011年7月 1日 22:42 | # | 引用                                                                                                                李琼 说：                                                        您好：我往您gmail邮箱里发了一封约稿信。请您查收一下。多谢您。                           2011年7月 3日 17:15 | # | 引用                                                                                                                ivBear 说：                                                        为什么不基于python设计?为什么不基于python设计?为什么不基于python设计......怨念中...                           2011年7月 6日 14:29 | # | 引用                                                                                                                david 说：                                                        人家十天设计出来的东西，我们却要花十年去学。                           2011年7月 8日 10:15 | # | 引用                                                                                                                nemo 说：                                                        引用ivBear的发言：为什么不基于python设计?为什么不基于python设计?为什么不基于python设计......怨念中...我看的时候也在想一模一样的问题!                           2011年7月12日 20:53 | # | 引用                                                                                                                pauli 说：                                                        引用nemo的发言：我看的时候也在想一模一样的问题!晕倒，Python 是那一年的啊。父亲怎么会长得像儿子！                           2011年7月15日 12:43 | # | 引用                                                                                                                依云 说：                                                        引用pauli的发言：晕倒，Python 是那一年的啊。父亲怎么会长得像儿子！据维基百科，Python 是1991年出现的，Javascript 是1995年。而且确实受到了 Python 的影响！                           2011年7月26日 15:17 | # | 引用                                                                                                                sirczpp 说：                                                        引用aduhupu的发言：我也是学什么东西，都从它的历史学起。这蛮好玩的，以前学心理学，把心理学史导论先看了一遍。学习历史 才能理解                           2011年8月 2日 11:34 | # | 引用                                                                                                                toming 说：                                                        "这个决策实际上将Perl、Python、Tcl、Scheme等非面向对象编程的语言都排除在外了。"这句话有点小错误。                           2011年8月 2日 14:54 | # | 引用                                                                                                                jyf007 说：                                                        现在有一种编译器拉居然是LLVM加工成Javascript                           2011年12月24日 21:07 | # | 引用                                                                                                                shuiren 说：                                                        没正经学过js，怪不得，这么混乱啊                           2012年3月 7日 10:47 | # | 引用                                                                                                                Allen 说：                                                        私生子的命运果然多舛，一同他的followers ..                            2012年5月19日 21:32 | # | 引用                                                                                                                星期六的黄昏 说：                                                        引用ivBear的发言：为什么不基于python设计?为什么不基于python设计?为什么不基于python设计......怨念中...http://stackoverflow.com/questions/3722334/why-dont-they-implement-python-and-ruby-in-the-web-browsers                           2012年5月31日 18:20 | # | 引用                                                                                                                sleepd 说：                                                        作为一个python使用者，最近在学习javascript，看了这篇文章以后，终于明白我那被受折磨的感觉不是源于我的无能……                           2012年7月11日 17:21 | # | 引用                                                                                                                zhuwang 说：                                                        充分说明了不负责任的行为是多么的坑爹，而且是几代人啊                           2012年10月29日 12:46 | # | 引用                                                                                                                Lisces 说：                                                        上面说被坑的 完全没理解这篇文章和作者自嘲式幽默的意思啊实际上 javascript可以说是一个非常好用和十分优美的语言并且学习成本相对其它语言低的多我认为它的整体设计 其实是非常成功的想像一下一堆人围着超市的手推车 抱怨它不好用的场景吧有人说 为什么里面没有设计格子有人说 为什么没有设计刹车有人说 为什么没有设计档位......手推车就是手推车 它已经完美的完成了它的工作                           2012年12月25日 18:57 | # | 引用                                                                                                                Amin By 说：                                                        引用w的发言：JavaScript本身不烂，只是在Ajax复兴前被脚本少年搞烂了。哈，人家10天设计，又没说是实现。                           2013年4月 9日 18:06 | # | 引用                                                                                                                t3dbundy 说：                                                        说十天设计并不准确，而是作者花了十天实现。quora上有他本人的回答。参见In which 10 days of May did Brendan Eich write JavaScript (Mocha) in 1995? http://qr.ae/5Lkz9                           2014年8月23日 10:04 | # | 引用                                                                                                                caesarchow 说：                                                        引用Amin By的发言：哈，人家10天设计，又没说是实现。什么都要慢慢发展的呢                           2015年4月 1日 11:26 | # | 引用                                                                                                                havefun 说：                                                        引用Lisces的发言：上面说被坑的 完全没理解这篇文章和作者自嘲式幽默的意思啊实际上 javascript可以说是一个非常好用和十分优美的语言并且学习成本相对其它语言低的多我认为它的整体设计 其实是非常成功的想像一下一堆人围着超市的手推车 抱怨它不好用的场景吧有人说 为什么里面没有设计格子有人说 为什么没有设计刹车有人说 为什么没有设计档位......手推车就是手推车 它已经完美的完成了它的工作说的真好                           2017年5月 8日 09:26 | # | 引用                                                                                                                Yu Er 说：                                                        引用nemo的发言：我看的时候也在想一模一样的问题!用 Python  哪个版本呢？                           2017年5月12日 13:46 | # | 引用                                                                                                                twang 说：                                                        从历史角度来看javascript蛮有趣的，思路很有意思。                           2018年1月17日 14:52 | # | 引用                                                                                                                heiheihei 说：                                                        觉得烂的小朋友，请在浏览器控制台打印执行这行代码 (!(~+[])+{})[--[~+""][+[]]*[~+[]] + ~~!+[]]+({}+[])[[~!+[]]*~+[]]                           2018年3月19日 13:42 | # | 引用                                                                                                                ZeroOnet 说：                                                        这一夜情的说法，倒是大神程序员通有的幽默                           2018年5月 2日 20:19 | # | 引用                                                                                                                rt95 说：                                                        原来 js 是 c 和 self 的私生子哈哈                           2019年8月18日 16:38 | # | 引用                                                                                                                rm -rf * 说：                                                        感觉js比java轻多了，但是我写js就像写java，搞不清js的类                           2020年12月 8日 10:52 | # | 引用                                                                                                                大大 说：                                                        第一、10天时间去设计应该不代表10天时间去完成它的解释器。国内的好多版本几乎都不去解释着两者的区别，以讹传讹。第二、我觉得js做算法题应该是最爽的了。感觉比python还舒服啊。真的，没骗你。                           2021年5月27日 17:31 | # | 引用                                                                                                                abovethecode 说：                                                        引用heiheihei的发言：觉得烂的小朋友，请在浏览器控制台打印执行这行代码 (!(~+[])+{})[--[~+""][+[]]*[~+[]] + ~~!+[]]+({}+[])[[~!+[]]*~+[]]这是怎么实现的?                           2022年3月 9日 10:14 | # | 引用                                                                                                                Shouduo 说：                                                        那一夜，C语言和Self语言都喝多了                           2022年3月16日 15:49 | # | 引用                                                                                                                Miroir 说：                                                        感谢作者让我们了解js的起源！                           2022年10月 8日 11:58 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e956f6c43cf45',t:'MTc0MzI0MzA5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/06/birth_of_javascript.html
Javascript继承机制的设计思想 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Javascript继承机制的设计思想 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：不正义的法律，不服从的下一篇：Bookmarklet                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Javascript继承机制的设计思想                                                                                    作者： 阮一峰                                    日期： 2011年6月 5日                                                                                                                                            我一直很难理解Javascript语言的继承机制。                                                                                                                它没有"子类"和"父类"的概念，也没有"类"（class）和"实例"（instance）的区分，全靠一种很奇特的"原型链"（prototype chain）模式，来实现继承。我花了很多时间，学习这个部分，还做了很多笔记。但是都属于强行记忆，无法从根本上理解。直到昨天，我读到法国程序员Vjeux的解释，才恍然大悟，完全明白了Javascript为什么这样设计。下面，我尝试用自己的语言，来解释它的设计思想。彻底说明白prototype对象到底是怎么回事。其实根本就没那么复杂，真相非常简单。一、从古代说起要理解Javascript的设计思想，必须从它的诞生说起。1994年，网景公司（Netscape）发布了Navigator浏览器0.9版。这是历史上第一个比较成熟的网络浏览器，轰动一时。但是，这个版本的浏览器只能用来浏览，不具备与访问者互动的能力。比如，如果网页上有一栏"用户名"要求填写，浏览器就无法判断访问者是否真的填写了，只有让服务器端判断。如果没有填写，服务器端就返回错误，要求用户重新填写，这太浪费时间和服务器资源了。因此，网景公司急需一种网页脚本语言，使得浏览器可以与网页互动。工程师Brendan Eich负责开发这种新语言。他觉得，没必要设计得很复杂，这种语言只要能够完成一些简单操作就够了，比如判断用户有没有填写表单。1994年正是面向对象编程（object-oriented programming）最兴盛的时期，C++是当时最流行的语言，而Java语言的1.0版即将于第二年推出，Sun公司正在大肆造势。Brendan Eich无疑受到了影响，Javascript里面所有的数据类型都是对象（object），这一点与Java非常相似。但是，他随即就遇到了一个难题，到底要不要设计"继承"机制呢？二、Brendan Eich的选择如果真的是一种简易的脚本语言，其实不需要有"继承"机制。但是，Javascript里面都是对象，必须有一种机制，将所有对象联系起来。所以，Brendan Eich最后还是设计了"继承"。但是，他不打算引入"类"（class）的概念，因为一旦有了"类"，Javascript就是一种完整的面向对象编程语言了，这好像有点太正式了，而且增加了初学者的入门难度。他考虑到，C++和Java语言都使用new命令，生成实例。C++的写法是：　　ClassName *object = new ClassName(param);Java的写法是：　　Foo foo = new Foo();因此，他就把new命令引入了Javascript，用来从原型对象生成一个实例对象。但是，Javascript没有"类"，怎么来表示原型对象呢？这时，他想到C++和Java使用new命令时，都会调用"类"的构造函数（constructor）。他就做了一个简化的设计，在Javascript语言中，new命令后面跟的不是类，而是构造函数。举例来说，现在有一个叫做DOG的构造函数，表示狗对象的原型。　　function DOG(name){　　　　this.name = name;　　}对这个构造函数使用new，就会生成一个狗对象的实例。　　var dogA = new DOG('大毛');　　alert(dogA.name); // 大毛注意构造函数中的this关键字，它就代表了新创建的实例对象。三、new运算符的缺点用构造函数生成实例对象，有一个缺点，那就是无法共享属性和方法。比如，在DOG对象的构造函数中，设置一个实例对象的共有属性species。　　function DOG(name){　　　　this.name = name;　　　　this.species = '犬科';　　}然后，生成两个实例对象：　　var dogA = new DOG('大毛');　　var dogB = new DOG('二毛');这两个对象的species属性是独立的，修改其中一个，不会影响到另一个。　　dogA.species = '猫科';　　alert(dogB.species); // 显示"犬科"，不受dogA的影响每一个实例对象，都有自己的属性和方法的副本。这不仅无法做到数据共享，也是极大的资源浪费。四、prototype属性的引入考虑到这一点，Brendan Eich决定为构造函数设置一个prototype属性。这个属性包含一个对象（以下简称"prototype对象"），所有实例对象需要共享的属性和方法，都放在这个对象里面；那些不需要共享的属性和方法，就放在构造函数里面。实例对象一旦创建，将自动引用prototype对象的属性和方法。也就是说，实例对象的属性和方法，分成两种，一种是本地的，另一种是引用的。还是以DOG构造函数为例，现在用prototype属性进行改写：　　function DOG(name){　　　　this.name = name;　　}　　DOG.prototype = { species : '犬科' };　　var dogA = new DOG('大毛');　　var dogB = new DOG('二毛');　　alert(dogA.species); // 犬科　　alert(dogB.species); // 犬科现在，species属性放在prototype对象里，是两个实例对象共享的。只要修改了prototype对象，就会同时影响到两个实例对象。　　DOG.prototype.species = '猫科'; 　　alert(dogA.species); // 猫科　　alert(dogB.species); // 猫科五、总结由于所有的实例对象共享同一个prototype对象，那么从外界看起来，prototype对象就好像是实例对象的原型，而实例对象则好像"继承"了prototype对象一样。这就是Javascript继承机制的设计思想。不知道我说清楚了没有，继承机制的具体应用方法，可以参考我写的系列文章：　　* 《Javascript面向对象编程（一）：封装》　　* 《Javascript面向对象编程（二）：构造函数的继承》　　* 《Javascript面向对象编程（三）：非构造函数的继承》 （完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2011年6月 5日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（120条）                                                                                                    袁文聪 说：                                                        没接触过Javascript  一直是个遗憾。。暑假放假接触下。。                           2011年6月 5日 20:09 | # | 引用                                                                                                                来诺 说：                                                        大牛的那本"The Good Parts of JavaScript"里讲解的非常清楚.                           2011年6月 5日 20:21 | # | 引用                                                                                                                杨经纬 说：                                                        阮兄V5让我这个码农看了精神抖擞啊，经济的Phd竟能对js理解如此深刻。8错                           2011年6月 5日 21:16 | # | 引用                                                                                                                Jan 说：                                                        不错，说得十分简洁清楚！                           2011年6月 5日 21:38 | # | 引用                                                                                                                wade 说：                                                        这也是javascript一直停留在"只能用来实现简单页面特效"的层次，而不能用来构建大型系统的原因。时间对于别出心裁的小玩意是最无情的。javascript如果能早点 extend 一个对象，或许就没有红及一时的actionscript鸟。个人观点...........                           2011年6月 5日 21:38 | # | 引用                                                                                                                嘀咕 说：                                                        引用来诺的发言：大牛的那本"The Good Parts of JavaScript"里讲解的非常清楚.这个“讲解的清楚”对于非计算机专业的朋友可能仍会造成困惑。阮先生这篇文章追溯到 JS 语言设计者 BE 的设计初衷，很不错。知道设计者“为什么这样做”远比“怎么做的”重要                           2011年6月 5日 22:36 | # | 引用                                                                                                                RedNax 说：                                                        引用wade的发言：这也是javascript一直停留在"只能用来实现简单页面特效"的层次，而不能用来构建大型系统的原因。时间对于别出心裁的小玩意是最无情的。javascript如果能早点 extend 一个对象，或许就没有红及一时的actionscript鸟。能不能构建大型系统要看的不是语言，而是用语言的人。用得好的人C也可以构建大型系统，javascript自然也是一样。在javascript发明后的近10年中，确实javascript只是停留在“简单页面特效”的程度上，不过这不是因为Javascript不行，而是因为没有优秀的开发者屑于研究Javascript的应用。在几个重量级开发者推动后，javascript才重生了。现在框架方面有着YUI, ext这些大型框架，语言方面有prototype.js, mootools这类标准化的扩展，使得Javascript完全可以胜任大型系统的开发了，而这些框架或者扩展所使用的语言基础，其实是1995年就定下来的那个javascript……                           2011年6月 6日 01:24 | # | 引用                                                                                                                。。。 说：                                                        呃，那个，其实代码部分应该用等宽字体显示。                           2011年6月 6日 02:17 | # | 引用                                                                                                                dulao5 说：                                                        说起来prototype也是一种经典的面向对象的实现方式了. 是里面所介绍的模式之一.普通OO语言是使用class实现继承, prototype使用对象链实现继承.我认为javascript的prototype和函数式编程风格, 这两个特性让javascript简洁而不简单, 让javascript成为一个伟大的语言. 这种简洁而不简单的设计, 使得它不仅能担当"检测用户名是否已经输入"这样的简单活计, 还能在html5,nodejs,mongodb等新领域发挥更大的威力.                           2011年6月 6日 07:40 | # | 引用                                                                                                                jlake 说：                                                        JavaScript = C + Lisp自从有了 JSON，JavaScript 注定要成为伟大的语言。                           2011年6月 6日 11:33 | # | 引用                                                                                                                sapjax 说：                                                        prototype更多地用来继承一些方法，属性的继承有时候反而有弊端。比如文章中的 DOG.prototype = { species : '犬科' };prototype指向的是 { species : '犬科' }这个对象的引用，子类继承的也是引用。这样对某个子类做修改的话，就会影响到所有的子类。因为它们指向的是同一个对象的引用，所以一般可能会修改的属性，当放在构造函数的this里面继承，让子类去抄写。或者给子类重新赋值一个对象的引用，这样一来就显得比较麻烦了，而且需要知道父类属性的具体内容。                           2011年6月 6日 13:18 | # | 引用                                                                                                                RedNax 说：                                                        @sapjax：不知道你说的“子类”是什么，不过无论是指实例(instance)还是指继承的类(class)都没有这个问题。对于实例来说，dogA.species ="大型犬"; 这样只会修改dogA这个对象的属性，不会修改其prototype的属性（dogB.species 仍然是"犬科"）；对于子类来说，我们可以做到子类的prototype是一个独立的对象，这个对象的prototype才是DOG.prototype，这样就可以保证在修改子类prototype的成员的时候也不会影响父类的成员，简单来说就是dogSubClassA.prototype.__proto__ === DOG.prototype做法在阮先生之前的数片文章也提到过。当然另一方面。如果是这样构造类：DOG.prototype = { properties:{species : '犬科'} };然后又这样修改：dogA.properties.species = "大型犬";那确实会把所有类和实例的值都改掉。                           2011年6月 6日 14:22 | # | 引用                                                                                                                别扭的牛二哥 说：                                                        不知道是不我水平太低。 感觉说的都是原本就这样的东西，从使用者角度来看。没有让我感觉，哇，原来是这样的思想！比较有亮点的是：讲了javascript的一些历史。                           2011年6月 6日 15:37 | # | 引用                                                                                                                numbcoder 说：                                                        引用wade的发言：这也是javascript一直停留在"只能用来实现简单页面特效"的层次，而不能用来构建大型系统的原因。时间对于别出心裁的小玩意是最无情的。javascript如果能早点 extend 一个对象，或许就没有红及一时的actionscript鸟。个人观点...........对于你的回答，我都笑喷了。去了解一下 CommonJS，nodejs，couchDB，看看js还是不是小玩意                           2011年6月 6日 22:43 | # | 引用                                                                                                                Shawnhai 说：                                                        引用wade的发言：这也是javascript一直停留在"只能用来实现简单页面特效"的层次，而不能用来构建大型系统的原因。时间对于别出心裁的小玩意是最无情的。javascript如果能早点 extend 一个对象，或许就没有红及一时的actionscript鸟。个人观点...........这个不敢苟同, 别的不说, Gmail就是一反例.actionscript红及一时是因为那个时代的浏览器(ie6-)的这几项生理缺陷: 1)无法消锯齿,构建不出美学意义的的矢量图形; 2)无法旋转; 3)不支持透明运算; 4)动画功能很弱. 给了Flash良机, actionscript的逐渐健壮也是水到渠成, 而且一家公司掌控的语言升级换代起来比通用语言要容易得多.                           2011年6月 7日 14:47 | # | 引用                                                                                                                maduoyuan 说：                                                        对于第四点举的例子感觉不恰当。我的理解是prototype相当于是模板，仅仅是将其成员复制到对象中，例子中的写法感觉是在“滥用”。如果我写的话，我会这么写：DOG.species = '犬科';我觉得这才是共享数据。顺便再说一点。“如果没有填写，服务器端就返回错误，要求用户重新填写，这太浪费时间和服务器资源了。”，应该不是浪费服务器资源，而是浪费了网络资源，服务器端的验证是必须的，因为不能保证“用户”仅仅以一种方式访问服务器。                           2011年6月 7日 19:15 | # | 引用                                                                                                                Sutra 说：                                                        是不是 prototype 可以用 Java 里的类里面的 static 属性来类比呢，即public class Dog {    public static String species = "犬科";    private String name;    public Dog(String name) {        this.name = name;    }    public static void println(Object o) {        System.out.println(o);    }    public static void main(String[] args) {        Dog dogA = new Dog("大毛");        Dog dogB = new Dog("二毛");        println(dogA.species); // 犬科        println(dogB.species); // 犬科        Dog.species = "猫科";        println(dogA.species); // 猫科        println(dogB.species); // 猫科    }}                           2011年6月 8日 12:58 | # | 引用                                                                                                                孙博 说：                                                        引用maduoyuan的发言：对于第四点举的例子感觉不恰当。我的理解是prototype相当于是模板，仅仅是将其成员复制到对象中，例子中的写法感觉是在“滥用”。如果我写的话，我会这么写：DOG.species = '犬科';我觉得这才是共享数据。接下来实例化的DOG对象都访问不到这个species属性的                           2011年6月 8日 22:47 | # | 引用                                                                                                                Cibo 说：                                                        The Power of Simplicity最直接的控制就好了,为什么还有用class做模板引入N多的东西呢说到lisp,CLOS的generic更底层一点。自底向上的好处吧。相对而言,JOSN做“底”只比list 高点，通俗点。                           2011年6月 9日 02:46 | # | 引用                                                                                                                cssview 说：                                                        期待楼主把 constructor 属性也介绍一下                           2011年6月 9日 11:28 | # | 引用                                                                                                                ufo 说：                                                        你能翻译下这个?  http://www.diskeeper.com/fragbook/chapter1.htm                           2011年6月 9日 22:14 | # | 引用                                                                                                                maduoyuan 说：                                                        引用孙博的发言：接下来实例化的DOG对象都访问不到这个species属性的一、我现在不太清楚“共享”是什么意思。如果是这个类实例化的所有对象的某个属性都相同，那就应该是只读的，并且也应该是隐含的，否则，这个类定义地有问题。二、如果非要访问我的写法中的那个属性，可以用 dogA.constructor.species。                           2011年6月10日 19:28 | # | 引用                                                                                                                孙博 说：                                                        引用maduoyuan的发言：如果非要访问我的写法中的那个属性，可以用 dogA.constructor.species。实际上species是个静态变量                            2011年6月12日 22:33 | # | 引用                                                                                                                朱子成 说：                                                        哈哈，不知道为什么，每次看你解释的都会觉得很清晰。谢谢!                           2011年6月13日 07:46 | # | 引用                                                                                                                robin 说：                                                        据我了解继承的话必须要有父类和子类,并且所有类都继承与同一个父类:Object.文中并没有谈到父类和子类.所以对js的继承机制还是有点摸不着头脑.期待楼主能介绍的更清楚些.                           2011年6月19日 19:48 | # | 引用                                                                                                                lein 说：                                                        function DOG(name){　　　　this.name = name;　　　　this.species = '犬科';　　}var dogA = new DOG('大毛');var dogB = new DOG('二毛');dogA.species = '猫科';alert(dogB.species); // 显示"犬科"，不受dogA的影响每一个实例对象，都有自己的属性和方法的副本。这不仅无法做到数据共享，也是极大的资源浪费。-----------------------------------------------------------------------------------dogA,dogB这两个不同实例，不知道楼主想做到共享什么数据？极大的资源浪费又是指的什么呢？                           2011年6月23日 11:04 | # | 引用                                                                                                                qmi 说：                                                        从别处看过这篇文章,可是作者没有写转载声明..谢谢!受益良多                           2011年6月29日 12:08 | # | 引用                                                                                                                damon 说：                                                        看过lua的实现，看过python的实现，了解dict以及table，所以prototype就是dict和table。                           2011年6月29日 14:31 | # | 引用                                                                                                                keviyu 说：                                                        引用cssview的发言：期待楼主把 constructor 属性也介绍一下document.write(Person.prototype.constructor.valueOf())                           2011年7月12日 07:46 | # | 引用                                                                                                                Kvkens 说：                                                        希望作者多写点JS的对象东西，比看书学的快多了，通俗易懂啊！                           2011年7月26日 11:49 | # | 引用                                                                                                                烟屁股 说：                                                        再三阅读，没发现所讲与继承有什么关系，倒是和静态变量的左右差不多。                           2011年9月17日 21:28 | # | 引用                                                                                                                Jeff 说：                                                        Brendan Eich只是想设计一个比较简单的继承机制……                           2011年9月27日 23:32 | # | 引用                                                                                                                L 说：                                                        引用maduoyuan的发言：对于第四点举的例子感觉不恰当。我的理解是prototype相当于是模板，仅仅是将其成员复制到对象中，例子中的写法感觉是在“滥用”。如果我写的话，我会这么写：DOG.species = '犬科';我觉得这才是共享数据。不要误导人了， 这样写法你确定能共享吗？DOG.species = '犬科'; //这种写法，只能是 DOG 可以用，它的子对象根本不受其影响。                           2011年11月22日 17:05 | # | 引用                                                                                                                Star 说：                                                        引用嘀咕的发言：这个“讲解的清楚”对于非计算机专业的朋友可能仍会造成困惑。阮先生这篇文章追溯到 JS 语言设计者 BE 的设计初衷，很不错。知道设计者“为什么这样做”远比“怎么做的”重要有同感，每次读那本小蝴蝶的某些章节会有茅塞顿开的感觉，但都是在经历了问题之后反过来看的时候。这篇文章适合各种层次的程序员，哪怕是程序爱好者。                           2011年11月22日 17:19 | # | 引用                                                                                                                Yoya 说：                                                        “每一个实例对象，都有自己的属性和方法的副本”，对这句话在其它语言中不是也这样吗？prototype对象的属性和方法，理解为模仿其它语言中的静态属性和方法不知道对不对。                           2011年11月28日 18:12 | # | 引用                                                                                                                Jackyy 说：                                                        我的理解是用prototype指定的属性方法其实就是java对象的static修饰下的属性方法，不过作为脚本语言，这样的设计也是非常合理的。                           2011年12月25日 21:12 | # | 引用                                                                                                                plums 说：                                                        听君一席话胜读十年书啊，拜服                           2012年2月29日 10:21 | # | 引用                                                                                                                airowner 说：                                                        对象的引用确实是个大坑啊..                           2012年4月11日 12:23 | # | 引用                                                                                                                卡爱 说：                                                        写的很明白，谢谢                           2012年4月25日 18:10 | # | 引用                                                                                                                前端爱好者 说：                                                        讲prototype理解为java中的static属性 肯定还是不完全正确的，因为在java的class中的static变量值是可以通过实例化对象来改变static变量的值的，也可以通过继承该class，来改变其class类中的static变量值的，所以把prototype看成和java中的static类似显然不对！                           2012年5月 9日 23:53 | # | 引用                                                                                                                小人 说：                                                        来这个博客学习，只需要注意一点就行，不要看评论                           2012年5月11日 11:44 | # | 引用                                                                                                                Allen 说：                                                        引用杨经纬的发言：经济的Phd竟能对js理解如此深刻。8错really? 阮兄NB!!! PFPF ^-^                           2012年5月19日 21:17 | # | 引用                                                                                                                康杰 说：                                                        非常不错，看后明白了很多东西，谢谢博主。                           2012年8月16日 10:02 | # | 引用                                                                                                                InthendSun 说：                                                        GOod,看明白了。对于有的评论到是糊里糊涂。                           2012年8月17日 00:18 | # | 引用                                                                                                                river 说：                                                        非常感谢，让我明白了一个非常难理解又非常重要的概念。                           2012年9月15日 21:13 | # | 引用                                                                                                                玄 说：                                                        你好，读了你写的三篇关于javascript的帖子，让我受益匪浅。。。可否转载一下。。转载的规矩我懂，放心。。                           2012年9月18日 16:28 | # | 引用                                                                                                                AlanX 说：                                                        我感觉prototype就像Java中一个类的静态属性或方法，不大像继承，但倒是可以利用它来实现一种逻辑上的继承                           2013年1月30日 17:09 | # | 引用                                                                                                                mars 说：                                                        你好，如果我在这里句 前面加一句dogA.species = 'fasdf';然后其他的不变。最后结果跟你写的不一样，这是为什么呢，想了想还是不通。最终代码形式如下：dogA.species = 'fasdf'DOG.prototype.species = '猫科';alert(dogA.species); // 猫科 #实际上是fasdf， chrome的dev tool下实验的alert(dogB.species); // 猫科                           2013年4月 6日 13:34 | # | 引用                                                                                                                柱子 说：                                                        不仅仅是自己明白 还写的明白 很了不起，看过很多你的博文，收益良多                           2013年4月16日 15:31 | # | 引用                                                                                                                Demon 说：                                                        其实算是委托吧                           2013年4月26日 10:55 | # | 引用                                                                                                                tianming 说：                                                        我想说博主的这篇中文稿，比文中提到的Vjeux的英文稿，讲得东西差太多了。目测博主没有理解__proto__这个属性                           2013年5月18日 12:43 | # | 引用                                                                                                                楸 说：                                                        如果javaScript当时设计时不是因为应付简单的表单验证，应该也不会设计的这样简单。本人是比较反感Js的继承机制，搞的相当复杂。只是个人观点，不过这也是Js的独特的地方之一。如果当时不是简单的应付，如果设计这门语言很严谨的话。估计现在Js不仅仅只做前台，后台也可以                           2013年7月 1日 15:04 | # | 引用                                                                                                                Steven 说：                                                        引用楸的发言：如果javaScript当时设计时不是因为应付简单的表单验证，应该也不会设计的这样简单。本人是比较反感Js的继承机制，搞的相当复杂。只是个人观点，不过这也是Js的独特的地方之一。如果当时不是简单的应付，如果设计这门语言很严谨的话。估计现在Js不仅仅只做前台，后台也可以node.js, CommonJS都被你吃了？twitter的后台要不是node.js，早挂了                           2013年8月18日 11:02 | # | 引用                                                                                                                此人**** 说：                                                        写的很好，通俗易懂。                           2013年10月 7日 08:47 | # | 引用                                                                                                                色额由 说：                                                        非常不错，看后明白了很多东西，谢谢博主。                           2013年10月10日 22:30 | # | 引用                                                                                                                echo 说：                                                        初学js,谢谢博主~                           2013年11月26日 23:09 | # | 引用                                                                                                                L 说：                                                        在Java中，new操作符后面跟的也是构造方法的名称，Foo foo = new Foo();如果Foo类中没有写构造方法，默认会有一个无参数的构造方法Foo().                           2013年12月 4日 11:31 | # | 引用                                                                                                                melisa 说：                                                        没看明白，JAVA不是能定义类的吗?CLASS                           2013年12月25日 11:15 | # | 引用                                                                                                                kaibb 说：                                                        Brendan Eich决定为构造函数设置一个prototype属性。   原来prototype是一个属性,以前一直不明白这是什么东东.                           2014年4月 1日 17:00 | # | 引用                                                                                                                jiqimao 说：                                                        这是我看过的最简单直白的说明,大牛.谢谢.                           2014年4月 2日 12:57 | # | 引用                                                                                                                萝卜 说：                                                        引用mars的发言：你好，如果我在这里句 前面加一句dogA.species = 'fasdf';然后其他的不变。最后结果跟你写的不一样，这是为什么呢，想了想还是不通。最终代码形式如下：dogA.species = 'fasdf'DOG.prototype.species = '猫科';alert(dogA.species); // 猫科 #实际上是fasdf， chrome的dev tool下实验的alert(dogB.species); // 猫科你这个是属性的遮掩（或者叫覆盖），子类里面的同名属性自动覆盖父类中的属性，这样父类做的改变，也影响不到子类，应为子类中的属性已经不是父类属性的引用了                           2014年4月29日 15:18 | # | 引用                                                                                                                张恩立 说：                                                            介绍一个东西为何而来，才能更好的让他在脑子里扎根，以后会多关注楼主的博客                           2014年7月21日 11:06 | # | 引用                                                                                                                showsscel 说：                                                        讲得很清楚。                           2014年9月27日 02:02 | # | 引用                                                                                                                qiu 说：                                                        非常好！清晰明了。支持楼主                           2014年10月10日 10:56 | # | 引用                                                                                                                王俊新 说：                                                        认真拜读了阮老师的这篇文章，收益匪浅，非常感谢阮老师的无私！本人初学javascript，从这篇文章主要学到了两点：一是javascript如何借鉴当时的面向对象语言（c++/java）实现实例对象的构造；二是javascript出现prototype属性的原因。再次感谢！                           2014年10月24日 11:51 | # | 引用                                                                                                                rocketzhao 说：                                                        一直关注阮兄的文章，这几天研究unicode，结合阮兄的博文和网上的其他文章，总算弄明白了大概。然后又看到了javascript的历史（原来javascript和java真有不浅的关系），以及prototype的设计原理，受益匪浅。但是看了上面的评论，大家都没有提出，文中提到的数据共享，其实就是指针。                           2015年1月13日 09:54 | # | 引用                                                                                                                wendy 说：                                                        it a great help to me                           2015年2月17日 11:51 | # | 引用                                                                                                                Kyle 说：                                                        非常独到的见解，理解不了的时候就追根溯源，从历史的角度来分析就容易理解。 赞                           2015年3月11日 17:17 | # | 引用                                                                                                                zzhi 说：                                                        通俗易懂啊  看完后豁然开朗                           2015年4月 3日 11:43 | # | 引用                                                                                                                Zhang Visper 说：                                                        引用AlanX的发言：我感觉prototype就像Java中一个类的静态属性或方法，不大像继承，但倒是可以利用它来实现一种逻辑上的继承prototype 其实很难同 Java 这类面向对象中的某个特性进行类比，将它类比为静态属性和继承都是不准确的。如果非要给 prototype 一个注解，个人感觉叫共享属性比较合适                           2015年4月17日 14:37 | # | 引用                                                                                                                dx 说：                                                        个人感觉作者第三个例子举得不恰当，改变dogA的属性必然不能影响dogB的属性，他们是两个不同的实例，无论如何也是不能相互影响的，改成这样会好些DOG.species="猫科";alert(dogB.species); // 显示"犬科"，不受DOG的影响虽然我这样举例也有点别扭，但是说明了属性无法及时共享的问题，大家有什么好的例子吗？                           2015年5月14日 16:14 | # | 引用                                                                                                                贺文榜 说：                                                        我尽然刚发现这篇文章！写的真好，通俗易懂，！                           2015年6月 3日 08:40 | # | 引用                                                                                                                endless 说：                                                        跟通常的类概念下的继承比起来，JavaScript这样的继承机制/思想更贴向现代编程设计更主张的组合关系，把prototype隐式组合进去，而非传统继承关系。在大中型项目里，面向接口、面向组合无疑是更现代的设计选择，简单继承关系亦无可厚非，但是如果是醉心于设计类图复杂继承关系的，我只能表示呵呵。                           2015年6月15日 16:09 | # | 引用                                                                                                                Jack 说：                                                        终于理解了,原来如此                           2015年7月28日 19:33 | # | 引用                                                                                                                qiushengGe 说：                                                        @RedNax：“子类”或者“对象实例”的原型对象(__proto__)不就是指向其构造函数吗?也就是通过子类的.__proto__.属性= value设置即可改变 构造其对象的构造函数里面的原型上设置的属性。function myFunction(username) {    this.username = username;    myFunction.prototype.password="666666";} var param1=new myFunction("hehe");var param2=new myFunction("hehe");debugger;param1.__proto__.password= "11111";alert(param1.password);alert(param2.password);此时的结果应该都是11111                           2015年8月11日 19:43 | # | 引用                                                                                                                噔噔蹬  说：                                                        感谢不能更多！                           2015年8月17日 10:21 | # | 引用                                                                                                                苏浩 说：                                                          好奇心起,试试HTML  打算把您javascript全看一遍,受益匪浅  谢谢L                           2015年10月25日 00:47 | # | 引用                                                                                                                fred 说：                                                        怒赞，受益匪浅啊                           2015年10月28日 22:41 | # | 引用                                                                                                                wzysoft 说：                                                        阮老师的博文对我影响很大，谢谢                           2015年10月29日 10:50 | # | 引用                                                                                                                Fancy 说：                                                        引用萝卜的发言：你这个是属性的遮掩（或者叫覆盖），子类里面的同名属性自动覆盖父类中的属性，这样父类做的改变，也影响不到子类，应为子类中的属性已经不是父类属性的引用了并不是所谓的覆盖。它所定义的： // 存在于实例中dogA.species = 'fasdf'// 存在于该实例的“类”的原型对象中。DOG.prototype.species = '猫科';两者都存在着，只不过你在调用  dogA.species 时，优先找到了该实例中的属性，因此查找中止罢了。                           2015年11月13日 20:03 | # | 引用                                                                                                                纸上扫雷 说：                                                        我简单说说吧：调用一个Object的属性/方法，就会去Object里找，如果找不到，就去找私有属性._proto_里找，如果还是找不到，就去._proto_._proto_里找，以此类推。new一个Object大概干了这些事：http://rockyuse.iteye.com/blog/1426522                           2015年12月 8日 19:43 | # | 引用                                                                                                                kk 说：                                                        非常感谢 写的很清楚                           2016年1月15日 16:43 | # | 引用                                                                                                                yuantingjun 说：                                                        引用sapjax的发言：prototype更多地用来继承一些方法，属性的继承有时候反而有弊端。比如文章中的 DOG.prototype = { species : '犬科' };prototype指向的是 { species : '犬科' }这个对象的引用，子类继承的也是引用。这样对某个子类做修改的话，就会影响到所有的子类。因为它们指向的是同一个对象的引用，所以一般可能会修改的属性，当放在构造函数的this里面继承，让子类去抄写。或者给子类重新赋值一个对象的引用，这样一来就显得比较麻烦了，而且需要知道父类属性的具体内容。"这样对某个子类做修改的话，就会影响到所有的子类。因为它们指向的是同一个对象的引用" 这句话是不正确的。指定 DOG.prototype = { species : '犬科' };后，子类是不能修改 species的属性的。                           2016年3月 4日 15:03 | # | 引用                                                                                                                李昂 说：                                                        简单易懂                           2016年3月 6日 14:13 | # | 引用                                                                                                                hc11 说：                                                        写的太好了，最近在看prototype.js的源码一直都搞不明白这个设计的用意，谢谢                           2016年3月23日 10:49 | # | 引用                                                                                                                AaronShi 说：                                                        十分清楚！                           2016年4月15日 11:05 | # | 引用                                                                                                                along 说：                                                        详解得十分清楚，谢谢                           2016年4月18日 08:56 | # | 引用                                                                                                                ocean 说：                                                        醍醐灌顶的感觉!                           2016年5月10日 09:15 | # | 引用                                                                                                                王凌永 说：                                                        说的非常清楚！                           2016年6月19日 02:36 | # | 引用                                                                                                                王冬 说：                                                        阮老师，有个问题想问一下：使用prototype：function dog(name){  this.name = name;}dog.prototype = {species: '犬科'};dogA.species = '猫科';var dogA = new dog('大毛');var dogB = new dog('二毛');console.log(dogA.species);        //输出犬科console.log(dogB.species);        //输出犬科不使用prototypefunction dog(name){  this.name = name;  this.species = '犬科';}dogA.species = '猫科';var dogA = new dog('大毛');var dogB = new dog('二毛');console.log(dogA.species);        //输出犬科console.log(dogB.species);        //输出犬科这两个例子中我都给dogA.species赋了一个"猫科"。带有prototype属性的不改变，我理解。但是为什么this.species='猫科'也不改变。感谢阮老师，您回复的时候，能不能@我一下，下面是我的邮箱。谢谢！！！                           2016年7月 1日 16:13 | # | 引用                                                                                                                Asion 说：                                                        引用王冬的发言：阮老师，有个问题想问一下：使用prototype：function dog(name){this.name = name;}dog.prototype = {species: '犬科'};dogA.species = '猫科';var dogA = new dog('大毛');var dogB = new dog('二毛');console.log(dogA.species);//输出犬科console.log(dogB.species);//输出犬科不使用prototypefunction dog(name){this.name = name;this.species = '犬科';}dogA.species = '猫科';var dogA = new dog('大毛');var dogB = new dog('二毛');console.log(dogA.species);//输出犬科console.log(dogB.species);//输出犬科这两个例子中我都给dogA.species赋了一个"猫科"。带有prototype属性的不改变，我理解。但是为什么this.species='猫科'也不改变。感谢阮老师，您回复的时候，能不能@我一下，下面是我的邮箱。谢谢！！！dogA 被你重新赋值了 之前的dogA已经丢失了 在内存中等待gc中。。。                           2016年7月20日 14:44 | # | 引用                                                                                                                Cindy_1 说：                                                        引用tianming的发言：我想说博主的这篇中文稿，比文中提到的Vjeux的英文稿，讲得东西差太多了。目测博主没有理解__proto__这个属性我也觉得博主当时没有理解__proto__，__proto__应该是构造函数的实例的指针，指向了构造函数的原型对象（prototype）,原文中　DOG.prototype = { species : '犬科' };实际上是重写了原型对象，即变成了一个new DOG prototype ,此时构造函数指向了这个new DOG prototype,而实例的_proto_还是指向原型对象DOG prototype,如果var dogA=new DOG('大毛')；DOG.prototype = { species : '犬科' };这时console.log(dogA.species);// undefined 哎……我困惑的是，重构了原型对象也就是切断了实例与new DOG prototype 的联系，如果重构原型对象DOG.prototype = { species : '犬科' };写在实例了对象前面，实例怎么又和new DOG protype 有联系了？Nicholas那本书175页那张图让我很迷惑啊！新手不懂，求教！                           2016年8月11日 22:18 | # | 引用                                                                                                                bbq 说：                                                        我觉得最后一点的例子不太恰当，DOG.prototype.species = '猫科';这不就是相当于重新赋值么，要体现共享，起码要这么修改，dogA.species = '猫科';输出alert(dogB.species)应为猫科，但答案是alert(dogA.species);//猫科alert(dogB.species)//犬科，这也没体现共享呐，不懂。                           2016年11月28日 19:52 | # | 引用                                                                                                                bbq 说：                                                        这种说是共享有些牵强了，只能说是提供了一种改变prototype里的某个方法或变量，改变所有实例中这个方法或变量的方法而已，算不得共享。                           2016年11月28日 19:59 | # | 引用                                                                                                                李亚杰 说：                                                        阮老师, 我现在有一个疑问, 就是Object.prototype是由谁创建出来的. 因为在看原型链的时候Object.prototype.__proto__ == null; 所以到这里就截止了, 那这个Object.prototype是怎么出来的, 能给我解答一下吗? 谢谢老师了.                           2017年3月30日 15:14 | # | 引用                                                                                                                M 说：                                                        Node上跑：function DOG(name){	this.name = name;	this.species = 'dog';}// DOG.prototype = { gender: 'male' };DOG.prototype.gender = 'female';var dogA = new DOG('dog A');var dogB = new DOG('don B');dogA.species = 'dog is cat';dogA.gender = 'female';dogB.gender = 'male';console.log('dogB.species: ' + dogB.species); console.log('dogA.species: ' + dogA.species); console.log('dogB.gender: ' + dogB.gender); console.log('dogA.gender: ' + dogA.gender); 结果如下：dogB.species: dogdogA.species: dog is catdogB.gender: maledogA.gender: female总结：prototype定义的属性，是每个对象维持一份的。这和楼主讲的不同。                           2017年5月18日 10:56 | # | 引用                                                                                                                Beatrice 说：                                                        不知道为什么，看您的文章很容易懂！                           2017年5月22日 09:33 | # | 引用                                                                                                                zzb 说：                                                        @maduoyuan：关于“浪费”这一点，你提到“服务器端的验证是必须的”所以不算浪费，应该是你理解偏离了。前端阻止了一些请求，就是节约了网络和服务器资源。另：没人说服务器端的验证不是必须的。                           2017年5月27日 11:15 | # | 引用                                                                                                                iceberg 说：                                                        最近接触到JS，对JS中的prototype机制比较困惑。看了此文如醍醐灌顶，感谢！                           2017年9月14日 11:21 | # | 引用                                                                                                                莫子墨 说：                                                        你定义了dogA和dogB对象的gender属性，这个属性会覆盖prototype对应的属性dogA.gender = 'female';dogB.gender = 'male';                           2017年10月23日 01:31 | # | 引用                                                                                                                nf 说：                                                        看了第二遍终于看懂，感谢                           2017年11月 1日 10:04 | # | 引用                                                                                                                MaveRick 说：                                                        说实话，不知道是作者对这个理解得不够深入还是表达能力不行，感觉讲得还是很肤浅，没有抓住本质。                           2017年11月13日 15:37 | # | 引用                                                                                                                miss zhou 说：                                                        DOG.prototype.eat=function(){}那么这样是代码两个实例共享方法eat吗                           2018年2月 7日 14:25 | # | 引用                                                                                                                九月 说：                                                        讲得很清楚了一部分。还有prototype里面的默认的属性等等其他性质没有讲。11年就那么对js理解那么深入。很是敬佩                           2018年3月 4日 19:38 | # | 引用                                                                                                                badmask 说：                                                        受益匪浅，感谢无私分享～看了许多您的文章了～                           2018年3月15日 15:49 | # | 引用                                                                                                                楚鱼 说：                                                        @M：不是这样理解的,你这里相当于都重新给对象 dogA, dogB添加添加了新属性，不会再从原型上获取对应属性.    dogA.species = 'dog is cat';        dogA.gender = 'female';    dogB.gender = 'male';                           2018年4月 4日 19:54 | # | 引用                                                                                                                gooqiao 说：                                                        哎呀妈呀，实在写的太好了。易懂且深入。                           2018年4月19日 22:31 | # | 引用                                                                                                                MarsZhang 说：                                                        写的相当好，顿时明白了。。。所以说ES6，最终还是加入了继承机制。而且用了Class。。然后更像是Typescri了。                           2018年5月 7日 15:15 | # | 引用                                                                                                                今天好开心 说：                                                        个人觉得这和java中的“static”关键字是一样的作用，反而不像是继承，java中的继承不同实例间是不会相互影响的。                           2018年8月 2日 18:29 | # | 引用                                                                                                                大鱼 说：                                                        说的清晰 ，简单，明了 ！                           2018年11月25日 16:56 | # | 引用                                                                                                                乱世迷途小书童 说：                                                        阮老师，您这个我看了怎么感觉没啥区别。不知道是不是自己没领悟到，还请您示下。您刚开始是改的new出来的实例属性，加了prototype以后改的则是DOG，没有可对比性啊。我的想法是 即使没有prototype,也可以共享DOG里定义的属性啊，因为new DOG的时候,this指向了实例对象，而new的时候相当于深拷贝，改变实例的属性，其他的实例和构造函数肯定不受影响。加上prototype亦是如此。dogA.species = '1111';这样还是不受影响的啊。还是不能共享啊。看您的描述是改变实例对象dogA.species 结果dogB没变。这样的数据不能共享？我想说的是new出来的任何实例相互之间都不会受影响的。                           2019年3月25日 19:55 | # | 引用                                                                                                                路人 说：                                                        或许是版本原因，DOG.prototype = { species : '犬科' };已经不可用，需使用DOG.prototype.species = '猫科';这大概也是es6也没有静态属性的原因吧                           2019年7月13日 17:59 | # | 引用                                                                                                                朱鹏钢 说：                                                        关于prototype，看了又忘，忘了就只能回来看阮老师的这篇文章，讲的简单易懂。                           2020年3月 9日 20:22 | # | 引用                                                                                                                王艺谋 说：                                                        “所有实例对象需要共享的属性和方法，都放在这个对象里面；那些不需要共享的属性和方法，就放在构造函数里面。”这句话太有点醒作用了                           2020年5月13日 10:44 | # | 引用                                                                                                                张大勇 说：                                                        现在JavaScript中不仅加入了class，而且还配备了super和extends，想咋继承咋继承，这就叫真香定律~~~~                           2020年8月12日 10:09 | # | 引用                                                                                                                楼上的 说：                                                        我觉得阮老师说的不太对，设计prototype属性，并不是为了做到共享，而是JS本身就是以原型模式来设计的一门语言，每个对象都是以另外一个对象作为原型来创建。而正好构造函数里的prototype属性指向了他们的原型对象。                           2020年11月 6日 00:37 | # | 引用                                                                                                                benjamin 说：                                                        借用一句话，高端的食材往往只需要最简单的烹饪方法，同理，难以理解的知识点，真正精通的人讲解，就算入门者也能深刻的领会其中的含义。                           2021年3月16日 10:43 | # | 引用                                                                                                                vsionly 说：                                                        虽然完全理解这个文章需要一些基础  但对彻底理解原型链真的很有帮助 简单易懂  推荐                           2021年7月22日 13:28 | # | 引用                                                                                                                haichao 说：                                                        引用王艺谋的发言：“所有实例对象需要共享的属性和方法，都放在这个对象里面；那些不需要共享的属性和方法，就放在构造函数里面。”这句话太有点醒作用了仔细想想，object对象上面的 toString() 这些方法不就是要共享的吗，真的很贴切                           2021年10月11日 17:54 | # | 引用                                                                                                                mm 说：                                                        @M：你这是在实例中定义的gender，实例就不会通过原型链去找gender了，你看下dogB.__proto__.gender是不是还是原来的模样？                           2022年3月15日 17:11 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e986a88d2cf45',t:'MTc0MzI0MzIxNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/06/designing_ideas_of_inheritance_mechanism_in_javascript.html
不正义的法律，不服从的公民 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    不正义的法律，不服从的公民 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：庞小伟谈互联网创业&nbsp;&nbsp;下一篇：Javascript继                                                                                分类：                                                                                    散文                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              不正义的法律，不服从的公民                                                                                    作者： 阮一峰                                    日期： 2011年6月 3日                                                                                                                                            TorrentFreak是一个新闻网站，专门报道BT下载。                                                                                                                上周，它罕见地发表了一篇政论，不谈下载，完全谈政治。文章的题目叫做《反抗不正义的法律是公民的天职》（It Is Everyone's Duty To Defy Unjust Laws），作者是瑞典盗版党的创始人Rick Falkvinge。他的本意是呼吁大家一起行动，改变不合理的版权法。但是实际上，他触及了一个更深层的问题----如果法律是错的，你觉得自己应该怎么办？他的观点非常鲜明：盲目的守法，不是善，而是恶；反抗不正义的法律是公民的天职。文章一开头就气势如虹：I sometimes hear people claim that laws exist to be followed. These people are the most dangerous people who exist in a society. "有人说，只要是法律，就要遵守。这种说法对于社会极其危险。"Tyranny is never upheld through law; it is upheld through thousands of bureaucrats that follow the letter of the law just because they believe in rules and law."暴君为什么能够维持统治？就是因为他手下有千千万万盲目守法的官僚。"那么，为什么不能盲目遵守法律？有两个原因。第一，法律并不是最高的行事准则，世界上存在更高的价值标准。Doing so in a conscious way dates back to Socrates, who was the first to claim that there is a moral law that transcends and supersedes the law of the land."早在古希腊，苏格拉底就说过，国王的法律之上，还有一种道德的法律（moral law）。"第二，法律往往不代表普遍的正义，而只代表掌权者的"正义"。Laws are not made because they are righteous. Laws are made because they advance somebody's political career."法律之所以被制定出来，并不是因为它们是正确的，而是因为它们符合某个政治家（集团）的利益。"很多人嘴里说"要守法"，但是并非真心认为应该如此，而是以此作为推卸个人责任的借口。既然法律有规定，那就照着做吧，何必去想对不对。这是非常危险的做法，正确的做法应该像下面这样：A person who considers the orders, rules or laws to be wrong has a duty to defy them. Every single war criminal learned this before they were hanged. On the other hand, many resistance fighters learned the opposite before they were shot."如果你认为某个法律是错的，是不公不义的，那么你就有责任去质疑它、违抗它，而不是盲目遵守它。"At the end of the day, you have only your own moral compass. You must decide whether to follow the law, and in considering this, you need to understand why the law was made in the first place."最终来说，你的道德价值观才是你的指南针。你必须自己决定遵守哪些法律。为了做到这一点，你必须知道最高的价值观是什么。"Usually, it makes sense to follow most laws, most of the time. But not all laws, all of the time. People who are standing waiting at a hung red stoplight at 2am with no human being nor car in sight are not just stupid, but downright dangerous."大多数时候，我们应当遵守大多数法律。但是，我们不应当在所有时候，遵守所有的法律。"Does this mean I encourage breaking the law? No. Mostly it doesn't mean that because doing so would be too flauntingly illegal. However, in the spirit of discretion, I encourage everybody to follow their own moral compass and to help their fellow human beings."我这样说，是不是鼓励大家去违法？不，从事非法活动，往往会有危险的后果。出于谨慎原则，我鼓励大家跟随自己的道德价值观，判断一件事该不该做。"=================================================原文写到这里就结束了，但是它让我想到了另一篇更有名的文章----19世纪美国作家梭罗的《论公民的不服从》（Civil Disobedience）。该文发表于1849年，正是南北战争前夕，梭罗认为一个支持黑奴制度的美国政府是邪恶的政府，公民不应该服从这样的政府。他雄辩地阐述了，个人的良知（consciences）高于强权（power），反抗一个不正义（injustice）的制度是每个公民的责任（duty）。这篇文章深深影响了后来的托尔斯泰、甘地、马丁·路德金等进步人士，成为"非暴力，不合作"运动的基础。虽然它与上文相隔162年，但是根本观点和内在精神完全一致，读起来竟然有一种浑然一体的感觉。下面就是我对梭罗的那篇文章的一些摘录，强烈推荐。The government itself, which is only the mode which the people have chosen to execute their will, is equally liable to be abused and perverted before the people can act through it. "政府只是人民用来有效行使他们的意志的一种形式。在人民还来不及贯彻他们的意志之前，政府也能同样有效地被滥用或误用。"Governments show thus how successfully men can be imposed upon, even impose on themselves, for their own advantage."政府的存在表明，为了自己的利益，一部分人可以如此成功地驾驭这个机构，甚至可以驾驭人民。"when the power is once in the hands of the people, a majority are permitted, and for a long period continue, to rule is not because they are most likely to be in the right, nor because this seems fairest to the minority, but because they are physically the strongest. But a government in which the majority rule in all cases can not be based on justice, even as far as men understand it. "当人民掌权后，多数派将控制政权，而且长期控制，这不是因为他们非常正义，也不是因为少数派认可他们，而是因为他们具有最强大的实力。但是，一个由多数派控制一切的政府，是不可能建立在正义之上的，即使是表面的正义也做不到。"I think that we should be men first, and subjects afterward. It is not desirable to cultivate a respect for the law, so much as for the right.  The only obligation which I have a right to assume is to do at any time what I think right."我认为，我们首先必须做人，其后才是做国王的顺民。让人们像尊重正义一样尊重法律，这是不可取的。我应该承担的唯一义务是，不论何时都从事我认为是正义的事。"But when the friction comes to have its machine, and oppression and robbery are organized, I say, let us not have such a machine any longer. "如果机器内部的故障控制了整个机器，并进行有组织的欺压与掠夺，那么，就让我们扔掉这部机器吧。"But it is the fault of the government itself that the remedy is worse than the evil. It makes it worse. Why is it not more apt to anticipate and provide for reform? Why does it not cherish its wise minority? Why does it cry and resist before it is hurt? Why does it not encourage its citizens to put out its faults, and do better than it would have them? "那是政府的过错，政府使局势变得更糟。为什么政府不善于预见改革，并为其提供机会呢？为什么政府不珍惜少数派的智慧呢？为什么政府不见棺材不落泪呢？为什么政府不鼓励老百姓为它指出错误，改进工作呢？"Any man more right than his neighbors constitutes a majority of one already. "任何人只要比周围的人更正义一些，也就构成了一人的多数。"（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2011年6月 3日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2020.01.08: 如何写一份有效的技术简历？                                                         现在找工作的程序员很多，都需要写简历。                            2019.11.11: 杨安泽的总统竞选                                                         2020美国总统参选人有一个44岁的华人，名叫杨安泽（Andrew Yang）。                            2019.08.26: 任正非管理思想                                                         前一段日子，网上出现了一个仓库，收集了华为公司创始人任正非的讲话稿，从1994年直到2018年，一共400多篇。                            2019.01.17: 罗杰·克劳利的作品读后感                                                         最近两个月，我一直在读英国历史学家罗杰·克劳利（Roger Crowley）的作品。                            广告（购买广告位）云手机                                                              留言（51条）                                                                                                    robin 说：                                                        这是GRE作文的题目...just law and unjust law                           2011年6月 3日 21:49 | # | 引用                                                                                                                Sunday 说：                                                        好文，说得好！文采，还是勇气都值得钦佩~                           2011年6月 3日 22:10 | # | 引用                                                                                                                river 说：                                                        how to do is justice?                            2011年6月 3日 22:19 | # | 引用                                                                                                                。。。 说：                                                        REVOLUTION!                           2011年6月 3日 22:42 | # | 引用                                                                                                                wzz 说：                                                        如何界定正义？如何避免某些人借正义之名侵害他人的自由？如何保障公民应有的权利？如何防止政府作恶或产生过错时及时纠正？                           2011年6月 4日 02:27 | # | 引用                                                                                                                土木坛子 说：                                                        这文章的用意似乎不只是这一点。阮兄呢。                           2011年6月 4日 02:28 | # | 引用                                                                                                                vx13 说：                                                        这些话很鼓舞人心，不过有无政府主义的倾向。个人的道德是带有偏见的，就像前段时间乌克兰有穆斯林青年私用石刑，杀死一名参加了选美比赛的无辜少女，因为她不符合穆斯林传统的道德。道德，不要成为暴力的借口才好。希望能有像文中那些进步人士一样有理性的人来领导，用非暴力的方式表达声音。PS：在这一天，对作者的勇气表示钦佩，并希望一周后，还能在这个链接看到我今天的留言。                           2011年6月 4日 02:54 | # | 引用                                                                                                                momo5269 说：                                                        对于楼上 应该说个人的道德必须包含不干涉他人(应得)的自由 那人明显是“道德”不完全的。（个人观点）  虽然每个人对于的道德标准有所不同 但多数方面是一致的 不过有时候也会有由于自己自身观点和立场导致的不完全或者缺漏(例如周模英一案)(可悲的是也包含为了自己的利益而利用到的) 我那小小的脑袋怎么想都觉得对于道德这件事 实在是太难了 自然 如果是大家对于某一事情的认同是统一的 那么事情就很好办 文中的观点也是很容易实现的——问题是有时候无法保证群体的思想是正确的........                           2011年6月 4日 08:24 | # | 引用                                                                                                                时雨 说：                                                        恶法非法与恶法亦法的问题争论了好几千年了……                           2011年6月 4日 08:51 | # | 引用                                                                                                                tomz 说：                                                        希望版权法律能够破除陈腐。                           2011年6月 4日 10:13 | # | 引用                                                                                                                sgsgyg 说：                                                        我觉得法律不过是统治者的工具而已，所以不公或非正义的产生是一种必然然而我现在小小的脑袋实在没有什么好的办法但是希望仍在希望此文不被和蟹！                           2011年6月 4日 10:35 | # | 引用                                                                                                                冰之猫猫 说：                                                        第一时间看到了   我一冲动为这篇文章付费了!!!!!!!!                           2011年6月 4日 11:02 | # | 引用                                                                                                                badants 说：                                                        一个坏日子一篇好文章                           2011年6月 4日 11:10 | # | 引用                                                                                                                bingo 说：                                                        公正这个词不是那么好解释的，我准备看看哈佛公开课《公正》：http://v.163.com/special/justice/                           2011年6月 4日 11:34 | # | 引用                                                                                                                卫书有道 说：                                                        特殊的日子,特殊的文章                           2011年6月 4日 12:21 | # | 引用                                                                                                                Wuvist 说：                                                        窃以为：“These people are the most dangerous people who exist in a society.”翻译成为：“这种说法对于社会极其危险。”不够确切。至少，不够“气势如虹”我会翻译成：“他们恰恰是危害社会最深的一群。”                           2011年6月 4日 12:25 | # | 引用                                                                                                                LiangDong 说：                                                        法律从来不是判断是非的基础，one's own moral compass才是。                           2011年6月 4日 14:03 | # | 引用                                                                                                                横箫斜吹雨 说：                                                        But when the friction comes to have its machine, and oppression and robbery are organized, I say, let us not have such a machine any longer. "如果机器内部的故障控制了整个机器，并进行有组织的欺压与掠夺，那么，就让我们扔掉这部机器吧。"                           2011年6月 4日 15:51 | # | 引用                                                                                                                Carmen 说：                                                        Inspiring, and very nice translation!!!                           2011年6月 4日 17:37 | # | 引用                                                                                                                史诗在线 说：                                                        　　法律或者规定分为三种。第一种是体现自然和社会规律的，比如说加油站不许打手机，近亲不许生孩子，这些规定必须被遵守，否则不仅社会受害。连违规者自己也会遭殃。第二种是体现公共利益的，如果不遵守会对社会造成极大伤害的，比如说不许出卖别人的手机号，不许和女性发生非自愿的性关系（收钱的应该算自愿的），这些事情虽然从技术上讲没有问题，但是如果放任不管，社会会付出极大代价，所以有道德的公民也应该遵守这些规定。第三种就完全是为了维护一部分人利益的，像不办证不许卖蔬菜，没有备案不许开网站，这类规定遵守不遵守都没有什么道德问题，只是看你站在哪一边，向这样的规定不遵守就不遵守了，别被抓到就可以。                           2011年6月 4日 18:16 | # | 引用                                                                                                                bush 说：                                                        好文，如大地驚雷振聾發聵！不過覺得有些句子的翻譯有些模糊，不太好理解原文的意思                           2011年6月 4日 22:20 | # | 引用                                                                                                                lousam 说：                                                            Laws are not made because they are righteous. Laws are made because they advance somebody's political career.    "法律之所以被制定出来，并不是因为它们是正确的，而是因为它们符合某个政治家（集团）的利益。"-----------------一个不小心付费了，转载了您的文章，并且有您的署名，希望您不要介意。                           2011年6月 4日 22:42 | # | 引用                                                                                                                dying 说：                                                        适合大多数人认真阅读的雄文，谢谢阮兄分享！                           2011年6月 5日 19:06 | # | 引用                                                                                                                dying 说：                                                        引用bush的发言：好文，如大地驚雷振聾發聵！不過覺得有些句子的翻譯有些模糊，不太好理解原文的意思估计翻译的太详细了就会被网监人员盯上了吧，所以是阮先生在为难的情况下才做出这种翻译。                           2011年6月 5日 19:36 | # | 引用                                                                                                                frouds 说：                                                        看来GRE真是很牛逼的考试！                           2011年6月 6日 09:13 | # | 引用                                                                                                                abnerwoo 说：                                                        这篇文章很好 已付费                           2011年6月 6日 09:50 | # | 引用                                                                                                                demian 说：                                                        可是，我觉得正义归结到底，还是一个狭隘的概念。即便我们让正义变成了更加大多数人的利益，那么还是有一些人的利益被排除在外。况且，人类自己的利益一定是正义的么？人类的存在一定是合理的么？                           2011年6月 6日 15:43 | # | 引用                                                                                                                D 说：                                                        不错,法律是有这篇文章提到的问题. 不过,摸出自己的moral compass是更好的解决方案么? 文中这样声称,但没有什么论证.moral compass从来都有,法律不是. 法律的出现,恰恰是为了解决moral compass无法解决的问题.小偷太可恶了,让我给逮着了,我是:* 骂这个不要脸的* 给他一个耳光* 暴打一顿* 这种人就该弄死!怎么做呢? follow my heart?moral compass不是解决版权法问题,法律体系的问题的方案.                           2011年6月 7日 09:24 | # | 引用                                                                                                                cumirror 说：                                                        没有完善的法律条规，因此它会被质疑，但重要的不是去否定它，而是不断去完善它。                           2011年6月 7日 10:15 | # | 引用                                                                                                                一个中国人 说：                                                        难道博主不知道我们是中国特色的社会注意吗!居然说出这种不和谐的话 该打!                           2011年6月 7日 12:36 | # | 引用                                                                                                                乎阮醉 说：                                                        很受触动，但这样的行为判断标准，是否只适合于具有较高道德水准的“物质+精神”双中产阶层？嘻嘻哈哈、躲避崇高的大多数，应该何去何从？受到不公正待遇，继而产生仇恨心理的弱势群体，又该如何指引自己呢？                           2011年6月 8日 02:14 | # | 引用                                                                                                                Anglem 说：                                                        引用卫书有道的发言：特殊的日子,特殊的文章是啊，在这样特殊的日子进行思考，写文章....我就这样感觉到他是醒着的人，我是昏睡的人....                           2011年6月 8日 10:16 | # | 引用                                                                                                                de 说：                                                        法治比人治好！－－－亚里士多德                           2011年6月 8日 16:56 | # | 引用                                                                                                                Snowman 说：                                                        阮同学已经一步步的走向偏激了，呵呵在国内，还远没有到反对恶法的地步，现状是人大于法、权大于法、意识形态大于法，连“法制”和“法治”的意识都没普及好，司法都还没真正树立起自己的地位，奢谈什么其它的？今天的社会秩序不完善，但包括选举法在内的法律途径，尝试了吗？今年已经有了许多“独立”参选人，你或你的朋友也可以参与，天天叫喊公平正义的人，你身体力行的去真正去做了吗？至于文中所说的盗版党，国内的盗版已经毁灭了国内大多数单机应用软件公司的生存环境，只有QQ或网游这样的幸免，来这里写评论的许多人也是刽子手之一                           2011年6月 9日 09:08 | # | 引用                                                                                                                Snowman 说：                                                        补充：建议阮同学在思考之余，不要过分悲观，积极一些，利用你的这块传播阵地，适当加入一些贴近实际、有可操作性的，可以改进社会公平正义的内容。今年微博上一些“独立”参选人参加人大代表选举的内容，正面意义就很大，在现有体制下，还是有很多可以改进提高的空间的。现在2种导向个人觉得不好：１再来一次暴力的推到重来，那种代价太过惨痛了　２坐而论道，脱离现实                           2011年6月 9日 09:14 | # | 引用                                                                                                                ikbear 说：                                                        引用robin的发言：这是GRE作文的题目...just law and unjust law这样的题目简直就是反党啊。                           2011年6月10日 12:38 | # | 引用                                                                                                                123 说：                                                        看的同時不約而同地想到civil disobedience, 然後果然你把它寫進博文里!                            2011年6月10日 14:10 | # | 引用                                                                                                                微波信号 说：                                                        阮一峰够猛，赞                           2011年6月11日 00:42 | # | 引用                                                                                                                ssdt 说：                                                         完全正确，我为什么要遵守你的规则？如果我在你的规则下变成了失败者并且你的成功需要建立在我维持自己的失败上，我就可以不再遵守你的规则我专门起来和你的成功对着干，你的失败就是我的成功的复活                           2011年6月11日 05:51 | # | 引用                                                                                                                Forrest Cao 说：                                                        1、守法是公民义务，如果你的道德判断认为此法为恶，也应该在法律框架下反对它，比如宣传、选同样支持修正此法的人大代表、等等。不应该抗法，否则社会秩序就丢失了。2、目前我国的情况不是恶法迭出，而是有法不依，执法犯法，宪法架空。所以首要应该是要求执政者守法，而不是公民可以违法。3、对于版权和专利的保护，个人观点认为应该改，不应该废。作为作者和译者的博主应该也是持同样观点的吧。                           2011年6月14日 09:32 | # | 引用                                                                                                                blue 说：                                                        看到题目，第一反应也是GRE考题， just and unjust law原题：There are two types of laws: just and unjust. Every individual in a society has a responsibility to obey just laws and, even more importantly, to disobey and resist unjust laws.从这也能看到国外教育和国内的不同                           2011年6月14日 10:37 | # | 引用                                                                                                                Sandico 说：                                                        引用ikbear的发言：这样的题目简直就是反党啊。党的初衷是什么？你这一句话说的真可悲                           2011年6月14日 22:58 | # | 引用                                                                                                                李小丝 说：                                                        引用Snowman的发言：阮同学已经一步步的走向偏激了，呵呵在国内，还远没有到反对恶法的地步，现状是人大于法、权大于法、意识形态大于法，连“法制”和“法治”的意识都没普及好，司法都还没真正树立起自己的地位，奢谈什么其它的？今天的社会秩序不完善，但包括选举法在内的法律途径，尝试了吗？今年已经有了许多“独立”参选人，你或你的朋友也可以参与，天天叫喊公平正义的人，你身体力行的去真正去做了吗？   偏激的是Snowman本人。    首先，凭什么说在国内还远没有到反对恶法的地步。法律是政治国家和市民社会之间的契约，每个人都有参与制定的天然权利，和质疑的权利，哪怕是微小的不公平，都有权利大声质疑，这是公民所与生俱来的天然权利。恶法不因恶小而不为恶。质疑法律的公平性、质疑政府的行为、质疑社会制度设计的合理性等等，“公民”参与政治生活的基本方式，而每一个批评的声音都增进着社会的公平和秩序。显然Snowman对“公民”这个词有与众不同的定义。我非常不喜欢Snowman后来的某些强证明的方法，我也不相信愤怒的Snowman会在写了留言之后毅然参加人大代表选举。用自己喜欢的方式为这个社会做有价值的事情，微小的行动都值得鼓掌，哪怕是写篇博文，这是对他人和自己自由权利的恰当理解。每个人都是理性人，要计算成本收益，Snowman连一点经济头脑都没有吗，我想不是的。    其次，反对恶法并不是比矫正人治与法治关系更为高尚、更加困难、更加奢侈的事情。相反，这比Snowman说的树立司法地位、法治意识（法制是建构的，没有所谓的普及“法制”意识这种说法）这些要伤制度筋骨、要下很大决心的事情更加切合实际，因为它把责任落实到每个人的头上。而不是吧一切责任和所有后果推给国家，而真正的责任者——每个公民可以装出无辜受害者的嘴脸，不是这样的！                           2011年6月17日 12:55 | # | 引用                                                                                                                jean 说：                                                        看的人热血沸腾啊                           2011年6月17日 22:46 | # | 引用                                                                                                                祝.广东 说：                                                        引用史诗在线的发言：法律或者规定分为三种。第一种是体现自然和社会规律的，比如说加油站不许打手机，近亲不许生孩子，这些规定必须被遵守，否则不仅社会受害。连违规者自己也会遭殃。加油站可以打手机的，不可以打是误解。流言粉碎者不是已经证明了的吗。法律真并不一定正确的，你举这个反而可以做反证，说明有些条文并没有真的有个科学的论证，简单的一棍子打死。但近亲不可以繁衍这个是有科学论证的，这可以说的通。                           2011年6月19日 21:14 | # | 引用                                                                                                                Kraks 说：                                                        法治的含义本来就是良法之治，并且良法被大多数人所认可和尊重                           2011年6月27日 00:41 | # | 引用                                                                                                                dqaria 说：                                                        唉..现在关键是有法却起不到作用啊..                           2011年7月15日 20:18 | # | 引用                                                                                                                greenbee 说：                                                        我在想，我的原则到底是什么                           2011年11月 4日 20:46 | # | 引用                                                                                                                yf611x 说：                                                        动不动就是“恶法”，请问评判的理由和基础是什么？                           2013年11月 8日 16:21 | # | 引用                                                                                                                荒原之梦 说：                                                        人类社会有没有可能进化到不需要法律的约束，每个人都听从道德的指引 ?0?                           2019年7月13日 19:29 | # | 引用                                                                                                                nested 说：                                                        如何认定“恶法”？如果保护奴隶主剥削奴隶是“恶法”，但是1000年前，5000年前呢？“恶法”应当是与地域，文化，时代密切相关的。各家有各家不同的情况，万不可拿着自己眼里的“恶法”的帽子往别家的头上扣，这是强权主义。“恶法”应当是这条法律的受益者和受害者辩论的结果，而不是旁人用于攻击他人的帽子。                           2024年2月21日 16:11 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9a88cfe0cf45',t:'MTc0MzI0MzMwMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/06/unjust_laws_and_disobedient_citizens.html
阮一峰的网络日志: June 2011 文章存档    浏览器数据库 IndexedDB 入门教程一、概述...阮一峰2018-07-04T08:55:54+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);    阮一峰的网络日志: June 2011 文章存档        if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                          June 2011 文章存档                                                            &laquo; 上月                                |                                 下月 &raquo;                                                                                                Javascript的10个设计缺陷分类：JavaScript                             前几篇文章，我经常说Javascript的设计不够严谨，有很多失误。                            继续阅读全文 »                                       2011年6月30日 12:43                        | 留言（38）                          June 2011的所有文章（共7篇）              2011.06.24：Javascript诞生记（44条评论）                     2011.06.20：与父亲在一起的日子（组图）（93条评论）                     2011.06.17：瑟利夫夫人在哈佛大学毕业典礼上的演讲（26条评论）                     2011.06.11：Bookmarklet编写指南（24条评论）                     2011.06.05：Javascript继承机制的设计思想（120条评论）                     2011.06.03：不正义的法律，不服从的公民（51条评论）                                                                                                      日期      // 判断数组中是否包含某个值。// 参数testValue：所需测试的值；// 参数arrayInstance：所需测试的某个数组；// 返回值：true/false.function itemInArray(testValue,arrayInstance){    for (var i in arrayInstance)    {         if (testValue==arrayInstance[i]) return true;    }    return false;}var currentYear = "2011";var currentMonth = "06";var yearList= {};var monthList = new Array();monthList.push("202410");monthList.push("202409");monthList.push("202408");monthList.push("202407");monthList.push("202406");monthList.push("202405");monthList.push("202404");monthList.push("202403");monthList.push("202402");monthList.push("202401");monthList.push("202312");monthList.push("202311");monthList.push("202310");monthList.push("202309");monthList.push("202308");monthList.push("202307");monthList.push("202306");monthList.push("202305");monthList.push("202304");monthList.push("202303");monthList.push("202302");monthList.push("202301");monthList.push("202212");monthList.push("202211");monthList.push("202210");monthList.push("202209");monthList.push("202208");monthList.push("202207");monthList.push("202206");monthList.push("202205");monthList.push("202204");monthList.push("202203");monthList.push("202202");monthList.push("202201");monthList.push("202112");monthList.push("202111");monthList.push("202110");monthList.push("202109");monthList.push("202108");monthList.push("202107");monthList.push("202106");monthList.push("202105");monthList.push("202104");monthList.push("202103");monthList.push("202102");monthList.push("202101");monthList.push("202012");monthList.push("202011");monthList.push("202010");monthList.push("202009");monthList.push("202008");monthList.push("202007");monthList.push("202006");monthList.push("202005");monthList.push("202004");monthList.push("202003");monthList.push("202002");monthList.push("202001");monthList.push("201912");monthList.push("201911");monthList.push("201910");monthList.push("201909");monthList.push("201908");monthList.push("201907");monthList.push("201906");monthList.push("201905");monthList.push("201904");monthList.push("201903");monthList.push("201902");monthList.push("201901");monthList.push("201812");monthList.push("201811");monthList.push("201810");monthList.push("201809");monthList.push("201808");monthList.push("201807");monthList.push("201806");monthList.push("201805");monthList.push("201804");monthList.push("201803");monthList.push("201802");monthList.push("201801");monthList.push("201712");monthList.push("201711");monthList.push("201710");monthList.push("201709");monthList.push("201708");monthList.push("201707");monthList.push("201706");monthList.push("201705");monthList.push("201704");monthList.push("201703");monthList.push("201702");monthList.push("201701");monthList.push("201612");monthList.push("201611");monthList.push("201610");monthList.push("201609");monthList.push("201608");monthList.push("201607");monthList.push("201606");monthList.push("201605");monthList.push("201604");monthList.push("201603");monthList.push("201602");monthList.push("201601");monthList.push("201512");monthList.push("201511");monthList.push("201509");monthList.push("201508");monthList.push("201507");monthList.push("201506");monthList.push("201505");monthList.push("201504");monthList.push("201503");monthList.push("201502");monthList.push("201501");monthList.push("201412");monthList.push("201411");monthList.push("201410");monthList.push("201409");monthList.push("201407");monthList.push("201406");monthList.push("201405");monthList.push("201404");monthList.push("201403");monthList.push("201402");monthList.push("201401");monthList.push("201312");monthList.push("201311");monthList.push("201310");monthList.push("201309");monthList.push("201308");monthList.push("201307");monthList.push("201306");monthList.push("201305");monthList.push("201304");monthList.push("201303");monthList.push("201302");monthList.push("201301");monthList.push("201212");monthList.push("201211");monthList.push("201210");monthList.push("201209");monthList.push("201208");monthList.push("201207");monthList.push("201206");monthList.push("201205");monthList.push("201204");monthList.push("201203");monthList.push("201202");monthList.push("201201");monthList.push("201112");monthList.push("201111");monthList.push("201110");monthList.push("201109");monthList.push("201108");monthList.push("201107");monthList.push("201106");monthList.push("201105");monthList.push("201104");monthList.push("201103");monthList.push("201102");monthList.push("201101");monthList.push("201012");monthList.push("201011");monthList.push("201010");monthList.push("201009");monthList.push("201008");monthList.push("201007");monthList.push("201006");monthList.push("201005");monthList.push("201004");monthList.push("201003");monthList.push("201002");monthList.push("201001");monthList.push("200912");monthList.push("200911");monthList.push("200910");monthList.push("200909");monthList.push("200908");monthList.push("200907");monthList.push("200906");monthList.push("200905");monthList.push("200904");monthList.push("200903");monthList.push("200902");monthList.push("200901");monthList.push("200812");monthList.push("200811");monthList.push("200810");monthList.push("200809");monthList.push("200808");monthList.push("200807");monthList.push("200806");monthList.push("200805");monthList.push("200804");monthList.push("200803");monthList.push("200802");monthList.push("200801");monthList.push("200712");monthList.push("200711");monthList.push("200710");monthList.push("200709");monthList.push("200708");monthList.push("200707");monthList.push("200706");monthList.push("200705");monthList.push("200704");monthList.push("200703");monthList.push("200702");monthList.push("200701");monthList.push("200612");monthList.push("200611");monthList.push("200610");monthList.push("200609");monthList.push("200608");monthList.push("200607");monthList.push("200606");monthList.push("200605");monthList.push("200604");monthList.push("200603");monthList.push("200602");monthList.push("200601");monthList.push("200512");monthList.push("200511");monthList.push("200510");monthList.push("200509");monthList.push("200508");monthList.push("200507");monthList.push("200506");monthList.push("200505");monthList.push("200504");monthList.push("200503");monthList.push("200502");monthList.push("200501");monthList.push("200412");monthList.push("200411");monthList.push("200410");monthList.push("200406");monthList.push("200405");monthList.push("200404");monthList.push("200403");monthList.push("200402");monthList.push("200401");monthList.push("200312");for(var i=0; i请选择月份：Gofunction monthChange(){        var yearListSelect = document.archiveList.year;        var selectedYear = yearListSelect.options[yearListSelect.selectedIndex].value;        monthListChange(selectedYear); }function urlChange(){        var yearListSelect = document.archiveList.year;        var selectedYear = yearListSelect.options[yearListSelect.selectedIndex].value;        var monthListSelect = document.archiveList.month;        var selectedMonth = monthListSelect.options[monthListSelect.selectedIndex].value;        urlGo(selectedYear,selectedMonth);}function urlGo(goYear,goMonth){       var url="/blog/"+goYear+"/"+goMonth+"/";       window.location=url;}for (var prop in yearList){// Create a new Option object for year list.var optionText = prop+"年";var optionValue = prop;var optionDefault = false;        var optionSelected = false;        if (prop==currentYear)          {             optionDefault = true;             optionSelected = true;        }var yearListItem = new Option(optionText,  // The text property                       optionValue,  // The value property                       optionDefault,    // The defaultSelected property                       optionSelected);   // The selected property// Display it in a Select element by appending it to the options array:var yearListSelect = document.archiveList.year;  // Get the Select objectyearListSelect.options[yearListSelect.options.length] = yearListItem;}monthListChange(currentYear);function monthListChange(selectedYear){var monthListSelect = document.archiveList.month;  // Get the Select object        monthListSelect.options.length=0;for (var i=0;i                 导航              上月：May 2011下月：July 2011                                                                   Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9d4d3af3cf45',t:'MTc0MzI0MzQxNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/06/index.html
SSH原理与运用（一）：远程登录 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    SSH原理与运用（一）：远程登录 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：《禅与摩托车维修艺术》下一篇：SSH原理与运用（二）                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              SSH原理与运用（一）：远程登录                                                                                    作者： 阮一峰                                    日期： 2011年12月21日                                                                                                                                            SSH是每一台Linux电脑的标准配置。                                                                                                                随着Linux设备从电脑逐渐扩展到手机、外设和家用电器，SSH的使用范围也越来越广。不仅程序员离不开它，很多普通用户也每天使用。SSH具备多种功能，可以用于很多场合。有些事情，没有它就是办不成。本文是我的学习笔记，总结和解释了SSH的常见用法，希望对大家有用。虽然本文内容只涉及初级应用，较为简单，但是需要读者具备最基本的"Shell知识"和了解"公钥加密"的概念。如果你对它们不熟悉，我推荐先阅读《UNIX / Linux 初学者教程》和《数字签名是什么？》。=======================================SSH原理与运用作者：阮一峰一、什么是SSH？简单说，SSH是一种网络协议，用于计算机之间的加密登录。如果一个用户从本地计算机，使用SSH协议登录另一台远程计算机，我们就可以认为，这种登录是安全的，即使被中途截获，密码也不会泄露。最早的时候，互联网通信都是明文通信，一旦被截获，内容就暴露无疑。1995年，芬兰学者Tatu Ylonen设计了SSH协议，将登录信息全部加密，成为互联网安全的一个基本解决方案，迅速在全世界获得推广，目前已经成为Linux系统的标准配置。需要指出的是，SSH只是一种协议，存在多种实现，既有商业实现，也有开源实现。本文针对的实现是OpenSSH，它是自由软件，应用非常广泛。此外，本文只讨论SSH在Linux Shell中的用法。如果要在Windows系统中使用SSH，会用到另一种软件PuTTY，这需要另文介绍。二、最基本的用法SSH主要用于远程登录。假定你要以用户名user，登录远程主机host，只要一条简单命令就可以了。　　$ ssh user@host如果本地用户名与远程用户名一致，登录时可以省略用户名。　　$ ssh hostSSH的默认端口是22，也就是说，你的登录请求会送进远程主机的22端口。使用p参数，可以修改这个端口。　　$ ssh -p 2222 user@host上面这条命令表示，ssh直接连接远程主机的2222端口。三、中间人攻击SSH之所以能够保证安全，原因在于它采用了公钥加密。整个过程是这样的：（1）远程主机收到用户的登录请求，把自己的公钥发给用户。（2）用户使用这个公钥，将登录密码加密后，发送回来。（3）远程主机用自己的私钥，解密登录密码，如果密码正确，就同意用户登录。这个过程本身是安全的，但是实施的时候存在一个风险：如果有人截获了登录请求，然后冒充远程主机，将伪造的公钥发给用户，那么用户很难辨别真伪。因为不像https协议，SSH协议的公钥是没有证书中心（CA）公证的，也就是说，都是自己签发的。可以设想，如果攻击者插在用户与远程主机之间（比如在公共的wifi区域），用伪造的公钥，获取用户的登录密码。再用这个密码登录远程主机，那么SSH的安全机制就荡然无存了。这种风险就是著名的"中间人攻击"（Man-in-the-middle attack）。SSH协议是如何应对的呢？四、口令登录如果你是第一次登录对方主机，系统会出现下面的提示：　　$ ssh user@host　　The authenticity of host 'host (12.18.429.21)' can't be established.　　RSA key fingerprint is 98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d.　　Are you sure you want to continue connecting (yes/no)? 这段话的意思是，无法确认host主机的真实性，只知道它的公钥指纹，问你还想继续连接吗？所谓"公钥指纹"，是指公钥长度较长（这里采用RSA算法，长达1024位），很难比对，所以对其进行MD5计算，将它变成一个128位的指纹。上例中是98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d，再进行比较，就容易多了。很自然的一个问题就是，用户怎么知道远程主机的公钥指纹应该是多少？回答是没有好办法，远程主机必须在自己的网站上贴出公钥指纹，以便用户自行核对。假定经过风险衡量以后，用户决定接受这个远程主机的公钥。　　Are you sure you want to continue connecting (yes/no)? yes系统会出现一句提示，表示host主机已经得到认可。　　Warning: Permanently added 'host,12.18.429.21' (RSA) to the list of known hosts. 然后，会要求输入密码。　　Password: (enter password)如果密码正确，就可以登录了。当远程主机的公钥被接受以后，它就会被保存在文件$HOME/.ssh/known_hosts之中。下次再连接这台主机，系统就会认出它的公钥已经保存在本地了，从而跳过警告部分，直接提示输入密码。每个SSH用户都有自己的known_hosts文件，此外系统也有一个这样的文件，通常是/etc/ssh/ssh_known_hosts，保存一些对所有用户都可信赖的远程主机的公钥。五、公钥登录使用密码登录，每次都必须输入密码，非常麻烦。好在SSH还提供了公钥登录，可以省去输入密码的步骤。所谓"公钥登录"，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。这种方法要求用户必须提供自己的公钥。如果没有现成的，可以直接用ssh-keygen生成一个：　　$ ssh-keygen运行上面的命令以后，系统会出现一系列提示，可以一路回车。其中有一个问题是，要不要对私钥设置口令（passphrase），如果担心私钥的安全，这里可以设置一个。运行结束以后，在$HOME/.ssh/目录下，会新生成两个文件：id_rsa.pub和id_rsa。前者是你的公钥，后者是你的私钥。这时再输入下面的命令，将公钥传送到远程主机host上面：　　$ ssh-copy-id user@host好了，从此你再登录，就不需要输入密码了。如果还是不行，就打开远程主机的/etc/ssh/sshd_config这个文件，检查下面几行前面"#"注释是否取掉。　　RSAAuthentication yes　　PubkeyAuthentication yes　　AuthorizedKeysFile .ssh/authorized_keys然后，重启远程主机的ssh服务。　　// ubuntu系统　　service ssh restart　　// debian系统　　/etc/init.d/ssh restart六、authorized_keys文件远程主机将用户的公钥，保存在登录后的用户主目录的$HOME/.ssh/authorized_keys文件中。公钥就是一段字符串，只要把它追加在authorized_keys文件的末尾就行了。这里不使用上面的ssh-copy-id命令，改用下面的命令，解释公钥的保存过程：　　$ ssh user@host 'mkdir -p .ssh && cat &gt;&gt; .ssh/authorized_keys' &lt; ~/.ssh/id_rsa.pub这条命令由多个语句组成，依次分解开来看：（1）"$ ssh user@host"，表示登录远程主机；（2）单引号中的mkdir .ssh && cat &gt;&gt; .ssh/authorized_keys，表示登录后在远程shell上执行的命令：（3）"$ mkdir -p .ssh"的作用是，如果用户主目录中的.ssh目录不存在，就创建一个；（4）'cat &gt;&gt; .ssh/authorized_keys' &lt; ~/.ssh/id_rsa.pub的作用是，将本地的公钥文件~/.ssh/id_rsa.pub，重定向追加到远程文件authorized_keys的末尾。写入authorized_keys文件后，公钥登录的设置就完成了。==============================================关于shell远程登录的部分就写到这里，下一次接着介绍《远程操作和端口转发》。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2011年12月21日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（84条）                                                                                                    南 靖男 说：                                                        必须：chmod 700 ~/.sshchmod 600 ~/.ssh/authorized_keys                           2011年12月21日 18:55 | # | 引用                                                                                                                dindog 说：                                                        第一次接触ssh是git，这东西还是挺方便的。虽然我只是同步自己的小代码                           2011年12月21日 20:49 | # | 引用                                                                                                                paranonia 说：                                                        chmod 700 ~/.ssh 必须chmod 600 ~/.ssh/authorized_keys 非必须                           2011年12月21日 20:54 | # | 引用                                                                                                                Coiby 说：                                                        这篇也不错，http://wowubuntu.com/ssh-tips.html，作者可以参考下，                           2011年12月21日 21:16 | # | 引用                                                                                                                icyomik 说：                                                        'mkdir .ssh && cat >> .ssh/authorized_keys'或者可以改为：'mkdir .ssh ; cat >> .ssh/authorized_keys'                           2011年12月21日 23:20 | # | 引用                                                                                                                依云 说：                                                        mkdir -p .ssh ，不然可能出错，后面的命令不执行。                           2011年12月21日 23:25 | # | 引用                                                                                                                Zind 说：                                                        我觉得好像有点儿不对劲啊……远程主机上也不一定存在 authorized_keys 文件所以，是不是应该这样：'mkdir -p .ssh/authorized_keys && cat >> .ssh/authorized_keys'                           2011年12月21日 23:39 | # | 引用                                                                                                                Zind 说：                                                        呃，我错了……'mkdir -p .ssh && cat >> .ssh/authorized_keys' 就好，其它的会自己处理的                           2011年12月22日 09:06 | # | 引用                                                                                                                yaoweibin 说：                                                        ssh（ssl/tls）的原理很复杂，如果不对网络安全和数学有深入研究，很难讲得清楚。                           2011年12月22日 10:05 | # | 引用                                                                                                                Ansen 说：                                                        很详细的文章谢谢博主                           2011年12月22日 11:07 | # | 引用                                                                                                                在路上 说：                                                        用虚拟主机非常方便                           2011年12月22日 12:51 | # | 引用                                                                                                                mercurate 说：                                                        能否顺便讲讲非对称加密是如何做到的?                           2011年12月22日 16:05 | # | 引用                                                                                                                zhong.xu 说：                                                        博主的文章总是能让人看的明白。自己知道还能讲解的让别人也知道，我想这就是博主自身功力深厚的证明吧。                           2011年12月22日 17:00 | # | 引用                                                                                                                daryl 说：                                                        中间一段错了，公钥永远是用来加密的，私钥永远是用来解密。                           2011年12月22日 23:31 | # | 引用                                                                                                                ssdt 说：                                                        不会是你看到我昨天用ssh,随便写了3个生成自己的ssh失败了，你就以为我不会就写了这篇吧我总怀疑你是个虚拟的人或者这文章不是你写的                           2011年12月23日 02:29 | # | 引用                                                                                                                大头龙仔 说：                                                        自从kernel.org被爆，现在多数改为公钥认证方式，password我平时只用在内网服务器。不过像VPS，如果开password认证，从auth.log可以看到，经常有人在试你密码。这个是比较恶心的                           2011年12月23日 09:05 | # | 引用                                                                                                                happypeter 说：                                                        我参考你的这篇博客，做了个视频，谢谢http://casts.happypeter.org/episodes/3                           2012年1月 7日 22:14 | # | 引用                                                                                                                Todd 说：                                                        >>$ ssh user@host 'mkdir .ssh && cat >> .ssh/authorized_keys' 这里最好用mkdir -p .ssh，保证不管.ssh是否已经存在都正确执行。                           2012年1月 8日 13:39 | # | 引用                                                                                                                阮一峰 说：                                                        @Todd：谢谢指出。我前面没有意识到，如果目录.ssh已经存在，mkdir .ssh会报错。我这就改过来，加上参数p。                           2012年1月 8日 15:21 | # | 引用                                                                                                                simenyu 说：                                                        用ssh-copy-id &lt;host&gt;木有成功，但也木有任何出错提示，完了之后ssh远端主机，还是需要输入密码。查看远端的authorized_keys文件，发现木有公钥字符串。改用$ ssh &lt;host&gt; 'mkdir -p .ssh && cat >> .ssh/authorized_keys' 不知道方法一哪里出问题了。                           2012年3月11日 09:54 | # | 引用                                                                                                                阮一峰 说：                                                        @simenyu:参考下面的文章，好像是说远程端的权限设置的原因。http://superuser.com/questions/189376/ssh-copy-id-does-not-work                           2012年3月11日 10:23 | # | 引用                                                                                                                feynixs 说：                                                        五、公钥登录，这部分应该写错了。应该是：公匙是用来加密的，私匙用来解密的。                           2012年3月17日 13:51 | # | 引用                                                                                                                沙渺 说：                                                        引用feynixs的发言：五、公钥登录，这部分应该写错了。应该是：公匙是用来加密的，私匙用来解密的。公私钥是对等的吧，公加私解或者私加公解都只是用法问题                           2012年11月13日 06:40 | # | 引用                                                                                                                Zernel 说：                                                        不错，虽然每天工作都要接触到SSH，文章提到的这些操作之前也有用过，但根本不知道原理，只是知道这样做可以达到怎么样的效果，现在看完这篇文章后清晰了很多，谢谢阮老师。                           2013年4月 6日 16:06 | # | 引用                                                                                                                凯凯 说：                                                        引用沙渺的发言：公私钥是对等的吧，公加私解或者私加公解都只是用法问题我觉得“五、公钥登录”这部分是有问题的，我认为应该是这样：所谓"公钥登录"，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段用用户公钥加密的随机字符串，用户用自己的私钥解密后，再发回来。远程主机把这个信息和原始信息匹配，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。（其实，用户用私钥解密之后得到原始信息X，还要用会话号P和X一起算md5发回给服务器，服务器用之前保存的会话号P和原始信息X做md5运算，和用户发回的信息匹配，如果成功，就证明用户是可信的）                           2013年4月 8日 21:51 | # | 引用                                                                                                                yinzhezq 说：                                                        引用yinzhezq的发言：最好改为这样：'mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys''mkdir -p .ssh && umask 066 && cat >> .ssh/authorized_keys'                           2013年4月15日 15:50 | # | 引用                                                                                                                吕朋 说：                                                        解释的再清晰不过了                           2013年8月10日 22:19 | # | 引用                                                                                                                南蛮虫 说：                                                        $ ssh user@host 'mkdir -p .ssh && cat >> .ssh/authorized_keys' 这条命令不成功，报错找不到~/.ssh/id_rsa.pub                           2013年12月13日 14:36 | # | 引用                                                                                                                himagicxiao 说：                                                        引用南蛮虫的发言：$ ssh user@host 'mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys' 这条命令不成功，报错找不到~/.ssh/id_rsa.pub检查本地有没有~/.ssh/id_rsa.pub                           2013年12月16日 18:05 | # | 引用                                                                                                                Jak Wings 说：                                                        @凯凯：看他写的第三节「三、中间人攻击」，我估计是故意只强调客户端密钥的。                           2014年3月27日 23:02 | # | 引用                                                                                                                Karl 说：                                                        $ ssh [email&#160;protected] 'mkdir -p .ssh && touch .ssh/authorized_keys && chmod 644 .ssh/authorized_keys && cat >> .ssh/authorized_keys'                            2014年4月 1日 12:13 | # | 引用                                                                                                                BlueIceQ 说：                                                        引用feynixs的发言：五、公钥登录，这部分应该写错了。应该是：公匙是用来加密的，私匙用来解密的。在"加密数据"时，是公钥加密，私钥解密；但是在"身份认证"时，是私钥加密，公钥解密，你想啊，私钥就一个，公钥可以有多个，即多个公钥对应一个私钥，加密的数据用公钥解出来了，那肯定就知对应的私钥是谁了，这就验证了身份了。                           2014年5月21日 18:59 | # | 引用                                                                                                                BlueIceQ 说：                                                        引用凯凯的发言：我觉得“五、公钥登录”这部分是有问题的，我认为应该是这样：所谓"公钥登录"，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段用用户公钥加密的随机字符串，用户用自己的私钥解密后，再发回来。远程主机把这个信息和原始信息匹配，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。（其实，用户用私钥解密之后得到原始信息X，还要用会话号P和X一起算md5发回给服务器，服务器用之前保存的会话号P和原始信息X做md5运算，和用户发回的信息匹配，如果成功，就证明用户是可信的）如果远程主机上面有多个公钥，那它选择那个公钥来对数据进行加密呢?但是如果发送的是明文，用户用私钥加密，发送到远程主机，远程主机就可以遍历公钥来对数据解密了。不要说远程主机会遍历公钥来对数据加密发送给用户啊，这明显是浪费时间的。                           2014年5月21日 19:06 | # | 引用                                                                                                                BlueIceQ 说：                                                        引用沙渺的发言：公私钥是对等的吧，公加私解或者私加公解都只是用法问题明显身份认证的时候私加公解划算啊。                           2014年5月21日 19:08 | # | 引用                                                                                                                luochen1990 说：                                                        稍稍纠正一下, centos 重启应该是 sudo /etc/init.d/sshd restart 对么?另外补充一点跳坑信息, 如果是刚刚创建 ~/.ssh/authorized_keys 的话, 要注意该文件的权限, 可以改成如: chmod 640 ~/.ssh/authorized_keys                           2014年6月13日 18:33 | # | 引用                                                                                                                Jason 说：                                                        写得实在太好了！简洁明了！非常感谢！                           2014年7月 8日 10:42 | # | 引用                                                                                                                hellowed 说：                                                        写的很清楚，阮老师                           2014年12月19日 14:54 | # | 引用                                                                                                                yjs 说：                                                        感谢，口令登陆ssh遵循公钥加密、公钥解密;win客户端登陆 ①向远端主机发送请求   ②远程主机发给win客户一个公钥(类似一个没有上锁的盒子),win客户将密码放入上锁后再次还给远程主机   ③远程主机用私钥打开公钥(盒子),验证密码一致允许登陆。    ssh公钥登陆同样遵循私钥加密、公钥解密;linux客户端先生成ssh公钥事先给远程主机更名为authorized_keys，①linux客户端向远程主机发送连接,远程主机随意发给linux客户端一串字符串   ②linux客户端用私钥加密字符串返还给远程主机    ③远程主机用事先存储的公钥进行解密,如果和事先发送的字符串一致则允许登陆。                           2015年1月22日 23:17 | # | 引用                                                                                                                nyuxiao 说：                                                        “……middle attack）。SSH协议是如何应对的呢？四、口令登录”这个“如何应对”指的是应对中间人攻击吗？                           2015年1月27日 19:14 | # | 引用                                                                                                                notracy 说：                                                        很是实用，感谢博主                           2015年3月10日 06:28 | # | 引用                                                                                                                wlb 说：                                                        对这句执行的顺序有点不明白cat >> .ssh/authorized_keys'                            2015年3月18日 21:17 | # | 引用                                                                                                                AutumnLight 说：                                                        楼主这一篇讲的太好了，井井有条。                           2015年8月12日 12:02 | # | 引用                                                                                                                aoniao 说：                                                        所谓"公钥登录"，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。这部分应该是有问题的。不会使用私钥去加密，公钥是解密的。参考这里的解释，http://www.unixwiz.net/techtips/ssh-agent-forwarding.html#chal下面这个摘录自 skypeGNU1 的BLOG 的解释就合理。当需要连接到SSH服务器上时，客户端软件就会向服务器发出请求，请求使用客户端的密钥进行安全验证。服务器收到请求之后，先在该用户的根目录下寻找共有密钥，然后把它和发送过来的公有密钥进行比较。如果两个密钥一致，服务器就用公有的密钥加密“质询”，并把它发送给客户端软件（putty,xshell等）。客户端收到质询之后，就可以用本地的私人密钥解密再把它发送给服务器，这种方式是相当安全的。                           2015年11月 9日 00:31 | # | 引用                                                                                                                谢宏浩 说：                                                        感觉  公钥登录 完全没有解决中间人攻击的问题  下面是原文摘抄  我加了些标号“所谓"公钥登录"，原理很简单，就是用户将自己的公钥储存在远程主机上。1 登录的时候，远程主机会向用户发送一段随机字符串，2 用户用自己的私钥加密后，再发回来。3 远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。”我的观点：   如果2过程中发送的数据被中间人截取了，   中间人发送到了远程主机，  远程主机会把中间人作为可信用户 对吧？ 如此如何防止中间人攻击?                           2015年12月 4日 19:12 | # | 引用                                                                                                                王松 说：                                                        引用daryl的发言：中间一段错了，公钥永远是用来加密的，私钥永远是用来解密。公钥和私钥本身都是既可以加密也可以解密的，公钥加密私钥解密是正常的非对称加密过程，私钥加密公钥解密应该就是数字签名的过程了。                           2016年1月17日 13:10 | # | 引用                                                                                                                胡扯 说：                                                        卧槽，误导啊，公钥私钥谁加密谁解密都没弄明白，还来说ssh？                           2016年1月21日 16:04 | # | 引用                                                                                                                jjnet 说：                                                        引用沙渺的发言：公私钥是对等的吧，公加私解或者私加公解都只是用法问题从非对称算法角度上， 有两个数e和d, 不等于d，通过公开函数f1(e,p)得到m同样，也可以通过公开函数f2(d,m)得到p， 其中m是原始文本而p是经过变换后的文本。一般而言成为为【编码】和【解码】， 其中持有e的人编码后的数据只有持有d的人能解码，同样持有d的人编码后只有e能解。 这里习惯性的吧e定义为【公钥】，d定义为【私钥】作为公钥私钥的生成着会保存【私钥】（大多数情况下私钥文件里面也会包含公钥），然后讲【公钥】广而告之。注意【编码】和【解码】和【加密】【解密】是有差别的。密码学里面， 对文字进行编码后，只有特定的对象（对方）能够解码。 符合这种语义的编解码方式称之为【加密】和【解密】。显然用【私钥】去【编码】后的数据不能叫【加密】的，因为【公钥】所有人都知道，失去了加密的意义。  在公钥私钥系统中， 统一采用【公钥】加密和【私钥】解密。而且【私钥】去编码数据【公钥】再去解码数据也并不是没有意义，只是习惯性称之为【签名】即保证这块数据由【私钥】的持有者生成而不是不让人看到数据是什么（因为大家都有公钥都能解都能证明--比如约定解出来的数据带一个尾巴hahaha，那么所有符合xxxxhahaha的数据都可以认为是私钥发送的别人不能伪造的，发送的有效数据是xxxx）其中用e进行 一个公钥对应一个私钥，                           2016年1月27日 16:48 | # | 引用                                                                                                                jay 说：                                                        引用daryl的发言：中间一段错了，公钥永远是用来加密的，私钥永远是用来解密。瞎扯                           2016年5月10日 23:54 | # | 引用                                                                                                                linchen1987 说：                                                        引用paranonia的发言：chmod 700 ~/.ssh 必须chmod 600 ~/.ssh/authorized_keys 非必须谢谢！                           2016年6月 3日 12:22 | # | 引用                                                                                                                dingding 说：                                                        请问这样就可以远程登录主机了吗？我租的服务器一直上不去，好奇怪。                           2016年8月23日 17:14 | # | 引用                                                                                                                robinjia 说：                                                        还需要设置~/.ssh/authorized_keys的权限，否则在/var/log/secure里可以看到提示Authentication refused: bad ownership or modes for file。经测试，只有文件所有者有写权限时，才可以登录服务器。所以authorized_keys为640，600都可以登录服务器。但不能是660,620等。而执行完上面的命令，authorized_keys为660,需要修改这个文件的权限。                           2016年9月 9日 08:55 | # | 引用                                                                                                                robinjia 说：                                                        发现还需要设置.ssh的权限，因为.ssh目录必须700才允许登录，而mkdir -p .ssh新建的目录权限是755.                           2016年9月 9日 21:21 | # | 引用                                                                                                                格桑花 说：                                                        阮老师: 我有一个疑问,还望解答,谢谢.中间人攻击那一端里面有如下一段:整个过程是这样的：（1）远程主机收到用户的登录请求，把自己的公钥发给用户。（2）用户使用这个公钥，将登录密码加密后，发送回来。（3）远程主机用自己的私钥，解密登录密码，如果密码正确，就同意用户登录。经测试,  1. 远程主机 foo 用户并未生成公钥和密钥,也就是 /home/foo/.ssh/目录下并未存在 id_rsa.pub和id_rsa;               2. 本地主机 bar 用户并未生成公钥和密钥,也就是/home/bar/.ssh/目录下并未存在 id_rsa.pub和id_rsa;               3. 本地主机 bar 用户运行 ssh foo@remote_serv,  输入yes加入known_hosts后再输入密码可成功登入 remote_serv疑问:  远程主机未生成公钥和私钥,如何发送自己的公钥给本地主机呢?实验结果和讲解不符, 不知道是不是我理解错了呢?                           2016年9月27日 17:28 | # | 引用                                                                                                                郑 说：                                                        发现，known_hosts里存入的不知道是什么东西，反正和对应主机的公钥不同，能详细说一下，这个中间是怎么加密的吗，用的什么加密算法                           2016年11月29日 10:31 | # | 引用                                                                                                                区影 说：                                                        很赞的文章。之前一直没理解为什么第一次会提示“The authenticity of host 'host (12.18.429.21)' can't be established.”，感谢。另外，在“公钥登陆”章节，您提到“登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密。”  这段话，个人有几点想交换下意见的地方：（1）通常术语上私钥加密说成签名，公钥解密说成验签。从数学上是类似操作，但用途上签名和验签是为了证明“对方是对方”，而加密和解密是为了“发来的信息没被人偷看”，更严谨的安全会话是加密和签名同时用，因为正如您说的加密不能证明发消息的人是靠谱的。（2）客户端与服务器是多对1的关系。“远程主机用事先储存的公钥进行解密”，如何从一堆公钥中找到当前客户端的公钥，少了一个公钥索引的点。                           2016年12月 4日 09:05 | # | 引用                                                                                                                domen 说：                                                        就我一个人很在意这个配图吗。。                           2016年12月 8日 14:36 | # | 引用                                                                                                                你好明天 说：                                                        window下我使用给gitbash也挺好用的                           2016年12月 8日 17:09 | # | 引用                                                                                                                cui 说：                                                        公钥登陆部分，是客户端将自己的公钥发送到服务端，服务端用客户端的公钥加密一个256位的随机字符串，客户端接收后解密，然后将这个字符串和会话标识符合并在一起，对结果应用MD5散列函数并把散列值返回给服务器，服务器进行相同的MD5散列函数，如果客户端和该值可以匹配，那么匹配成功。望更正。                           2016年12月18日 20:16 | # | 引用                                                                                                                guanxianseng 说：                                                        今天用github在github上保存ssh公钥，看到这里的公钥登录，明白了是怎么回事了                           2017年2月 5日 11:06 | # | 引用                                                                                                                年华果腹 说：                                                        引用cui的发言：公钥登陆部分，是客户端将自己的公钥发送到服务端，服务端用客户端的公钥加密一个256位的随机字符串，客户端接收后解密，然后将这个字符串和会话标识符合并在一起，对结果应用MD5散列函数并把散列值返回给服务器，服务器进行相同的MD5散列函数，如果客户端和该值可以匹配，那么匹配成功。望更正。很详细，确实是这样的。关于会话标识符想说的一点是客户端与服务器实际上是先有会话加密过程，再进行的客户端验证，所以这个会话标识符就是第一个阶段生成的共享密钥。                           2017年2月15日 10:59 | # | 引用                                                                                                                付辉 说：                                                        - client向server端请求（用户A想访问server系统下的账户B）,该请求中包含public-key的modulus- server读取B账户，查找是否存在匹配的public-key。如果不存在，请求失败。- server端生成一个256 bit的字符串，用匹配的public-key加密发给client- client端用自己的私钥解密数据，然后和当前的session identifier HASH生成md5值发给server- server重新计算md5值，跟client进行比较                           2017年4月30日 15:01 | # | 引用                                                                                                                随风 说：                                                        @cui：你所说的就是md54的对称加密方法吧                           2017年5月21日 10:13 | # | 引用                                                                                                                123456 说：                                                        五、公钥登录这段写错了，博主赶紧改改，不要误导他人。参见：https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keyshttps://www.digitalocean.com/community/tutorials/understanding-the-ssh-encryption-and-connection-process当然，也有可能博主是对的，这个只有撸过源码才能确定，有没有朋友有兴趣有时间找到真相的？                           2017年7月 9日 16:29 | # | 引用                                                                                                                榛子 说：                                                        阮老师，关于你说的这一段我有点无法理解：“很自然的一个问题就是，用户怎么知道远程主机的公钥指纹应该是多少？回答是没有好办法，远程主机必须在自己的网站上贴出公钥指纹，以便用户自行核对。”如果远程主机在自己网站上贴出来公钥指纹， 那么中间人也可以知道这个呀，再把假的公钥指纹发给你不就好了吗，这样你也无法判断了呀。                           2017年7月 9日 18:23 | # | 引用                                                                                                                阿布 说：                                                        @榛子：同樣是關於公鑰的問題，既然我們可以通過主機的網站來確認指紋是否正確，那主機直接在網站上公布自己的公鑰就好了，我們收到的公鑰對不對，對比網站上的公鑰就知道了。這樣想的話，指紋的存在好像是多餘的？                           2017年7月25日 22:27 | # | 引用                                                                                                                austyywl 说：                                                        @榛子：远程主机发送的，不是指纹(摘要），而是公钥本身，而指纹，是不可逆的，中间人知道了指纹，但无法推算出公钥，所以，是无法伪造公钥。                           2017年7月26日 00:16 | # | 引用                                                                                                                austyywl 说：                                                        @阿布：兄弟，文章中不是说了，公钥太长，不方便比对吗                           2017年7月26日 00:19 | # | 引用                                                                                                                austyywl 说：                                                        关于公钥登录这一部分，我一开始的理解也是觉得有问题，一般我们都认为公钥加密，私钥解密，这个可能是非对称加密最常用的功能，大家可以参考下这个网页，RSA算法的作用：认证。http://www.cnblogs.com/scofi/p/6617394.html                           2017年7月26日 00:36 | # | 引用                                                                                                                kim 说：                                                        When a client connects to the host, wishing to use SSH key authentication, it will inform the server of this intent and will tell the server which public key to use. The server then check its authorized_keys file for the public key, generate a random string and encrypts it using the public key. This encrypted message can only be decrypted with the associated private key. The server will send this encrypted message to the client to test whether they actually have the associated private key.Upon receipt of this message, the client will decrypt it using the private key and combine the random string that is revealed with a previously negotiated session ID. It then generates an MD5 hash of this value and transmits it back to the server. The server already had the original message and the session ID, so it can compare an MD5 hash generated by those values and determine that the client must have the private key.说的很清楚啦这段                           2017年7月27日 20:19 | # | 引用                                                                                                                austyywl 说：                                                        引用kim的发言：...说的很清楚啦这段当客户端希望通过SSH KEY 鉴权登录时，它会告诉服务端，并附带上自己的公钥KEY信息。服务端检查它的KEY文件，同时生成一个随机串，并且用公钥加密。加密过的随机串，只有客户端用自己的私钥才可以解。一旦收到消息，客户端将用自己的私钥解密，获取到随机串，同时，将先前跟服务端商定的SESSIONID一起，再次做MD5一致性HASH（md5(randomKey,sessionId），发回给服务端。服务端也按同样的方式生成摘要，如果两者一致，则验证通过。所谓"公钥登录"，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。感觉还是有差异，网上也没能找到权威的解释@kim ，能提供下出处吗？                           2017年7月30日 14:14 | # | 引用                                                                                                                二哈 说：                                                        引用沙渺的发言：公私钥是对等的吧，公加私解或者私加公解都只是用法问题这里讨论的这个有没有一个正确的结论？如果不确定就不要把大家误导了，ssh rsa是非对称加密吧？                           2017年11月 9日 21:08 | # | 引用                                                                                                                我是谁 说：                                                        @凯凯：和其他网站将的不一样，谁能告诉我哪个说的是对的？！！参看：https://www.cnblogs.com/hukey/p/6248468.html                           2017年11月 9日 21:19 | # | 引用                                                                                                                羊羊羊 说：                                                        阮老师，我想请问对于公钥登陆的方式，为什么就能阻止中间人攻击呢？  我做过小测试，不管口令登录还是公钥登录，第一次尝试连接的时候都会有 The authenticity of host 'host (11.22.33.44)' can't be established.这个提示，让我们判断主机是否是真实的。 如果这个IP是假的， 对于口令登录会丢失账号密码，即受到了中间人攻击；而对于公钥登录呢？我们虽然并没有丢失自己的密钥，但是也没能和真正的主机建立联系呀？                           2017年12月23日 10:27 | # | 引用                                                                                                                kur0mi 说：                                                        之前对ssh只看了一些简单的，这次认真重新看了一遍，感觉很多东西都变得更透彻了，中间人攻击，公钥验证，密码登录验证的原理等等，通俗易懂，大赞                           2018年4月10日 10:53 | # | 引用                                                                                                                june 说：                                                        感觉中间人那部分没有讲完，可能部分人还不理解，当主机的公钥追加到该主机本地文件~/.ssh/known_hosts中后，下次登陆时如果因为某些原因发生服务器ip改变(如中间人攻击)，会报错Host key verification failed.这样就要再次确认ssh登陆的IP，可以有效防止中间人攻击                           2018年5月 7日 10:52 | # | 引用                                                                                                                小佐同学 说：                                                        无意看到这片博客，感觉受益匪浅。查了查阮老师的经历，无比膜拜。感觉日后这里会是常常学习的地方啦。希望更新更多的博客：）                           2018年6月 3日 16:52 | # | 引用                                                                                                                wkt 说：                                                        多谢  特别详细  之前只会一步步做 从不懂为什么                           2018年6月27日 13:18 | # | 引用                                                                                                                伍丰来了 说：                                                        引用凯凯的发言：我觉得“五、公钥登录”这部分是有问题的，我认为应该是这样：所谓"公钥登录"，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段用用户公钥加密的随机字符串，用户用自己的私钥解密后，再发回来。远程主机把这个信息和原始信息匹配，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。（其实，用户用私钥解密之后得到原始信息X，还要用会话号P和X一起算md5发回给服务器，服务器用之前保存的会话号P和原始信息X做md5运算，和用户发回的信息匹配，如果成功，就证明用户是可信的）                           2018年7月 4日 21:15 | # | 引用                                                                                                                xuriwuyun 说：                                                        关于秘钥登录应该分两种情况：第一种：客户端有私钥，没有公钥，如阮老师所讲：所谓"公钥登录"，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码。第二种情况，客户端有私钥，也有公钥，如kim所讲：When a client connects to the host, wishing to use SSH key authentication, it will inform the server of this intent and will tell the server which public key to use. The server then check its authorized_keys file for the public key, generate a random string and encrypts it using the public key. This encrypted message can only be decrypted with the associated private key. The server will send this encrypted message to the client to test whether they actually have the associated private key....可以在删除和不删除id_rsa.pud的情况下，分别使用ssh -v user@host进行验证。                           2018年11月15日 18:26 | # | 引用                                                                                                                gy 说：                                                        这个帖子快十年了啊                           2021年3月 5日 12:51 | # | 引用                                                                                                                csenjoy 说：                                                        @cui：让我理解的话，如果公钥给服务器的话， 有点像中间人攻击，中间被拦截了。那么不就登录到其它非法远程主机上面去了吗。                           2021年9月30日 18:46 | # | 引用                                                                                                                csenjoy 说：                                                        @xuriwuyun：我看了半天这个英文表述的意思跟阮老师表述的意思一样的啊。 你第二种情况怎么得到的                           2021年9月30日 18:51 | # | 引用                                                                                                                csenjoy 说：                                                        @凯凯：不知道会不会有这种情况： 在这种方式下，如果远程主机发送的是一段伪随机字符串的话，非法用户疯狂的伪造随机字符串散列应答主机。这样的话，用户可信度就会存在问题。                           2021年9月30日 18:58 | # | 引用                                                                                                                canlila 说：                                                        不错的分享，一般Linux默认自带SSH只需要开启下运行，自己工作一般是windows电脑也会装上SSH客户端来远程方便。同局域网内远程是可以直接内网地址了。对于跨网，如电脑在外网SSH远程内网Linux时，可以通过内网穿透方案，如FRP或nat123，先在本地内网将SSH内网地址映射成外网域名地址，然后外网SSH客户端就可以通过域名进行远程访问。                           2022年2月25日 20:40 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e99df6d12cf45',t:'MTc0MzI0MzI3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/12/ssh_remote_login.html
SSH原理与运用（二）：远程操作与端口转发 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    SSH原理与运用（二）：远程操作与端口转发 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：SSH原理与运用（一）下一篇：iDaily的诞生&nbsp;&nbsp;                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              SSH原理与运用（二）：远程操作与端口转发                                                                                    作者： 阮一峰                                    日期： 2011年12月23日                                                                                                                                            接着前一次的文章，继续介绍SSH的用法。                                                                                                                =======================================SSH原理与运用（二）：远程操作与端口转发作者：阮一峰（Image credit: Tony Narlock）七、远程操作SSH不仅可以用于远程主机登录，还可以直接在远程主机上执行操作。上一节的操作，就是一个例子：　　$ ssh user@host 'mkdir -p .ssh && cat &gt;&gt; .ssh/authorized_keys' &lt; ~/.ssh/id_rsa.pub单引号中间的部分，表示在远程主机上执行的操作；后面的输入重定向，表示数据通过SSH传向远程主机。这就是说，SSH可以在用户和远程主机之间，建立命令和数据的传输通道，因此很多事情都可以通过SSH来完成。下面看几个例子。【例1】 将$HOME/src/目录下面的所有文件，复制到远程主机的$HOME/src/目录。　　$ cd && tar czv src | ssh user@host 'tar xz'【例2】将远程主机$HOME/src/目录下面的所有文件，复制到用户的当前目录。　　$ ssh user@host 'tar cz src' | tar xzv【例3】查看远程主机是否运行进程httpd。　　$ ssh user@host 'ps ax | grep [h]ttpd'八、绑定本地端口既然SSH可以传送数据，那么我们可以让那些不加密的网络连接，全部改走SSH连接，从而提高安全性。假定我们要让8080端口的数据，都通过SSH传向远程主机，命令就这样写：　　$ ssh -D 8080 user@hostSSH会建立一个socket，去监听本地的8080端口。一旦有数据传向那个端口，就自动把它转移到SSH连接上面，发往远程主机。可以想象，如果8080端口原来是一个不加密端口，现在将变成一个加密端口。九、本地端口转发有时，绑定本地端口还不够，还必须指定数据传送的目标主机，从而形成点对点的"端口转发"。为了区别后文的"远程端口转发"，我们把这种情况称为"本地端口转发"（Local forwarding）。假定host1是本地主机，host2是远程主机。由于种种原因，这两台主机之间无法连通。但是，另外还有一台host3，可以同时连通前面两台主机。因此，很自然的想法就是，通过host3，将host1连上host2。我们在host1执行下面的命令：　　$ ssh -L 2121:host2:21 host3命令中的L参数一共接受三个值，分别是"本地端口:目标主机:目标主机端口"，它们之间用冒号分隔。这条命令的意思，就是指定SSH绑定本地端口2121，然后指定host3将所有的数据，转发到目标主机host2的21端口（假定host2运行FTP，默认端口为21）。这样一来，我们只要连接host1的2121端口，就等于连上了host2的21端口。　　$ ftp localhost:2121"本地端口转发"使得host1和host3之间仿佛形成一个数据传输的秘密隧道，因此又被称为"SSH隧道"。下面是一个比较有趣的例子。　　$ ssh -L 5900:localhost:5900 host3它表示将本机的5900端口绑定host3的5900端口（这里的localhost指的是host3，因为目标主机是相对host3而言的）。另一个例子是通过host3的端口转发，ssh登录host2。　　$ ssh -L 9001:host2:22 host3这时，只要ssh登录本机的9001端口，就相当于登录host2了。　　$ ssh -p 9001 localhost上面的-p参数表示指定登录端口。十、远程端口转发既然"本地端口转发"是指绑定本地端口的转发，那么"远程端口转发"（remote forwarding）当然是指绑定远程端口的转发。还是接着看上面那个例子，host1与host2之间无法连通，必须借助host3转发。但是，特殊情况出现了，host3是一台内网机器，它可以连接外网的host1，但是反过来就不行，外网的host1连不上内网的host3。这时，"本地端口转发"就不能用了，怎么办？解决办法是，既然host3可以连host1，那么就从host3上建立与host1的SSH连接，然后在host1上使用这条连接就可以了。我们在host3执行下面的命令：　　$ ssh -R 2121:host2:21 host1R参数也是接受三个值，分别是"远程主机端口:目标主机:目标主机端口"。这条命令的意思，就是让host1监听它自己的2121端口，然后将所有数据经由host3，转发到host2的21端口。由于对于host3来说，host1是远程主机，所以这种情况就被称为"远程端口绑定"。绑定之后，我们在host1就可以连接host2了：　　$ ftp localhost:2121这里必须指出，"远程端口转发"的前提条件是，host1和host3两台主机都有sshD和ssh客户端。十一、SSH的其他参数SSH还有一些别的参数，也值得介绍。N参数，表示只连接远程主机，不打开远程shell；T参数，表示不为这个连接分配TTY。这个两个参数可以放在一起用，代表这个SSH连接只用来传数据，不执行远程操作。　　$ ssh -NT -D 8080 hostf参数，表示SSH连接成功后，转入后台运行。这样一来，你就可以在不中断SSH连接的情况下，在本地shell中执行其他操作。　　$ ssh -f -D 8080 host要关闭这个后台连接，就只有用kill命令去杀掉进程。十二、参考文献　　* SSH, The Secure Shell: The Definitive Guide: 2.4. Authentication by Cryptographic Key, O'reilly　　* SSH, The Secure Shell: The Definitive Guide: 9.2. Port Forwarding, O'reilly　　* Shebang: Tips for Remote Unix Work (SSH, screen, and VNC) 　　* brihatch: SSH Host Key Protection　　* brihatch: SSH User Identities　　* IBM developerWorks: 实战 SSH 端口转发　　* Jianing YANG：ssh隧道技术简介　　* WikiBooks: Internet Technologies/SSH　　* Buddhika Chamith: SSH Tunneling Explained（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2011年12月23日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（43条）                                                                                                    Time 说：                                                        讲解的非常清晰!                           2011年12月23日 21:40 | # | 引用                                                                                                                autoxbc 说：                                                        "远程端口转发"的前提条件是，host1和host3两台主机都有sshD和ssh客户端。----------------这一句不理解，我的理解是本地转发和远端转发仅仅是建立 ssh 的方向不一样，都是只建立一重 ssh 连接，远端转发并不需要多一次 ssh。                           2011年12月23日 23:15 | # | 引用                                                                                                                monos 说：                                                        当然，ssh还有一个非常重要的用处，就是X11转发。有了它，先终端登录上去，ssh -X user@host，然后就可以在本地执行host上的GUI程序，最为关键的是这些是处于本地窗口管理器(Window Manager)管理。这一场景对于经常在内网登录工作站进行CAD的用户而言，相当常见。                           2011年12月24日 10:51 | # | 引用                                                                                                                cynic 说：                                                        引用autoxbc的发言："远程端口转发"的前提条件是，host1和host3两台主机都有sshD和ssh客户端。----------------这一句不理解，我的理解是本地转发和远端转发仅仅是建立 ssh 的方向不一样，都是只建立一重 ssh 连接，远端转发并不需要多一次 ssh。嗯，远程端口转发只需要host1有sshd服务端就好了，host3不需要                           2011年12月24日 14:51 | # | 引用                                                                                                                Zind 说：                                                        引用monos的发言：当然，ssh还有一个非常重要的用处，就是X11转发。有了它，先终端登录上去，ssh -X user@host，然后就可以在本地执行host上的GUI程序，最为关键的是这些是处于本地窗口管理器(Window Manager)管理。这一场景对于经常在内网登录工作站进行CAD的用户而言，相当常见。X11 登录与 VNC 相比，优劣如何呢？                           2011年12月24日 18:44 | # | 引用                                                                                                                陈少举 说：                                                        Hi:关于SSH，我还有一个问题，我注意到在网路拥堵或者访问目标主机繁忙或无响应的时候，本地的 SOCKS Proxy Forwarding 服务会出现阻塞的情况，必须耐心等待或者直接断开SSH连接并重新连接。我尝试设置过Linux服务器上的sshd_config文件的 MaxSessions 参数为更大的数值（比如128），但是在拥堵的情况下仍然会出现阻塞，不知道有没有什么参数可以调整一下？                           2011年12月25日 11:10 | # | 引用                                                                                                                阮一峰 说：                                                        @陈少举：这个我也不太懂，猜想是不是某个网页发出了太多TCP连接，关掉浏览器重启可能会好一点？                           2011年12月25日 12:09 | # | 引用                                                                                                                autoxbc 说：                                                        引用Zind的发言：X11 登录与 VNC 相比，优劣如何呢？VNC 是抓取图像传输，X11 是抓取绘制图像的命令传输，相同环境下X11得到的画面是无损的，并可以节约大量带宽，一种改进的压缩 X11 转发方式称为 NoMachine NX，是 Linux 下最好用的连接方式，类似的技术在 Windows 上就是 RDP。X11 的劣势似乎是远程用户和本地用户不能共享同一个 sessions，即 X11 登录会启动一个新的 session，而不是接管当前用户正在用的那个，所以不能同时操作，甚至看不到对方的操作；RDP 登录使用的是同一个 session，尽管看不到对方的操作；VNC 使用的是同一个，并且远程和本地可以同时操作。                           2011年12月25日 18:16 | # | 引用                                                                                                                Ki 说：                                                        不过，x11a速度很慢。                           2011年12月25日 21:09 | # | 引用                                                                                                                陈沙克 说：                                                        不好意思，下面这段话没读懂还是接着看上面那个例子，host1与host2之间无法连通，必须借助host3转发。但是，特殊情况出现了，host3是一台内网机器，它可以连接外网的host1，但是反过来就不行，外网的host1连不上内网的host3。这时，"本地端口转发"就不能用了，怎么办？我的理解是这样的host1  公司的台式机，在内网，host2，家里笔记本，在内网host3，公网vps，公网IP现在host2，需要访问host1，需要通过host3来中转。                           2011年12月26日 00:04 | # | 引用                                                                                                                阮一峰 说：                                                        @陈沙克：我的原意如下，没表达清楚：host1 是家用电脑，在公网host2 是公司主机（比如内部数据库）, 在内网host3 是公司办公电脑，在内网 现在，host1连不上host2，也连不上host3。但是，host3可以同时连上host1和host2，所以要通过它中转。                           2011年12月26日 23:30 | # | 引用                                                                                                                冯镇 说：                                                        请您抽空讲解一下hash文件，好像类似于数据库可以存储数据                           2011年12月28日 06:27 | # | 引用                                                                                                                basilwang 说：                                                        本地端口转发没大看明白                           2011年12月28日 07:35 | # | 引用                                                                                                                Matthew 说：                                                        如何通过SHH实现DNS请求的远程解析呢？希望可以让所有需要DNS解析的程序都能通过SSH远程解析得到结果。原因您懂得！                           2012年1月 1日 21:24 | # | 引用                                                                                                                Brooklyn 说：                                                        不动声色的介绍了ssh隧道fanqiang的原理。我的工作每天就是在各个服务器之间跳转，虽然很多命令已经熟悉，但是还是大有收获。                           2012年1月15日 13:52 | # | 引用                                                                                                                msmouse 说：                                                        -D的原理和用法仿佛并没有说清楚~                           2012年1月19日 20:52 | # | 引用                                                                                                                金晨 说：                                                        不错的文章，对于理解SSH很有帮助，待会转载到我博客去。                           2012年4月 1日 13:33 | # | 引用                                                                                                                小强 说：                                                        ssh针对ftp的端口转发貌似比较复杂，SSH The Secure Shell: The definitive guide用了整整一章节来解决各种各样的相关问题。(详见2nd, chapter 11, ftp and ssh)主要原因是ftp用21端口发控制命令，对数据传输则用其他的端口进行。建议楼主换个例子，或针对ftp的转发再做下详细的说明。                            2012年6月18日 17:10 | # | 引用                                                                                                                Evan 说：                                                        "这条命令的意思，就是让host1监听它自己的2121端口"这里应该是 "让 host3 监听它自己的 2121 端口" 吧?另外想请教一下, SSH 隧道是否能保证远端主机转发出去的数据也能加密呢? 如例子中 host3 转发到 host2 的数据.                           2013年1月22日 13:57 | # | 引用                                                                                                                Evan 说：                                                        不好意思, 第一个问题我理解了, 原文无误. 第二个问题, 还是要请教 :-)                           2013年1月22日 14:04 | # | 引用                                                                                                                指尖上的奋斗 说：                                                        写的是很用心,表示我直接看糊涂了,其实这种如果不说host1,host2,host3，举例子说内网，外网应该好理解.b不过还是这么用心的写文章!                           2013年5月 6日 20:13 | # | 引用                                                                                                                hxg 说：                                                        请问有人知道如何取消端口映射吗？                           2013年5月28日 17:23 | # | 引用                                                                                                                kangzj 说：                                                        SSH Agent也非常有意思，可以提升不少的工作效率，阮大可以讲讲                           2013年10月 8日 17:15 | # | 引用                                                                                                                kangzj 说：                                                        SSH Agent也非常有意思，可以提升不少的工作效率，阮大可以讲讲                           2013年10月 8日 17:18 | # | 引用                                                                                                                lili 说：                                                        SSH 权威指南上对端口转发的讲解很透彻，还不太懂的同学，可以去看看                           2013年11月23日 09:14 | # | 引用                                                                                                                lp 说：                                                        关于ssh我还有个问题：通过ssh可以确认通信双方的身份，可以建立一个可信的会话，但对于后面的正式会话，数据传输的安全性是如何保障的？                           2014年12月20日 01:16 | # | 引用                                                                                                                kxcf 说：                                                        引用lp的发言：关于ssh我还有个问题：通过ssh可以确认通信双方的身份，可以建立一个可信的会话，但对于后面的正式会话，数据传输的安全性是如何保障的？应该跟Https类似，初始连接时通过非对称加密技术完成双方的身份认证和分配一个双方共享的对称密钥，这个会话密钥用于后续正式会话的加密保护。                           2014年12月28日 15:03 | # | 引用                                                                                                                hui 说：                                                        A public key file has not been specified for this session.Would you like to specify one now? CRT 登录的时候提示这个怎么破？                           2015年9月11日 09:29 | # | 引用                                                                                                                teachmyself 说：                                                        非常详细，感谢阮老师；端口转发部分不太理解，能否各举一个应用场景的实例                           2015年9月21日 16:19 | # | 引用                                                                                                                wander 说：                                                        ssh -R 2121:host2:21 host1  在host1中可以127.0.0.1的2121端口可以访问，但是使用公用iP就不能这样访问！如果想要通过公网iP访问的话，那要怎么办呢？                           2015年11月16日 16:43 | # | 引用                                                                                                                zonghua 说：                                                        远程转发访问内网页面会出现重定向的情况，从外网的域名重定向访问内网的域名                           2015年11月18日 20:58 | # | 引用                                                                                                                Zeta 说：                                                        引用wander的发言：ssh -R 2121:host2:21 host1 在host1中可以127.0.0.1的2121端口可以访问，但是使用公用iP就不能这样访问！如果想要通过公网iP访问的话，那要怎么办呢？修改host1上的sshd配置文件，开启GatewayPorts yes然后ssh -g -R 2121:host2:21 host1                           2016年11月 7日 21:18 | # | 引用                                                                                                                张小张 说：                                                        非常感谢，已经使用上了，本地端口转发。                           2016年11月21日 15:45 | # | 引用                                                                                                                andrew_chen 说：                                                        引用阮一峰的发言：@陈沙克：我的原意如下，没表达清楚：host1 是家用电脑，在公网host2 是公司主机（比如内部数据库）, 在内网host3 是公司办公电脑，在内网 现在，host1连不上host2，也连不上host3。但是，host3可以同时连上host1和host2，所以要通过它中转。host1连不上host3，怎么还可以用这条ssh命令呢？不理解啊提示ssh: connect to host h3 port 6789: Connection timed out                           2017年2月 7日 16:16 | # | 引用                                                                                                                markx 说：                                                        引用andrew_chen的发言：host1连不上host3，怎么还可以用这条ssh命令呢？不理解啊提示ssh: connect to host h3 port 6789: Connection timed outhost1连不上host3, 但是反过来host3可以连接host1。                           2017年5月10日 02:56 | # | 引用                                                                                                                markx 说：                                                        个人觉得远程端口转发的例子不是太实用，可能是因为年代的关系。现在更普遍的情况应该是两台都在内网的机器不能互联，需要通过一台公网机器(例如vps)来搭桥。                           2017年5月10日 02:59 | # | 引用                                                                                                                Sh 说：                                                        ssh 代理能转发本机低位端口到高位端口么                           2017年10月28日 14:10 | # | 引用                                                                                                                gitgitme 说：                                                        多少年过去了。这依然是经典。                           2018年3月25日 23:20 | # | 引用                                                                                                                gitgitme 说：                                                        引用Sh的发言：ssh 代理能转发本机低位端口到高位端口么ssh -L 80:localhost:8080 localhost.   自己体验下                           2018年3月25日 23:23 | # | 引用                                                                                                                hongdouzi555 说：                                                        发现新大陆了，简明易懂，非常好的资料。发现还有这么有趣的玩法。                           2018年4月12日 11:01 | # | 引用                                                                                                                wonder 说：                                                        引用wander的发言：ssh -R 2121:host2:21 host1在host1中可以127.0.0.1的2121端口可以访问，但是使用公用iP就不能这样访问！如果想要通过公网iP访问的话，那要怎么办呢？ssh -R 0.0.0.0:2121:host2:21 host1                           2019年7月 9日 11:43 | # | 引用                                                                                                                马丁 说：                                                        引用阮一峰的发言：@陈沙克：我的原意如下，没表达清楚：host1 是家用电脑，在公网host2 是公司主机（比如内部数据库）, 在内网host3 是公司办公电脑，在内网 现在，host1连不上host2，也连不上host3。但是，host3可以同时连上host1和host2，所以要通过它中转。所以命令是在host3上敲的对吧                           2024年2月26日 16:49 | # | 引用                                                                                                                Fee 说：                                                        简明易懂！真的很棒！                           2024年6月 7日 09:43 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9d07fd97cf45',t:'MTc0MzI0MzQwMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/12/ssh_port_forwarding.html
最常见的电话号码 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    最常见的电话号码 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：《巨流河》书摘&nbsp;&nbsp;&nbsp;&nbsp;下一篇：HTTPS的七个误解（                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              最常见的电话号码                                                                                    作者： 阮一峰                                    日期： 2011年2月10日                                                                                                                                            网上有许多电话号码，你知道最常见的是哪个？                                                                                                                有个老外找到了答案，这个号码就是2147483647。事情是这样的，我们知道，在计算机中，整数往往用4个字节保存。4个字节就是32位，由于最高位是符号位，那么只剩下31位，也就是说，这种方式所能保存的最大整数是2的31次方-1（因为要去掉零），即2147483647。这个老外突然意识到，这是一个10位数，与美国电话号码的位数相同。于是，他就很好奇，214-748-3647会是谁的号码呢？214是美国达拉斯市的区号，但是搜索后发现，超过1500个网站上有这个号码，遍布全美各地。为什么会这样？很显然，大量程序员考虑不周，使用4个字节的整数保存电话号码。当用户输入的号码大于2147483647时，就会自动转成这个数字。因此，它就成了网上最常见的电话号码。===================================我一时兴起，想看看国内有没有人犯这个错误。事实证明，真的是有一大把。因为我国的长途区号没有0214，所以这个号码只能是在上海（区号021）。一想到他会接到各种各样的来电，要求提供租车服务、租房服务、美容服务、餐饮服务、耐磨材料等等，我就对021-47483647的主人充满同情。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2011年2月10日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（34条）                                                                                                    jalan 说：                                                        haha, this is funny.                            2011年2月10日 03:59 | # | 引用                                                                                                                CAT MOSS 说：                                                        不是程序员不明白吧。                           2011年2月10日 07:42 | # | 引用                                                                                                                野草博客 说：                                                        那个号码真的存在吗？汗一个～                           2011年2月10日 08:59 | # | 引用                                                                                                                xiaket 说：                                                        这篇很漂亮~~  :)                           2011年2月10日 09:11 | # | 引用                                                                                                                Tydus 说：                                                        确实，第一眼就发现是这数= =（程序猿无鸭梨滚过                           2011年2月10日 09:14 | # | 引用                                                                                                                必填 说：                                                        第一张配图是有人修改游戏的结果吧？                           2011年2月10日 09:32 | # | 引用                                                                                                                bush 说：                                                        可憐的程序員，這個和千年蟲如出一轍                           2011年2月10日 09:38 | # | 引用                                                                                                                日月山人 说：                                                         不用同情，这个电话是打不通的，上海没有这个电话段的号码                           2011年2月10日 12:55 | # | 引用                                                                                                                61 说：                                                        上海电话没有以4开头的一般是以5和6开头，所以对不起，您所拨打的电话是空号。                           2011年2月10日 13:19 | # | 引用                                                                                                                gsid 说：                                                        宋丹丹说，“囧死我了”。。                           2011年2月10日 14:49 | # | 引用                                                                                                                macafee 说：                                                        引用61的发言：上海电话没有以4开头的一般是以5和6开头，所以对不起，您所拨打的电话是空号。上海有4开头的号码的。                           2011年2月10日 16:18 | # | 引用                                                                                                                Gabri 说：                                                        这个问题（文章）很有趣                           2011年2月10日 17:07 | # | 引用                                                                                                                moqi 说：                                                        搜索结果不到20条，也能叫“一大把”？                           2011年2月10日 19:01 | # | 引用                                                                                                                ssddi456 说：                                                        2147483647 使用google得到140，000，000条结果21 47483647 使用google得到11,200条结果021 47483647 使用google得到61条结果214-748-3647 使用google得到25,200 条结果当然这些结果是从http://www.google.com.hk上得到的。使用百度的话结果当然会少很多。                           2011年2月10日 19:36 | # | 引用                                                                                                                sos 说：                                                        那我有一个疑问。就像TXT里面数字都是一个个独立的字符来存储的为什么不以整数来存储？然后是游戏存档里的数值也是按整数来存储还是按TXT的方式呢？                           2011年2月11日 01:56 | # | 引用                                                                                                                游客 说：                                                        似乎是胡说八道呢！如果是用带符号整数保存，那么当用户输入的号码大于2147483647时，就会是负数！如果是用无符号整数保存，那么最大值是42,9496,7295(2……32-1)。                           2011年2月11日 09:34 | # | 引用                                                                                                                腾原 说：                                                        道理是讲清楚了，但是我还是不够明白。可能是外行的缘故。最重要的是，如果我有类似的需要时，怎么操作，才能得到有效的结果呢？换句话说，我如何避免这个错误及其带来的麻烦？                           2011年2月12日 09:43 | # | 引用                                                                                                                腾原 说：                                                        一峰兄：我如果有这种操作的需要，该怎么避免类似错误和可能的麻烦呢？                           2011年2月12日 10:31 | # | 引用                                                                                                                GlaDOS 说：                                                        能否在Blog页面加上一个返回主页的链接？有时从Google搜索点进Blog后又想看看Tweets和What I read，如果能加一个链接的话可以方便很多。                           2011年2月12日 15:05 | # | 引用                                                                                                                wadefelix 说：                                                        引用游客的发言：似乎是胡说八道呢！如果是用带符号整数保存，那么当用户输入的号码大于2147483647时，就会是负数！如果是用无符号整数保存，那么最大值是42,9496,7295(2……32-1)。看来这个电话号码是java程序员的杰作                           2011年2月12日 19:05 | # | 引用                                                                                                                randyn 说：                                                        拨打了下，这个号码应该不存在...我想中国的程序员不会用一个整形来处理一个电话号码，不然区号大点的区号就无法处理了                           2011年2月14日 11:50 | # | 引用                                                                                                                hemon 说：                                                        我用bigint，存手机号码就会发现int不够用                           2011年2月15日 11:05 | # | 引用                                                                                                                Snow 说：                                                        引用wadefelix的发言：看来这个电话号码是java程序员的杰作Java中不存在有无符号一说，所以都看作是有符号的                           2011年2月15日 15:41 | # | 引用                                                                                                                Timesand 说：                                                        这篇文章不仅有趣，更反映了阮兄睿智的大脑和深刻的洞察力。该去炒股票啊！                           2011年2月15日 22:41 | # | 引用                                                                                                                刘金雨 说：                                                        “当用户输入的号码大于2147483647时，就会自动转成这个数字。” 感觉这句话里面的“自动转成”其实蛮有意思的，什么系统会在整数溢出的时候将非符号位“自动转成”全1的值呢？百思不得其解，可惜此处一笔带过了                           2011年2月16日 14:21 | # | 引用                                                                                                                badants 说：                                                        你拨打的电话是空号！呵呵，这号码没人敢用啊。                           2011年2月16日 19:27 | # | 引用                                                                                                                十圆机选郎... 说：                                                        我拿这号去买七星彩,中了500万大奖的话分软哥10万...                           2011年4月11日 04:25 | # | 引用                                                                                                                boatman 说：                                                        2,147,483,647（二十一亿四千七百四十八万三千六百四十七）是2147483646与2147483648之间的自然数，也是欧拉在1772年所发现的一个梅森素数，它等于231－1，是32位元操作系统中最大的符号型整型常量，例如在Pascal语言中长整型的范围是-2147483648~2147483647。它是4个已知的双重梅森素数的其中一个。                           2011年12月15日 21:25 | # | 引用                                                                                                                csj 说：                                                        最后一句话，够闷骚。                           2011年12月27日 14:47 | # | 引用                                                                                                                mengzhuo 说：                                                        这个值就拿来做边界值了                           2012年10月25日 11:15 | # | 引用                                                                                                                skystar 说：                                                        引用macafee的发言：上海有4开头的号码的。有吗？上海住了那么多年，从来没见过4开头的号码                           2013年3月13日 13:56 | # | 引用                                                                                                                idear 说：                                                        刚拔了,空号!                           2013年8月17日 22:01 | # | 引用                                                                                                                Huaxing Zheng 说：                                                        我以为是110                           2017年1月31日 10:13 | # | 引用                                                                                                                imhuster 说：                                                        this condition happened in some database，MySQL for example.                            2017年3月28日 17:09 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9aeac8facf45',t:'MTc0MzI0MzMxNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/02/the_most_common_phone_number.html
HTTPS的七个误解（译文） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    HTTPS的七个误解（译文） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：最常见的电话号码&nbsp;&nbsp;&nbsp;下一篇：孙中山的三种革命&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    开发者手册                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              HTTPS的七个误解（译文）                                                                                    作者： 阮一峰                                    日期： 2011年2月13日                                                                                                                                            开发网页的时候，往往需要观察HTTP通信。                                                                                                                我使用的工具主要有两个，在Firefox中是Firebug，在IE中是Fiddler。但是，一直听别人说，付费软件HttpWatch是这方面最好的工具。前几天，HttpWatch的官方网志刊登了一篇好文章，澄清了一些HTTPS协议容易产生误解的地方。学习之后，我增长了不少网页加密通信的知识。我觉得这篇文章很实用，值得留作参考，就翻译了出来。==============================================HTTPS的七个误解原文网址：http://blog.httpwatch.com/2011/01/28/top-7-myths-about-https/译者：阮一峰误解七：HTTPS无法缓存许多人以为，出于安全考虑，浏览器不会在本地保存HTTPS缓存。实际上，只要在HTTP头中使用特定命令，HTTPS是可以缓存的。微软的IE项目经理Eric Lawrence写道："说来也许令人震惊，只要HTTP头允许这样做，所有版本的IE都缓存HTTPS内容。比如，如果头命令是Cache-Control: max-age=600，那么这个网页就将被IE缓存10分钟。IE的缓存策略，与是否使用HTTPS协议无关。（其他浏览器在这方面的行为不一致，取决于你使用的版本，所以这里不加以讨论。）"Firefox默认只在内存中缓存HTTPS。但是，只要头命令中有Cache-Control: Public，缓存就会被写到硬盘上。下面的图片显示，Firefox的硬盘缓存中有HTTPS内容，头命令正是Cache-Control:Public。误解六：SSL证书很贵如果你在网上搜一下，就会发现很多便宜的SSL证书，大概10美元一年，这和一个.com域名的年费差不多。而且事实上，还能找到免费的SSL证书。在效力上，便宜的证书当然会比大机构颁发的证书差一点，但是几乎所有的主流浏览器都接受这些证书。误解五：HTTPS站点必须有独享的IP地址由于IPv4将要分配完毕，所以很多人关心这个问题。每个IP地址只能安装一张SSL证书，这是毫无疑问的。但是，如果你使用子域名通配符SSL证书（wildcard SSL certificate，价格大约是每年125美元），就能在一个IP地址上部署多个HTTPS子域名。比如，https://www.httpwatch.com和https://store.httpwatch.com，就共享同一个IP地址。另外，UCC（统一通信证书，Unified Communications Certificate）支持一张证书同时匹配多个站点，可以是完全不同的域名。SNI（服务器名称指示，Server Name Indication）允许一个IP地址上多个域名安装多张证书。服务器端，Apache和Nginx支持该技术，IIS不支持；客户端，IE 7+、Firefox 2.0+、Chrome 6+、Safari 2.1+和Opera 8.0+支持。误解四：转移服务器时要购买新证书部署SSL证书，需要这样几步：　　1. 在你的服务器上，生成一个CSR文件（SSL证书请求文件，SSL Certificate Signing Request）。　　2. 使用CSR文件，购买SSL证书。　　3. 安装SSL证书。这些步骤都经过精心设计，保证传输的安全，防止有人截取或非法获得证书。结果就是，你在第二步得到的证书不能用在另一台服务器上。如果你需要这样做，就必须以其他格式输出证书。比如，IIS的做法是生成一个可以转移的.pfx文件，并加以密码保护。将这个文件传入其他服务器，将可以继续使用原来的SSL证书了。误解三：HTTPS太慢使用HTTPS不会使你的网站变得更快（实际上有可能，请看下文），但是有一些技巧可以大大减少额外开销。首先，只要压缩文本内容，就会降低解码耗用的CPU资源。不过，对于当代CPU来说，这点开销不值一提。其次，建立HTTPS连接，要求额外的TCP往返，因此会新增一些发送和接收的字节。但是，从下图可以看到，新增的字节是很少的。第一次打开网页的时候，HTTPS协议会比HTTP协议慢一点，这是因为读取和验证SSL证书的时间。下面是一张HTTP网页打开时间的瀑布图。同一张网页使用HTTPS协议之后，打开时间变长了。建立连接的部分，大约慢了10%。但是，一旦有效的HTTPS连接建立起来，再刷新网页，两种协议几乎没有区别。先是HTTP协议的刷新表现：然后是HTTPS协议：某些用户可能发现，HTTPS比HTTP更快一点。这会发生在一些大公司的内部局域网，因为通常情况下，公司的网关会截取并分析所有的网络通信。但是，当它遇到HTTPS连接时，它就只能直接放行，因为HTTPS无法被解读。正是因为少了这个解读的过程，所以HTTPS变得比较快。误解二：有了HTTPS，Cookie和查询字符串就安全了虽然无法直接从HTTPS数据中读取Cookie和查询字符串，但是你仍然需要使它们的值变得难以预测。比如，曾经有一家英国银行，直接使用顺序排列的数值表示session id:黑客可以先注册一个账户，找到这个cookie，看到这个值的表示方法。然后，改动cookie，从而劫持其他人的session id。至于查询字符串，也可以通过类似方式泄漏。误解一：只有注册登录页，才需要HTTPS这种想法很普遍。人们觉得，HTTPS可以保护用户的密码，此外就不需要了。Firefox浏览器新插件Firesheep，证明了这种想法是错的。我们可以看到，在Twitter和Facebook上，劫持其他人的session是非常容易的。咖啡馆的免费WiFi，就是一个很理想的劫持环境，因为两个原因：　　1. 这种WiFi通常不会加密，所以很容易监控所有流量。　　2. WiFi通常使用NAT进行外网和内网的地址转换，所有内网客户端都共享一个外网地址。这意味着，被劫持的session，看上去很像来自原来的登录者。以Twitter为例，它的登录页使用了HTTPS，但是登录以后，其他页面就变成了HTTP。这时，它的cookie里的session值就暴露了。也就是说，这些cookie是在HTTPS环境下建立的，但是却在HTTP环境下传输。如果有人劫持到这些cookie，那他就能以你的身份在Twitter上发言了。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2011年2月13日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.03.03: Trae 国内版出来了，真的好用吗？                                                         年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。                            2025.01.16: AI 搞定微信小程序                                                         一、前言AI 生成代码，早不是新鲜事了，但是 AI 生成微信小程序，似乎还不多见。                            2024.12.02: AI 应用无代码开发教程：工作流模式详解                                                         一、引言一个月前，我写了一篇《AI 开发的捷径：工作流模式》，引起了很多读者的兴趣。                            2024.10.31: AI 开发的捷径：工作流模式                                                         一、引言大部分人使用 AI，大概都跟我一样，停留在初级阶段。                            广告（购买广告位）云手机                                                              留言（44条）                                                                                                    IVAN 说：                                                        这么晚还更新，留个脚印，虽然不太懂                           2011年2月13日 21:55 | # | 引用                                                                                                                笔端 说：                                                        “在Twitter和Facebook上，劫持其他人的session是非常容易的..”“它的cookie里的session值”//这几处的session我觉得要翻译成“会话”比较合适，理由：1.这里的session有“会话的”意思；2.session在Web编程领域有另外一个意义，就是和cookie对应的，但存储在服务器端来保存用户的会话信息（cookie存在客户端），也就是说Web编程特指的“session”，用户是无法在客户端看到的，但是译文保留了这个词，没有翻译成“会话”，容易让联系到Web编程的“session”，引起歧义。                           2011年2月13日 22:35 | # | 引用                                                                                                                Jasonwu 说：                                                        不错的文章，让我对HTTPS又有了新的一些认识，不过一直有个疑问，用https的谷歌搜索一些敏感词的时候，还是会出现被重置的现象，我一直在思考，既然数据经过了加密，那GFW应该是没法过滤的，但为什么会被重置？                           2011年2月13日 23:10 | # | 引用                                                                                                                Peter Cui 说：                                                        引用Jasonwu的发言：用https的谷歌搜索一些敏感词的时候，还是会出现被重置的现象，我一直在思考，既然数据经过了加密，那GFW应该是没法过滤的，但为什么会被重置？URL加密不了。                           2011年2月13日 23:35 | # | 引用                                                                                                                三桂 说：                                                        又有新的认识,谢谢                           2011年2月14日 00:56 | # | 引用                                                                                                                hourglass 说：                                                        黑客可以先注册一个账户，找到这个cookie，看到这个值的表示方法。然后，改动cookie，从而劫持其他人的session id。至于查询字符串，也可以通过类似方式泄漏。我无聊的时候喜欢看一些discuz!论坛的search query，也是一样的办法~                           2011年2月14日 09:19 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用Jasonwu的发言：既然数据经过了加密，那GFW应该是没法过滤的，但为什么会被重置？我感觉，这是因为特定屏蔽某些SSL证书。引用笔端的发言：2.session在Web编程领域有另外一个意义，就是和cookie对应的，但存储在服务器端来保存用户的会话信息（cookie存在客户端），也就是说Web编程特指的“session”，用户是无法在客户端看到的，但是译文保留了这个词，没有翻译成“会话”，容易让联系到Web编程的“session”，引起歧义。session也要靠cookie实现的。                           2011年2月14日 09:30 | # | 引用                                                                                                                Joshua 说：                                                        想问一下为什么最近我用ssh上https的twitter不行呢，http没问题                           2011年2月14日 09:53 | # | 引用                                                                                                                Bingo 说：                                                        引用Peter Cui的发言：URL加密不了。URL可以加密，因为请求URL本身就存储于HTTP协议包中，请求的服务器IP是没办法隐藏的。另外https的端口默认都是443。所以GFW只要屏蔽google指定ip的443端口就可以了。                           2011年2月14日 10:55 | # | 引用                                                                                                                Lewis 说：                                                        HttpWatch 不一定是最好的，我知道的 Http Analyzer 是一个独立的程序，可以监听任意进程的 HTTP 请求，任意端口，比 Http Watch 灵活多了。Http Analyzer 使用 Dephi 开发，但其后续版本好像有问题，我只使用 3.3.2.168 版本（Crack后的）。另外，开源的 Wireshark 也不错，只是需要安装 Http 插件才能更好地监听 Http 请求。                           2011年2月14日 11:29 | # | 引用                                                                                                                muxueqz 说：                                                        学习了，理清很多以前不理解的知识                           2011年2月14日 16:27 | # | 引用                                                                                                                ssdt 说：                                                        引用Peter Cui的发言：URL加密不了。屏蔽https请求的地址即可，不管你什么内容全部屏蔽比如google group https就被封了埃及把网断了（当然他是物理断开，用路由器在出口网关把所有加密地址列入黑名单，管你什么请求都可以屏蔽）                           2011年2月15日 01:38 | # | 引用                                                                                                                yegle 说：                                                        引用Peter Cui的发言：URL加密不了。这是最基本的要求，当然是能加密URL的                           2011年2月15日 13:27 | # | 引用                                                                                                                肖俊 说：                                                        我对这方面了解很少，对网站安全也了解不多，我的博客是用的ZBLOG博客系统，每次都没人找到漏洞黑了，很囧啊。                           2011年2月16日 11:50 | # | 引用                                                                                                                vvvvvv 说：                                                        有点意思，httpwatch值得一试！！                           2011年2月18日 12:04 | # | 引用                                                                                                                CLE 说：                                                        引用Peter Cui的发言：URL加密不了。还需要你自定义Hosts里的IP指向，功夫网现在会自动屏蔽谷歌的HTTPS链接，会导向错误的IP，这样即使加密也无法访问真正的谷歌搜索。你可以搜索一下 谷歌SSL重置                           2011年2月19日 23:34 | # | 引用                                                                                                                吴鹏(AlphaWu) 说：                                                        startssl.com的免费证书用着也不错,我用了1年多了，当然每次只能用1年，然后再重新申请就可以了。                           2011年2月21日 21:59 | # | 引用                                                                                                                yaker 说：                                                        引用Peter Cui的发言：URL加密不了。https里url是加密的。我倒是很好奇gfw是怎么封禁特定证书的                           2011年2月24日 02:35 | # | 引用                                                                                                                shalongbus 说：                                                        引用yaker的发言：https里url是加密的。我倒是很好奇gfw是怎么封禁特定证书的GFW手里应该有Google证书的私钥                           2011年3月11日 08:27 | # | 引用                                                                                                                南 靖男 说：                                                        引用shalongbus的发言：GFW手里应该有Google证书的私钥肯定没，否则这个SSL证书体系都要做更改。上面很多人已经说了，直接简单干掉443和IP而已。                           2011年3月12日 22:42 | # | 引用                                                                                                                唏嘘一世 说：                                                        我这里访问google的账户设置，经常是无法打开，也不提示连接重置，也不提示连接超时，只是一直加载，但什么都不显示。很奇怪，是不是https在天朝无法使用？                           2011年3月13日 19:51 | # | 引用                                                                                                                Vaporz 说：                                                        读您的文章很舒服，连“搜一下”和“免费”这样的词都有超链接，说明您是站在了读者的角度在考虑，今天在亚马逊上买了您的《黑客与画家》，刚刚到手，正准备好好读一读，您的翻译一定差不了！获得知识的同时，就当是对您的一种支持~~                           2012年5月11日 21:32 | # | 引用                                                                                                                北极 说：                                                        最好的工具必然是wireshark                           2012年7月 2日 15:46 | # | 引用                                                                                                                mrwind 说：                                                        引用Joshua的发言：想问一下为什么最近我用ssh上https的twitter不行呢，http没问题如果这个SSH代理是别人的，有可能你遭到中间人攻击，https被强制用http代替。参见http://netsecurity.51cto.com/art/201211/365437.htm                           2013年2月 2日 07:37 | # | 引用                                                                                                                rideordie 说：                                                        请问，如果父域名用了SSL，那么子域名也会走https吗？具体环境：nginx，一个ip，其中两个端口走两个web app，两个端口都有SSL证书。www.abc.com - x.x.x.x:443	www.kk.abc.com - x.x.x.x:9000www.def.com - x.x.x.x:8080这样可行吗                           2013年2月 5日 23:17 | # | 引用                                                                                                                camelwoo 说：                                                        我怎么觉得证书是对域名的，不是针对IP的呢。因为在申请证书时并没有IP相关的信息，只有域名。                           2013年3月22日 11:29 | # | 引用                                                                                                                xx 说：                                                        引用shalongbus的发言：GFW手里应该有Google证书的私钥有Google私钥？呵呵 怎么可能                           2013年5月10日 16:53 | # | 引用                                                                                                                techon 说：                                                        不错，学习一下，另外推荐一篇翻译文章HTTPS连接最初的若干毫秒http://www.infoq.com/cn/articles/HTTPS-Connection-Jeff-Moser                           2013年5月12日 00:52 | # | 引用                                                                                                                Nestle Caau 说：                                                        我想问,如果我打开了一个http网址,需要填登录帐号密码,然后将这个帐号密码发送到指定的https,请问这样的请求安全吗?如果调转,也安全吗?                           2013年7月30日 14:54 | # | 引用                                                                                                                滿月 说：                                                        引用笔端的发言：“在Twitter和Facebook上，劫持其他人的session是非常容易的..”“它的cookie里的session值”//这几处的session我觉得要翻译成“会话”比较合适，理由：1.这里的session有“会话的”意思；2.session在Web编程领域有另外一个意义，就是和cookie对应的，但存储在服务器端来保存用户的会话信息（cookie存在客户端），也就是说Web编程特指的“session”，用户是无法在客户端看到的，但是译文保留了这个词，没有翻译成“会话”，容易让联系到Web编程的“session”，引起歧义。我比較在意的是SESSION算法原本就是在瀏覽器的httponly級別添加一個難以偽造的字串作為會話的標識，以解決HTTP只能面向請求響應的問題。所以上文說的SESSION不安全，一個是因為會話標識符未使用對應算法生成造成的，另一個倒是使用HTTP作傳輸時會被監聽到數據，從而從HEADER中找出會話標識符。個人不太懂網路概念，這種情況一般是出現在最近一層GATEWAY被劫持的情況下才會發現麼？還是說只有在一個VLAN裏就可以隨意支持其他機器的GATEWAY目的地？                           2013年8月18日 07:47 | # | 引用                                                                                                                1 说：                                                        5555555555555555                           2013年10月 8日 10:51 | # | 引用                                                                                                                米饭 说：                                                        为什么我找了一下午没有找到一个免费或偏便宜的SSL 证书，国内代理的更是高的离谱，大大能不能推荐个                           2013年10月14日 20:52 | # | 引用                                                                                                                chaogu 说：                                                        一般证书都是绑定域名的，很少绑定IP。                           2013年11月 6日 00:16 | # | 引用                                                                                                                joker 说：                                                        想知道https中cookie是如何表示的，找到了这篇文章，受益不少                           2013年12月24日 16:52 | # | 引用                                                                                                                哈哈 说：                                                        我们掌握着量子计算机。别说是2048位的密钥，就是2048^2048位的密钥，也不过是只消耗我们0.000001秒的时间就解开了，所以呢，我们不需要掌握google的私钥。哈哈。                           2014年2月21日 18:28 | # | 引用                                                                                                                xx 说：                                                        GFW 能截断 HTTPS 连接是因为，建立 HTTPS 连接的第一步是请求 Google 发证书过来：发一个 HTTP 数据包到 Google 的 IP 地址，里面写着 443 端口，方滨兴一看，封。                           2014年6月16日 02:45 | # | 引用                                                                                                                紫金山下 说：                                                        有没有办法在服务器上将https请求直接重定向为http，不进行SSL协商？                           2014年11月 7日 17:29 | # | 引用                                                                                                                zhangdong 说：                                                        看评论有人提到黑客与画家，几年前看过，特意又打开看了下，翻译者真的是博主大神！最近关于https的知识又读了博主的好几篇文章，是大神啊，收藏了！                           2016年8月26日 16:49 | # | 引用                                                                                                                wei 说：                                                        最后一条不错，之前没有意识到                           2016年10月 9日 02:11 | # | 引用                                                                                                                欣欣 说：                                                        来看博主旧文                           2017年6月11日 01:53 | # | 引用                                                                                                                ｓｗａｎｇ 说：                                                        已经成功在　一个ｉｐ地址上　安装四个　证书，　关键是绑定端口的问题　有的　证书提供商　允许绑定端口                           2017年10月25日 12:31 | # | 引用                                                                                                                G 说：                                                        误解五：  "每个IP地址只能安装一张SSL证书，这是毫无疑问的。"sni是什么?                           2018年4月20日 08:53 | # | 引用                                                                                                                zhiwenxuan 说：                                                        误解六，“在效力上，便宜的证书当然会比大机构颁发的证书差一点”中的“效力”应该是打错了吧？正确应该是“效率”？                           2018年11月23日 11:42 | # | 引用                                                                                                                minyang 说：                                                        我想知道，怎么用客户端或者说js来让浏览器生成CSR已经需要匹配的Key????                           2019年7月 3日 20:44 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9b2ada57cf45',t:'MTc0MzI0MzMyNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/02/seven_myths_about_https.html
快速排序（Quicksort）的Javascript实现 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    快速排序（Quicksort）的Javascript实现 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：MP3是如何颠覆音乐行下一篇：一个被拆迁者的日记&nbsp;&nbsp;                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              快速排序（Quicksort）的Javascript实现                                                                                    作者： 阮一峰                                    日期： 2011年4月 4日                                                                                                                                            日本程序员norahiko，写了一个排序算法的动画演示，非常有趣。                                                                                                                这个周末，我就用它当做教材，好好学习了一下各种排序算法。排序算法（Sorting algorithm）是计算机科学最古老、最基本的课题之一。要想成为合格的程序员，就必须理解和掌握各种排序算法。目前，最常见的排序算法大概有七八种，其中"快速排序"（Quicksort）使用得最广泛，速度也较快。它是图灵奖得主C. A. R. Hoare（1934--）于1960时提出来的。"快速排序"的思想很简单，整个排序过程只需要三步：　　（1）在数据集之中，选择一个元素作为"基准"（pivot）。　　（2）所有小于"基准"的元素，都移到"基准"的左边；所有大于"基准"的元素，都移到"基准"的右边。　　（3）对"基准"左边和右边的两个子集，不断重复第一步和第二步，直到所有子集只剩下一个元素为止。举例来说，现在有一个数据集{85, 24, 63, 45, 17, 31, 96, 50}，怎么对其排序呢？第一步，选择中间的元素45作为"基准"。（基准值可以任意选择，但是选择中间的值比较容易理解。）第二步，按照顺序，将每个元素与"基准"进行比较，形成两个子集，一个"小于45"，另一个"大于等于45"。第三步，对两个子集不断重复第一步和第二步，直到所有子集只剩下一个元素为止。下面参照网上的资料（这里和这里），用Javascript语言实现上面的算法。首先，定义一个quickSort函数，它的参数是一个数组。var quickSort = function(arr) {};然后，检查数组的元素个数，如果小于等于1，就返回。var quickSort = function(arr) {　　if (arr.length &lt;= 1) { return arr; }};接着，选择"基准"（pivot），并将其与原数组分离，再定义两个空数组，用来存放一左一右的两个子集。var quickSort = function(arr) {　　if (arr.length &lt;= 1) { return arr; }　　var pivotIndex = Math.floor(arr.length / 2) ;　　var pivot = arr.splice(pivotIndex, 1)[0];　　var left = [];　　var right = [];};然后，开始遍历数组，小于"基准"的元素放入左边的子集，大于基准的元素放入右边的子集。var quickSort = function(arr) {　　if (arr.length &lt;= 1) { return arr; }　　var pivotIndex = Math.floor(arr.length / 2) ;　　var pivot = arr.splice(pivotIndex, 1)[0];　　var left = [];　　var right = [];　　for (var i = 0; i &lt; arr.length; i++){　　　　if (arr[i] &lt; pivot)  {　　　　　　left.push(arr[i]);　　　　} else {　　　　　　right.push(arr[i]);　　　　}　　}};最后，使用递归不断重复这个过程，就可以得到排序后的数组。var quickSort = function(arr) {　　if (arr.length &lt;= 1) { return arr; }　　var pivotIndex = Math.floor(arr.length / 2);　　var pivot = arr.splice(pivotIndex, 1)[0];　　var left = [];　　var right = [];　　for (var i = 0; i &lt; arr.length; i++){　　　　if (arr[i] &lt; pivot)  {　　　　　　left.push(arr[i]);　　　　} else {　　　　　　right.push(arr[i]);　　　　}　　}　　return quickSort(left).concat([pivot], quickSort(right));};使用的时候，直接调用quickSort()就行了。 （完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2011年4月 4日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（105条）                                                                                                    Fleeting Years 说：                                                        好东西！谢谢！                           2011年4月 4日 21:51 | # | 引用                                                                                                                BlueDream 说：                                                        通俗易懂                           2011年4月 4日 22:16 | # | 引用                                                                                                                wordgold 说：                                                        取数组中间值的时候为什么不直接取而要Splice，如果是为了后续循环好像没必要                           2011年4月 4日 22:19 | # | 引用                                                                                                                limon 说：                                                        why I love python:q_sort= lambda l: l if len(l)&lt;=1 else q_sort([x for x in l[1:] if x&lt;l[0]])+[l[0]]+q_sort([x for x in l[1:] if x&lt;=l[0]])                           2011年4月 4日 22:20 | # | 引用                                                                                                                chenge 说：                                                        相当好，感谢分享！                           2011年4月 5日 07:45 | # | 引用                                                                                                                reader 说：                                                        In Haskellquicksort :: (Ord a) => [a] -> [a]  quicksort [] = []  quicksort (x:xs) =   　　let smallerSorted = quicksort [a | a &lt;- xs, a &lt;= x]　　　　biggerSorted = quicksort [a | a &lt;- xs, a &gt; x]  　　in  smallerSorted ++ [x] ++ biggerSorted见 Learn You a Haskell for Great Good! 一书                           2011年4月 5日 08:31 | # | 引用                                                                                                                AnLuoRidge 说：                                                        引用reader的发言：In Haskell见 Learn You a Haskell for Great Good! 一书函数式编程的确够简洁                           2011年4月 5日 15:58 | # | 引用                                                                                                                tumutanzi 说：                                                        这个太专业了吧，看不懂~~不过阮兄还是辛苦了。                           2011年4月 5日 20:27 | # | 引用                                                                                                                Richard Lee 说：                                                        大于"基准"的元素放入左边的子集，小于基准的元素放入右边的子集。反了，应该是：小于"基准"的元素放入左边的子集，大于基准的元素放入右边的子集。                           2011年4月 6日 01:58 | # | 引用                                                                                                                wells.tang 说：                                                        引用wordgold的发言：取数组中间值的时候为什么不直接取而要Splice，如果是为了后续循环好像没必要有道理。                           2011年4月 6日 11:11 | # | 引用                                                                                                                阮一峰 说：                                                        @Richard Lee：谢谢提醒，确实写错了，已更正。@wordgold：想了一下，你说得对，没必要splice，只要在遍历数组的时候，只要跳过“基准”元素就行了，这样代码也更易读。谢谢。                           2011年4月 6日 11:20 | # | 引用                                                                                                                wiki 说：                                                        赞，快速排序是递归的经典应用                           2011年4月 6日 14:25 | # | 引用                                                                                                                Ted 说：                                                        In Erlang:　　qsort([]) -&gt;> [];　　qsort([Pivot|T])-&gt;　　　　qsort([X || X &lt;- T, X &lt; Pivot])　　　　++[Pivot]++　　　　qsort([X || X &lt;- T, X &gt; Pivot]).                           2011年4月 6日 17:28 | # | 引用                                                                                                                gg 说：                                                        可以写得列简洁些的,此类题其实初中生都能看懂.                           2011年4月 7日 16:50 | # | 引用                                                                                                                adriangong 说：                                                        @limon：能具体说明吗？                           2011年4月 8日 23:33 | # | 引用                                                                                                                iotioa 说：                                                        每排一次都要新建两个一左一右的数组，那一个非常大的数组，递归非常多次，那要消耗多少内存呢？                           2011年4月11日 17:41 | # | 引用                                                                                                                findfunaax 说：                                                        引用iotioa的发言：每排一次都要新建两个一左一右的数组，那一个非常大的数组，递归非常多次，那要消耗多少内存呢？是啊，快速排序算法的优点之一就是可以原地排序，博主这样浪费掉了这个特性。那个排序演示很有趣~                           2011年4月12日 21:36 | # | 引用                                                                                                                伦布大陆 说：                                                        这个不错啊，以前的那本数据结构都是伪代码~~~                           2011年4月23日 16:41 | # | 引用                                                                                                                xieranmaya 说：                                                        那啥，Array对象不是有sort（）方法吗                           2011年5月18日 12:00 | # | 引用                                                                                                                big apple 说：                                                        基本原理是实现了，但有一点不尽如人意的地方。排序后得到的数组不是原来数组了。如：var a=[2,1,5,7,4,10,5];alert(a==quickSort(a));//此处得到结果是false一般来说，执行排序方法后，原来数组顺序就改变了，但还是原来的数组。楼主的做法相当于返回了另一个数组。                           2011年5月18日 14:35 | # | 引用                                                                                                                big apple 说：                                                        js数组自带排序方法就是如此alert(a==a.sort());//返回true                           2011年5月18日 14:37 | # | 引用                                                                                                                evan 说：                                                        觉的你这个网站的技术文章太好了，加为收藏，定时拜读。                           2011年5月21日 11:22 | # | 引用                                                                                                                Tyler Long 说：                                                        我解释下Limon提到的python的代码:q_sort= lambda l: l if len(l)&lt;=1 else q_sort([x for x in l[1:] if x&lt;l[0]])+[l[0]]+q_sort([x for x in l[1:] if x&lt;=l[0]])首先lambda是用来动态声明一个函数的. 这个函数接受一个参数l, l很明显是python的list类型. 这个函数本身赋值给了等号左边的q_sort.接下来分析右边的函数:l if len(l)else 后面的部分是如果l的长度大于1就会执行接下来分析else后面的部分:采用l的第一个元素l[0]为"基准".有两个+号,把三段list连接为一个list:第一段list是小于l[0]的元素快速排序的结果第二段list就只包含l[0]一个元素第三段list是大于l[0]的元素快速排序的结果.三段加起来就是最终的结果, 并且是排好序的. 其中第一段和第三段的生成过程中, 递归调用了q_sort本身.但是, Simon的这个代码是无法得出正确的结果的! 也就是说是错的! 以下是示例运行结果:&gt;&gt;&gt; q_sort= lambda l: l if len(l)&lt;=1 else q_sort([x for x in l[1:] if x&lt;l[0]])+[l[0]]+q_sort([x for x in l[1:] if x&lt;=l[0]])&gt;&gt;&gt; print q_sort([2,3,5,6,3,1,8,5])[1, 2, 1]接下来我会留言分析下为什么Simon给出的python解决方案是错的.                           2011年5月24日 13:16 | # | 引用                                                                                                                Tyler Long 说：                                                        Simon的代码之所不行,是因为它打错了一个字符. 最后的"="一开始我以为是什么隐蔽的错误呢, 没想到是这么明显的.                           2011年5月24日 13:21 | # | 引用                                                                                                                魏蕤 说：                                                        引用阮一峰的发言：@wordgold：想了一下，你说得对，没必要splice，只要在遍历数组的时候，只要跳过“基准”元素就行了，这样代码也更易读。谢谢。调用javascript的splice方法很好啊。此处var pivot = arr.splice(pivotIndex, 1)[0]有两个作用:（1）将“基准”从arr数组删除（2）将arr数组的“基准”赋值给pivot 如果按照@wordgold直接取，则后面还需要写一段将“基准”元素从arr数组删除的代码,这样一来代码反而更多。阮兄的代码很精简，拜读。                           2011年5月24日 15:33 | # | 引用                                                                                                                Tyler Long 说：                                                        用C#代码实现:Func&lt;IEnumerable&lt;IComparable&gt;, IEnumerable&lt;IComparable&gt;&gt; quick_sort = null; quick_sort = new Func&lt;IEnumerable&lt;IComparable&gt;, IEnumerable&lt;IComparable&gt;&gt;(l =&gt; l.Count() &lt;= 1 ? l : quick_sort(l.Skip(1).Where(t =&gt; t.CompareTo(l.ElementAt(0)) &lt; 0)).Concat(new IComparable[] { l.ElementAt(0) }).Concat(quick_sort(l.Skip(1).Where(t =&gt; t.CompareTo(l.ElementAt(0)) &gt;= 0))));                           2011年5月24日 16:00 | # | 引用                                                                                                                Alex 说：                                                        博主在编程方面的日志稍微少了点。可否写一些关于日常项目中的设计思想的日志，如果你愿意分享的话。                           2011年5月25日 12:14 | # | 引用                                                                                                                wordgold 说：                                                        引用魏蕤的发言：调用javascript的splice方法很好啊。此处var pivot = arr.splice(pivotIndex, 1)[0]有两个作用:（1）将“基准”从arr数组删除（2）将arr数组的“基准”赋值给pivot 如果按照@wordgold直接取，则后面还需要写一段将“基准”元素从arr数组删除的代码,这样一来代码反而更多。阮兄的代码很精简，拜读。不需要删除啊,仔细想想,比较的时候只比较大于小于没有等于就相当于删除了的                           2011年7月12日 09:41 | # | 引用                                                                                                                percy 说：                                                        这个对理解quicksort的思想有好处，但实际应用中，quicksort一般会采取"in place"的做法，不应该引入额外的数组，若是这样，quicksort与mergesort都差不多了                           2011年9月26日 10:33 | # | 引用                                                                                                                percy 说：                                                        这篇贴子的点击率还挺高的，希望博主更改成就地排序，不然可能会误导初学者啊                           2011年9月26日 10:35 | # | 引用                                                                                                                toming 说：                                                        haskell的可以更简单：qsort []     = []qsort (x:xs) = qsort [y | y &lt;- xs, y &lt; x] ++ [x] ++ qsort [y | y &lt;- xs, y &gt;= x]这里有所有语言的qsort实现大全：http://rosettacode.org/wiki/Sorting_algorithms/Quicksort几个函数语言haskell、erlang、ocaml、clojure的实现是最简洁的。                           2011年9月28日 21:31 | # | 引用                                                                                                                任迪 说：                                                        嘿嘿 谢谢分享 这是我下一步要学习的                           2012年1月23日 19:13 | # | 引用                                                                                                                秦强强 说：                                                        添个js原地排序的版本:function quick (start ,end){    var mid = start , temp = arr[start];    for(var i = start+1 ; i        if(arr[i]            arr[mid]=arr[i];// >> mid+1  i-1            var j = i ;             mid++;            while(j!=mid){arr[j]=arr[j-1];j--}        }           }    arr[mid]= temp ;    return mid;}function sort (start , end ){    if(end>start){        var mid = quick(start ,end);console.log(mid)        sort(start,mid-1);sort(mid+1,end);    }}sort(0,arr.length)console.log(arr);                           2012年5月14日 18:34 | # | 引用                                                                                                                redfish 说：                                                        引用Tyler Long的发言：Simon的代码之所不行,是因为它打错了一个字符. 最后的"="一开始我以为是什么隐蔽的错误呢, 没想到是这么明显的.你也够粗心的，不是最后的“=”，是if x&lt;=l[0]]) 这里面的 &lt; 要改成 &gt; 就对了                           2012年8月14日 14:53 | # | 引用                                                                                                                nebula 说：                                                        引用wordgold的发言：取数组中间值的时候为什么不直接取而要Splice，如果是为了后续循环好像没必要splice会对原数组做操作，这里获取pivot的同时，还从原数组中删除了pivot。                           2013年11月21日 16:55 | # | 引用                                                                                                                Nebula 说：                                                        引用findfunaax的发言：是啊，快速排序算法的优点之一就是可以原地排序，博主这样浪费掉了这个特性。那个排序演示很有趣~快速排序的递归部分并不是原地排序的，所以原地排序并不是快速排序的优点。                           2013年11月21日 17:04 | # | 引用                                                                                                                巴晓鹏 说：                                                        why i love ruby?def quick_sort(a)  　　(x=a.pop) ? quick_sort(a.select{|i| i  x}) : []  end                           2014年2月14日 17:19 | # | 引用                                                                                                                Troland 说：                                                        挺好的，就是如果在对比的时候不加上那个不用splice在循环的时候判断是否和pivoet相等会少递归循环。。而且会比较好读。。                           2014年5月24日 22:59 | # | 引用                                                                                                                Max 说：                                                        [2,4,3,4,6,3,2,5,6,2,3,6,5,4]如果数组有重复的这样就不行了                            2014年8月 6日 18:01 | # | 引用                                                                                                                fms 说：                                                        引用Max的发言：[2,4,3,4,6,3,2,5,6,2,3,6,5,4]如果数组有重复的这样就不行了 遇到同样的问题                           2014年9月 7日 23:24 | # | 引用                                                                                                                ASDASD 说：                                                        引用wordgold的发言：取数组中间值的时候为什么不直接取而要Splice，如果是为了后续循环好像没必要有必要的，如果你你splice掉你的中间元素 可能会造成死循环。                           2014年9月12日 02:14 | # | 引用                                                                                                                peter 说：                                                        跟你们说一下，1：快速排序从数组中间抽数字可以任意指定一个位置，比如说 0 第一位， 2：也不一定判断数组的长度，也可以判断  数组【0】！== undefined || 操作数 是否为 null 为递归停止条件                            2014年9月14日 05:20 | # | 引用                                                                                                                飞啊 说：                                                        引用阮一峰的发言：@wordgold：想了一下，你说得对，没必要splice，只要在遍历数组的时候，只要跳过“基准”元素就行了，这样代码也更易读。谢谢。实际测试 var pivot=arr.splice(pivotIndex,1)[0]; 改成         var pivot=arr[pivotIndex];报错，太多的递归。                           2014年11月27日 17:02 | # | 引用                                                                                                                alvin 说：                                                        感谢分享，讲的很仔细。使用 splice 有个不好的地方是会破坏原数组，可以直接: var pivot = arr[0];  然后 for 循环时: for(var i = 1; i                            2015年1月12日 11:21 | # | 引用                                                                                                                安小北 说：                                                        引用wordgold的发言：取数组中间值的时候为什么不直接取而要Splice，如果是为了后续循环好像没必要有必要，splice会改变数组，就会把当前的value删除，                           2015年1月15日 16:09 | # | 引用                                                                                                                赵庆北 说：                                                        楼主你好，有个排序的问题请教一下，我在js中markerArr 记录了地图中点的坐标信息，我想依次判断从第一个点之后与第一个点的距离，getdistance计算坐标间的距离。按照与第一个点的距离从小到大排序，我这样写实现的不对，你能帮忙看一下么，你有什么好的解决方法么if (markerArr.length > 3) {                for (var i = markerArr.length; i > 0; i--) {                    for (var j = 0; j                         if (j == markerArr.length - 2) { break; }                        var px0 = markerArr[0].split(',');                        var px1 = markerArr[j + 1].split(',');                        var px2 = markerArr[j + 2].split(',');                        //alert(getDisance(px0[1], px0[0], px1[1], px1[0]));                        //alert(getDisance(px0[1], px0[0], px2[1], px2[0]));                        if (getDisance(px0[1], px0[0], px1[1], px1[0]) > getDisance(px0[1], px0[0], px2[1], px2[0])) {                            var middle = markerArr[1];                            markerArr[1] = markerArr[2];                            markerArr[2] = middle;                        }                    }                }            }                           2015年1月15日 22:34 | # | 引用                                                                                                                SillyKnight 说：                                                        引用飞啊的发言：实际测试 var pivot=arr.splice(pivotIndex,1)[0]; 改成 var pivot=arr[pivotIndex];报错，太多的递归。If you wanna make this works, you have to skip the arr[pivotIndex].                            2015年2月 6日 15:57 | # | 引用                                                                                                                lihouhua 说：                                                        //提高一下代码的效率：  var quickSort = function(arr) {       var arrLength = arr.length;       if (arrLength            return arr;       }       var pivotIndex = Math.floor(arrLength / 2);       var pivot = arr[pivotIndex];       var left = [];       var right = [];       var equal = [];       for (var i = 0; i            if (arr[i]                left.push(arr[i]);           } else if (arr[i] > pivot) {               right.push(arr[i]);           } else {               equal.push(arr[i]);           }       }       return quickSort(left).concat(equal, quickSort(right));   };                           2015年2月10日 15:06 | # | 引用                                                                                                                MapleUncle 说：                                                        引用wordgold的发言：取数组中间值的时候为什么不直接取而要Splice，如果是为了后续循环好像没必要他要删除那个元素的，来使数组越来越小，满足递归，这个程序有一个问题，就是原数组会改变                           2015年4月23日 00:10 | # | 引用                                                                                                                fengge9413 说：                                                        引用fms的发言：遇到同样的问题遍历的时候跳过基准即可                           2015年7月10日 11:06 | # | 引用                                                                                                                liaoyu 说：                                                        谢谢您，以前一直没搞明白快排，这篇文章真是写得简洁明了！                           2015年8月 9日 11:31 | # | 引用                                                                                                                felisnigripes 说：                                                        引用飞啊的发言：实际测试 var pivot=arr.splice(pivotIndex,1)[0]; 改成 var pivot=arr[pivotIndex];报错，太多的递归。太多的递归是因为数组长度没有减小,如果不用splice,那么排序重复的元素会出现问题:var quickSort = function(arr){	var len = arr.length;	if(len&lt;2){		return arr;		}	var pivotIndex = Math.floor(len/2);	var pivot = arr[pivotIndex];	var left = [];	var right = [];	for(var i=0,item;item=arr[i++];){		 if(item&lt;pivot){		 	left.push(item);		 	}		 if(item>pivot){		 		right.push(item);		 	}		}		return quickSort(left).concat([pivot],quickSort(right));	}        //有重复元素,排序结果错误	//var arr = [1,3,6,3,23,76,1,34,222,6,456,221,556,75,30];        //无重复元素可以正常排序        var arr = [1,4,6,45,324,6678,333,2234,9];	quickSort(arr);	                           2015年11月17日 14:25 | # | 引用                                                                                                                小浩少校 说：                                                        峰哥，右上角的搜索框，获得焦点时有篮框啊，很不美观，建议设置input{outline:none};                           2016年2月28日 17:52 | # | 引用                                                                                                                阮一峰 说：                                                        @小浩少校：谢谢指出，已经修改了。                           2016年2月28日 23:03 | # | 引用                                                                                                                qdujunjie 说：                                                        另外还是用了一个left和一个right数组，这样空间复杂度就提升到了O(3n)                           2016年3月11日 17:07 | # | 引用                                                                                                                JustinYang 说：                                                        引用wells.tang的发言：有道理。引用wordgold的发言：取数组中间值的时候为什么不直接取而要Splice，如果是为了后续循环好像没必要splice的目的是将取“中心”元素的值之后将原数组中该值删除，这样下面的for循环的时候是不会循环中心元素了。[22, 21, 23, 12, 1, 242]比如，这样splice之后原来的数组就是[22, 21, 23, 1, 242]。                           2016年5月 4日 09:06 | # | 引用                                                                                                                徐龙健 说：                                                        楼主，数组里加个100就失效了                           2016年5月16日 21:47 | # | 引用                                                                                                                徐龙健 说：                                                        楼主的代码没错是我试错了                           2016年5月17日 17:57 | # | 引用                                                                                                                向往蓝天的林 说：                                                        var pivot = arr.splice(pivotIndex, 1)[0];这里的[0]是什么意思，有些不明白！                           2016年6月 1日 17:05 | # | 引用                                                                                                                jsjsjs 说：                                                        引用wordgold的发言：不需要删除啊,仔细想想,比较的时候只比较大于小于没有等于就相当于删除了的如果不比较等于，如果基准的数有重复就会覆盖掉                           2016年6月 6日 12:21 | # | 引用                                                                                                                Make Dream 说：                                                        var quickSort = function(arr) {　　if (arr.length 　　var pivotIndex = Math.floor(arr.length / 2);　　var pivot = arr.splice(pivotIndex, 1)[0];　　var left = [];　　var right = [];　　for (var i = 0; i &lt; arr.length; i++){　　　　if (arr[i] &lt; pivot) {　　　　　　left.push(arr[i]);　　　　} else {　　　　　　right.push(arr[i]);　　　　}　　}　　return quickSort(left).concat([pivot], quickSort(right));};                           2016年7月 7日 11:21 | # | 引用                                                                                                                Make Dream 说：                                                        var ay=[85, 24, 63, 45, 17, 31, 96, 50,1,2,7]  var quickSort = function(arr) {　　if (arr.length &lt;= 1) { return arr; }　　var pivotIndex = Math.floor(arr.length / 2);　　var pivot = arr.splice(pivotIndex, 1)[0];　　var left = [];　　var right = [];　　for (var i = 0; i &lt; arr.length; i++){　　　　if (arr[i] &lt; pivot) {　　　　　　left.push(arr[i]);　　　　} else {　　　　　　right.push(arr[i]);　　　　}　　}　　console.log(quickSort(left).concat([pivot], quickSort(right))) ;};quickSort(ay)楼主你看，为何这排序错误                           2016年7月 7日 11:23 | # | 引用                                                                                                                Mervyn 说：                                                        您的方法改变了原数组 其实没有必要，改进后的方法function quickSort(arr) {    if (arr.length &lt;= 1) {        return arr;    }    var left = [],        right = [],        pivot = arr[0];    for (var i = 1; i &lt; arr.length; i++) {        if (arr[i] &lt; pivot) {            left.push(arr[i]);        } else {            right.push(arr[i]);        }    }    return quickSort(left).concat(pivot, quickSort(right));}                           2016年7月14日 16:19 | # | 引用                                                                                                                老街 说：                                                        按照您的算法：var pivot = arr.splice(pivotIndex, 1)[0];第一次取到的基准应该是17，不是45。依次下面的数组长度为偶数时都与之不符合。                           2016年7月30日 11:09 | # | 引用                                                                                                                0x4d 说：                                                        阮老师，请问js里的sort是用快速排序实现的吗？                           2016年9月 6日 22:55 | # | 引用                                                                                                                wukong 说：                                                        引用Mervyn的发言：您的方法改变了原数组 其实没有必要，改进后的方法function quickSort(arr) {if (arr.length &lt;= 1) {return arr;}var left = [],right = [],pivot = arr[0];for (var i = 1; i &lt; arr.length; i++) {if (arr[i] &lt; pivot) {left.push(arr[i]);} else {right.push(arr[i]);}}return quickSort(left).concat(pivot, quickSort(right));}其实你这个方法也不是原数组了，并且没有判断相等的情况                           2016年9月20日 11:34 | # | 引用                                                                                                                wukong 说：                                                        引用0x4d的发言：阮老师，请问js里的sort是用快速排序实现的吗？sort是根据字符编码的顺序进行排序的，不是快排                           2016年9月20日 11:36 | # | 引用                                                                                                                龚小样 说：                                                        function quicksorter(arr,start,end){	var i =start;	var j =end;	var m;	if(i	{		var x = arr[i];		while(i 		{			while(i  x) j--;			if(i			while(i			 if(i		}		arr[i]=x;		m=i;		console.log(m);		quicksorter(arr,start,m-1);		quicksorter(arr,m+1,end);	}}不需要用其他数组的快速排序在此。                           2016年11月 5日 13:21 | # | 引用                                                                                                                weivea 说：                                                        function quickSort(list,start,stop) {  start = start||0;  stop = stop||(list.length-1);  var tmp = null;  for(var indL = start,indR = stop-1; indL    if(list[indL]      indL++;      continue;    }    if(list[indR]>=list[stop]){      indR--;      continue;    }    tmp = list[indL];    list[indL] = list[indR];    list[indR] = tmp;  }  if(list[indL]>list[stop]){    tmp = list[indL];    list[indL] = list[stop];    list[stop] = tmp;  }  if(indL-start > 1){    quickSort(list,start,indL);  }  if(stop-indL > 1){    quickSort(list,indL,stop);  }}quickSort([23,4,45,7,5,4,7,67,8]);                           2016年12月13日 18:50 | # | 引用                                                                                                                stysptive 说：                                                        引用nebula的发言：splice会对原数组做操作，这里获取pivot的同时，还从原数组中删除了pivot。按照博客里有必要。因为如果不把pivot从原来数组中去除，会发生quickSort之后的数组和原来的数组一样的情况，从而造成死循环。例如quickSort([1,1,5]) 返回一个quickSort([1,1,5])。                           2017年4月18日 15:18 | # | 引用                                                                                                                aaa 说：                                                        　　var pivotIndex = Math.floor(arr.length / 2) ;　　var pivot = arr.splice(pivotIndex, 1)[0];这两句代码在数据集{85, 24, 63, 45, 17, 31, 96, 50}应该先取的17吧；老师你的图好像画错啦！！！                           2017年6月21日 14:39 | # | 引用                                                                                                                小叶子 说：                                                        引用aaa的发言：　　var pivotIndex = Math.floor(arr.length / 2) ;　　var pivot = arr.splice(pivotIndex, 1)[0];这两句代码在数据集{85, 24, 63, 45, 17, 31, 96, 50}应该先取的17吧；老师你的图好像画错啦！！！楼上+1                           2017年7月 8日 15:31 | # | 引用                                                                                                                mrmx 说：                                                        不是原地排序，大数组比较耗内存                           2017年7月12日 18:03 | # | 引用                                                                                                                 xpnew 说：                                                        发现了一个Bug:代码运行的时候会修改原来的数组，运行之后源数组（input Array）会丢失一项，结果数组（Output Array）倒是正常的。一开始我用的数组是博主提供的：[85, 24, 63, 45, 17, 31, 96, 50]，发现少了17，后来继续添加了一几个数字，变成[85, 24, 63, 45, 17, 31, 96, 50,33,65,99,120,15]，发现少了96代码：var Arr = [85, 24, 63, 45, 17, 31, 96, 50]; console.log(Arr);var quickSort = function(arr) { console.log(Arr.length);　　if (arr.length &lt;= 1) { return arr; }　　var pivotIndex = Math.floor(arr.length / 2);　　var pivot = arr.splice(pivotIndex, 1)[0];　　var left = [];　　var right = []; console.log(Arr.length);　　for (var i = 0; i 　　　　if (arr[i] 　　　　　　left.push(arr[i]);　　　　} else {　　　　　　right.push(arr[i]);　　　　}　　} console.log(Arr.length);　　return quickSort(left).concat([pivot], quickSort(right));};var NewArr = quickSort(Arr); console.log(Arr); console.log(NewArr);浏览器控制台输出： (8) [85, 24, 63, 45, 17, 31, 96, 50] 8 （手动加注：开始的时候长度还是8，然后运行的时候就变成7了，以下同） 7 ... 7 (7) [85, 24, 63, 45, 31, 96, 50] (8) [17, 24, 31, 45, 50, 63, 85, 96]                           2017年9月25日 13:18 | # | 引用                                                                                                                陆文 说：                                                        `function qSort(arr, low, high) {  let pivot;  if (low &lt; high) {    pivot = partition(arr, low, high);    qSort(arr, low, pivot - 1);    qSort(arr, pivot + 1, high);  }};function partition(arr, low, high) {  let pivotKey = arr[low];  while(low &lt; high) {    while(low &lt; high && arr[high] >= pivotKey)      high--;    [arr[low], arr[high]] = [arr[high], arr[low]];    while(low &lt; high && arr[low] &lt;= pivotKey)      low++;    [arr[low], arr[high]] = [arr[high], arr[low]];  }  return low;};let a = [8,3,4,1,9,7,6,10,2]qSort(a, 0, 8);console.log(a);`阮老师希望您看下这段代码跟您博客代码的对比，我觉得空间和时间复杂度都有比较大的区别。                           2017年10月18日 12:18 | # | 引用                                                                                                                刘磊 说：                                                        我也分享一个自己写的原地排序版本：function SQ(arr, start, end){	if(arr.lnegth 	return arr;	} 	const mid = arr[end];	let midindex = end;	let cha = 0;	for(let i=start;i	if(arr[i-cha] > mid){	const tmp = arr.splice(i-cha,1)[0];	arr.splice(end,0,tmp)	cha++	midindex--	}	}	if(midindex - start > 2){		SQ(arr,start,midindex-1);	}	if(end - midindex > 2){		SQ(arr,midindex,end);	}	return arr;}const ary = [0,333333,1,33,222,44,2,17,4,784,31,6,7];console.log("hh",SQ(ary,0,ary.length-1))                           2017年10月19日 20:33 | # | 引用                                                                                                                余晓艳 说：                                                        过程清晰命了，很容易理解，谢谢！                           2017年12月 1日 18:40 | # | 引用                                                                                                                Cheng JIANG 说：                                                        @Mervyn：splice的一个作用是最终数组元素小于等于1递归开始返回，你这样的话不动原数组那如果数组全部是相同的元素就会导致递归无法返回                           2017年12月 4日 02:46 | # | 引用                                                                                                                刘奇 说：                                                        你这种做法，略微简单简单了一点吧；你申明了left 和right 两个空的数组，增加的空间复杂度；较为完善的做法，是利用交换；而不是添加额外的空间here is good example：https://www.hackerearth.com/zh/practice/algorithms/sorting/quick-sort/tutorial/                           2018年1月 9日 11:59 | # | 引用                                                                                                                Mr_hyc 说：                                                        我觉得 阮老师的这篇文章 主要是想告诉我们   Quicksort  这个思想   又用一个案例来更好的理解  Quicksort  的原理，至于这个案例代码的性能、复杂度并不用太在意  只有真正理解了  Quicksort 那上面的问题都....                           2018年2月27日 17:53 | # | 引用                                                                                                                Edward 说：                                                        引用向往蓝天的林的发言：var pivot = arr.splice(pivotIndex, 1)[0];这里的[0]是什么意思，有些不明白！这里splice返回的是删除元素的数组，用[0]去得到具体的值                           2018年3月13日 17:41 | # | 引用                                                                                                                李俊 说：                                                        阮老师，我补充了下，因为数组是引用传递，因为函数中使用了splice函数，会造成原数组少一个元素，然后concat函数中，貌似函数参数不必刻意是数组，function quickSort(arr) {  // 数组是引用传递 避免修改原数组  arr = JSON.parse(JSON.stringify(arr));  // 数组只有一个元素  if(arr.length &lt; 2) {    return arr;  }  let middleIndex = Math.floor(arr.length / 2);  let middle = arr.splice(middleIndex, 1)[0];  let left = [];  let right = [];  // 和中间元素比较，小的放左边， 大的放右边  for(let i = 0; i &lt; arr.length; i++) {    arr[i]   }  // 递归  return quickSort(left).concat(middle, quickSort(right));}let arr = [85, 24, 63, 45, 17, 31, 96, 50];quickSort(arr);console.log(quickSort(arr));console.log(arr);                           2018年4月18日 11:50 | # | 引用                                                                                                                vision57 说：                                                        引用Ted的发言：In Erlang:　　qsort([]) -&gt;&gt; [];　　qsort([Pivot|T])-&gt;　　　　qsort([X || X &lt;- T, X &lt; Pivot])　　　　++[Pivot]++　　　　qsort([X || X &lt;- T, X &gt; Pivot]).Hail Erlang!                           2018年5月12日 18:34 | # | 引用                                                                                                                vision57 说：                                                        In Typescript:const qsort = ([pivot, ...arr]) =>    pivot == undefined ? [] :        [...qsort(arr.filter(x => x             pivot,        ...qsort(arr.filter(x => x > pivot))]                           2018年5月12日 18:51 | # | 引用                                                                                                                vision57 说：                                                        引用vision57的发言：In Typescript:const qsort = ([pivot, ...arr]) =&gt;pivot == undefined ? [] :[...qsort(arr.filter(x =&gt; x pivot,...qsort(arr.filter(x =&gt; x &gt; pivot))]const qsort = ([pivot, ...arr]) =>    pivot == undefined ? [] :        [...qsort(arr.filter(x => x             pivot,        ...qsort(arr.filter(x => x > pivot))]                           2018年5月12日 18:52 | # | 引用                                                                                                                vision57 说：                                                        引用vision57的发言：const qsort = ([pivot, ...arr]) =&gt;pivot == undefined ? [] :[...qsort(arr.filter(x =&gt; x pivot,...qsort(arr.filter(x =&gt; x &gt; pivot))]const qsort = ([pivot, ...arr]) =>    pivot == undefined ? [] :        [...qsort(arr.filter(x => x             pivot,        ...qsort(arr.filter(x => x > pivot))]                           2018年5月12日 20:35 | # | 引用                                                                                                                xiaoyang886 说：                                                        引用wordgold的发言：取数组中间值的时候为什么不直接取而要Splice，如果是为了后续循环好像没必要可以删除原数组中间的值                           2018年5月18日 11:55 | # | 引用                                                                                                                thilina 说：                                                        何時退化到插入排序？                           2018年7月21日 15:45 | # | 引用                                                                                                                null 说：                                                        很简洁。什么时候能再说说quickSelect算法，就完美了。                           2018年11月 5日 07:12 | # | 引用                                                                                                                薛恒飞 说：                                                        splice是很有必要的，无论基准值是取中间值还是任意位置的值（如第一位）。        var arr = [99,22];        function quickSort1(arr) {            if (arr.length                 return arr;            }            var pivot = arr.splice(0, 1)[0];            var left = [];            var right = [];            for (var i = 0; i &lt; arr.length; i++) {                if (arr[i] &lt;= pivot) {                    left.push(arr[i]);                } else {                    right.push(arr[i]);                }            }            return quickSort1(left).concat([pivot],quickSort1(right));        }        console.log(quickSort1(arr));如果把var pivot = arr.splice(0, 1)[0];改成var pivot = arr[0];就会造成死循环                           2019年2月18日 11:24 | # | 引用                                                                                                                BeeMan-zxz 说：                                                        通俗易懂                           2019年4月20日 15:18 | # | 引用                                                                                                                111 说：                                                        没理解为什么要多此一举的试用splice去从所谓的中间拿有什么意义。还不是直接arr[0].function quick(arr){			if(!arr || arr.length === 0 ) return [];			let minArr=[];			let maxArr=[];			let limit = arr[0];			for(let i=1;i&lt;arr.length;i++){				if(arr[i]>limit){					maxArr.push(arr[i]);				}else{					minArr.push(arr[i]);				}			}			return quick(minArr).concat(limit).concat(quick(maxArr));		};                           2019年7月 1日 10:51 | # | 引用                                                                                                                nobb 说：                                                        js 也挺清晰的function qs(arr: number[]): number[] {  if (arr.length   const left = [];  const right = [];  const [a, ...rest] = arr;  rest.forEach(x => (x   return [...qs(left), a, ...qs(right)];}                           2019年9月18日 20:47 | # | 引用                                                                                                                onefan 说：                                                        请问一下，如果调用这种方法后再调用原数组，是不是会少一个元素？                           2019年9月19日 06:48 | # | 引用                                                                                                                肖建军 说：                                                        突然有这种感觉谢天谢地 世上有一个阮一峰我也想做他这样的人                           2019年10月 8日 19:30 | # | 引用                                                                                                                Echo 说：                                                        看到大家都在讨论有没有必要删除基准元素的问题：亲测需要删。有人说不删，只需要比较的时候只push大于或小于基准元素的元素即可，但是有个问题别忘了：还有些重复的元素，这样最后得到的数组元素只包含那些不重复的元素。但是如果另一个子集允许小于等于的时候，又会出现栈溢出！最后发现还是删了比较好                           2019年12月26日 08:14 | # | 引用                                                                                                                陈通塔 说：                                                        前几日有个面试官还问我快排的最差情况，我查阅了是所有元素都有序或者是所有元素都相等的情况。我在我的博客里改进了阮老师的 JS 实现算法来解决哪两个情况，参见下面链接https://www.cnblogs.com/everlose/p/12815606.html                           2020年5月 2日 18:30 | # | 引用                                                                                                                口袋 说：                                                        引用findfunaax的发言：是啊，快速排序算法的优点之一就是可以原地排序，博主这样浪费掉了这个特性。那个排序演示很有趣~快速排序并不是原地排序吧                           2021年1月24日 23:15 | # | 引用                                                                                                                hashiqi 说：                                                        前面看的好好的，看到最后一行当场去世。。。。。                           2021年6月 3日 16:52 | # | 引用                                                                                                                zhousibao 说：                                                        取中间的值作为基准可能会导致不稳定。取第一个应该会更好吧。                           2021年9月13日 19:47 | # | 引用                                                                                                                扎扎工程师 说：                                                        10年后依然受用                           2021年10月 9日 11:29 | # | 引用                                                                                                                著名阮粉 说：                                                        阮哥怎么讲什么都懂啊？                           2021年10月18日 13:38 | # | 引用                                                                                                                小白 说：                                                        这种解法现在在力扣上面, 提交过不去了啊..                           2022年9月 1日 10:52 | # | 引用                                                                                                                lee 说：                                                        引用wordgold的发言：取数组中间值的时候为什么不直接取而要Splice，如果是为了后续循环好像没必要是为了取到基准值的同时遍历数组时跳过基准值，用splice就不用写判断语句了                           2023年2月16日 09:42 | # | 引用                                                                                                                way 说：                                                        引用小白的发言：这种解法现在在力扣上面, 提交过不去了啊..内存占用过大                           2023年6月 7日 11:11 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9dfe4a39cf45',t:'MTc0MzI0MzQ0My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2011/04/quicksort_in_javascript.html
X光下的世界 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    X光下的世界 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：1997年的三件事&nbsp;&nbsp;下一篇：面孔2007（续）&nbsp;&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              X光下的世界                                                                                    作者： 阮一峰                                    日期： 2008年6月15日                                                                                                                                            英国摄影师Nick Veasey专门拍摄X光下的物体，他的作品有一种不一样的美。                                                                                                                我收集了一些他的作品，共22幅。（如无法显示，请多刷新几次。）1.2.3.4.5.6.7.8.9.10.11.12.13.14.15.16.17.18.19.20.21.22.（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2008年6月15日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（12条）                                                                                                    ooooofred 说：                                                        .............感觉好奇怪                           2008年6月15日 16:25 | # | 引用                                                                                                                fancyfly 说：                                                        那张高跟鞋和平底鞋的...                           2008年6月15日 16:26 | # | 引用                                                                                                                西西 说：                                                        看到了别样的美丽!PS:这周知道你的部落格的，很喜欢，谢谢的辛苦劳作！并，推荐给了我很多同事和朋友！                           2008年6月15日 17:31 | # | 引用                                                                                                                Chico 说：                                                        很想知道，这位大师是怎么拍摄的，有什么方法和技巧呢？                           2008年6月15日 21:56 | # | 引用                                                                                                                大脚 说：                                                        有些不像是拍摄的，更像制作出来的。                           2008年6月15日 23:10 | # | 引用                                                                                                                风海迷沙 说：                                                        PS高手                           2008年6月16日 10:39 | # | 引用                                                                                                                李诗哲 说：                                                        http://www.hdol.cn/baobao3/ShowPl.asp?YlxbCenterId=343帮帮忙吧   给侄儿投个票谢谢了                           2008年6月16日 11:11 | # | 引用                                                                                                                zhy8098 说：                                                        我也想问，怎么拍得？                           2008年6月16日 15:43 | # | 引用                                                                                                                长长长长颈鹿 说：                                                        嘿嘿真漂亮～～～想转载啦～                           2008年6月17日 10:09 | # | 引用                                                                                                                jason 说：                                                        具体摄影手法呢?                           2008年6月17日 19:22 | # | 引用                                                                                                                Lindsay 说：                                                        我认为我还是没有面对自己的骨骼说美的审美感。后面几幅还是蛮喜欢的。                           2008年6月22日 13:44 | # | 引用                                                                                                                西 说：                                                        我也想说是制造不是拍摄吧                           2008年12月18日 15:02 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e95359b48cf45',t:'MTc0MzI0MzA4My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2008/06/x-ray_photography.html
我做服装的这五年（转贴） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    我做服装的这五年（转贴） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：它与全部自由权利有关&nbsp;下一篇：宋祖德评余秋雨&nbsp;&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              我做服装的这五年（转贴）                                                                                    作者： 阮一峰                                    日期： 2008年4月10日                                                                                                                                            原文是pchome论坛上的一个帖子，作者没有写完，并且现在已经将写好的部分都删除了。                                                                                                                下面的部分是我在此之前保存下来的。作者可能不希望流传，不过内容实在很精彩，还是让更多的人看到吧。================我做服装的这五年作者：许雪敏一、我是02年的时候进入七浦路，开始做我的服装生意的。开始的时候，可以说，我什么也不懂。当时的七浦路也不是现在这个样子，兴旺商城还在建造中，我在其他的商场里租了一个铺子，租金3500元/月。然后，每个礼拜要去杭州的"4季青"服装批发城去进货，回来放在自己的铺子里卖，（也就是俗称"搬砖头"），利润一般在50%，也就是说20元进的货，卖40元。不过，七浦路是一个批发市场，我定的这个价位，只能做零售客的生意，批发客人都觉得价格偏高，无法接受。我只能尽量拉住一些零售老顾客，维持店铺的经营，半年多的时间，我算了一下，除去成本，（自己的人工没有计算），赚了3000多元，平均500元/月。不过，比预计的要好了。本来预计是要亏本的。二、时间很快就过去了半年，我一直是在很辛苦得维持店铺的生意。也许是因为开始创业前，做了很充分的思想准备，所以，能做到不亏本已经是很心满意足了。不过这半年时间里，我一直在思索一个问题，生意上如何突破。这时候有个朋友无意中对我说了一句话:"在七铺路要生存下去，不把批发做起来，怎么行呢?" 我感到这句话真的是一语中的呀!是啊，要只做零售的话，何必把店开到七浦路来呢?但是，话虽简单，做起来难啊。首先，我没有进货渠道，靠"搬砖头"，如果要抓批发客人，那么势必要压低价格，但是杭州方面的批发价格是死定的，要还个几块钱下来都是非常困难的，那么只有降低自己的利润了。我算了一下，一般我每次去进货差不多3000--5000元，如果利润也差不多3000--5000左右，但是如果把利润压在500--1000元，是不是可以把批发做起来呢?我做了半个月的尝试，效果是明显的，（比如:我把进货价格20元的衣服，定了个批发价格25元，进货45元的牛仔裤，小批发价格定在55元，有点量的客人，我定了个打包价50元。），就这样，半个月里面，做了好几个批发客人。就这样，虽然利润直线下降，但是至少证明，批发是可以做起来的。那么利润上面的损失如何弥补回来呢?当时唯一的途径，只能是增加进货额了。很快，我把每次的进货额从原来的3000--5000元，增加到了8000--10000元。一晃又是半年，下半年的营业额比上半年翻了10倍!利润相应翻了3倍。三、我的第一年就这么过去了，盘点了一下，一年下来，赚了净利润大约10000元，库存也将近10000元。可以说，比我想象当中的状况要来得好，可能当时，我的心态是比较好，既然是在学做生意，没有交学费，应该是算好的了。做了一年生意，最大的体会是，上班时候，吊二锒铛，但是度日如年，感觉8--9个小时真的是难熬啊，而自己做生意，时间过得飞快，可能是做服装生意，时间过得更快，特别是每次换季的时候，当季的没有卖完的衣服真是很头痛啊，希望下个季节晚点到来，好让我把库存多清理掉一点，而越是这样想，时间却是过得更加快。话说回来，转眼到了要付第二年房租的时候了，这一年和接下来的一年，对于我的生意是一个突飞猛进的时期，使我的生意发生了二次重大变革，一是学会了如何拓展进货渠道，一是遇到了一直做到现在的大客户。也为后来的发展奠定了基础。四、付第二年房租的时候，遇到房东想要涨我房租，呵呵，可能是听说我生意还可以吧，（其实，就这点生意，那么低的利润，自己心里知道而已），吃准了我还要租下去，因为如果换铺子，肯定会流失一部分积累的老顾客，一般来说，做生不如做熟。正好，当时兴旺一期建成，正在招租招售，于是，我也去兴旺看了一下，记得当时正好是"非典"时期，整个兴旺一眼望去，空无一人，这头可以看到那头，铺面便宜到1500元/间也没有人要，转角铺3000元/个，（转角铺面就是在十字路口的铺面，市口相对较好），再三衡量之下，还是认为，原来在七铺路里面的铺面至少有些老客人，还是决定续租下来，但是又觉得房东比较恶劣，应该教训一下，于是，找了几个兄弟和房东干了一架，呵呵，最后总算没有涨房租。事实证明，当时，这个选择是错误的，第一，兴旺后来的发展要比七铺路里面任何一个商厦要好，第二，做生意，尽量和气生财，不应该动不动就打打杀杀。租别人的房子，你情我愿的事情。这些不是主要，不多说什么了。五、就说我续租以后，我总结了一下前一年的生意，既然已经有了批发客人，我感觉，现在当务之急是如何拓展自己的进货渠道。因为，只有这样，才能够增加我的销售利润。如果前一年搬砖头是迫不得已，那么现在，进货渠道已经是我生意发展的最大绊脚石了。想到要拓展自己的进货渠道，当时，我在整个七铺路，（包括兴旺，新七浦，新浦--现在换了老板改名叫新金浦，以及当时延街的露天小摊）兜了几十次，到处去看，加上一直去杭州进货的所见所闻，我自己把衣服分成了几大类:1。广货; 顾名思义，广州发上来的货，（其实，杭州当时除了九星外贸大楼，基本都是广货，杭州似乎是中国南方衣服到北方销售的一个中转站）。这类货品的特点是，款式翻新快，乍一看，很漂亮，但是并不耐看。品位不高，感觉是有点乡土气息，可能要迎合的是很多内陆地区客人的口味。做工一般，但是不注重细节。而且，这些服装价格起伏很大，刚上市时候价格很高，快过季时候却可以疯狂甩卖，价格可以低得惊人。所以很多做广货的商家，都比较喜欢做牛崽类，比较稳当，因为可以不受季节影响而血本无归。2。垃圾货。这些衣服，传闻是出自小作坊，做出来，是衣服就可以，唯一特点是便宜和难看。3。大兴的名牌，这些并不用多说，大多数也是出自广州。4。外贸库存货品。我当时对于外贸库存知之胜少，只是觉得是一些非常奇特的衣服（后来知道是里元素风格）或者印花T恤之类。知道了市场以后，便是如何入手，我当时认为做生意，无非是要货品能卖，能赚到钱便可以，至于做哪种类型，其实无所谓。就一年的经验来看，其实我卖的衣服应该归属于广货，那么要降低进货成本，自然，先是想到跳开杭州这个中转站，直接南下广州寻找渠道。可是，俗话说同行是冤家，我周围店铺有直接从广州进货的老板，关系相处得不错，但是对于进货渠道，都是闪烁其词，不愿多透露一点。而我当时的情况是手上的钱付了房租以后，仅剩下 20000元，一万是一年前刚开业的时候，准备的流动资金，还有一万元是一年的利润，这一年中，我几乎是没有什么开销，穿的衣服是库存的卖不掉的货品，吃饭都是早饭晚饭在家吃，看铺的时候午饭也经常是用饭盒带到店里。到杭州出差，便是蛋炒饭或者拉面。不过，从以后的生意发展来看，只有南下广州了。我抱着很大的希望，带着20000元就去到广州。而事与愿违，我到了广州以后，人生地不熟，拿着地图逛了2天，只能在火车站附近转，那里是有几个大型批发城，红棉，白马。步步高等，货品的确是比杭州要略微便宜，但是，以我的进货量来说，跑广州的成本却远比跑杭州要贵得多。给我的感觉是，要做广货，凭我一个人是绝对不行的，可行的方案有3个，第一，有的店铺，广州和杭州同属于一个老板。第二，要有人常驻广州看货补货，而另一人在上海管销售。第三，有充裕的资金，一次下广州的补货量要大，要足够抵消比杭州多出的路费，并且还要多赚几倍，这种方案同时带来的还有更大的库存风险。第一点和第二点，是我不具备的，而第三点，是我不敢尝试的。广州之行，应该是我以失败而告终的。六、广州回来以后，我仍旧在按照原来的方式经营我的小店。我有个叔叔，是在香港做大生意的，本来，我什么也不懂，也不好意思去问叔叔，也不知道怎么问，叫人家怎么回答你呢?何况我这种小生意，也根本是搭不上边的事情。一个偶然的机会，家里亲戚聚会，遇到了我的叔叔，叔叔顺便问起了我的情况，我也如实得讲述了我的事情。叔叔知道了我在做服装生意以后，说起有个朋友是接外贸定单的，做服装生意的话，可以去问问看他。于是给了我他朋友的电话。我当时也并不知道叔叔的朋友能帮我什么忙，不过既然一片好心，多问问总是没有坏处。隔天，我便打电话和叔叔的朋友讲了一个电话，大意是"我是XXX的侄子，在做服装的生意，但是苦于没有进货渠道，不知道有没有什么好的建议"。我叔叔的朋友回答说"我做的定单是童装，如果你不做童装，我也是没有办法，不过要是你有兴趣，可以跟我去工厂看一下，下属的工厂有很多库存的棉毛衫裤，正愁没有销路，要是你有办法帮他卖，说不定也可以赚钱"其实，当天我是想回绝的，因为我似乎并没有兴趣搞内衣，放在我店里卖也不是很合适，不过，转念一想，自己做服装，从来没有看见过服装厂里是怎么样的，去看看也未尝不可。几天以后，跟着叔叔的朋友一起到了他们定点加工童装的工厂里，叔叔谈完公事，和工厂老板说起我的来意，老板听说有人帮他处理库存，煞是高兴，马上打开仓库，让我看里面的库存，满仓库的棉毛衫裤，有几千件之多，我爬进去翻了几箱，突然看见有1箱印花T恤，好大1件，凭经验，我知道这衣服放在我店里一定可以卖，老板说这样的T恤一共只有100多件，其他全是棉毛衫，100多件同样的T恤，其实当时对于我来说也不少啊，杭州进货，同样的T恤我进货一次不会超过5件，我正在犹豫的时候，老板说你喜欢这种衣服吗?那么大，只有外国人才可以穿，你能卖，拿去就是了，4元1件。当时这样的衣服，在杭州基本上批发20--25元/件，我砰然心动，400元，在杭州只能进20件衣服，而在这里却能买到100件!我带着这100件衣服回到店里。虽然感觉很便宜，但是是不是能卖完心里却没有底，所以定价并不敢太高，零售25，批发15，这个价格应该算比较公道了。惊喜随之而来，第一天，零售4件，第2天，来了一个批发客人，一听说批发价15元，当场拿走50件，我一看这样的情形，立刻调高了价格，批发20元，零售35元，剩下的几十件也在后来的几天里很快卖完了!七、有了这第一次奇迹一样的生意，我感慨万分，首先想到的是，我这样才是一个真正的批发店，外贸批发店里利润原来远比我想象的要高，这样的操作模式，一定没有错，只要能找到货源，便是财源滚滚!兴奋之余，我便是想要如何去开发货源。光靠熟人介绍，显然是有限的，而且，就我的感觉，首先，知道这样赚钱方式的人现在并不多，但是，以后一定会越来越多，其次，工厂应该都离市区比较远，那些厂长现在并不领行情，库存只当垃圾卖掉，但是必定用不了几年都会知道这里面有金子，到时候这个生意就难做了。所以，赚钱一定要快。于是，我决定，拼一把。但是不知道工厂的方位，便买了本黄页，服装厂的电话一个个打过去，问是否有库存要处理，把有库存的工厂地址都问清楚，然后，坐公交车，长途车到处去看，有了第一次和工厂接触的经验，我的胆子显然大了很多，到工厂便递烟给门卫，讲明来意，然后，门卫通知仓库负责人，再然后我便可以去仓库看货。不过，这时候，便来了新的问题，跑了一个礼拜的郊区，很多工厂库存的确不少，但是货都并不对路，而我手上仅有1万多的现金，不敢胡乱进货，毕竟，并不是只要便宜就都可以卖掉，我应该要找的货源还要比较新潮，那么就只有一种工厂是适合我的，就是要加工出口服装的，也就是传说中的外贸库存。八、有句话叫工夫不负有心人，生意上的第二个惊喜也很快来到了。同样是一次偶然，一个朋友说起，上海的旁边，有个叫平湖的地方，那里一带外贸加工厂很多。我一有消息，立刻动身前往平湖，可是，不知道工厂的方位，只知道可能是附近一带，我便在平湖坐公共小巴，在周围郊区胡乱转悠，鬼使神差地来到一个叫乍浦的地方，这个地方人烟稀少，宽阔的公路上几乎没有车子，看见眼前有一个很庞大的工厂，我之前都是接触的一些很小型的工厂，心里不是最有底，但是都来了，还是应该去打听一下。为了给自己鼓气，只能这样对自己说"我是一个来自大上海的老板，在一些乡下人面前有什么好畏缩呢?"现在想来，真是觉得自己有点可笑。我和门卫说明了来意以后，门卫见我一个男人，穿着奇特（当时穿了HIPPOP的装扮），还扎了个小辫子，来收库存，可能也是觉得很奇怪又可笑，还是帮我通报了上去"门外有个人说要收垃圾的，好象是上海来的"很快，仓库保管员下来了，见了我也呵呵得笑，我很礼貌得递上了香烟，保管员说厂里不能吸烟，于是在门卫一起抽烟，聊了几句，问我要什么样的衣服，我说看你们有什么样的吧，反正不要太老气的，还要便宜的。去到仓库，我打开1箱衣服，里面是一件棉衣，还不错看（我有个习惯，就是要进货前，先要估计一下，如果我自己到零售店零买，我愿意花多少钱买，然后打个对折，再减去我自己批发的利润，就是我的进货心理价位了。）我看了看衣服，觉得自己愿意花150--200元买，然后，我心理价位便定在了60元左右。然后，我问了保管员价格，又一次令我感到很惊讶，保管员说这个衣服有1000件，你能拿多少呢?我说，看你给我什么价拉，价钱合适，我可以拿很多啊。保管员似乎很想早点把衣服卖掉，于是说，你多拿一点，我给你25元 /件，怎么样。25元，我真是没有想到啊，不过，喜不行于色，这点在一年多的生意场上是已经锻炼出来了，前次买T恤是朋友，不好意思还价，这次纯粹是生意，能便宜一点是一点，商人，分毫必争。可能是因为比我心理价位便宜了太多，虽然流动资金一共才1W多，但是嘴巴已经不听使唤了，直接说，我也不多还你价格了，全拿，但是你给我20/件。保管员面有难色得说，25已经是底价了，前次有个杭州人也来看过，我卖他40/件，他已经拿去200多件，我看你那么年轻就做生意，又是上海人，还挺能吃苦，所以给你25元的底价，不信我给你看帐簿，说着真的翻出了帐本。我也没有理会很多，只是说，我拿的量多啊，当然要便宜，不然卖不掉，我都是库存啊，几万块呢。其实我心里也在想，真的25元，我也通吃了。最后，终于按照我给的价格成交了，我只带了一万多，于是约定，过几天来提货，先下了5000定金，我取走了10件样品。说到这里，是我最难忘的经历了，当天是39度的大伏天，10件样品棉衣，好大一个麻袋，我扛在肩膀上，走出工厂大门，才知道，回程的小巴不走新公路，走老公路，要坐车回去上海，要走过2公里的路，我只能硬着头皮走，我走过之处，就象洒水车洒过一样，不停得出汗，好在我曾经在体校锻炼过，身体素质还不错，要不早趴下中暑了。走到车站，坐中巴，换长途车，再换地铁，地铁上我可真是很狼狈，别人都是用异样的眼光看着我，一个梳小辫子的男人，穿得挺时髦但是超级脏的衣服，还扛着个麻袋，城不城，乡不乡的，这怎么回事情啊???我也不管这么多，心里还是非常兴奋，今年冬天就寄希望在这批货上了。九、（本节缺）十、1000件棉衣，原来要用那么大的卡车装!一个礼拜以后，我住的2室户房间里，除了床就是棉衣了，为了节约仓储费用，小本经营才刚刚起步。接下来就是要赶快把衣服卖掉，把资金周转回来。但是8月份，大家都在穿短袖，会不会有人买棉袄呢?但是我已经没有办法了，一来没有钱进夏装了，二来，也换季了，不敢进夏装了，干脆来个反季销售，把棉袄挂出去，卖便宜点，吸引人，还特地画了很大的POP牌子。反季销售，80元一件!当天就卖掉2件，接下来的一个月，一共卖掉100件!这个销售成绩，我还算满意，毕竟天都没有凉就能卖了，80元对顾客来说很实惠，我又有钱赚，做生意，互惠互利，皆大欢喜。转眼到了秋天，批发客人开始进冬装了，由于第一次做大量，心里也不是最有底，毕竟还有800多件棉衣，多少是有点担心库存，于是把批发价格往下拉到60元 /件，应为很多老批发客人当时知道我零售80卖过，要是批发坚持80的话，心理多少会不舒服，但是零售价格提到150元，也不靠零售跑量了。很快，二万多成本便回收了，我赶快提了2瓶白酒去工厂看望提携我的工厂保管员，顺便问问，工厂里是不是还有其他适合我卖的衣服。这个保管员，应该是我包括后来遇到的所有保管员里，最好的一个人了，他告诉我，虽然他们工厂暂时没有我要的货了，但是，告诉了我一个大方向，你朝那边方向找过去 ，一定可以找到你要的货!十一、我做服装的第三年开始，我把自己的档口搬到了老兴旺（一期）的2楼。原先我的进货完全是按照自己的喜好和品位，在原来的档口，做的也多数是小卖店（零售小店铺）和一些国内的外地客人。但是，到了兴旺，我才发现，这里的情况和原先不一样，这里的客人，很多都是一些台湾客人，反而原先好卖的货品，在这里并没有以前好卖。有一次，一个台湾客人来到我店里看了几眼（这些做服装生意的台湾客人，基本上都是比较年轻的客人，打扮与众不同，很容易分辩），就要离开，这样的情形重复过很多次了，我一直奇怪，他们为什么不喜欢我的货呢?于是， 我递上了一根香烟给这名台湾客人"你抽烟吗?"台湾客人见状，先是一惊，然后很有礼貌得说:"哦，谢谢，我不抽烟。"哦，我便收回了香烟，然后开口问到: "你们喜欢什么货啊?"台湾客人想了一想，问我有没有T恤或者卫衣，我便随手拿了一件T恤，台湾客人笑了笑，很有礼貌得说，"不是这样的。"然后打开双肩包，从里面拿了一件一眼看过去很奇特的T恤出来，给我看，说，你跑工厂有没有看到过这样的衣服?我接过衣服，仔细看了看，这是一件我以前比较少见到的黑色T恤，满版印了一些奇怪的白色和灰色相间的几何图形，一眼看过去，很另类，很别致，的确是没有见过，再仔细看，这件衣服的细节部分做得也非常精致，袖子口，下摆，头颈里都有一种黑色底色配荧光绿色的商标，还印着几行白色小字英文。之前，我一直是在平湖地区周围的工厂转悠，熟悉那里的朋友应该知道，那里一带主要是一些加工梭织类衣服的工厂，就是比如，帆布裤子，夹克，棉衣，衬衫等服装，比较少有台湾客人喜欢的针织类的服装，比如T恤，卫衣等。没有进货渠道，自然还是只能做自己原来款式的衣服，但是不久以后的一件事情，深深得触动了我。十二、市场里来了一个台湾大客户，大个子，偏胖，一头卷发，一脸粗狂，满手泰银饰品，说起话来列着大嘴巴，一看就甚是有腔调，几乎把每个档口扫荡了一遍，都是几百件上千件得采购，惟独只在我的店里买了20几件棉衣，我彻底感到心理非常不平衡，我还嘟囔了句，"只拿这么点啊?"台湾客人显然觉得有点不好意思，为难得说:"哦，因为我们那边比较暖活，穿棉衣的季节很短，所以怕卖不掉。"哦!原来是这样!我怎么就没有想到呢。客人继续说，"我进这些棉衣，也只是卖给我们那里一些喜欢滑雪的朋友而已，我要在这里呆一个礼拜，你要是有卫衣或者T恤，可以通知我，我会来看货。"客人给我一张名片，便离开了。拿着客人的名片，但是没有货给客人也是无奈啊。我正在发愁。真是苍天有眼，做生意有时候就是这样，想也想不到的好事情就这么来了。这天，我和往常一样去外地采购，路上居然在长途汽车上睡过了头，来到一个我从来不认识的地方，隐隐约约看见窗外是一个很大的制衣厂，可能是职业病了，一看见路上有服装厂就会很兴奋，我立刻叫司机停车，马上跑去工厂要求看仓库，从此认识了我收库存生涯中的最大供货商。我进了这个工厂，它的仓库不是独立的，和车间之间只隔了一层玻璃，我先看见的不是库存的衣服，而是车间里正在做的衣服，突然就有了眼前一亮的感觉!整和车间里的衣服花花绿绿，甚是好看啊!以前从来没有过 这样的感觉!然后我开始看库存，这个仓库保管员和以前见惯的那些乡下人不同，话不多，眼睛比较小，我感觉我在看货的时候，他一直在边上打量我。（我后来才知道，这个保管员和厂长是连襟，仓库里的衣服是他专门承包的。在我之前，他已经接触过很多我这样的来自上海的客户，对七铺路行情的了解也远比我清楚。）仓库里的货并没有车间里流水线上的衣服来得漂亮，不过的确是一些卫衣和T恤，大概有1000件，我翻着翻着，从箱子里拿出一件比较漂亮的短袖，保管员突然过来拿过这件衣服，说这件搞错了，不应该放在这里的，这件不能卖的。说着，他把衣服放到墙边的1大排箱子里，并说，这里一排的衣服有2000多件，都是不能卖的。（这件衣服就是VANS的，可怜我当时连这个牌子也不认识，呵呵）我感到非常奇怪，忙问为什么，保管员说"去年卖了1000件这个牌子的衣服给上海人，他们拿去挂在七铺路卖，被日本下定单的客人发现了，回来质问老板，老板被罚写了保证书，以后次品不能卖，还交了一万美金的罚款。"原来是这样，不过不知道保管员说的是真的假的，不过这些衣服的确是很好看，我打开了他说的这些不能卖的衣服的箱子，翻了几件出来。试探得问了一句，"那上海不能卖，台湾是不是可以卖呢?"保管员有点犹豫，没有作声，我便继续说，"这样吧，你给我带几件样品回去，我问问看台湾的客人，能卖去台湾的话，日本人便没那么容易知道。""算了，不要去问了，也不知道现在老板想不想卖。"保管员似乎真的不想卖，说着，把箱子都关好，封上了。这下我有点急了，有一种直觉告诉我，这些衣服必定是好销的，现在放弃的话，可能就放弃了一个很好的机会，但是话说到这样了，怎么打破僵局呢?想到台湾客人推土机一样扫货的情景，我便开始头脑发热。，把心一横，这就叫舍不得孩子套不到狼，反正前阵子赚了几万块钱，输一点也没关系，听保管员的口气是有所松动的，应该有戏。于是我大胆得问保管员，"大哥啊，你这里1000件乱七八糟的衣服全给我了，但是，墙角这排衣服的样品，你一定要让我带回去，我要给台湾客人看"保管员沉默了很久，中途还出去打了个电话，然后回来说，"那好吧，不过这些样品衣服在上海是绝对不能卖的，你一定要记住。"回到店铺里，我把一堆垃圾货品漫漫整理出样，等挂满整个房间，居然还很好看，然后我把带回的样品假惺惺藏在似露非露的地方，就是粗一看看不到，但是略微翻动一下就会显露出来的位置，然后打电话给台湾粗旷大客户，怀着忐忑不安的心情，等待客户的到来。很快，台湾粗旷大客户就带了一大帮台湾的男男女女来到我的档口。他一看，我的店铺完全变了模样，先是有点惊讶，然后开始翻动我的衣服，一边翻，一边用台湾话和他的同伴在交流着什么，然后，问了我几个款式的衣服，有没有量，我说这些都是杂款的，他便挑了几件，叫我包起来，然后跟我说"我正要和同伴们去吃饭， 我要的这几件的款式的衣服，你可以帮我留心一下，以后有的话，你马上通知我。"说完便要离去。我心里正在着急，怎么会没有翻到我那几件样品呢?这时候，一个跟班样的台湾客人把大客户叫住了，他终于找到了我藏的样品，用台湾话和大客户讲了几句，然后大客户拿着样品仔细看了一下，我就在旁边观察动静，我发现，台湾客人并不只看衣服的款式，而是要看做工，商标，面料，还把衣服使劲拉，来检验衣服的印花会不会裂开，还特别注意衣服的水洗标。非常专业。一番鉴定之后，大客户终于开始问我"这个牌子的衣服，有几件?""这个衣服啊，厂里有的，很多款式，加在一起有2000件，怎么?你要吗?"我假惺惺得问。大客户和朋友们又交流了一会，然后，很坚定得说，"你把衣服都拿回来吧，我都要了!"说完就走了。我心里是又高兴又犹豫。高兴的是终于找到对路的货了，而犹豫的是，客人既没有定金，也不是很熟，万一要是有什么差池怎么办?于是我便拿了1件样品，到旁边一家关系相处还不错的档口里找老板聊天，这个档口和台湾客人做过很多生意，比较富有经验。我给老板看了样衣。然后问，"台湾人看中了这个衣服，但是没有付定金，叫我去工厂拿，要不要紧??"老板一看我的样衣，很是惊讶，说"这是VANS的啊!你怕他不要啊，别怕，我跟你打包票，绝对没有问题，台湾人不要，你给我好了!"十三、我兴致勃勃来到工厂，跟保管员再三保证，只卖台湾，不卖上海和国内，这才把货拖回家，然后便是打电话给客户，告知货已到，可以来提，但是档口很小，放不下，把地址告诉了客户。粗旷大客户很快打的来到我家，一看到满屋子的衣服，花花绿绿，顿时笑逐言开，抽查了几件以后，直接让我点数，然后开出一张单子，告诉我怎么托运，跟谁要钱，等等。然后问了我一些牌子的衣服，我当时什么都不懂，一问三不知，"不过，有一点，"我和台湾客人说，"我知道加工这些衣服的工厂，你把你要的牌子的衣服告诉我，我只要看见了就可以通知你。要不然，你看，象这次一样，明明有你要的东西，而我却不知道，要不是你朋友发现，岂不是太可惜了?"大客户犹豫了一下，写了二个牌子给我，然后说，"你就先帮我看看这二个牌子的衣服吧，现在在台湾很红，有的话，你通知我。""对了，我介绍个人给你认识，"他指了身边一个年轻上海人，"我因为不能一直在上海，我不在的时候，看货，你可以找他。"自此，我才开始知道，原来台湾客人在上海活动是有1段时间了，并且，一些比较强劲的有实力的客户，在上海都有比较信任的代理人，也就是俗称的"打货人"。从此，我开始涉足了和台湾客人的生意。了解了一些内幕，并且知道最后，为什么很多台湾客人战死在上海。早先发生过一件事情，台湾卖街头类服装，是有几个领军人物的，就是眼光比较独到，实力也比较强劲的大老板，然后会有很多小店铺追随，卖类似的款式的衣服。有一次，一名大客户在一家档口狠扫一个品牌的所有尾货，货款高达28万人民币。但是，在打包货运的某个环节，消息走漏了风声，其他追随者便在上海到处寻找同一个品牌的尾货，但是，找不到半件，于是，便有一名七铺路老板做了一批假货，并且卖给另外一名台湾大客户，由于见到一直寻找不到的品牌出现，也未加分辨真假，便通吃下来，货款也高达23万人民币。货到台湾，真假一看便知， 无奈，假货全部折价处理，也势必影响到真货销售，二败具伤。这就是早期著名的"拍拍屁股"事件。（此品牌名为"POWER TO THE PEOPLE"，谐音"拍拍屁股"）此事件以后，台湾客人在上海的行为略有收敛，凡是遇到太大量的尾货，都不敢贸然全吃。于是，无形中，有一个定量，300件之内。但是，台湾客人要的货都非常类似，也就是说，A客户要的货，B可以也极有可能要。于是，很多七铺路老板便敢于大胆地进货，单款数量1000件都不放眼睛里，进回来，找3--4个客户随便一分，便在上海全部消化掉了。更有甚者，为了卖货，居然在接待A客户时候居然大言不惭地说"此款货B君前2天35元/件， 拿了200件，我卖你30元/件，你拿回去便可以随便卖!"显然，在台湾的市场上，大家都卖一样的衣服，岂有赚钱的道理?再有就是个别"打货人"的作为，因为手中有一些可以不通过老板而直接往台湾发货的权利，为了从中赚取差价，把一些明知道不怎么好的货也往台湾一发了之。并且"打货人"之间互相串谋，坑害客户。台湾客户之间的恶性竞争，加之不诚实的七浦老板，再加上"打货人"的推波助澜，使台湾市场在短短2--3年时间内就从极度繁荣走向了衰败。而工厂方面，却在很长时间内始终是认为，上海的外贸服装市场"兴旺"，是相当繁荣，于是，拼命抬高价钱，更有甚者，把价格从原先的垃圾价格抬高到比出货日本的加工更高。如果遇到一些定单是有日本方面提供防伪副料或者高档面料的，因为防伪副料以及高档面料多余的数量有限，于是把订有防伪副料的尾货价格抬高到接近市场价格，俨然是一付专卖店的姿态，拼命挤压中间商的利润空间。而随着台湾客户的渐渐淡出兴旺市场，源源不断的原本供应台湾的货品，大量充斥了兴旺市场，这吸引了越来越多的上海本地零售客，先是吸引了原先的襄阳路市场的客流，后来逐渐吸引了更多新生代年轻人，尤其是女孩子。随着人流的增加，很多做广货的商家也盯上了兴旺，他们凭借比外贸商更强大的实力背景，慢慢将原本低楼的外贸商挤到了二楼，再是三楼。种种因素，使兴旺房租开始飚升，从原本 10000多，涨到去年下半年竟然有人喊出了18万，20万的天价，但是今年以来，房租却是有一定程度回落。12万，13万都有人出让铺子。而价格的回落，一方面受到兴旺2期，3期的开业影响，一方面，也反映了行业今年的不景气。十四、我发出2000件VANS到台湾的消息，很快传到了其他台湾客人的耳朵了，蜂拥来的台湾客户虽然没有拿到VANS，不过却把我店里当时为了和工厂搞关系而进的杂款卫衣和T恤买走了一大半。看到如此恶狼扑食的台湾客户，我便更加拼命去找货了。出VANS的这个工厂在后来的很长一段时间里，直到我自己有能力定做衣服以前，一直是我的供货主力。由于和台湾客人的生意做了比较长一段时间，能比较准确把握客人的口味，给以后开发新的进货渠道提供了很大帮助。跑工厂其实并不是脑力活，关键是勤快，敬业。到后来，工厂实在多到跑不过来了，除了控制住几家重要的工厂以外，便学会了和郊区以及外地的黄牛合作，由他们出面找货给我看，一来他们的身份比我的身份到工厂可以拿到更便宜的价格，二来，也扩大了自己的进货渠道。而这些黄牛，主要来自很多个外地的服装批发市场，早先比较有名气的当属宁波轻纺城。还有就是平湖市区里几个批发市场。当下最红的，绝对要属常熟**路了（牵涉很多同行利益，暂时不方便透露），他供应着现在七浦路很多家商铺的货源，并且有很多"打货人"常驻，兴旺就快沦为零售大市场的今天，大有取代以往兴旺的地位之势。应该说，我最不喜欢的，是和南通人的接触。南通也是进货价格最高的一个区域，在它的市区就有很多家工厂，帮助很多国际一线品牌做加工。和南通人的接触，让我深刻得体会到了当时，台湾人和我们交易时候的心情。也是最后让我决定了要改变自己的经营模式。在我和台湾客人的生意做了比较长一段时间以后，变得有点心骄气傲，而南通的很多工厂自恃掌握着大品牌的生产权，也是非常强硬，说一不二，我本来就对工厂的抬价行为大为不满， 如此一来，我认为不能够再被工厂牵着鼻子走，必须要改变这个状况。十五、话分二头说，和台湾客人之间的接触，情况也是比较复杂。有了客户，又有了货源，很顺利得和台湾客人做了很多次生意，于是，我考虑的是，如何同台湾客人保持比较长久的生意。从几次的生意以后，我认为有几点是要注意的，首先，我发现，"打货人"的作为，很多都不正派，这点，之前的文章里已经有提到，利欲熏心，这些人之中，有几个我是认为以后必定是要死的，（当然也有少数人品很棒的），所以，不能过于依靠他们，他们的利用价值，是帮我出一些比较不好的货，价钱可以发便宜一点，钱我可以少赚一点，但是责任不是我来担。其次，要多和台湾客人直接接触，培养彼此之间的感情，建立起信任度，自己的起步比别人要晚，懂的专业知识比别人少，只有用坦诚才可以尽量来弥补。再次，便是做生意赚钱是王道，而只有确保客户能赚钱，自己才有钱赚，也就是说，发给自己客户的货品的质量把关必须要严格，价格必须要公道。这些是我给自己定下的规矩，说起来是简单的，但是真的要做起来，并不简单。有时候为了自己的规矩，是要眼八八得看着自己的利润损失掉。这些时候，我往往是用以前听到的这样一个故事来安慰自己:从前，酒吧里有个傻子，人们丢一个一圆硬币和一个五角银币在地上，让他去捡，但是只能捡一个，傻子每次都只捡那个五角的银币，人们就哈哈大笑一番，后来，有人问这个傻子，你为什么不捡那个一元的银币呢?傻子回答说，如果我捡了那个一元的银币，以后就没有人再丢银币给我了!（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2008年4月10日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（17条）                                                                                                    第九城市 说：                                                        作者在博客里把剩下的写完了~~http://home.51.com/diary.view.php?user=clear1976&id=10024996                           2008年4月11日 22:23 | # | 引用                                                                                                                陆程 说：                                                        您好我看到了您的一篇文章，是关于您做服装生意的，确实很精彩。我现在也在卖服装，苦愁没有进货渠道，如果您看到了留言希望您能加我的qq527056455                           2008年4月12日 00:07 | # | 引用                                                                                                                Gomain 说：                                                        做人就该有毅力，同时别贪心，但光这样还是不行的。1。广货; 顾名思义，广州发上来的货广州十三行、新中国大厦一带。 5:00AM-12:00PM2。垃圾货。广州梓元岗 5:00AM-7:00pm3。大兴的名牌，这些并不用多说，大多数也是出自广州。广州白马 6:00AM-1:00PM4。外贸库存货品。广州桂花岗 5:00AM-7:00pm别太玩命，进一批货，够卖好一阵子的了。                           2008年4月13日 17:22 | # | 引用                                                                                                                朱华 说：                                                        很经典 我也想做这行，问题我始终没有看到贴主是否是一个人创业呢？一个人能做服装生意嘛？我现在就是困惑没有合伙人  QQ 109076285 注明服装                           2008年4月15日 14:50 | # | 引用                                                                                                                youyou 说：                                                        我也是上海的在做服装生意的,小店新开不久,也为好不到合适的货源发愁如果你愿意提供些好的进货渠道,我会万分感谢你,有钱大家一起赚                           2008年4月28日 01:07 | # | 引用                                                                                                                黄宁 说：                                                        你们好!很想问问,现在起步做批发是不是晚了点呢?                           2008年6月 9日 11:56 | # | 引用                                                                                                                叶可 说：                                                        我是在深圳做服装的,不过是在商场做零售,太多人在同一个地方拿货,现在生意也不见好转.想找一些价格中等,质量款式好一些的货源,如果有好介绍也可以告诉我哦.QQ54183142                           2008年7月 2日 13:11 | # | 引用                                                                                                                朱珠 说：                                                        你好 我在北京 特别想做这行 有可以帮忙的给个意见谢谢！！010-86103147                           2008年9月23日 14:05 | # | 引用                                                                                                                wood 说：                                                        哈哈，太搞笑了，大家都以为阮兄在做服装。。。哇哈哈，笑死我了                           2008年12月21日 22:14 | # | 引用                                                                                                                程志刚 说：                                                        还好  ，做 服装一定 不能积累库存货，现在潮流太快，做 服装生意的 朋友可以 加我 QQ623235458                           2009年9月14日 20:48 | # | 引用                                                                                                                ant 说：                                                        大家从头到尾看完再发言阮先生不是做服装生意的 这篇文章是他转发的不能心急啊。                           2009年11月 3日 12:05 | # | 引用                                                                                                                泋茗 说：                                                        本人一直找批发货 有兴趣对你衣服给我知道 谢谢                           2015年4月 4日 10:14 | # | 引用                                                                                                                池池 说：                                                        249102865.各位大神求带，本人刚做服装生意，有档口 有意向合作的厂家可以加一下聊聊。                           2015年4月11日 22:02 | # | 引用                                                                                                                李青 说：                                                        您好，我想与您加盟，希望能有此荣幸，联系QQ553641693                           2015年12月29日 14:35 | # | 引用                                                                                                                christinedhs 说：                                                        好希望能把接下来的部分看完，不知道有人把接下来的部分保存下来吗？                           2017年10月30日 19:29 | # | 引用                                                                                                                Vincent 说：                                                        你好 我希望能和你交谈多一个的知识因为我是刚刚出来 我想了解更多希望你能联络我 e-mail : [email&#160;protected]                           2018年10月18日 13:01 | # | 引用                                                                                                                广州服装批发 说：                                                        分享一下我的进货经验1、网上批发衣服没有最便宜，只有更便宜的。2、俗话说，便宜没有好货，网上的东西更是如此，需要你火眼睛睛，仔细甄别。3、要想找到既便宜且质量好的衣服批发地方，最好找那些厂家直供的拼货发起人，夏夏拼货批发衣服藐视就是一个挺靠谱的，你可以参考参考。4、[ωei﹤信﹥ 号 SY26991 ] 他会把上新的服装发到朋友圈                           2018年11月16日 13:40 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e97300f93cf45',t:'MTc0MzI0MzE2NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2008/04/my_5_years_in_clothing_business.html
米老排：胰腺癌日记 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    米老排：胰腺癌日记 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：人类世（Anthrop下一篇：多情只有春庭月，犹为离                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              米老排：胰腺癌日记                                                                                    作者： 阮一峰                                    日期： 2008年2月17日                                                                                                                                            昨天晚上，我很偶然看到网上一个一年多以前的帖子。不知不觉，读了一夜，唏嘘不已。                                                                                                                以下就是我整理的米老排（张刚）得病后的自述。==================2006年3月26日　　我在2000年11月曾经查出胸骨柄神经外胚叶肿瘤，经手术切除。在3月21日又检查出胰腺肿瘤，情况比较严重。胰腺肿瘤很大，10＊10＊6cm。胃小弯、肝门区、右锁骨有肿大淋巴结。　　　　因为刚刚发现，明天要去医院仔细请教医生。　　　　这几天查了这种病的资料，确定了目标是：在保证生命质量的情况下，尽量延缓生命。具体说来，在三项条件（"巨痛难忍、无力做事、无药可医"）达到之前，要努力配合医生做各种治疗；如果这三个条件都满足了，我想放弃治疗，自己进行安乐死。　　一年前做B超还没问题的，现在突然就发现了，而且是最讨厌的胰腺位置。没办法，造化弄人。祝福大家。2006年3月27日　　今天去找了外科医生，他说无法手术；打算明天去看胰腺病专家及联合门诊。总归有办法的，试一下拉，死马当活马医也可以的。。。　　　　我查阅过文献，最初的肿瘤90%以上是由于基因突变引起的,这不是人力之所及。顺应自然吧。　　　　我预约了明天的软组织联合门诊，还有一位胰腺癌的专家刘鲁明教授。努力想办法进行治疗了。　　　　人在命运面前非常脆弱，尽量选择坚强吧：）2006年3月28日　　我刚才给导师写过一封EMAIL，转贴在这里吧。　　　　　　这次的情况确实非常严重，大部分医生不赞成手术。今天去找了肿瘤医院的腹外科主任，大家商量了以后，决定冒一次险，做一个开腹探查手术，剖腹以后，如果可以切除，就切除掉；如果不可以切除，就进行病理检验以后缝合上，再进一步做其他治疗。目前我对手术的情况并不乐观，可是既然活着，就要遵循游戏规则，检查、治疗都得继续下去。　　　　我现在基本上还没有宗教感，不过有时候有一种宿命感。我觉得上天对我眷顾太多。我的病有90％以上的概率是由先天基因缺陷引起，而我能活到现在，已经是一个奇迹。尤其是2000年第一次生病以后，我还有缘来到师大读书，度过了一生中"最好的时光"，我觉得很幸运。甚至这次生病，虽然病发已是晚期，也未必是坏事，因为就算去年发现，又会进行一番治疗，可是治疗结果也是很难想象的，说不定早已辞世了。而我去年"无知者无畏"，过得非常洒脱，也算是不幸中之大幸！　　　　现在我的想法就是，自己要有一些平静和勇气，来面对这次危机。未来肯定要经过一些艰苦的岁月，而且有一些黑暗要由自己一个人面对的。我今天还在想自己的缺点和错误，我觉得我比较擅长宏观大的思维，却不善于做好事情的每个细节；比较能够以浪漫主义的气质面对这种看似严峻的挑战，却不善于面对日常生活中点滴的苦难。我在这点上以后要有所进步。　　　　我最近偶尔看点佛经，浅显的心经。觉得至少可以解决暂时的心安。2006年3月29日　　今天刚从医院回来，做了住院登记，等待医院通知。　　　　照我看来，人的状态可以分为"活着"和"死去"两种。　　"活着"就要按照"活着"的规矩办。即使患了肿瘤这样疾病，在早期，要做手术治疗；在晚期，也可以做放疗、化疗；在末期，还可以搞搞临终关怀。总之，只要是"活着"，就有办法的。　　　　不要怕厄运，关键是要平静，要自己积累勇气来面对。未来会怎样，谁也不知道，战胜这种对未知的恐惧感，去面对。　　　　至于"死去"，我想无足为虑。有三种可能，很快乐，也就是上天堂；很平淡，一切都消失了归于尘土；很痛苦，下地狱。最多也只有这三种可能而已，而且就现在的信息，貌似前两种可能性更大。暂时可以不必考虑。总之"视死如归"的态度比较好。　　　　可能真正艰难的是，面对最后的时光。就是非常痛苦，无力所事，无药可医，在生与死的边缘挣扎。我想，每个人迟早都要经历这一时期的吧，每个人都要面对，这是很公平的事情。我现在还没到这一时期，暂时可以不多想。想了又没有，LET IT BE。2006年4月1日　　详细病史，供各位参考。　　　　患者于2000年11月于我院行胸骨柄肿瘤切除术，术后病理显示：胸骨柄神经外胚叶肿瘤。术后于我院行放疗，DT 5985c Gy/28Fx/38d。后予中药治疗。　　　　2004年3月发现右颈淋巴结肿大，于我院行淋巴结清扫，术后病理显示：淋巴结增生，未见癌细胞。　　　　2006年3月23日复查腹部CT示：胰腺区域可见不规则软组织肿块，密度不均匀向上向前压迫或侵犯胃后壁，向后紧贴脾动脉，正常胰腺组织未见到。胃小弯、肝门区可见肿大淋巴结。肝胆肾形态密度未见明显异常。腹腔未见明显腹水。影像学印象：胰腺区占位性病变。胃小弯、肝门区肿大淋巴结。　　查体发现右锁骨淋巴结肿大，穿刺未见肿瘤细胞。　　　　现医生建议行开腹探查术。尽量切除肿瘤；如果无法切除，就进行病理检查，以确定进一步治疗方案。2006年4月3日　　今天拿到了免疫测定报告单.　　　　甲胎蛋白AFP 1.75　　癌胚抗原CEA 1.16　　肿瘤抗原CA19-9 30.16　　肿瘤抗原CA50 17.50　　肿瘤抗原CA242 0.00　　2006年4月7日　　根据免疫指标来看，原发性胰腺癌可能性不大，目前我自己最大怀疑是原来肿瘤的复发。10＊10＊6，是以CM为单位，这是我犯的一个巨大错误，我后来每年体检一次，出现消化不良症状，也没有考虑腹部肿瘤可能。这真是一个致命的错误。　　　　我下周会住进医院，确定了开腹探查术。这其实是一次赌博，拿生命做赌注。决定做手术，主要还是考虑到存在一定的手术切除的机会，如果没有全胰侵犯，也没有累及重要血管，手术切除还是有希望的。否则采取穿刺的方式一样能够确定病理。我以手术为代价换来的，只是一个切除机会，现在我个人估计在60％左右。　　　　手术以后，我自我估计有两种可能：一是手术可以切除，虽然已经是复发转移，根据文献记录，手术后会增加1年以上的生命期；二是开腹探查，无法切除，这让我延误接近两个月的治疗时间，并且付出了元气大伤的代价，对我后一步的治疗是比较不利的。当然一个好处是明确了肿瘤的性质和位置，方便进一步治疗。我猜测进一步的治疗还是要以放射为主。　　　　关于肿瘤的性质，现在90％以上确定是恶性的，一方面是肿瘤形态判断，另一方面则是我最近消瘦比较厉害，春节后大概瘦了10几斤；另一方面最近几天背後出现压痛，尤其是晚上剧烈，有时影响到睡眠。　　我也考虑了很久。现在的博弈是：　　A、不开刀，转而其他治疗，大概在1年之内死掉；　　B1、开刀，无法切除，元气大伤、耽误了其他治疗的时间，大概在未来3、4个月以后死掉。　　B2、开刀，可以切除，能够存活1～2年，代价是生活质量的部分下降。　　　　而根据目前的信息，出现B2的概率大概是60％。尤其是我的状况越来越差，概率会变小。所以这个时候我面临着严峻的局面，很难说哪种选择是正确的。　　　　到了这种时候，也许才是性格决定命运吧。我肯定会根据性格做出自己的选择。　　　　治疗是一步步的选择。我已经犯了巨大的错误，只能通过医学手段，尽量增加一段生命，提高生活的质量。2006年4月8日　　　　我看到过一个比喻，手术好比买股票，风险大，可是收益也比较高；放化疗好比买基金，收益比较稳定，可是收益率低；中药就好比买彩票了，虽然也有人中奖，可是要凭运气了。　　　　我并不排斥中医，只是不觉得自己的运气会特别好。我一直在吃中药，尽量中西医接合治疗吧。手术、放化疗、中医，到最后再加上止痛，反正医学总是有办法的：）2006年4月9日　　最近的休闲方式是狂看金庸的小说,沉浸在江湖之中,暂时可以逃避尘世间的苦难。　　　　向各位病友热忱推荐,金庸的书就是应该生病时候读的。　　一个医生网友的话,记在这里:　　　　看术中情况了，术中医生会决定根治术，姑息，还是开关术，如过根治术，你会吃很多苦，但是会有渺茫的期望；如果姑息，痛苦少些，希望更少些；如果打开又原封关上，你也许暂时没多少痛苦，希望也是零。总之，要配合医生，同时坚持，而且一定要建议医生用最人道的办法，减少痛苦。2006年4月14日　　这几天我体重基本没变化，只是晚上睡觉时候腰间会有压迫感和疼痛，看来肿瘤是长大了。　　　　我问过医生，大概会在下周一或周二住院，具体情况做过全面检查再说。住院期间我会请朋友帮我报告我的治疗情况的。　　　　愈挫愈奋，在遇见挫折的时候，更需要平静和勇气，走好每一步。2006年4月18日　　今天下午就去住院了，谢谢大家，更祝福各位病友，都有个好运气。　　　　住院的事情一波三折，非常麻烦，详细过程就不说了。住院以后恐怕还要面临种种难关，一步步来面对吧。2006年4月23日　　今天从医院里溜出来，汇报一下治疗进展：入院后做全身骨扫描时，发现几处骨转移，因此无法手术了。明天请教医生，如何制定下一步治疗方案。我个人估计是以放疗、化疗为主，辅以中药治疗。　　　　昨天晚上在想，HIFU刀、氩氦刀、热疗等新兴技术，也许会有效，今天GOOGLE一下，果然看到很多报道，除了价格太贵以外，效果不错，不禁有些心动。后来灵机一动，到"中国期刊网"搜索专业文献，效果却并不乐观：总的来说，不能延长生存期中位数，止痛效果明显。在这里供各位病友参考，大家虽然救命心切，可是对新技术不要盲目相信。　　2006年5月1日　　最近一直在住院，51节期间医院放假，因此回家休息。回家后腿莫名其妙的痛了两天，疼痛让人了无生趣，也没有精神做任何事了。　　　　谢谢各位朋友的支持和鼓励。跟医生商量，骨上的肿瘤虽然疼痛，可是目前尚不致命，可是胰腺位置的肿瘤再发展，大概一两个月就会影响生命了。所以仍然打算在51后手术试一下，看能否有切除的可能。尽人事，看运气了。　　　　看到这么多生癌症的人，而我也不过是其中的万分之一、百万分之一而已。癌症、疼痛这些，大概绝大多数人一生中都会经历一二，而我则不过提前经历而已，也属于比较正常。以后的事，看努力，也看运气了。　　　　六年与死亡的抗争之路，走得并不容易。愿老天多眷顾，再提供一些时光吧。2006年5月13日　　今天是周末,我又从医院里溜回家了,呵呵。　　本周决定,还是先不要开刀了,做穿刺取病理,然后做放化疗。可能是以化疗为主吧。　　生病真是很麻烦的事情。一步步往下走吧。2006年5月18日　　今天从肿瘤医院出院了,住院整整三十天,没有做任何治疗啊....简直是一出荒诞剧...　　　　明天去另一家医院住院,开始做化疗.....以前没有化疗过...这是第一次...希望我运气好吧...　　　　感谢各位的回复...在论坛里看看,到处都是惊心动魄的疾病...唉...怜我世人,忧患实多!　　　　等我下次出院了,会写一些东西的!2006年6月11日　　好久没有从医院里溜出来了,谢谢各位朋友的回复,愿上帝保佑你们健康平安!　　　　我经过了第一次化疗,所有的副作用都出来了,真奇怪,可能是我的身体太虚弱了,或者是医生下药太重,总之副作用比其他人都厉害.现在身体也很虚弱,现在比较担心第二次化疗能否如期进行.　　　　可惜,除了化疗好像也没有特别的好办法:(　　刚才睡了一觉。晚饭后回医院。　　　　在肿瘤病房住院真是一件很恐怖的事情，不但病人中有很多不打算活着回去，而且我感到医生也这么想吧。医生做的只是按标准流程来操作，制定方案，用药，提升血象...至于这几个化疗疗程结束以后是什么，只有天晓得。这样痛苦的结局，大概也只能延缓一年半载的生命而已。有时候很困惑，以如此代价换取一小段价值不高的生命，是否值得？　　　　癌症到了晚期，化疗的意义究竟有多大？这是我每天都在考虑的问题。我能感觉到，化疗以后自己的体力虚弱得太多了，化疗对身体的伤害太厉害了；而且，化疗的疗效能痊愈吗？这些药水，可以克服我体内的这个10＊10的肿块吗？这些不行，再换几种，几经折腾以后，我的身体又会怎样呢？　　　　我们比外国人幸运，我们还有中药。可是有没有人认真研究过，中药治癌到底效果如何？有没有一个准确的说法呢？如果中医药如同信仰一样成为一种迷信，那么又怎能让人信服，中医可以战胜现代医学？　　　　很多困惑，很多困难，未来的道路根本就是不可知的。面对如此凶险的命运，我想很多病友和亲属都和我一样具有无穷的困惑吧。引用宋美龄的名言："如果上帝要我活下去，我绝对会坚持；如果上帝要我去死，我绝不苟且的活着"（大意）。虽然在生死之间每一步选择都很艰难，仍然要这样下去吧。　　　　一会就回医院，打算去买个2手本本，在医院里也可以上上网、写点东西，做无益之事，以遣有涯之生。2006年6月12日　　今天回家了，医生讲休息一周再回去化疗。　　附我的化疗方案，请论坛里的医生看一看。　　　　环磷酰胺 CTX 1g/2d　　阿霉素 ADM 90mg/2d　　长春新碱 VCR 2mg/1d　　放线菌素D ACDT 400mg/5d　　这次病理结果是小圆细胞肿瘤,结合我的病史,诊断为:原始神经外胚叶肿瘤术后胰腺转移\骨转移。　　　　化疗就是根据这个病理进行的。2006年6月16日　　我也感觉很奇怪。我的疼痛确实不厉害,一个是饭后几个小时肚子痛,另一个是晚上睡觉的时候不能平躺,只能侧卧。而且从今天开始，我把吗啡量减少到了10MG，试试可不可以耐受疼痛。2006年6月18日　　我做了免疫组化，可是因为是细针穿刺，未能做成功，只判断出小圆细胞恶性肿瘤。同时参照我00年的病史，考虑为原始神经外胚叶肿瘤复发转移，化疗方案也是根据这个来的。关于PNET'S，我搜索了一堆的文献，包括国外文献。基本上都说恶性程度很高。一半看运气，一半靠努力吧。2006年6月19日　　我还记得在00年的时候，胸骨柄手术切除前后两次病理，都是一样的结论，原始神经外胚叶肿瘤或者askin tumor。这次因为是细针穿刺所得，不足做免疫组化，只得到小圆细胞恶性肿瘤的结论。目前的治疗暂时只能按照这个病理来了。　　　　目前我做了一个疗程的化疗，明天或后天入院，做第二个疗程的化疗。然后再做CT，评估化疗效果，再确定下一步的治疗手段。根据我查到的国外文献，化疗对原发性PNET'S有一定效果，对转移瘤效果比较一般。目前我在胰腺部位和髂骨处有两处转移。　　　　下次化疗结束后，针对髂骨转移，我大概会进行放疗；针对胰腺部位肿瘤，我大概有以下几种选择：　　1、继续化疗，完成四个疗程的化疗。如果化疗效果不明显，则更改方案。　　2、缩小明显的话，进行手术切除；　　3、放疗。　　4、干脆就全部吃中医治疗。　　　　我想请教各位医生，针对我目前的病理，哪种选择会相对好一些。请各位给点建议。谢谢了。2006年6月27日　　这次化疗已经结束了，会根据化疗效果确定治疗方案。我自己最想的还是手术切除掉，只是不知道这次化疗的效果如何。2006年7月1日　　其实生了这种病是因为运气，治疗这种病更是靠运气。我觉得，手术、放化疗、中药这些治疗方法，无论怎么选择都是正确的，到了我这个阶段，都是碰碰运气而已啦。　　　　目前为止，我个人比较喜欢手术的，不过也有很多好朋友建议用纯中药治疗，内心真的很矛盾。我只是一个普通人，并不具有特别的智慧，在这些选择面前非常困惑，非常迷惘。只能说，我大概最后会根据自己的性格做决定吧，这会儿，真的是性格决定命运了。反正对一个晚期患者来说，任何决定都是正确的：）2006年7月4日　　首先要告诉大家一个好消息，经过两个疗程的化疗，我身上的这个肿块已经从10×10×6缩小到了7×4×7。虽然仍然是很大，可是我的症状明显消失了，饮食很正常，疼痛不再。　　　　下一步有可能再去手术，也有可能接着化疗。要听听不同专业的医生意见再做决定了。虽然仍然很麻烦，一步步向前走吧。2006年7月6日　　今天去郊区看中医，居然开出来3千块的中药，很夸张。每周1000块的速度吃下去，很快我的棺材本儿就吃没了。最终我还是决定，暂时不吃这么昂贵的中药了，先缓一下再说。　　　　生活是非常不容易的，金钱是非常非常重要的。以后生活将会越来越显示它严酷的一面，只有好好努力奋斗。虽然手里的牌越来越不好，尽心尽力的打，结局也是难以预料的吧。2006年8月13日　　非常抱歉啊，这些日子心情不是很好，所以没上来回帖。　　　　我已经进行了三次化疗，明天开始再做第四次化疗，然后再视化疗效果，确定下一步治疗方案。　　　　这些天看到了很多不幸的事情，愿病友都健康快乐！2006年8月31日　　我今天办理了出院手续，终于结束了第四次化疗。　　　　先报告一个好消息就是，经过四次化疗，胰腺部位的肿块缩小到了3.7*2.3*5.0cm，从最初的10×10×7CM，缩小到这种程度，也是很不容易的。　　　　坏消息是"肝脏体积增大，肝缘轮廓规则，增强后动脉期肝脏密度不均匀，建议MRI除外转移"。肝脏有可能出问题了。　　　　还有一个坏消息是，四次化疗的副作用太大，化疗医生建议我短时间内不要再化疗了。2006年9月6日　　报告大家一个好消息，经过肿瘤医院的专家会诊，暂时已经排除了肝脏病变的可能。又逃过一劫！　　　　现在我的问题是，经历过四次化疗，我的身体已经比较虚弱，化疗医生认为我已经无法继续化疗，建议我去手术；而外科医生看片子说血管有粘连，担心切缘不干净，建议我再做两次化疗，将化疗的作用发挥到最大，再做手术。而他们共同的意见是，让我自己拿主意。又面临选择了，很困惑！　　　　一路走来，就是不停选择的过程，而且每一步选择错误都将面临生死考验，这可能是肿瘤治疗最为艰难的地方。2006年9月11日　　经过四次化疗，胰腺部位的肿瘤已经缩小到3.7*2.3*5CM，缩小到最初的1/15，呵呵，我的运气还真不是一般的好。不过化疗医生说，你的体质已经太弱了，最好不要再化疗下去了；可是放疗医生、外科医生又说，既然化疗这么有效果，那还是再做两个疗程吧。我晕。　　　　虽然在感情上我已经受够了化疗，可是理性上告诉我，这些医生是对的。"宜将剩勇追余寇，不可沽名学霸王"，既然化疗有效，就应该把这种治疗手段发挥到极至，再寻找别的解决之道。自己虽然身体损伤很大，仍然只能苦撑待变，相信事情必有转机。2006年10月11日　　第五次化疗结束了，刚出院。这次做化疗，历时22.5天，花费2.4万元，输血一次。真不敢相信，今年我居然已经做了5次化疗，最初还以为走不到这么远。化疗效果还不晓得，打算再做一个疗程再做检查。　　　　住院象是一种修炼。最近的感悟有两点：首先是要沉静下来，从容镇静，普通低调；其次是，不要为世俗的牵挂所累。自由的灵魂可以超越一切限制，直到超越生死。　　　　用很久以前一个朋友的话说：黄土埋不了我。2006年11月1日　　谢天谢地，10月终于过去了。　　　　要悼念几个好朋友。一位是一个网友"重生2005"，她和我同岁，生病之前在杭州的一家五星级酒店上班，未婚。认识两年了，一直在和癌症作斗争，最终还是没能躲过10月。死亡确实是太容易的事情了，让人没有话说。我见过她两次，一次是在我叫了一个好友，一起去绍兴看她；还有一次就是在一个月前，她来上海看医生。真的没想到人走得这么快。重生一路走好，天堂里没有忧伤。　　　　还有一位病友，则是在病房里认识的，他是我遇见的少有的好人，善良、敏感、又达观知命。生病到现在不过两个月，中午时分我还在和他聊天，晚上就去了，怎样也抢救不回。他无儿无女，死去的时候身边空无一人，只有敬业的医生进行着没有指望的抢救。这是我见过世间最可悲的场景。他是一个很棒的摄影师，不知道此刻他是否还在微笑？　　　　10月离去的人，还包括"谁的青春比我狂"的子尤，这个小朋友才华横溢，又有故事，几年对抗病魔的坚持，留给世界的只是传奇了。　　　　我的10月也不是很好，不过幸好10月已经过去了，11月来临了。继续以强悍的性格面临未知的命运吧，一不要怕，二不要悔！2006年11月6日　　今天出院，六次化疗彻底结束。最后两次化疗基本上没什么效果，又到了选择的时候了。to be or not to be,这是个问题啊。　　　　如果不去手术，继续保守治疗，基本上就是等死；如果去手术，身体会有严重的损伤，同时也无法根治，基本上算是找死。综合评估，等死不如找死，让性格决定命运吧。2006年11月8日　　决定手术。　　今天办理了住院手续，基本上确定在下周一手术。手术是极为痛苦的过程，可是，只要一推到手术台上，以后的事情也由不得你了。人为刀俎，我为鱼肉，如此而已。　　　　一个月以后再见。各位不要担心，我肯定没事的：）2006年12月7日　　（作者：春梦绕胡沙）	　　楼主在上海一家民营医院，术后有并发症，恢复情况不好，考虑转到比较大的医院去，但现在转院有两个问题，第一是专业的肿瘤医院和大医院床位紧张转不进去，二是并发症确实比较难治，群里有能帮上忙的，拜托留个联系方式，谢谢各位了！2007年1月5日　　（作者： brianshi）	　　由于机缘巧合，有幸联系上了米老排，今天下午我去看望了他。　　老排住的医院可能是一家民营医院，有一些大医院退休的科室主任领军。医院不大，但科室相对齐全。内部环境不错，有点宾馆的风格。今天医院的电子宣传栏上还有"欢迎某某外国团体前来体检"的词样，可惜是中文的，不知老外是否看得懂。　　见到老排时他正坐在床上，家人陪在一旁。老排的精神很好，手术已经快2个月了，胰腺上的肿瘤已经被切除。但是手术创伤很大，况且他又是先化疗再手术，而且又是第三次手术了，所以身体恢复还需要一段时间。目前老排还在做放疗，是为了解决髂骨转移的肿块。已经做了几次，他说再过一两周就差不多要出院了。　　和老排交流了些看病的经验和感受，并转告了网友们对他的真诚祝福和热切盼望。老排说他出院后会立即上网向大家汇报具体情况！　　不敢呆太久的时间，怕影响了他的休息。所以匆匆而别。走出医院的时候外面依然寒风萧瑟，套句俗话吧，"冬天来了，春天还会远吗？"　　祝福老排早日出院，祝福所有在经受着人生寒冬的人们，早日迎来春回大地，春暖花开。2007年1月16日　　今天出院了。　　身体还是比较虚弱，需要在家好好养一段时间。　　谢谢各位的祝福。　　希望能顺利走过寒冬，到达春天。2007年1月22日　　我现在状态很不好,身体极度虚弱,吃饭吃不下去,胃不舒服,也没食欲.每天晚上都有低烧.经过13次放疗,髂骨部位也不疼了,遗憾的是背部/腹部等好几个部位出现疼痛.我的治疗教训告诉大家,胰腺肿瘤做手术一定要慎重.　　　　至于我自己，性格决定命运吧，如果不做这次手术，我是不会甘心的。现在面临的问题就是，有可能病情的发展比没有手术还要糟糕，不知道自己还有多久的生命了。努力走过今年冬天，走到明年春天，即使要走，也要选择比较好的天气吧。　　　　今天看医生，主要是开了一些新的止痛药，还有开了脂肪乳、白蛋白等营养针剂，打算明天注射。　　　　现在我吃的药品保健品不多，不过觉得已经成为负担了。现在有：骨转移口服药物－固令、止痛药物－硫酸吗啡、诺福丁、宜利治；胃药洛塞克；抗血凝药－潘生丁。保健品都是刚刚开始吃，螺旋藻、仙人掌提取液、复方阿娇浆，打算再买一些几丁聚糖。我吃的药品、保健品是不是太多了？？？各位能给点意见嘛？　　　　打算本周或者下周去看看中医。无论现在体内癌细胞处于什么状况，化疗／放疗暂时不会再做了，太伤身体了，也许我现在已经是过度治疗了。　　　　我把我的治疗详细说出来，主要是希望大家要接受我的教训。另外，我的情绪最近也有些悲观。祝福大家，虽然悲观，仍然要努力！2007年1月30日　　周末这几天又有些吐，呕吐让我很沮丧，明明很饿，可是吃下去的东西全都吐出来了。今天还好，没有呕吐，感觉吃了很多东西。　　　　我经常在这里看贴，看着看着眼泪都要掉出来，感谢天涯陌生的朋友的支持和鼓励。在心里，我真的是一个比较害羞的人，不太容易表达。这些年生病的历史，太多太多熟悉和不熟悉的人，给了我很多帮助，我知道，有些债，是我这辈子都还不了的，唉。　　　　人生总有些事无法预料，无法选择。有时候要坚强的面对，有时候又要明智的撤退。既要勇气，又要智慧，艰难阿。仍愿进这个帖子的朋友们好运气，家人们好运。像我现在看帖看多了，就觉得我父母真是幸运，60多岁的人了，基本上没什么大毛病，健康真是最大的财富了。　　　　2007来了，仍然和以前一样，努力让自己再活3个月，再活6个月，努力一天天的活下去吧。2007年1月31日　　我这两天饮食上还不是很好，今天开始每天在家里挂一些氨基酸、脂肪乳之类的，打算下周住进医院，再好好的加强营养。现在感觉营养支持是非常重要的。2007年2月18日　　事情的发展让人始料未及，这次去医院检查，情况非常糟糕，我的几乎所有器官都长满了肿瘤，肺部\肝部还有腹腔里都布满了肿瘤。而且全身广泛骨转移，骨头上也都是肿瘤。现在全身没有力气，没办法接电话和回短信，每天在麻醉药中昏昏欲睡。　　　　　　今天硬撑着回家过了一个年，这是最后一个春节了。谢谢关心／支持我的各位朋友，大家要好好活着，活得开心／活得好。谢谢大家。......=============张刚的简历*    1977年6月4日，出生于山东枣庄。*    1994年，考取中国科技大学。*    1999年，被分配至上海航天局第809所。*     2000年10月,被查出患有骨癌。*     2002年, 入华东师范大学社会学系,师从陈映芳教授。*     2005年，入华师大历史系攻读博士，师从许纪霖教授。*     2006年11月,由骨癌转为胰腺癌,他再度入院,接受联合器官手术 。*     2007年2月28日，早晨5点，去世。[相关链接]* 张刚的Blog* 张刚纪念专题（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2008年2月17日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（15条）                                                                                                    redleafong 说：                                                        人类的灵魂在物质世界面前没有尊严可言。妥协从来不是选择。无不用起极地反抗才是出路。                           2008年2月17日 05:00 | # | 引用                                                                                                                MOSESLIANG 说：                                                        非常同情张刚，事实是我们哪里有资格同情他！我妻子情况类似，去年12月份发现已经转移到肺部，又经历了两个疗程的化疗后，CT显示根本没有效果。无论是经济还是家庭还是个人事业，还有我的父母，全家被疾病压的苦不堪言。但没有任何办法，不知道未来会怎样。妻子刚刚34岁。                           2008年2月17日 13:56 | # | 引用                                                                                                                ppip 说：                                                        人生总是有无奈。                           2008年2月17日 20:51 | # | 引用                                                                                                                mingkai 说：                                                        人生的价值何在？如此高贵的灵魂                           2008年2月17日 20:58 | # | 引用                                                                                                                红色造反者 说：                                                        面对死亡他虽然有点遗憾但没有畏惧  “今天硬撑着回家过了一个年，这是最后一个春节了。”不知道他写这话时是什么心情，但感觉是很平静的走好                           2008年2月17日 22:34 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用MOSESLIANG的发言： 非常同情张刚，事实是我们哪里有资格同情他！我摘录的时候，更多的其实是同情我自己。想起帕斯卡的一句话，“人是孤零零地被抛到这个世界上来的”……                           2008年2月18日 02:12 | # | 引用                                                                                                                pixel32 说：                                                        在巨大的现实面前，人是很脆弱的。有好多知道的认识的blogger都辞世了……心里很难过……除了疾病还有以外事故，上海的卡夫卡 陆就是因为车祸……有些时候很多事情都变得无足轻重，特别是在生命面前。只要还能呼吸的一天，就应该为别人留下些什么有用的东西。至于个人就像ruan yifeng说的“人事实孤零零地被抛到这个世界上来的”，有来有去，大家不要太难过了。保重身体。                           2008年2月18日 16:29 | # | 引用                                                                                                                Gordon 说：                                                        唏嘘不已，无可言传。                           2008年2月19日 00:46 | # | 引用                                                                                                                220volt 说：                                                        化疗效果最好的是乳腺癌,但也只有60%.也就是说40%是无效的.化疗不一定有效,但对身体绝对有害.                           2008年2月19日 20:31 | # | 引用                                                                                                                MosesLiang 说：                                                        引用Ruan YiFeng的发言： 我摘录的时候，更多的其实是同情我自己。想起帕斯卡的一句话，“人是孤零零地被抛到这个世界上来的”……知道自己应该坚强的面对所有的困难，可是太难了。妻子就是乳腺癌III期，去年2月份手术，2-9月份经历了5次化疗，还做了放疗。去年12月圣诞节前发现转移到了肺同时在北京301医院挂了特许门诊，然后回家继续化疗，紫杉醇+卡铂方案，两个疗程后无效，现在继续试用新的盖诺+顺铂方案。去年圣诞节到现在已经花了25000元左右。楼上这句话：化疗效果最好的是乳腺癌,但也只有60%.也就是说40%是无效的.化疗不一定有效,但对身体绝对有害.应该说得很对。还在坚持自己的梦想，但是真的不知道未来会怎样。                           2008年2月20日 11:34 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用MosesLiang的发言： 知道自己应该坚强的面对所有的困难，可是太难了。除了安慰，不知道说什么，在痛苦面前，生命真的是不堪一击。你可以去天涯社区看看，那里有很多这方面的帖子，也许有用。http://tinyurl.com/2lh8gr                           2008年2月20日 13:28 | # | 引用                                                                                                                萤火 说：                                                        是我们学校的很是惋惜了一阵子                           2008年2月20日 17:38 | # | 引用                                                                                                                220volt 说：                                                        我是搞医的,我不知说什么好.好好照顾她吧.                           2008年2月20日 21:22 | # | 引用                                                                                                                雷蕾 说：                                                        是听政治老师说的，才来搜的。果然看到了。很佩服学长的精神！！！                           2008年11月14日 20:54 | # | 引用                                                                                                                黄小敏 说：                                                        我一直也有留意米老排，我弟是华师大毕业的，刚也走了，唉。我弟也一直看着他的日记，我才开始关心起米老排，人生很短暂，想不到我弟也随着他一起离开这个世界了。一份这么好的工作......也是一个这么年轻的生命。                           2013年1月23日 07:41 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e98b36b8ecf45',t:'MTc0MzI0MzIyNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2008/02/pancreatic_cancer_diary.html
信息论入门教程 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    信息论入门教程 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：信用卡的历史起源&nbsp;&nbsp;&nbsp;下一篇：科技爱好者周刊：第&nbsp;6                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              信息论入门教程                                                                                    作者： 阮一峰                                    日期： 2019年8月 1日                                                                                                                                            1948年，美国数学家克劳德·香农发表论文《通信的数学理论》（A Mathematical Theory of Communication），奠定了信息论的基础。                                                                                                                今天，信息论在信号处理、数据压缩、自然语言等许多领域，起着关键作用。虽然，它的数学形式很复杂，但是核心思想非常简单，只需要中学数学就能理解。本文使用一个最简单的例子，帮助大家理解信息论。一、词汇的编码小张是我的好朋友，最近去了美国。我们保持着邮件联系。小张写信的时候，只使用4个词汇：狗，猫，鱼，鸟。信的所有内容就是这4个词的组合。第一封信写着"狗猫鱼鸟"，第二封信写"鱼猫鸟狗"。信件需要二进制编码，在互联网传递。两个二进制位就可以表示四个词汇。  狗 00猫 01鱼 10鸟 11所以，第一封信"狗猫鱼鸟"的编码是00011011，第二封信"鱼猫鸟狗"的编码是10011100。二、词汇的分布最近，小张开始养狗，信里提到狗的次数，多于其他词汇。假定概率分布如下。  狗：50%猫：25%鱼：12.5%鸟：12.5%小张的最新一封信是这样的。  狗狗狗狗猫猫鱼鸟上面这封信，用前一节的方法进行编码。  0000000001011011一共需要16个二进制。互联网的流量费很贵，有没有可能找到一种更短编码方式？很容易想到，"狗"的出现次数最多，给它分配更短的编码，就能减少总的长度。请看下面的编码方式。  狗 0猫 10鱼 110鸟 111使用新的编码方式，小张的信"狗狗狗狗猫猫鱼鸟"编码如下。  00001010110111这时只需要14个二进制位，相当于把原来的编码压缩了12.5%。根据新的编码，每个词只需要1.75个二进制位（14 / 8）。可以证明，这是最短的编码方式，不可能找到更短的编码，详见后文。三、编码方式的唯一性前一节的编码方式，狗的编码是0，这里的问题是，可以把这个编码改成1吗，即下面的编码可行吗？  狗 1猫 10鱼 110鸟 111回答是否定的。如果狗的编码是1，会造成无法解码，即解码结果不唯一。110有可能是"狗猫"，也可能是"鱼"。只有"狗"为0，才不会造成歧义。下面是数学证明。一个二进制位有两种可能0和1，如果某个事件有多于两种的结果（比如本例是四种可能），就只能让0或1其中一个拥有特殊含义，另一个必须空出来，保证能够唯一解码。比如，0表示狗，1就必须空出来，不能有特殊含义。同理，两个二进制位可以表示四种可能：00、01、10和11。上例中，0开头的编码不能用了，只剩下10和11可用，用10表示猫，为了表示"鱼"和"鸟"，必须将11空出来，使用三个二进制位表示。这就是，上一节的编码方式是如何产生的。四、编码与概率的关系根据前面的讨论，可以得到一个结论：概率越大，所需要的二进制位越少。  狗的概率是50%，表示每两个词汇里面，就有一个是狗，因此单独分配给它1个二进制位。猫的概率是25%，分配给它两个二进制位。鱼和鸟的概率是12.5%，分配给它们三个二进制位。香农给出了一个数学公式。L表示所需要的二进制位，p(x)表示发生的概率，它们的关系如下。通过上面的公式，可以计算出某种概率的结果所需要的二进制位。举例来说，"鱼"的概率是0.125，它的倒数为8， 以 2 为底的对数就是3，表示需要3个二进制位。知道了每种概率对应的编码长度，就可以计算出一种概率分布的平均编码长度。上面公式的H，就是该种概率分布的平均编码长度。理论上，这也是最优编码长度，不可能获得比它更短的编码了。接着上面的例子，看看这个公式怎么用。小张养狗之前，"狗猫鱼鸟"是均匀分布，每个词平均需要2个二进制位。  H = 0.25 x 2 + 0.25  x 2 + 0.25  x 2 + 0.25 x 2     = 2养狗之后，"狗猫鱼鸟"不是均匀分布，每个词平均需要1.75个二进制位。  H = 0.5 x 1 + 0.25 x 2 + 0.125 x 3 + 0.125 x 3     = 1.75既然每个词是 1.75 个二进制位，"狗狗狗狗猫猫鱼鸟"这8个词的句子，总共需要14个二进制位（8 x 1.75）。五、信息与压缩很显然，不均匀分布时，某个词出现的概率越高，编码长度就会越短。从信息的角度看，如果信息内容存在大量冗余，重复内容越多，可以压缩的余地就越大。日常生活的经验也是如此，一篇文章翻来覆去都是讲同样的内容，摘要就会很短。反倒是，每句话意思都不一样的文章，很难提炼出摘要。图片也是如此，单调的图片有好的压缩效果，细节丰富的图片很难压缩。由于信息量的多少与概率分布相关，所以在信息论里面，信息被定义成不确定性的相关概念：概率分布越分散，不确定性越高，信息量越大；反之，信息量越小。六、信息熵前面公式里的H（平均编码长度），其实就是信息量的度量。H越大，表示需要的二进制位越多，即可能发生的结果越多，不确定性越高。比如，H为1，表示只需要一个二进制位，就能表示所有可能性，那就只可能有两种结果。如果H为6，六个二进制位表示有64种可能性，不确定性大大提高。信息论借鉴了物理学，将H称为"信息熵"（information entropy）。在物理学里，熵表示无序，越无序的状态，熵越高。七、信息量的实例最后，来看一个例子。如果一个人的词汇量为10万，意味着每个词有10万种可能，均匀分布时，每个词需要 16.61 个二进制位。  log₂(100, 000) = 16.61所以，一篇1000个词的文章，需要 1.6 万个二进制位（约为 2KB）。  16.61 x 1000 = 16,610相比之下，一张 480 x 640、16级灰度的图片，需要123万个二进制位（约为 150KB）。  480 x 640 x log₂(16) =  1,228,800所以，一幅图片所能传递的信息远远超过文字，这就是"一图胜千言"吧。上面的例子是均匀分布的情况，现实生活中，一般都是不均匀分布，因此文章或图片的实际文件大小都是可以大大压缩的。八、参考链接Visual Information Theory, by Christopher OlahInformation Theory (PDF), Roni Rosenfeld（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2019年8月 1日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（21条）                                                                                                    Breeze 说：                                                        这篇文章讲得非常生动，精辟。                           2019年8月 1日 15:29 | # | 引用                                                                                                                nusr 说：                                                        这种编码是前缀编码，可以使用哈夫曼算法实现。                           2019年8月 1日 16:03 | # | 引用                                                                                                                hololens 说：                                                        全文就差一个“哈夫曼编码”来做结论看前面感觉会引出这个，结果没写。//sad                           2019年8月 1日 18:26 | # | 引用                                                                                                                asdf 说：                                                        确实。看着看着以为后面会说哈夫曼。                           2019年8月 1日 20:42 | # | 引用                                                                                                                李军 说：                                                        通俗易懂                           2019年8月 1日 22:27 | # | 引用                                                                                                                DeathGhost 说：                                                        看得我津津有味，结果没看懂                           2019年8月 2日 09:29 | # | 引用                                                                                                                峰粉 说：                                                        我竟然看懂了，通俗易懂的描述了，信息量为什么是以信息的不确定性（信息熵）为单位的。大神毕竟大神！！                           2019年8月 2日 09:39 | # | 引用                                                                                                                fe 说：                                                        通俗易懂  感谢                           2019年8月 2日 10:00 | # | 引用                                                                                                                demo 说：                                                        感觉自己通信原理白学了。。。                           2019年8月 2日 11:40 | # | 引用                                                                                                                luming 说：                                                        小张那个动物再后面加几个的话，编码应该怎么排呢？                           2019年8月 5日 12:14 | # | 引用                                                                                                                陈一 说：                                                        香农的公式似乎只适用于二分的概率，生活中常见的不规律的概率可能行不通                           2019年8月 6日 14:17 | # | 引用                                                                                                                flyyy 说：                                                        引用陈一的发言：香农的公式似乎只适用于二分的概率，生活中常见的不规律的概率可能行不通按照你的说法，阮老师文引出中香农公式的“猫狗鸟鱼”本身就不是二分概率，至少叫四分概率。我的理解是香农的公式适用于二进制编码，假如是n进制，香农公式可以改写成L=LOGn(1/Px),这里的n是编码用的进制，跟几分概率没有关系。                           2019年8月 7日 08:00 | # | 引用                                                                                                                cmh 说：                                                        其实所有通信类的书上都会有信息论的这些内容，但好像从没有一本书能讲的像阮老师博客这么清楚，书上一般都是直接给出熵的定义，然后就基本完事了。唉，大道至简，最烦那些故作高深的书和人。                           2019年8月31日 20:10 | # | 引用                                                                                                                duai 说：                                                        DDD领域模型驱动能出片文章吗                           2019年9月 3日 10:36 | # | 引用                                                                                                                UnknownPlayer 说：                                                        之前一直不理解熵的定义, 看了老师的博客, 恍然大悟                           2019年11月14日 22:16 | # | 引用                                                                                                                standingby 说：                                                        信息熵的引出简单明了，解释了我接触这个概念以来的困惑！                           2020年2月24日 15:02 | # | 引用                                                                                                                影法師 说：                                                        阮老师写的真好！秒懂！原先学的时候一直不明白香农的那个公式到底啥意思，现在秒懂了~                           2020年6月17日 14:33 | # | 引用                                                                                                                liam 说：                                                        从b站新发布的那5G华为视频一路查到最后，发现还是阮老师的文章言简意赅的讲了一遍那公式算法。大佬NB!                           2021年11月 5日 01:35 | # | 引用                                                                                                                lyl 说：                                                        阮老师讲得真清楚啊！秒懂！熵就是信息采用最优编码方案(哈夫曼编码)时需要的平均位数。                           2022年3月 2日 01:48 | # | 引用                                                                                                                t t 说：                                                        谢谢您！我下学期要学习这门课程，以前甚至完全没听说过，一头雾水，直到看了您的文章，终于算是入门了！                           2023年2月 3日 05:39 | # | 引用                                                                                                                马浩天 说：                                                        讲的很好！很幸运能发现这样一个网站！                           2024年12月 6日 18:54 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e96decf7ecf45',t:'MTc0MzI0MzE1MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2019/08/information-theory.html
科技爱好者周刊：第 67 期 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    科技爱好者周刊：第 67 期 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：信息论入门教程&nbsp;&nbsp;&nbsp;&nbsp;下一篇：Web&nbsp;Compone                                                                                分类：                                                                                    周刊                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              科技爱好者周刊：第 67 期                                                                                    作者： 阮一峰                                    日期： 2019年8月 2日                                                                                                                                            这里记录每周值得分享的科技内容，周五发布。                                                                                                                欢迎投稿，或推荐你自己的项目，请前往 GitHub 的 ruanyf/weekly 提交 issue。最近，我读了小说《侏罗纪公园》。这本书改编过电影，大家应该都知道情节：一个富豪复活了恐龙，开设主题公园，结果恐龙逃出来，造成了灾难。小说里有一个数学博士伊恩·马尔科姆（Ian Malcolm），他是混沌理论专家，专门研究复杂系统。作者通过他告诉读者：侏罗纪公园必定失败。原因很简单：复杂系统不可预测，也无法维护。  "譬如说撞球吧。你打它一下，它就开始不断反弹。理论上来说，撞球是个很简单的系统，几乎可以说是牛顿系统。由于你知道加在球上的力、球的质量，因此你可以计算出球的撞击角度，因而可以预测这颗球的轨迹。从理论上来说，你可以预测它三小时之后将处于哪个位置。可是事实上，你最多只能预测到未来几秒钟之内的情况。因为有些非常小的影响----桌面不平、桌子木头上有小凹陷之类的问题，都会使情况发生变化。过不了多久，你那些精确的计算就会不灵了。结果便证明了，像在桌上玩撞球这种简单系统也具有不可预测的表现。"侏罗纪公园是一个复杂系统，人为复活了6500万年前灭绝的恐龙，把它们圈养在一起，但是这些基因工程产物的习性，我们一无所知。另一方面，在这些恐龙的旁边，还要维护一个井井有条的主题公园，让游客玩得开开心心，一边看着原始动物，一边喝着可口可乐，享受现代文明。这等于创造出了一个地球上不存在的世界，并让其持续运转，势必引入了空前的复杂性。复杂系统受到太多的变量影响，任何一个变量发生异常，都可能引发连锁反应。 侏罗纪公园最后的结局也是如此，工作人员一不小心导致停电，让恐龙逃了出来。其他人发现，整个系统过于复杂，无法恢复，只能眼睁睁看着，岛上一片大乱，恐龙到处吃人。这就是说，一个按钮错了，复杂系统就崩溃了。你可能会说，只要严格管理，就能避免这类错误，比如引入更加完善的权限控制、建立备用供电线路等等。但是这样一来，系统的复杂性就进一步增加了，相当于 为了防止一个按钮失败，又额外引入了更多的按钮。现实世界就是一个复杂的主题公园 ，为了保证每个"游乐设施"都正常运作，这个公园越造越复杂，管理难度成倍增加，最后人们只好让计算机来管理。根据伊恩·马尔科姆的观点，最后总归会有人按错一个按钮，现实世界就会变得像恐龙横行的侏罗纪公园。资讯1、石灰岩矿洞变成游戏场历史上，美国密苏里州有一个巨大的地下石灰矿场，里面的道路密密麻麻，就像迷宫一样。现在，它当作物流仓库使用。最近，有人在里面骑自行车漫游，将视频传到网上，引起轰动，这个场景简直像视频游戏一样。人们已经在讨论，是否可以把现实增强 AR 游戏引入这个地方。2、神奇的北极狐挪威的科学家在一只北极狐身上安装了 GPS 追踪器，想知道它的行踪，结果发现了惊人的结果。从2018年7月开始，这只狐狸在短短76天内，从挪威跑到了加拿大，总行程超过3500公里，平均每天移动46.3公里，最多一天移动了155公里。它成为已知的移动速度最快的狐狸。由于它的路线相当于从欧洲跑到了北美洲，横跨了北冰洋，所以有一部分路线是在海冰上。整整两周，它都待在冰上。科学家曾经怀疑，是不是有人把它抓到船上，但是不可能有船在北极行驶3000公里。北极狐是非常耐寒的动物，可以在冰下50度的冰冻温度生存。我们永远不会知道这只狐狸的下落，因为2019年2月，GPS 追踪器不再工作，停止发送信号。3、不开车的租车人一家日本租车公司发现，很多租车人并没有开车，他们归还的车辆有异常低的里程数。调查后发现，这些人租车的目的五花八门，有人为了午睡，有人为了一个临时的工作空间，有人是为了把行李和个人物品存放在车中，甚至还有人是为了手机充电。半小时租车价格是400日元（约25元人民币），平均8个人之中就有一个人，将车辆用于非运输目的。4、生菜收割机器人英国剑桥大学开发了一个收割生菜的机器人。它用摄像头识别出每棵生菜，然后使用机器学习算法判断是否生长成熟，有没有感染疾病，如果一切正常，就进行收割。科研人员希望用它来证明，传统上难以自动化的一些农业操作，也可以使用机器人。理论上，这套自动化方法不局限于生菜，任何农作物都适用。5、美国签证要求披露社交媒体美国签证的新版申请表格出来了，要求申请者披露自己的社交媒体帐号。指定的社交媒体，国外的主要有 Facebook、Flickr、Instagram、LinkedIn、Pinterest、tumblr、Reddit、推特、Youtube，国内的有豆瓣、QQ、新浪微博、腾讯微博和优酷。根据规定，哪怕帐号已经删除了，只要没有超过五年，都需要披露。不过，根据最近签证的朋友反映，这项目前还是选填的。6、Windows 1.0微软与 Netflix 合作，在电视剧《怪奇物语》里面，还原了 Windows 1.0 操作系统。这部电视剧的时间设定在1985年，Windows 1.0 就在那一年发布。这个还原的系统实际上可以运行，微软内部称其为 Windows 1.1。7、新西伯利亚的废水湖俄罗斯新西伯利亚有一个漂亮的绿松石颜色的湖泊，最近引来许多网红和访问者打卡拍照。但是，这其实根本不是一个湖泊，而是当地火力发电厂的一个巨型废水池，里面有钙盐和各种金属的氧化物，导致它呈现现在这种颜色。下图可以看到，水里都是各种化合物，浓度极高，pH 值也很高。这里的水不要说游泳了，碰到一点，对皮肤都是有毒的。目前，电厂只能警告来访者，尽量远离这个湖泊，千万不能碰到水。8、健康寿命国家卫健委统计，2018年中国人的平均寿命77岁，但是健康寿命是68.7岁，后面都是带病生存。如果65岁退休，剩下的健康日子平均只有3年多。这么想想，人生还是很短暂的。同一时间，日本厚生省也公布了，2018年日本女性平均寿命为87.32岁，男性为81.25岁，都是历史新高。9、一句话新闻  印度生产的 iPhone 开始出口欧洲。  全国日发电量7月22日至25日连续四天创历史新高，最高达235.35亿千瓦时，较去年夏季最高值增长4.2%。 教育部发布文件，要求全国每所高校至少有一所实体书店。美国宇航局从卫星照片发现，世界比20年前更"绿"了，主要原因是中国和印度种植了更多的树。  微软云服务 Azure 最新一季度的收入（114亿美元），已经超过了 Windows（113亿美元）。目前，Azure 云服务排在亚马逊之后，名列世界第二。  一家澳大利亚创业公司可以往电路板上套印各种图案，从而制作出彩色电路板。文章1、计算机专业的学生应该知道什么？（英文）一个美国大学教授谈，计算机专业的学生应该具备哪些方面的知识。2、indieAuth 协议介绍（英文）OAuth 协议已经成为授权协议的标准，但是获取用户身份的时候，必须明确列出各种平台（上图），看上去非常繁琐。indieAuth 协议是针对这一点改进，让任何网站都具备 OAuth 认证功能，甚至个人的 WordPress 网站也可以用来认证身份，用户只要提交一个 URL 即可。3、GitHub 是最大的字体盗版网站（英文）作者发现可以在 GitHub 轻松找到并下载各种商业字体。4、使用 Datasette 探索 SQLite 数据库（英文）Datasette 是一个探索和管理数据集的工具，它可以把各种各样的数据都转成 SQLite 数据库，然后在浏览器里面展示数据，并进行各种操作。本文是 Datasette 作者的一个演讲，解释他为什么要做这样一个工具，图文并茂，值得一读。5、著名程序员的工作时间（英文）Git 提交代码的时候，都会记录提交时间。作者统计了多个一流程序员的提交时间，比如 Linus （上图）基本上是工作时间提交代码，晚上10点以后不工作。6、Raw 文件是什么样子？（英文）数码相机拍摄的原始文件就是 Raw 文件，作者尝试直接读取 Raw 文件。7、安全相关的 HTTP 头信息介绍（英文）HTTP 头信息有许多字段跟安全相关，本文介绍所有这些字段，并给出设置方法。8、利用谷歌爬虫的 XSS 攻击（英文）有的网站安全性差，可以注入外部脚本，即 XSS 攻击。作者发现，注入脚本的网页可以提交给谷歌爬虫，被谷歌收录，用来提高第三方网站的排名。这个漏洞已经被谷歌修复了，但是攻击思路值得学习。9、我的创业体会（英文）一个印度创业者讲述自己的创业经历，最后总结三条体会。有一条说，不要想着做独角兽，要想着做蟑螂，那些大公司和风投看不上的角落，有更大的机会活下去。10、冰川下的飞机（英文）1942年，美军的一个飞行中队，包括6架战斗机和2架轰炸机，在飞越大西洋的过程中，由于天气恶劣而迷航，不得不在格陵兰冰川上迫降。1988年，这些飞机在冰下80多米的深处被发现，探险队抢救出了一架战斗机。经过修复，这架飞机于2002年10月重新飞上了天空。本文讲述飞机的发现和挖掘过程。工具1、postmarketos一个适用于手机的 Linux 操作系统。2、reverie一个优雅的 Jekyll 静态网站主题。3、数字雨浏览器还原电影《黑客帝国》的数字雨，链接为 Codepen.io 演示。（@    developerchengang 投稿）4、巡云轻论坛系统Java + MySQL 开发的一个论坛程序，自适应手机端和电脑端，界面简洁，功能完整。（@diyhi 投稿）5、lazydocker命令行管理 Docker 服务的一个图形界面工具。6、videodownloader一个使用 Electron 制作的 Youtube-dl 的图形界面，可以下载包括 Youtube 在内的110个网站的视频。7、谷歌地球 Web 版谷歌地球的官方 Web 版，可以浏览全球的卫星照片。该应用体积很大，初始访问可能需要很长时间加载。8、show-facebook-computer-vision-tagsFacebook 从2016年4月开始，对用户上传的每张照片进行机器识别，给出内容的关键词。这些关键词都随照片一起发送，但不会对用户显示。这个 Chrome 浏览器浏览器插件，可以把它们显示在照片上。9、visitor-count-badge一个开源服务，可以统计 GitHub 仓库的 Readme 文件的阅读次数，然后生成 badge 徽章，以便挂在仓库里。（@jwenjian 投稿）10、AMPAMP 是一个基于 web components 技术的网页组件库，属于谷歌的官方项目，开发者基本都是谷歌的在职工程师。11、lit-htmllit-html 是一个极其简单好用的网页模板渲染库，使用 ES6 语法，一共只有两个方法。它是谷歌的 Polymer 团队出品。资源1、 MacOS Mojave 动态壁纸MacOS 目前支持动态壁纸，壁纸会随着一天里面时间的不同，而自动变换。该网站提供各种动态壁纸下载。2、独角兽公司榜单该网站收录了估值达到 10 亿美元的创业公司，实时更新。（@kiddyuchina 投稿）3、旋律百科该网站收集各种旋律，用户可以通过多种方式（文字、声音、网页键盘）搜索旋律。4、马克思主义文库在线的马克思主义中文文库，包括马恩列斯、毛选等各种文献。（@zhang14725804 投稿）5、HTTP Cat该网站为各种 HTTP 状态码都生成一张猫的照片。（@sedgwickz 投稿）6、联想 BIOS 模拟器BIOS 是计算机的开机固件，联想公司在官网提供该公司 BIOS 的网页模拟器。7、Developer jobs in Japan该网站收集日本的软件工作机会，想去日本的朋友可以关注，由一个在日本工作的中国工程师维护。早期是邮件列表，第49期曾经推荐过，现在升级成了网站。（@rourouroujiang 投稿）8、github-do-not-ban-us一位伊朗开发者发起的项目，抗议只要国籍是美国政府制裁的国家，该用户就会被限制使用 GitHub。 （@marsvet 投稿）图片1、青蛙设计青蛙设计是一家著名的设计公司，苹果公司早期的产品大多由该公司设计。这篇文章收集了很多青蛙设计的作品。下图是苹果的 Lisa 电脑的设计原型。下面是乔布斯离开苹果以后，推出的 NeXT 电脑。2、登月宇航服阿波罗计划的登月宇航员，宇航服的袖口都缝着操作步骤，防止宇航员漏掉某一个操作。文摘1、机器里的达尔文1863年6月13日，英国小说家塞缪尔·巴特勒在新西兰的《新闻报》上发表文章《机器里的达尔文》，提出了机器可能是一种不断进化的"机械生命" ，最终机器可能取代人类成为优势物种。  我们自己创造了自己的继承者：我们每天都在增加他们身体的美丽和精致，我们每天都给予他们更大的力量，并通过各种巧妙的设计，让他们可以自我调节。随着时间的推移，我们将发现自己是次等种族。日复一日，机器正变得比人类更强。我们日复一日地对他们屈服，每天都有更多的人被发展成机器的奴隶，更多的人每天将他们一生的精力投入到机器的发展中。结果，只是一个时间问题，机器最终将掌握真正的世界霸权。2、我侄子的最后几天我的侄子迈克尔曾经是一个健康的少年，但是不幸得了癌症，于2019年5月22日去世，只有15岁。这六年来，所有的医疗方法都已经用过，完全无效。最后，我们只能束手无策地面对他的最后几天。2019年5 月14 日，我来到医院。他坐在医院的病床上，正在玩《精英：危机四伏》游戏。这是他最喜欢的游戏。在他生命的最后时刻，我实在不知道能做什么，只能希望他在游戏里面玩得开心。我把他的情况和照片，发上了推特。《精英：危机四伏》的开发公司看到了推特，主动联系我，表示愿意赠送迈克尔一些礼物。当我透露，他可能只有几天生命了，他们表示会先给他提升一些装备。第二天，他们就来病房看望了迈克尔，带来了开发团队所有成员的签名海报。游戏的创始人也在网上送出了祝福。回去以后，他们把这次探望，放到了游戏论坛上。玩家们非常感动，纷纷在游戏里鼓励和帮助迈克尔。这让迈克尔心情愉快，一连几个小时在做任务，还从病房走到了食品间，这是几周来都没有的壮举。迈克尔提出想访问游戏公司，公司在城市的另一边，医生建议不要离开医院。很快，他的病情恶化，面部肿胀越来越严重，眼睛很难睁开了，但是他仍然设法在屏幕上观察并修补他的太空船。三天之后的周六，游戏公司得知他已经看不见时，提出专门为他创造一个音频章节，让他可以听到游戏情节。起初，我拒绝了这个提议，觉得这需要太多的时间，迈克尔可能没有那么多时间。但是随后，迈克尔的情况有所好转，游戏公司就开始推进这个想法。周日，编剧在一天内写了一篇精彩的7000字的剧本。下周一，游戏公司找来三位专业配音演员，录制这个故事。周二，音频工程师合成整个音频，当天晚上将这个音频小说送到了医院，迈克尔听完了它。周三，我联网跟他一起玩游戏。突然间，他开始咳嗽，通信断了，我立刻动身前往医院。到达那里时，他已经注射了镇静剂，处于昏迷状态。他的妈妈、爸爸和我轮流和他坐在一起，握住他的手。我在他耳边播放了专属于他的那个音频章节。几个小时后，他去世了。他的棺材写着游戏的格言："领航员不死，将在另一个太空站重生。"言论1、知识使人自由，或者起码渴望自由。-- [南非] 特雷弗·诺亚《天生有罪》2、有些书只需尝一口，有些书可以吞下去，有些书要咀嚼和消化。-- 弗朗西斯·培根。这段话镶刻在纽约公共图书馆门前的地面。3、推特宣布限制第三方客户端时，我就决定不再使用它了。这种服务要求用户投入大量时间，却不提供个人数据的所有权和控制权。-- 《我相信 IndieWeb》4、宇宙不过是一片巨大的黑暗，银河系是漂浮在其中一个角落的恒星群岛。-- 《极简宇宙史》5、日食与遮住头顶的遮阳伞没有什么不同。只不过挡住太阳的不是伞，而是月亮。-- 《向女儿解释月蚀》招聘信息以下公司正在招聘，欢迎应聘。本栏目为收费服务，每条价格 250 元人民币，用于资助周刊。如果你的公司正在招人，欢迎联系我（Email:  [email&#160;protected]）。讨论区有更多职位，欢迎大家访问。1、 高级前端开发工程师易路软件，企业人力资源的 SaaS 服务，提供复杂薪酬计算的解决方案，刚拿到 C 轮投资。工作地点：上海闵行区。本岗位参与公司前端产品研发和维护，包括不限于 PC 端、H5、小程序、Node 服务。要求3年以上的前端开发经验，熟悉 MVVM、组件化思想，精通 VUE / React 的一种。查看详细信息。简历投递 Email：[email&#160;protected]2、前端技术专家，Java 技术专家阿里钉钉（DingTalk），中国领先的智能移动办公平台。工作地点：北京、杭州。这里是钉钉文档中心的对外招聘，负责开发和维持钉钉的企业文档服务，点击查看招聘详情。联系方法：钉钉号/微信号 pizner，Email [email&#160;protected]。3、滴滴出行本团队致力于以 IM 为中心，打造一套安全高效的企业智能沟通协作平台，赋能企业信息化与组织管理，提高公司员工的工作效率，支撑业务增长。招聘岗位：  iOS 资深研发工程师（Swift 方向）Android 资深研发工程师（Kotlin 方向）IM 前端资深工程师（Electron/React 方向）IM 服务端专家工程师（Java/Rust 方向）工作地点：北京 ／ 深圳简历投递: [email&#160;protected]回顾去年的本周：《周刊第 15 期》订阅这个周刊每周五发布，同步更新在阮一峰的网络日志、微信公众号和语雀。微信搜索"阮一峰的网络日志"或者扫描二维码，即可订阅。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2019年8月 2日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.02.28: 科技爱好者周刊（第 339 期）：代币是什么                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.21: 科技爱好者周刊（第 338 期）：重新思考 6G                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.14: 科技爱好者周刊（第 337 期）：互联网创业几乎没了                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.07: 科技爱好者周刊（第 336 期）：面对 AI，互联网正在衰落                                                         这里记录每周值得分享的科技内容，周五发布。                            广告（购买广告位）云手机                                                              留言（39条）                                                                                                    Lee 说：                                                        刚进来就更新了                           2019年8月 2日 10:29 | # | 引用                                                                                                                DeathGhost 说：                                                        占位，阅读                           2019年8月 2日 10:59 | # | 引用                                                                                                                Japp 说：                                                        赞,一期不落                           2019年8月 2日 11:19 | # | 引用                                                                                                                Lasy 说：                                                        "可以在冰下50度的冰冻温度生存"，“冰下”是打错了吗？“零下”？                           2019年8月 2日 11:22 | # | 引用                                                                                                                Kevin 说：                                                        同意阮老师的观点：随着技术的进步，用户端的体验会越来越好，但服务端，控制端也将会越来越复杂，可能终究会有一天，系统复杂到按错一个按钮，全部毁灭的程度吧。                           2019年8月 2日 11:25 | # | 引用                                                                                                                lizhi 说：                                                        复杂系统不可预测，也无法维护。最近也有所体会。比如说饮食，食物有卡路里的概念，但稍微了解下会发现这个计算很粗糙。计算方法居然是直接燃烧食物成分看它能使水上升多少。那么你会发现每天严格计算卡路里这个是个行为艺术。人体消耗食物怎么可能和直接燃烧食物获得能量是一致的呢？                           2019年8月 2日 11:34 | # | 引用                                                                                                                堂 说：                                                        玩游戏的侄子这一条太感人了                           2019年8月 2日 11:37 | # | 引用                                                                                                                TEST 说：                                                        为什么你的网站技术含量这么低  还这么高的广告费                           2019年8月 2日 11:43 | # | 引用                                                                                                                gltjk 说：                                                        言论2很赞啊，附一下王佐良版的译文：书有可浅尝者，有可吞食者，少数则须咀嚼消化。                           2019年8月 2日 11:55 | # | 引用                                                                                                                Sunday 说：                                                        阮老师专职做这个吧，付费订阅得了~                           2019年8月 2日 12:02 | # | 引用                                                                                                                颜色 说：                                                        一期不落全看了                           2019年8月 2日 12:06 | # | 引用                                                                                                                fe 说：                                                        引用TEST的发言：为什么你的网站技术含量这么低还这么高的广告费说明你没有看到阮老师的作用                           2019年8月 2日 12:07 | # | 引用                                                                                                                Mr Ma 说：                                                        Instagram 也有类似 Facebook 的识别照片显示关键词，可以为屏幕阅读器描述照片内容。                           2019年8月 2日 12:12 | # | 引用                                                                                                                王文昊 说：                                                        评论区有的评论比较歪了，阮老师加油                           2019年8月 2日 12:18 | # | 引用                                                                                                                zheng 说：                                                        引用TEST的发言：为什么你的网站技术含量这么低还这么高的广告费难道不是因为你在看？而且广告都看了                           2019年8月 2日 13:08 | # | 引用                                                                                                                咸鱼 说：                                                        引用TEST的发言：为什么你的网站技术含量这么低还这么高的广告费说明你没有看到阮老师的其他博客，管中窥豹可见一斑                           2019年8月 2日 13:12 | # | 引用                                                                                                                执迷不悟 说：                                                        那个lazydocker看起来不错                           2019年8月 2日 13:28 | # | 引用                                                                                                                Wang 说：                                                        每周五都看，感谢阮老师                           2019年8月 2日 13:41 | # | 引用                                                                                                                微wx笑 说：                                                        世界的复杂不是正在渐渐的被计算机掩盖？                           2019年8月 2日 13:42 | # | 引用                                                                                                                Dane 说：                                                        引用fe的发言：说明你没有看到阮老师的作用做广告要找流量高的地方,攻克项目才要找技术含量高的大牛                           2019年8月 2日 13:53 | # | 引用                                                                                                                蔡 说：                                                        玩游戏的孩子那部分，不禁让我想到了另外一个故事：https://www.4gamers.com.tw/news/detail/38227/world-of-warcraft-players-come-fly-over-eu-together-to-mourned-their-disabled-friends-pass-away                           2019年8月 2日 14:06 | # | 引用                                                                                                                鲁班七号 说：                                                        动态壁纸可以说是很喜欢了，也一直很羡慕苹果本的性能，但我坚持没有买。希望国产越来越好吧。                           2019年8月 2日 14:24 | # | 引用                                                                                                                scscms 说：                                                        引用TEST的发言：为什么你的网站技术含量这么低还这么高的广告费笑死了！古人云：山不在高,有仙则名;水不在深,有龙则灵。技术含量高没流量一样没广告费。                           2019年8月 2日 15:50 | # | 引用                                                                                                                kain 说：                                                        复杂的系统，太让人头疼了，我现在就遇到一个。不是十分复杂的问题，设计的及其复杂。感觉面对这一个刺猬，难以下手。这个系统偏偏各种出问题，就像打地鼠，好累。                           2019年8月 2日 16:00 | # | 引用                                                                                                                oveflow 说：                                                        感觉内容越来越少了                           2019年8月 2日 16:44 | # | 引用                                                                                                                社哥 说：                                                        引用lizhi的发言：复杂系统不可预测，也无法维护。最近也有所体会。比如说饮食，食物有卡路里的概念，但稍微了解下会发现这个计算很粗糙。计算方法居然是直接燃烧食物成分看它能使水上升多少。那么你会发现每天严格计算卡路里这个是个行为艺术。人体消耗食物怎么可能和直接燃烧食物获得能量是一致的呢？这只能说明卡路里不是完完全全的权威,需要其他指标作为参考.但不能说明卡路里不具有参考价值.至于复杂系统,我的观点可以参考《代码大全》中第5章的一个核心观点:软件的首要技术使命,是管理复杂度.我的理解是,设计复杂系统时,要保证各层次上的简单设计,这样可以保证易于维护和预测.如果各种复杂要素都堆到一块儿,那就是一团乱麻,自然难以维护预测.关于这个观点,如果想要从偏哲学的层次去理解,可以考虑去阅读《GEB》                           2019年8月 2日 16:55 | # | 引用                                                                                                                davix 说：                                                        推特宣布限制第三方客户端时，我就决定不再使用它了。这种服务要求用户投入大量时间，却不提供个人数据的所有权和控制权。========腾讯不是一直这么做吗                           2019年8月 2日 20:11 | # | 引用                                                                                                                coon 说：                                                        阮老师加油                           2019年8月 3日 09:10 | # | 引用                                                                                                                皎然 说：                                                        知识使人自由，或者起码渴望自由。                           2019年8月 3日 16:21 | # | 引用                                                                                                                江月 说：                                                        想知道阮老师一般是从什么渠道获取这些资讯的？                           2019年8月 3日 17:50 | # | 引用                                                                                                                蓝翟红尘 说：                                                        复杂的系统让我想起那张码农常用的表达解决bug流程的gif图:修好了水管一处，另一处就崩了。所以现在都流行解耦的思想，同样拿到侏罗纪公园里来说，我想是存在解决停电而导致恐龙暴露的方法的。再说这种一旦暴露对人类存在严重威胁的，就应该在最外层再来个射线啥的杀死，以绝后患。                           2019年8月 4日 19:52 | # | 引用                                                                                                                randomGood 说：                                                        美国签证那个没有腾讯微信, 腾讯QQ吗？                           2019年8月 5日 09:30 | # | 引用                                                                                                                jacktan 说：                                                        引用蓝翟红尘的发言：复杂的系统让我想起那张码农常用的表达解决bug流程的gif图:修好了水管一处，另一处就崩了。所以现在都流行解耦的思想，同样拿到侏罗纪公园里来说，我想是存在解决停电而导致恐龙暴露的方法的。再说这种一旦暴露对人类存在严重威胁的，就应该在最外层再来个射线啥的杀死，以绝后患。熵增原理了解一下                           2019年8月 5日 09:54 | # | 引用                                                                                                                郝晓茹 说：                                                        纠个错：「微软云服务 Azure 最新一季度的收入（114亿美元），已经超过了 Windows（113亿美元）」是错误的。全世界的媒体，基本上报道的都是错误的。他们实际上写的是「Azure+Windows Server+SQL Server+Enterprise Service+Github」的 114 亿美元超过了「Windows+ Xbox+Surface+Bing」 113 亿美元，具体 Azure 有没有超过 Windows 呢？当然没有。2019Q4财季应该是 58 亿美元左右 vs 36 亿美元左右。这里有详尽的分析，为什么媒体都写错了，恩，就是我写的：https://mp.weixin.qq.com/s/0RTDOppTWbE75dsERtWfLg                           2019年8月 5日 15:34 | # | 引用                                                                                                                多多 说：                                                        大神，您好，我是deepin的多多，想跟您咨询一下职位信息的事情，求大神翻牌                           2019年8月 5日 17:45 | # | 引用                                                                                                                饺子 说：                                                        引用蔡的发言：玩游戏的孩子那部分，不禁让我想到了另外一个故事：https://www.4gamers.com.tw/news/detail/38227/world-of-warcraft-players-come-fly-over-eu-together-to-mourned-their-disabled-friends-pass-away非常感动，谢谢你                           2019年8月 6日 12:40 | # | 引用                                                                                                                A.k. 说：                                                        引用oveflow的发言：感觉内容越来越少了不管你处于什么目的说这句话自己先尝试坚持做这样一件事情，坚持67周，再说话，实在看不下去了                           2019年8月 7日 14:09 | # | 引用                                                                                                                Jimeng 说：                                                        阮老师的输出能力令人羡慕又佩服                           2019年8月23日 16:20 | # | 引用                                                                                                                叮咚猪 说：                                                        我又从2023.7.28 回来了，哈哈。看到癌症男孩那一条真的很让人感动，发达国家的人文关怀点赞！                           2023年7月28日 17:58 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9a000acdcf45',t:'MTc0MzI0MzI3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2019/08/weekly-issue-67.html
阮一峰的网络日志: August 2019 文章存档    Flex 布局教程：语法篇网页布局（layout）是 CSS 的一个重点应用。...阮一峰2015-07-10T11:39:15+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);    阮一峰的网络日志: August 2019 文章存档        if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                          August 2019 文章存档                                                            &laquo; 上月                                |                                 下月 &raquo;                                                                                                科技爱好者周刊：第 71 期分类：周刊                             这里记录每周值得分享的科技内容，周五发布。                            继续阅读全文 »                                       2019年8月30日 09:19                        | 留言（54）                          August 2019的所有文章（共9篇）              2019.08.26：任正非管理思想（88条评论）                     2019.08.23：科技爱好者周刊：第 70 期（52条评论）                     2019.08.16：科技爱好者周刊：第 69 期（33条评论）                     2019.08.09：科技爱好者周刊：第 68 期（41条评论）                     2019.08.08：xargs 命令教程（26条评论）                     2019.08.06：Web Components 入门实例教程（59条评论）                     2019.08.02：科技爱好者周刊：第 67 期（39条评论）                     2019.08.01：信息论入门教程（21条评论）                                                                                                      日期      // 判断数组中是否包含某个值。// 参数testValue：所需测试的值；// 参数arrayInstance：所需测试的某个数组；// 返回值：true/false.function itemInArray(testValue,arrayInstance){    for (var i in arrayInstance)    {         if (testValue==arrayInstance[i]) return true;    }    return false;}var currentYear = "2019";var currentMonth = "08";var yearList= {};var monthList = new Array();monthList.push("202501");monthList.push("202412");monthList.push("202411");monthList.push("202410");monthList.push("202409");monthList.push("202408");monthList.push("202407");monthList.push("202406");monthList.push("202405");monthList.push("202404");monthList.push("202403");monthList.push("202402");monthList.push("202401");monthList.push("202312");monthList.push("202311");monthList.push("202310");monthList.push("202309");monthList.push("202308");monthList.push("202307");monthList.push("202306");monthList.push("202305");monthList.push("202304");monthList.push("202303");monthList.push("202302");monthList.push("202301");monthList.push("202212");monthList.push("202211");monthList.push("202210");monthList.push("202209");monthList.push("202208");monthList.push("202207");monthList.push("202206");monthList.push("202205");monthList.push("202204");monthList.push("202203");monthList.push("202202");monthList.push("202201");monthList.push("202112");monthList.push("202111");monthList.push("202110");monthList.push("202109");monthList.push("202108");monthList.push("202107");monthList.push("202106");monthList.push("202105");monthList.push("202104");monthList.push("202103");monthList.push("202102");monthList.push("202101");monthList.push("202012");monthList.push("202011");monthList.push("202010");monthList.push("202009");monthList.push("202008");monthList.push("202007");monthList.push("202006");monthList.push("202005");monthList.push("202004");monthList.push("202003");monthList.push("202002");monthList.push("202001");monthList.push("201912");monthList.push("201911");monthList.push("201910");monthList.push("201909");monthList.push("201908");monthList.push("201907");monthList.push("201906");monthList.push("201905");monthList.push("201904");monthList.push("201903");monthList.push("201902");monthList.push("201901");monthList.push("201812");monthList.push("201811");monthList.push("201810");monthList.push("201809");monthList.push("201808");monthList.push("201807");monthList.push("201806");monthList.push("201805");monthList.push("201804");monthList.push("201803");monthList.push("201802");monthList.push("201801");monthList.push("201712");monthList.push("201711");monthList.push("201710");monthList.push("201709");monthList.push("201708");monthList.push("201707");monthList.push("201706");monthList.push("201705");monthList.push("201704");monthList.push("201703");monthList.push("201702");monthList.push("201701");monthList.push("201612");monthList.push("201611");monthList.push("201610");monthList.push("201609");monthList.push("201608");monthList.push("201607");monthList.push("201606");monthList.push("201605");monthList.push("201604");monthList.push("201603");monthList.push("201602");monthList.push("201601");monthList.push("201512");monthList.push("201511");monthList.push("201509");monthList.push("201508");monthList.push("201507");monthList.push("201506");monthList.push("201505");monthList.push("201504");monthList.push("201503");monthList.push("201502");monthList.push("201501");monthList.push("201412");monthList.push("201411");monthList.push("201410");monthList.push("201409");monthList.push("201407");monthList.push("201406");monthList.push("201405");monthList.push("201404");monthList.push("201403");monthList.push("201402");monthList.push("201401");monthList.push("201312");monthList.push("201311");monthList.push("201310");monthList.push("201309");monthList.push("201308");monthList.push("201307");monthList.push("201306");monthList.push("201305");monthList.push("201304");monthList.push("201303");monthList.push("201302");monthList.push("201301");monthList.push("201212");monthList.push("201211");monthList.push("201210");monthList.push("201209");monthList.push("201208");monthList.push("201207");monthList.push("201206");monthList.push("201205");monthList.push("201204");monthList.push("201203");monthList.push("201202");monthList.push("201201");monthList.push("201112");monthList.push("201111");monthList.push("201110");monthList.push("201109");monthList.push("201108");monthList.push("201107");monthList.push("201106");monthList.push("201105");monthList.push("201104");monthList.push("201103");monthList.push("201102");monthList.push("201101");monthList.push("201012");monthList.push("201011");monthList.push("201010");monthList.push("201009");monthList.push("201008");monthList.push("201007");monthList.push("201006");monthList.push("201005");monthList.push("201004");monthList.push("201003");monthList.push("201002");monthList.push("201001");monthList.push("200912");monthList.push("200911");monthList.push("200910");monthList.push("200909");monthList.push("200908");monthList.push("200907");monthList.push("200906");monthList.push("200905");monthList.push("200904");monthList.push("200903");monthList.push("200902");monthList.push("200901");monthList.push("200812");monthList.push("200811");monthList.push("200810");monthList.push("200809");monthList.push("200808");monthList.push("200807");monthList.push("200806");monthList.push("200805");monthList.push("200804");monthList.push("200803");monthList.push("200802");monthList.push("200801");monthList.push("200712");monthList.push("200711");monthList.push("200710");monthList.push("200709");monthList.push("200708");monthList.push("200707");monthList.push("200706");monthList.push("200705");monthList.push("200704");monthList.push("200703");monthList.push("200702");monthList.push("200701");monthList.push("200612");monthList.push("200611");monthList.push("200610");monthList.push("200609");monthList.push("200608");monthList.push("200607");monthList.push("200606");monthList.push("200605");monthList.push("200604");monthList.push("200603");monthList.push("200602");monthList.push("200601");monthList.push("200512");monthList.push("200511");monthList.push("200510");monthList.push("200509");monthList.push("200508");monthList.push("200507");monthList.push("200506");monthList.push("200505");monthList.push("200504");monthList.push("200503");monthList.push("200502");monthList.push("200501");monthList.push("200412");monthList.push("200411");monthList.push("200410");monthList.push("200406");monthList.push("200405");monthList.push("200404");monthList.push("200403");monthList.push("200402");monthList.push("200401");monthList.push("200312");for(var i=0; i请选择月份：Gofunction monthChange(){        var yearListSelect = document.archiveList.year;        var selectedYear = yearListSelect.options[yearListSelect.selectedIndex].value;        monthListChange(selectedYear); }function urlChange(){        var yearListSelect = document.archiveList.year;        var selectedYear = yearListSelect.options[yearListSelect.selectedIndex].value;        var monthListSelect = document.archiveList.month;        var selectedMonth = monthListSelect.options[monthListSelect.selectedIndex].value;        urlGo(selectedYear,selectedMonth);}function urlGo(goYear,goMonth){       var url="/blog/"+goYear+"/"+goMonth+"/";       window.location=url;}for (var prop in yearList){// Create a new Option object for year list.var optionText = prop+"年";var optionValue = prop;var optionDefault = false;        var optionSelected = false;        if (prop==currentYear)          {             optionDefault = true;             optionSelected = true;        }var yearListItem = new Option(optionText,  // The text property                       optionValue,  // The value property                       optionDefault,    // The defaultSelected property                       optionSelected);   // The selected property// Display it in a Select element by appending it to the options array:var yearListSelect = document.archiveList.year;  // Get the Select objectyearListSelect.options[yearListSelect.options.length] = yearListItem;}monthListChange(currentYear);function monthListChange(selectedYear){var monthListSelect = document.archiveList.month;  // Get the Select object        monthListSelect.options.length=0;for (var i=0;i                 导航              上月：July 2019下月：September 2019                                                                   Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9dafefb1cf45',t:'MTc0MzI0MzQzMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2019/08/index.html
容错，高可用和灾备 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    容错，高可用和灾备 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：科技爱好者周刊：第&nbsp;8下一篇：CSS&nbsp;定位详解&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              容错，高可用和灾备                                                                                    作者： 阮一峰                                    日期： 2019年11月17日                                                                                                                                            标题里面的三个术语，很容易混淆，专业人员有时也会用错。                                                                                                                本文就用图片解释它们有何区别。容错容错（fault tolerance）指的是， 发生故障时，系统还能继续运行。飞机有四个引擎，如果一个引擎坏了，剩下三个引擎，还能继续飞，这就是"容错"。同样的，汽车的一个轮子扎破了，剩下三个轮子，也还是勉强能行驶。容错的目的是，发生故障时，系统的运行水平可能有所下降，但是依然可用，不会完全失败。高可用高可用（high availability）指的是，  系统能够比正常时间更久地保持一定的运行水平。汽车的备胎就是一个高可用的例子。如果没有备胎，轮胎坏了，车就开不久了。备胎延长了汽车行驶的可用时间。注意，高可用不是指系统不中断（那是容错能力），而是指一旦中断能够快速恢复，即中断必须是短暂的。如果需要很长时间才能恢复可用性，就不叫高可用了。上面例子中，更换备胎就必须停车，但只要装上去，就能回到行驶状态。灾备灾备（又称灾难恢复，disaster recovery）指的是， 发生灾难时恢复业务的能力。上图中，飞机是你的 IT 基础设施，飞行员是你的业务，飞行员弹射装置就是灾备措施。一旦飞机即将坠毁，你的基础设施就要没了，灾备可以让你的业务幸存下来。灾备的目的就是，保存系统的核心部分。一个好的灾备方案，就是从失败的基础设施中获取企业最宝贵的数据，然后在新的基础设施上恢复它们。注意，灾备不是为了挽救基础设置，而是为了挽救业务。总结上面三个方面可以结合起来，设计一个可靠的系统。  容错：发生故障时，如何让系统继续运行。高可用：系统中断时，如何尽快恢复。灾备：系统毁灭时，如何抢救数据。参考文献The Difference Between Fault Tolerance, High Availability, &amp; Disaster Recovery , Patrick Benson（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2019年11月17日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（21条）                                                                                                    WangNianyi2001 说：                                                        飞行员：就是我把用户名设置成 null 的，嘿嘿！                           2019年11月17日 23:25 | # | 引用                                                                                                                DeathGhost 说：                                                        错过了周五，来个周日，了解了解...                           2019年11月17日 23:28 | # | 引用                                                                                                                木匠 说：                                                        好文, 谢谢分享.咱最近在学习系统升级, 这下概念清晰了.                           2019年11月18日 02:19 | # | 引用                                                                                                                丢火车 说：                                                        简单明了。。。                           2019年11月18日 09:21 | # | 引用                                                                                                                石樱灯笼 说：                                                        因为这三个术语在目前的技术实现上可以一起实现，所以会经常被搞混。                           2019年11月18日 09:30 | # | 引用                                                                                                                柯广的博客 说：                                                        简单明了！                           2019年11月18日 10:09 | # | 引用                                                                                                                你大爷 说：                                                        很棒，一看就懂                           2019年11月18日 10:23 | # | 引用                                                                                                                littlePuppy 说：                                                        容错 = 降频高可用 = 重启灾备 = 重装系统                           2019年11月18日 11:26 | # | 引用                                                                                                                lalala 说：                                                        还是看英文名字明了                           2019年11月18日 14:23 | # | 引用                                                                                                                noname 说：                                                        容错：异常控制高可用：模块化、版本控制容灾：备份、镜像                           2019年11月19日 16:48 | # | 引用                                                                                                                北梦小神 说：                                                        那我的plus手机比正常的手机使用时间更长一点,算是高可用了对把                           2019年11月21日 11:41 | # | 引用                                                                                                                andy 说：                                                        还有监控                           2019年11月22日 09:24 | # | 引用                                                                                                                轻舞飞扬 说：                                                        容错：允许“低可用”，但是要“可用”；高可用：必须“高可用”容灾：“灾难发生，依然可用”                           2020年1月29日 15:20 | # | 引用                                                                                                                BruceFu 说：                                                        容错和灾备一起构成了高可用。飞行员的弹出，和换胎是一样的。一个换的是胎，一个换的是飞机。                           2020年2月11日 23:02 | # | 引用                                                                                                                叫哥也不行 说：                                                        1、汽车三个轮子能继续运行 2、汽车备胎 3、汽车+安全气囊、侧气帘+人 这三个例子更直观哈                           2020年3月10日 22:13 | # | 引用                                                                                                                Lily 说：                                                        引用叫哥也不行的发言：1、汽车三个轮子能继续运行 2、汽车备胎 3、汽车+安全气囊、侧气帘+人 这三个例子更直观哈这波补得形象生动！                           2020年3月21日 14:23 | # | 引用                                                                                                                Lily 说：                                                        高可用方案是包含容错和灾备的吧。比如说集群，宕掉一个节点，系统还能继续运行，算容错。另外，使用集群也让系统能够比正常时间更久地保持一定的运行水平，即使导致系统中断，也能在短时间内恢复，所以也算是高可用。灾备的话，也是为了保存核心，尽快“东山再起”嘛，发生灾难后，系统恢复时间越短，可用性越高。借用百度百科里一段话：高可用的工作方式有：（1）主从方式 （非对称方式）工作原理：主机工作，备机处于监控准备状况；当主机宕机时，备机接管主机的一切工作，待主机恢复正常后，按使用者的设定以自动或手动方式将服务切换到主机上运行，数据的一致性通过共享存储系统解决。（2）双机双工方式（互备互援）工作原理：两台主机同时运行各自的服务工作且相互监测情况，当任一台主机宕机时，另一台主机立即接管它的一切工作，保证工作实时，应用服务系统的关键数据存放在共享存储系统中。（3）集群工作方式（多服务器互备方式）工作原理：多台主机一起工作，各自运行一个或几个服务，各为服务定义一个或多个备用主机，当某个主机故障时，运行在其上的服务就可以被其它主机接管。                           2020年3月21日 15:44 | # | 引用                                                                                                                桔子有点酸 说：                                                        高可用很形象                           2020年3月22日 19:15 | # | 引用                                                                                                                muhan 说：                                                        理解意味着什么？理解意味着自己也可以举一个例子。灾备的一个例子：电脑突然死机，可能烧了主板，可能系统崩溃。之前在电脑进行的工作突然无法继续进行，换电脑也不行，因为你的数据（硬盘资料，上网查询记录等等）并没有在另一台电脑上。这个例子中电脑数据就是你的业务，电脑则是你的基础设施。你无法从失败的基础设施中获取企业最宝贵的数据，然后在新的基础设施上恢复它们，这说明你不具备灾备意识，更不用说有灾备方案                           2020年4月 6日 22:29 | # | 引用                                                                                                                belong 说：                                                        很清晰 期待此专题的后续                           2020年5月 1日 16:51 | # | 引用                                                                                                                Hunk 说：                                                        这三个术语之所以容易混淆，个人觉得主要是因为这个三术语多少都与冗余有关系（或者说常见的解决方案大多都是通过冗余来实现的）。                           2020年12月10日 13:19 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9b4f4c8ccf45',t:'MTc0MzI0MzMzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2019/11/fault-tolerance.html
CSS 定位详解 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    CSS 定位详解 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：容错，高可用和灾备&nbsp;&nbsp;下一篇：Python&nbsp;异步编程                                                                                分类：                                                                                    开发者手册                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              CSS 定位详解                                                                                    作者： 阮一峰                                    日期： 2019年11月19日                                                                                                                                            CSS 有两个最重要的基本属性，前端开发必须掌握：display 和 position。                                                                                                                display属性指定网页的布局。两个重要的布局，我已经介绍过了：弹性布局flex和网格布局grid。本文介绍非常有用的position属性。我希望通过10分钟的阅读，帮助大家轻松掌握网页定位，说清楚浏览器如何计算网页元素的位置，尤其是新引进的sticky定位。  本文由国内最大的在线教育平台之一"腾讯课堂"赞助。他们现在启动了"腾讯课堂101计划"，推广平台上的课程资源，有不少优质内容。希望提高前端技术水平的同学，可以留意一下本文结尾的免费课程信息。一、position 属性的作用position属性用来指定一个元素在网页上的位置，一共有5种定位方式，即position属性主要有五个值。  staticrelativefixedabsolutesticky下面就依次介绍这五个值。最后一个sticky是2017年浏览器才支持的，本文将重点介绍。二、static 属性值static是position属性的默认值。如果省略position属性，浏览器就认为该元素是static定位。这时，浏览器会按照源码的顺序，决定每个元素的位置，这称为"正常的页面流"（normal flow）。每个块级元素占据自己的区块（block），元素与元素之间不产生重叠，这个位置就是元素的默认位置。注意，static定位所导致的元素位置，是浏览器自主决定的，所以这时top、bottom、left、right这四个属性无效。三、relative，absolute，fixedrelative、absolute、fixed这三个属性值有一个共同点，都是相对于某个基点的定位，不同之处仅仅在于基点不同。所以，只要理解了它们的基点是什么，就很容易掌握这三个属性值。这三种定位都不会对其他元素的位置产生影响，因此元素之间可能产生重叠。3.1 relative 属性值relative表示，相对于默认位置（即static时的位置）进行偏移，即定位基点是元素的默认位置。它必须搭配top、bottom、left、right这四个属性一起使用，用来指定偏移的方向和距离。div {  position: relative;  top: 20px;}上面代码中，div元素从默认位置向下偏移20px（即距离顶部20px）。3.2 absolute 属性值absolute表示，相对于上级元素（一般是父元素）进行偏移，即定位基点是父元素。它有一个重要的限制条件：定位基点（一般是父元素）不能是static定位，否则定位基点就会变成整个网页的根元素html。另外，absolute定位也必须搭配top、bottom、left、right这四个属性一起使用。/*  HTML 代码如下  &lt;div id="father">    &lt;div id="son">&lt;/div>  &lt;/div>*/#father {  positon: relative;}#son {  position: absolute;  top: 20px;}上面代码中，父元素是relative定位，子元素是absolute定位，所以子元素的定位基点是父元素，相对于父元素的顶部向下偏移20px。如果父元素是static定位，上例的子元素就是距离网页的顶部向下偏移20px。注意，absolute定位的元素会被"正常页面流"忽略，即在"正常页面流"中，该元素所占空间为零，周边元素不受影响。3.3 fixed 属性值fixed表示，相对于视口（viewport，浏览器窗口）进行偏移，即定位基点是浏览器窗口。这会导致元素的位置不随页面滚动而变化，好像固定在网页上一样。它如果搭配top、bottom、left、right这四个属性一起使用，表示元素的初始位置是基于视口计算的，否则初始位置就是元素的默认位置。div {  position: fixed;  top: 0;}上面代码中，div元素始终在视口顶部，不随网页滚动而变化。四、sticky 属性值sticky跟前面四个属性值都不一样，它会产生动态效果，很像relative和fixed的结合：一些时候是relative定位（定位基点是自身默认位置），另一些时候自动变成fixed定位（定位基点是视口）。因此，它能够形成"动态固定"的效果。比如，网页的搜索工具栏，初始加载时在自己的默认位置（relative定位）。页面向下滚动时，工具栏变成固定位置，始终停留在页面头部（fixed定位）。等到页面重新向上滚动回到原位，工具栏也会回到默认位置。sticky生效的前提是，必须搭配top、bottom、left、right这四个属性一起使用，不能省略，否则等同于relative定位，不产生"动态固定"的效果。原因是这四个属性用来定义"偏移距离"，浏览器把它当作sticky的生效门槛。它的具体规则是，当页面滚动，父元素开始脱离视口时（即部分不可见），只要与sticky元素的距离达到生效门槛，relative定位自动切换为fixed定位；等到父元素完全脱离视口时（即完全不可见），fixed定位自动切换回relative定位。请看下面的示例代码。（注意，除了已被淘汰的 IE 以外，其他浏览器目前都支持sticky。但是，Safari 浏览器需要加上浏览器前缀-webkit-。）#toolbar {  position: -webkit-sticky; /* safari 浏览器 */  position: sticky; /* 其他浏览器 */  top: 20px;}上面代码中，页面向下滚动时，#toolbar的父元素开始脱离视口，一旦视口的顶部与#toolbar的距离小于20px（门槛值），#toolbar就自动变为fixed定位，保持与视口顶部20px的距离。页面继续向下滚动，父元素彻底离开视口（即整个父元素完全不可见），#toolbar恢复成relative定位。五、 sticky 的应用sticky定位可以实现一些很有用的效果。除了上面提到"动态固定"效果，这里再介绍两个。5.1 堆叠效果堆叠效果（stacking）指的是页面滚动时，下方的元素覆盖上方的元素。下面是一个图片堆叠的例子，下方的图片会随着页面滚动，覆盖上方的图片（查看 demo）。HTML 代码就是几张图片。&lt;div>&lt;img src="pic1.jpg">&lt;/div>&lt;div>&lt;img src="pic2.jpg">&lt;/div>&lt;div>&lt;img src="pic3.jpg">&lt;/div>CSS 代码极其简单，只要两行。div {  position: sticky;  top: 0;}它的原理是页面向下滚动时，每张图片都会变成fixed定位，导致后一张图片重叠在前一张图片上面。详细解释可以看这里。5.2 表格的表头锁定大型表格滚动的时候，表头始终固定，也可以用sticky实现（查看 demo）。CSS 代码也很简单。th {  position: sticky;  top: 0; }需要注意的是，sticky必须设在&lt;th&gt;元素上面，不能设在&lt;thead&gt;和&lt;tr&gt;元素，因为这两个元素没有relative定位，也就无法产生sticky效果。详细解释可以看这里。（正文完）免费前端全栈课程初学者刚接触前端，往往会被一大堆技术名词、框架和工具，搞得眼花缭乱。到底哪些技术是目前的主流技术栈，既能用于公司的开发实务，又能为自己的简历增添亮点？下面就是一套目前主流的前端技术栈。（1）Node.js：服务器端的 JavaScript 运行环境，不管哪种前端开发，都必不可少的底层环境。（2）Webpack：语法转换工具，把 ES6/TypeScript/JSX 语法转成浏览器可以运行的代码。（3）Koa2：一个非常流行、简洁强大的 Node.js 后端的 Web 开发框架。（4）MongoDB：目前应用最广泛的非关系数据库之一，功能丰富，用法较简单。（5）Vue 全家桶：  Vue：前端基础框架Vuex：配套的前端状态管理库。Vue Router：官方的路由插件，构建单页面应用必不可少。Vue CLI：脚手架工具，帮你快速上手 Vue 开发，无需再花多余时间去实现项目架构。Vant：有赞前端团队开发的轻量级移动端 Vue 组件库，让你快速使用已经封装好的各种页面组件。看到这个名单，你是不是感到有点头大，全部掌握它们需要多少时间啊？现在，腾讯课堂就有一门这样的课程，内容包含了所有这些工具，教你怎么用它们从头完成一个全栈项目，亲手做出一个手机端的移动商城，是由 慕课网的精英讲师--谢成老师讲授 。这个课程原价98元， 活动期间，只要1块钱哦！ 微信扫描下面的二维码，就可以领取优惠券，享受1元听课的福利。该课程的制作单位是青盟科技。它是《腾讯课堂101计划》重点推广的优质机构，已有7年 IT 行业教学经验，培养收费学员2000+，有超过72%的学员都进入到名企大厂。如果你想了解课程的详细内容，获取课程大纲，或者想接受系统的前端培训，可以登录腾讯课堂查看"青盟科技"。 （完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2019年11月19日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.03.03: Trae 国内版出来了，真的好用吗？                                                         年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。                            2025.01.16: AI 搞定微信小程序                                                         一、前言AI 生成代码，早不是新鲜事了，但是 AI 生成微信小程序，似乎还不多见。                            2024.12.02: AI 应用无代码开发教程：工作流模式详解                                                         一、引言一个月前，我写了一篇《AI 开发的捷径：工作流模式》，引起了很多读者的兴趣。                            2024.10.31: AI 开发的捷径：工作流模式                                                         一、引言大部分人使用 AI，大概都跟我一样，停留在初级阶段。                            广告（购买广告位）云手机                                                              留言（50条）                                                                                                    DeathGhost 说：                                                        哈哈，有前端知识了，这个应该能看懂了我。                           2019年11月19日 09:44 | # | 引用                                                                                                                DeathGhost 说：                                                        sticky 还是比较方便的。比fixed                           2019年11月19日 09:47 | # | 引用                                                                                                                littlePuppy 说：                                                        sticky学习了                           2019年11月19日 09:47 | # | 引用                                                                                                                xu 说：                                                         元素绝对定位absolute的情况下，即使父元素是静态定位static，它相对的基点也不一定是html，有可能是有定位过（static除外）的祖先元素。                           2019年11月19日 09:54 | # | 引用                                                                                                                windy 说：                                                        很好用的属性，但是要兼容ie11(怨念~)                           2019年11月19日 09:55 | # | 引用                                                                                                                李昂 说：                                                        清晰简洁明了，感谢阮老师                           2019年11月19日 09:55 | # | 引用                                                                                                                bigma 说：                                                        引用xu的发言： 元素绝对定位absolute的情况下，即使父元素是静态定位static，它相对的基点也不一定是html，有可能是有定位过（static除外）的祖先元素。其实就是向上找，直到找到一个不是static定位的元素为止                           2019年11月19日 09:57 | # | 引用                                                                                                                史大林 说：                                                        用position：sticky来固定表单的顶部看起来很美好，但是浏览器的兼容性会导致各种各样的问题。用caniuse查下就知道。之前做过类似的一个需求，最好的办法还是用js来固定，当初用的table-fixed-header这个jq插件。                           2019年11月19日 10:05 | # | 引用                                                                                                                关宇 说：                                                        阮老师，absolute有点问题：“父元素不能是static定位，否则定位基点就会变成整个网页的根元素html”这么描述准确些：“相对于距离最近的有定位属性（一般是relative）的上级元素（一般是父元素）进行偏移，即定位基点是上级元素”                           2019年11月19日 10:30 | # | 引用                                                                                                                jarvis 说：                                                        学到了sticky                           2019年11月19日 10:42 | # | 引用                                                                                                                阮一峰 说：                                                        @xu，@关宇：谢谢指出。我稍微改了一下，说明 absolute 定位的基点不能是 static 定位。                           2019年11月19日 10:56 | # | 引用                                                                                                                浪过扬帆 说：                                                        前排先赞一个再看，文章还热乎着呢                           2019年11月19日 11:53 | # | 引用                                                                                                                大脑袋比目鱼 说：                                                        内容很精彩，可以再结合MDN https://developer.mozilla.org/zh-CN/docs/Web/CSS/position看，理解更好。                           2019年11月19日 12:17 | # | 引用                                                                                                                cl2 说：                                                        sticky, 学习了                           2019年11月19日 14:47 | # | 引用                                                                                                                方应杭的学生 说：                                                        fixed 要小心 transform                           2019年11月19日 15:24 | # | 引用                                                                                                                hewei 说：                                                        IE11 居然不支持 sticky 。否则做个双吸顶效果舒服一步到位了                           2019年11月19日 15:32 | # | 引用                                                                                                                JavenLeung 说：                                                        关于“absolute 定位的基点不能是 static 定位”那里，现在改的这个版本还是不太清晰，容易理解错                           2019年11月19日 16:55 | # | 引用                                                                                                                Arman 说：                                                        Absolute相对定位的元素应该是第一个非static定位的祖先元素或根元素吧                           2019年11月19日 18:25 | # | 引用                                                                                                                Mr. Ma 说：                                                        Bootstrap4 中的导航条也用到了 sticky 定位，不过 IE 还是用不了。                           2019年11月19日 19:30 | # | 引用                                                                                                                Chao 说：                                                        阮老师的文章就是硬                           2019年11月20日 02:52 | # | 引用                                                                                                                陶某人 说：                                                        涨知识了，之前没用过，用来试试                           2019年11月20日 09:27 | # | 引用                                                                                                                国际庄hello范儿 说：                                                        简单易懂，解了长期的疑惑。。。。。                           2019年11月20日 13:52 | # | 引用                                                                                                                心斩心 说：                                                        absolute定位基于最近的非static祖先元素。mdn的解释可以看这儿：https://developer.mozilla.org/zh-CN/docs/Web/CSS/position                           2019年11月20日 17:10 | # | 引用                                                                                                                John Hoo 说：                                                        demo里面的th, 只设置了sticky和top属性, 没有设置所有的定位属性诶?                           2019年11月21日 09:52 | # | 引用                                                                                                                John Hoo 说：                                                        引用John Hoo的发言：demo里面的th, 只设置了sticky和top属性, 没有设置所有的定位属性诶?刚刚理解错了,再读一遍就理解了                           2019年11月21日 09:54 | # | 引用                                                                                                                liugezhou 说：                                                        sticky大法好                           2019年11月21日 16:42 | # | 引用                                                                                                                刘骏佳 说：                                                        我发现表格的demo切换时会有轻微的抖动，这个问题是怎么导致的？该如何解决呢？                           2019年11月21日 19:04 | # | 引用                                                                                                                Traceless 说：                                                        toolbar的overflow属性必须设置为visible，否则sticky不生效                           2019年11月23日 17:49 | # | 引用                                                                                                                Neil Ning 说：                                                        当设置position = absolute时，如果其祖先元素都没有设置定位，并且也没有为当前元素设置任何left/top/right/bottom的值， 其效果跟position = relative是一样的，元素并不会相对于根元素定位而出现在浏览器的左上角。                           2019年11月26日 11:40 | # | 引用                                                                                                                微wx笑 说：                                                        一直以为"动态固定"效果只能基于js实现，原来sticky也可以，调试的时候看到这个不知道什么作用，终于了解了。                           2019年11月26日 20:03 | # | 引用                                                                                                                melon 说：                                                        文章结尾出放的文章对于webpack的介绍有误。                           2019年11月27日 17:51 | # | 引用                                                                                                                save 说：                                                        温故而知新                           2019年11月28日 17:54 | # | 引用                                                                                                                gehaoyu 说：                                                        再看无数遍                           2019年11月29日 17:45 | # | 引用                                                                                                                BugLi 说：                                                        可以提一下 transform 和 fixed                           2019年11月30日 15:49 | # | 引用                                                                                                                而井 说：                                                        建议将【sticky生效的前提是，必须搭配top、bottom、left、right这四个属性一起使用，不能省略，否则等同于relative定位，不产生"动态固定"的效果】修改为【sticky生效的前提是，必须搭配top、bottom、left、right这四个属性其中的一个或多个一起使用，不能省略，否则等同于relative定位，不产生"动态固定"的效果】，否则容易产生歧义，会有人理解成要用sticky来达到“动态固定”的效果，必须同时设置四个属性。                           2019年12月 1日 12:22 | # | 引用                                                                                                                Fighting_xiaobai 说：                                                        sticky会了会了，感谢阮大大不吝赐教！                           2019年12月 4日 10:19 | # | 引用                                                                                                                康康康康康 说：                                                        原文：页面继续向下滚动，父元素彻底离开视口（即整个父元素完全不可见），#toolbar恢复成relative定位。这一段感觉有点问题，应该是：当页面回滚到阈值一下，#toolbar 才会恢复成 relative 定位吧。                           2019年12月 4日 10:47 | # | 引用                                                                                                                康康康康康 说：                                                        引用康康康康康的发言：原文：页面继续向下滚动，父元素彻底离开视口（即整个父元素完全不可见），#toolbar恢复成relative定位。这一段感觉有点问题，应该是：当页面回滚到阈值一下，#toolbar 才会恢复成 relative 定位吧。不好意思 是我理解错了，阮老师想表达的和我的并不是一个意思。。                           2019年12月 4日 11:07 | # | 引用                                                                                                                mirror 说：                                                        你好 阮讲师:这一点有些疑惑"sticky生效的前提是，必须搭配top、bottom、left、right这四个属性一起使用，不能省略"--我在测试使用sticky定位时,只是写了top一个属性,也能有效.这个是怎么回事呢.                           2019年12月10日 11:51 | # | 引用                                                                                                                gz668 说：                                                        absolute和fixed定位会脱离“正常页面流”，导致下面的块元素上移，也就是对周围元素位置产生了影响，而文中所说不会对周围元素产生影响，这里应该怎么理解呢？有点疑惑。                           2019年12月12日 20:39 | # | 引用                                                                                                                Can 说：                                                        "sticky生效的前提是，必须搭配top、bottom、left、right这四个属性一起使用，不能省略，否则等同于relative定位，不产生"动态固定"的效果。"你的实例都不用搭配啊，不也生效吗？？                           2019年12月16日 17:41 | # | 引用                                                                                                                tomatoyyk 说：                                                        补充一点,粘性定位的祖先元素不能有overflow hidden,不然会失效,之前踩过这个坑                           2020年1月 2日 18:08 | # | 引用                                                                                                                king 说：                                                        sticky跟前面四个属性值都不一样，它会产生动态效果，很像relative和fixed的结合；阮老师，我觉得sticky应该更像是static和fixed的结合吧？因为relative定位，在设置了top属性的情况下也会偏移，而sticky在未达到阀值的时候，表现更像是static，除非sticky情况下的top等四个属性只是用来设置阀值的                           2020年6月 2日 17:52 | # | 引用                                                                                                                andy 说：                                                        哎，如果四个边可以用不同的定位方式就好了                           2020年8月 5日 16:43 | # | 引用                                                                                                                大衍 说：                                                        如果对 html 进行 absolute， 又是相对于谁定位呢？                           2020年11月27日 22:54 | # | 引用                                                                                                                Devon 说：                                                        sticky 对父元素的overflow属性有要求                           2020年12月 1日 17:57 | # | 引用                                                                                                                雨一直下 说：                                                        引用xu的发言： 元素绝对定位absolute的情况下，即使父元素是静态定位static，它相对的基点也不一定是html，有可能是有定位过（static除外）的祖先元素。没错，应该是逐级向上查找非static定位的父级元素，如果都没有，则以网页根节点(即：html)作为基点。                           2021年8月20日 13:51 | # | 引用                                                                                                                虫子的世界 说：                                                        我的补充总结：具体规则是当页面滚动的时候，父元素开始脱离视口，只要sticky元素与视口的距离达到生效门槛（必须至少搭配top、bottom、left、right中的一个来产生距离），它的定位模式就会切换到fixed；等到sticky元素开始超出父元素的范围，它的定位模式就会切换回relative，随后随着父元素一起滚出视口。可以这么理解：sticky保证了元素在父元素从开始脱离视口到父元素的空间尚可容纳该元素期间始终能完整呈现在视口中。演示Demo: https://jsbin.com/hiyohavove/1/edit?html,css,output                           2022年1月 8日 01:29 | # | 引用                                                                                                                sunflower 说：                                                        sticky的固定效果生效后，如何给生效的div加上阴影？或其它样式效果？                           2022年4月 7日 23:16 | # | 引用                                                                                                                不懒熊 说：                                                        感觉文中“它有一个重要的限制条件：定位基点（一般是父元素）不能是static定位，否则定位基点就会变成整个网页的根元素html。另外，absolute定位也必须搭配top、bottom、left、right这四个属性一起使用。”这句话描述不是很准确，因为当元素的 position 属性设置为 absolute 时，该元素会脱离"正常页面流"，并相对于最近的非 static 定位的祖先元素进行定位。也就是说如果它的父元素的是static，但是它的父元素的父元素不是static定位，则absolute定位的元素，则是以父元素的父元素进行定位，并不是根元素html。                           2023年10月28日 01:01 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9f451c71cf45',t:'MTc0MzI0MzQ5NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2019/11/css-position.html
一段音频 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    一段音频 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：Prolog&nbsp;语言入门下一篇：每周分享第&nbsp;42&nbsp;期&nbsp;                                                                                分类：                                                                                    观点与感想                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              一段音频                                                                                    作者： 阮一峰                                    日期： 2019年1月31日                                                                                                                                            去年10月，出版社打算录制《未来世界的幸存者》有声版，让我为这个节目录一段话。                                                                                                                我就对着手机，讲了十几分钟。然后发给出版社，我就不管了。有声版已经在喜马拉雅 App 上架了，你在 App 搜索"未来世界的幸存者"，就能找到，网页收听也可以。我的那段话一直储存在硬盘里。现在要了结过去的一年，我想了想，决定把它放到网站上，毕竟这是我第一次录音频。Youtube：优酷：除了上面的 Youtube 和优酷，百度网盘也有上传。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2019年1月31日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.07.27: 能源的极限                                                         一、美国能源署统计，1650年到2009年的美国能源消耗，年增长率为2.9%。                            2021.05.19: 中国经济的数字逻辑                                                         重庆市前市长黄奇帆退休以后，受聘担任复旦大学特聘教授，定期给师生做讲座，介绍他对中国经济的看法。                            2020.05.27: 软件吃软件，编程工作会越来越多吗？                                                         1、最近，国外有一篇文章，标题很有趣，叫做《软件吃掉软件》。                            2019.01.03: 站在未来的十字路口                                                         2018年的最后一周，《未来世界的幸存者》的台湾版上市了。                            广告（购买广告位）云手机                                                              留言（25条）                                                                                                    星零 说：                                                        晚上去听                           2019年1月31日 09:19 | # | 引用                                                                                                                白松玫瑰木 说：                                                        有趣，下班听                           2019年1月31日 09:28 | # | 引用                                                                                                                shadow 说：                                                        已经读了很多遍了， 很有感触                           2019年1月31日 09:36 | # | 引用                                                                                                                daodao 说：                                                        声音很好听                           2019年1月31日 09:38 | # | 引用                                                                                                                Ting 说：                                                        阮老师的声音这么年轻，我一直以为您很老呢~~~                           2019年1月31日 09:48 | # | 引用                                                                                                                张金金 说：                                                        阮老师，我第三遍看《未来世界的幸存者》时，发现您曾经写的：机器最难以与人类竞争的，就是创造力。目前，还没有一种软件，能够写出一部人类爱看的小说，估计将来也难有。我发现这句话可能已经不再适用了，至少那天您在您微博分享的人工智能合成的一首曲子的分享，我听了以后就觉得如痴如醉，深得我心，人工智能已经悄然间，谱出了我喜爱的曲子。不得不说，有些创造力职业，还是很有可能被取代。                           2019年1月31日 13:47 | # | 引用                                                                                                                司文 说：                                                        声音好好听                           2019年1月31日 14:19 | # | 引用                                                                                                                小杨 说：                                                        声音有磁性啊????                           2019年1月31日 15:28 | # | 引用                                                                                                                Ivan 说：                                                        AI一定比你聪明（这里面就包含了创造力），但是你可以比AI善良 —— 张小龙                           2019年1月31日 20:52 | # | 引用                                                                                                                景朔Hardy 说：                                                        未来之声 好听 加油 哈哈哈哈                           2019年2月 1日 00:16 | # | 引用                                                                                                                茉莉花开 说：                                                        声音真有磁性，好听                           2019年2月 1日 04:37 | # | 引用                                                                                                                ruiru 说：                                                        读完我细想，是真的有点怕，都说公务员为铁饭碗，如果有一天所有的业务，扣税，交通管制等等都用AI，列如：你开车未交罚款，在未来的新能源，或者完全AI系统的车里面会查到你的个人信息，然后督促你交罚款，如果出现未交，出现延迟交罚款的信息，你所开的车将不在运行，那会是多么可怕的一件事。我相信，AI人工智能在未来有一天是完全可以做到，除非人们不想。机器终究是没有感情的。                           2019年2月 1日 17:39 | # | 引用                                                                                                                Sam 说：                                                        两年前我偶然浏览到您关于思考人类未来的一篇文章，这个问题就在我脑子里面生了根，挥之不去。而几个月前我又偶然读到一篇欧美主流报刊上的文章，针对人工智能的兴起将淘汰一大批低创造性工种而造成的劳动力过剩，文中讨论了如何将这些人就新环境下再培训再就业，以及这种做法到底是否可行。甚至另外有些文章直接从制度上的变革来探讨——考虑发放普及到每个人的生活保障金，将从根本上改变人员的流动情况——人们将有更自由的选择，去学习，去创造。这些文章，这些探讨给我留下了深刻的印象，我开始觉得，人类这个物种拥有自己的健壮性和鲁棒性。另外，我发自内心地感受到，共产主义真的只能由极度发达的资本主义中萌发。未来人工智能的成熟会像前几次工业革命一样解放生产力，制造大量剩余劳动力，然后将这些人口投入到新形式的劳动中。少数发达国家的主流媒体已经意识到并开始探讨这个进程。这个进程又会导致世界发展的极大不平衡，由此引发新的革命。又或许，以后人类的革命不一定都是流血的了。                           2019年2月 2日 01:43 | # | 引用                                                                                                                寻找安多芬 说：                                                        阮老师也来油管了，欢迎！                           2019年2月 3日 09:41 | # | 引用                                                                                                                Weiran Qi 说：                                                        声音很性感                           2019年2月 6日 05:38 | # | 引用                                                                                                                yaxi 说：                                                        书还没看，但是大多数人被未来社会的技术淘汰，财富聚集在少数技术寡头手中。这个角度是不是过于集中在技术领域了。社会的发展是一个社会性的问题，不单单是生产力这一个方面，技术带来了生产力的巨大进步，但是生产还是为了满足人类的需求，大多数人被淘汰的社会怎么看也不是一个稳定健康的社会，这种状态之下如何维持社会的平衡和稳定，如何建立相应的社会制度和规则？人类社会还是应该是一个双赢的局面，技术不应该抛弃大部分人，而是应该刺激社会整体的进步和结构的重组。                           2019年2月14日 12:29 | # | 引用                                                                                                                江小凡 说：                                                        我很庆幸自己进入了it行业                           2019年4月15日 23:29 | # | 引用                                                                                                                Surene 说：                                                        阮老师您好，第一次看到这本书的时候，仅用了两个晚上就读完了此书，之后的两天过得神神叨叨还会发怵。您对技术的一些看法确实是影响到了我，就像您说的成年后“改变世界观”的一本书。时隔几周来看，我觉得技术对现代社会的影响不会在10年内有过大的变化，技术目前还处于为人类创造价值带来便利的阶段，而且政府的干预和科学家的期望也会往这个方向靠拢。技术取代人类是一个必然的结果，它一定也只是时间长短的问题。现代技术水平到了一个非常高的阶段，其复杂程度难以想象，而每次的突破都会比上一次突破困难百倍。同时重大技术的突破又一定依赖于基础科学——数学、物理等，纵观历史上的开创性大数学家和物理学家，他们的成果基本在几十年乃至百年后被大规模应用，这个时间放到现在来说肯定会缩短，但也会需要几十年。最近看任老先生的访谈，他说你这几个磨豆腐的把豆腐磨好，那几个采豆芽的把豆芽种好，每个人做好自己那份事业，合起来就是美丽中国。小生对此深有感触，所以我辈当做好能及之事，热爱生活，望阮先生勿要对此过于担忧，珍重。                           2019年6月 3日 23:52 | # | 引用                                                                                                                liujan 说：                                                        技术的发展必然会导致更多的人被人工智能、机器所代替，但这种变化对整个人类种族来说是正向的，同时也是必然会发生的。所以当这种情况发生时，人类社会必然能够安然过渡，那些被解放、淘汰下来的人也能够在新的社会和不断的适应和社会重组中找到自己的落地点。但是，对于个人来说，随着科技的进步，个人的幸福感是不是也在增加呢？这个是不确定的。在原始狩猎社会时候，每个人虽然每天为三餐而疲于奔波，过着朝不保夕的生活，但是也没有现代的各种压力；现代人虽然呆在办公室里，通过电脑就能指挥机器完成各种工作，但是生活的压力对于原始社会的人来说也不见的小，房贷、教育、医疗、后代抚养这些压力都压在现代人的肩上。更别说由于生活方式的变化，而人类生理还未能适应这种变化而导致各种劲椎病、肥胖症、肺癌、抑郁症等各种疾病时刻威胁人的生命。                           2019年8月 8日 11:34 | # | 引用                                                                                                                世界的窗 说：                                                        世界还会好吗？                           2019年9月18日 20:42 | # | 引用                                                                                                                dong 说：                                                        最近两天在这个blog上看了阮老师的书，内心被深深刺痛。感谢。                           2019年11月26日 16:06 | # | 引用                                                                                                                Christiana 说：                                                        第一次留言有点激动????                           2020年2月 2日 10:19 | # | 引用                                                                                                                胡云海 说：                                                        首先对您具有的高度的人文主义关怀表示钦佩，但我觉得其实我大可们对未来多一些乐观。针对您之前对经济学无用的观点，我觉得经济学对未来颇具预测的作用，如果每个人人懂得经济学原理，那么其实我们都可以在每次危机来临前做好准备，很好地应对危机。所以我们要做的是把国民素质提上来，而不是否定经济学的价值。我想着一点上我们就应有一份积极的心态。其次，科技给人类带来副作用的观点在启蒙运动时期在被卢梭先生在《科学与艺术》提到过，他认为科学是毒剂，而艺术才是拯救人类的良药。科技是一把双刃剑，我也并不反对这一点。但是难道我们的世界秩序的构建和运转通通依赖于科技？我们在这面前就无能为力？人在这面前并不是无能为力的，人可以通过对规律发生作用的条件和形式来利用规律，改造客观世界，造福人类。其实我们有各种各样的手段来改变这一点，我们也正在做。而且我相信我们完全有能力扭转这一点。正如您所说的财富和机会集中在少数人如技术寡头手里，那么势必会造成社会贫富差距和社会不公，而这会影响我们国民的消费水平和经济增长，也会影响我们生产积极性和生产效率的提高。我想这是我们的国家不愿意看到的，所以国家也在积极地采取措施妥善处理好就业问题，我们也的的确确看到了我们改革开放以来我们国家在稳就业，促民生方面取得的伟大成就。所以我想我们应该相信我们的国家，相信我们的党的正确领导，并对未来充满希望。而且部分是整体中的部分，离开了整体，部分就不成为其部分。如果我们只依赖于技术寡头的努力，我们的市场潜力和人力资源却无法得到有效发挥，我想中国的未来才真正难见光明。历史的车轮只会由我们勤劳的人民将它推动，滚滚向前。我们还要相信我们勤劳的劳动人民，相信人民自己解放自己。依靠我们的人民来发展生产才是康庄正道。人间正道是沧桑，还请广大网友一同守好底线，不要发表违背历史发展客观规律和实际的错误言论（如上有人表示共产主义要在高度发达的资本主义经济上产生），而应该一同投身到中华民族伟大复兴的实践中，为我们国家的发展做出一分应尽的贡献！（附加：马克思主义是在不断发展完善的。网友的观点与马克思主义的早期观点不谋而合，而马克思主义却是在实践中得到不断发展，我想网友的观点也应该与时俱进了。）                           2020年2月19日 10:06 | # | 引用                                                                                                                无名 说：                                                        把自己的知识无保留的贡献出来，把即使已经出版的作品，还会放在网上免费让因各种原因没有购买的人学习，即使下面这个“个人网址”，也可以让一个普通的博客增加一个外链。阮老师的这些行为不是偶然，听完了这段音频，就知道原来阮老师对做为一个整体的人类，有如此强烈的关怀和悲悯之心。这在目前的精英群体中，在人人都追求个人利益最大化的今天，非常的难能可贵。说回对本文的观点，毫不夸张地说，如果是沿用资本主义的体制和社会运作模式，那阮老师的担心，都会成真的。今天疫情之下的美国，就是一个非常鲜明的例子，不用阴谋论地去猜测“消灭穷人消灭老人”的说法，只说在正常的社会运转中，职业不平等所带来的生存风险问题，富人与资本结为一体，而一般的平民，只是资本增值的要素之一——劳动力，然后得到可以维持再生产的工资。那么如果有一天，很多普通人的工作都被机器代替，会怎么样？首先，生产工具是资本家私有的，所以所有的产出都会归资本家；其次，可以维持生存的所有资源都已经私有化，而普通人的收入不足，购买不起；最后，资本以“慈善”的外貌出面，有针对性做一些救助，使矛盾不激化，普通人挣扎在生存的边缘，慢慢被消失。出路只有一条，就是需要一个全人类共享科技进步的成果的体制，来实现真正的共享。不是使用一个智能手机，能上网看免费信息就算共享了，如果科技的进步成本以私有的形式被个人或集团控制，那这手机电脑这些工具，只能回忆对普通劳动成本的掠夺。                           2020年6月 8日 19:17 | # | 引用                                                                                                                horseOpen 说：                                                        大可不必担心   鄙人认为车到山前必有路                           2021年8月24日 14:16 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9b9ae99acf45',t:'MTc0MzI0MzM0NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2019/01/a-piece-of-audio.html
北京酒店业揭秘（四） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    北京酒店业揭秘（四） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：北京酒店业揭秘（三）&nbsp;下一篇：蓝狮子与唐骏博士之绝配                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              北京酒店业揭秘（四）                                                                                    作者： 阮一峰                                    日期： 2010年7月 7日                                                                                                                                            十九、前门建国饭店                                                                                                                309.地点：宣武区永安路上，距离地铁和平门站比较近。价格：单人间，299元/天。本次"潜伏"活动的倒数第二个调查对象，我选择了一家四星级酒店。299元的房费，可谓相当便宜了。310.在前台，顺利办理了入住手续。311.服务员告诉我，他们这家酒店是京剧主题的，上世纪50年代建成。酒店的大堂不是很大，但是装修风格很典雅，上方有一幅很大的壁画，都是京剧人物。 312.大堂休息处，也挂有一幅精美的壁画，同样是京剧人物。这家酒店到处都有京剧元素。313.坐电梯来到了我的楼层，走廊里铺着红地毯，放着中国古典家具，很安静。墙上有很多京剧大师的照片。据说梅兰芳先生多次下榻过这家酒店，并在这里进行过多次演出。314.这就是我的单人间，很温馨，床也很大，可以睡两个人。里面基本都是白色的欧式风格家具，给人很洁白清爽的感觉。房间内也铺着地毯。 315.房间内有可以自己调节温度的中央空调，以及液晶电视。宽带是收费的，一天50元，不过这个价格也比其他星级酒店便宜。 316.有一个小吧台，小冰箱里有几瓶常见的饮料，还有两种小吃，种类不是很多，价格是18元到28元。还有一个小饮水机，水是免费饮用的，大概有3升左右的纯净水，足够喝了。很多星级酒店，房间里没有饮水机，一般配两瓶免费的矿泉水，根本不够喝。另外，吧台上还有五个免费的茶包。317.储物柜里有睡袍、拖鞋、保险柜、体重秤。整个房间真是麻雀虽小，五脏俱全。 318.桌上的服务指南，除了常规的服务说明外，还有各个国外频道的电视节目预告海报，以及这家酒店楼下的京剧表演的介绍海报。原来，楼下大堂的"梨园剧场"，每晚7:30都有京剧表演，一会就去看看。319.打开电视，默认节目是真人演示遇到火灾等危险情况的逃生方法，还是中英日三文循环播出的。一开始，我还以为是外国灾难大片呢！？其他酒店里真没看到有这样的节目，建议借鉴这个做法。320.打开电视柜，发现里面的做工很粗糙，木头很破旧，应该是很廉价的家具吧？其他柜子和抽屉里面也都是这样。这可不像4星酒店啊，房价便宜归便宜，家具确实该更新一下了！ 321.卫生间还是很干净的，一切东西都摆放有序。虽然空间不大，但也有浴盆呢。322.一次性洗漱用品很全，但是旁边的牌子上有一段话是这么写的："一次性洗漱用品给环境带来危害，如果您没有携带自己的洗漱用品，请拨打客服电话，我们会马上为您送来。"明明都提供一次性洗漱用品了，不知这个牌子摆在这里有什么用，有点纳闷。 323.马桶旁边有紧急呼叫器，遇到危险情况可以使用这个。对于老弱病残客人，应该很有用。324.我下楼，来到大堂的"梨园剧场"门口，想看看传说中的京剧。325.一进门，看到很多京剧工艺品。很多外国客人很感兴趣地在选购。 326.再往里走，发现剧场门口有很多京剧演员正在化妆，我还想是不是一不留神，进到人家的后台了？不对，这是酒店故意把后台搬到这里来的，专门为了让客人参观。这也是一个特色吧！ 327.走进剧场，大部分观众都是外国人。328.今天上演的曲目是《观战》和《虹桥送珠》，短短一个小时的精彩演出，演员们把京剧的生、旦、净、末、丑，以及唱、念、坐、打，都一一展示出来了。观众中不断有人叫好，老外们都看得津津有味，十分投入。329.总结：这次的房费加上网费一共花了349元。这个价格住4星级酒店已经是非常便宜了，而且房间内的设施该有的都有，住得很舒适。这个房间是不含早餐的，如果在这里吃是66元一位。总之，比其他4星酒店或一些连锁酒店的性价比要高很多。这家酒店适合想花不多的钱住星级酒店的人，还适合爱好京剧的人。不过缺点是，房间的家具略显陈旧，酒店的服务还不够周到。另外，这家酒店里没有游泳池和健身房，这应该是4星级酒店的标配才对。二十、王府井希尔顿酒店330.地点：王府井。价格：单人间，打完折后1350元/天，外加15%的服务费。本次活动的最后一个调查对象，我选择了一家新建成的豪华五星级酒店，准备让自己好好享受一下。331.酒店的地址虽然是在王府井大街上，但还真不好找。原来，酒店的正门没有临街，藏在新东安市场的后面。酒店的大楼并不高，看起来有点欧式建筑风格，据说是去年北京奥运会前建的。 332.酒店的门童主动为我打开出租车门，并帮我拎包。大堂确实很漂亮，很稳重豪华，也比较前卫和时尚。333.前台服务员都很漂亮，有几个好象还是混血儿。她们的英文都不错，这里很多客人都是老外。办理入住手续时，算上押金要先交2000元。我问可不可以刷卡，对方说可以的，但一看我的卡是储蓄卡，告诉我说要刷信用卡才行，我说我没有信用卡，最后让我去王府井大街取了2000元现金。还算比较顺利地开了房，这种高档酒店貌似都只接受信用卡。334.因为这两天是圣诞节，所以我住过的酒店都有各式各样的圣诞树。这家酒店的圣诞树却很特别，由多个白色和紫色的球组成的，还可以发光，一亮起来整个树都是晶莹剔透的，很耀眼。335.大堂的另一边是休息区，高档沙发加木制地板加漂亮的吊灯，够豪华！我正拍着呢，这时，走过来一个大堂经理模样的人，说先生不好意思，我们这里是不允许拍照的。336.不过，当我看到电梯间里一个漂亮的艺术造型，又忍不住悄悄举起了相机开始狂拍。337.走廊里还有艺术雕塑，感觉很高档。走廊很宽，地毯和大理石，装修得很豪华。338.找到我的房间。一进门，天呀，好长啊！一眼望不到头的感觉，足有20多米深！339.我快速在里面走了一圈，房间超级大，大概有100平米左右。整个房间的家具、装修、硬件设施等用一个字概括：豪华！这个词我今天好像已经用了好几次了，别见怪，词穷了。 340.这是在房间最里面往外拍，够大吧！可以看出来房间分为四个区域。依次是储物室、卫生间、卧室、办公室。隔音效果很好，屋内非常安静。 341.白色的休闲椅，可以在这里看书、休息、喝茶、或闭目养神。感觉很放松很安逸的角落。342.这是办公区，写字台，老板椅，墙上还有一个液晶电视。桌子上有宽带线，不过网费很贵，一分钟3元！一天120元！比国际长途电话都贵了。343.房间里的大床舒适柔软有弹性，高档面料的床单，各种硬度的枕头。真没得说，躺上去非常舒服！344.床的正前方是一台42寸的夏普大平板液晶电视，整个镶在墙里。国内外的频道很全。还有DVD影碟机，服务指南里有各类电影的目录，你可以给客服打电话，让他们送来你想看的影片。躺在床上看大片的感觉绝对棒！ 345.房间里有一个大柜子，打开之后，发现里面是个酒吧。小吃、洋酒、红酒、饮料、咖啡、茶包、安全套、创可贴、润滑剂等等一应俱全！不过我不会动里面任何一个东西的，因为一听355毫升可乐的价格竟是35元！346.整个卫生间分为三部分，中间是洗手台，左边是浴室，右边是厕所，不像其他酒店的卫生间都是洗漱拉一体的。这样的设计很好，可以三个人同时用。 347.右侧的厕所空间不大，但是很干净。有一个马桶，两卷卫生纸，配有电话，还有很多本杂志。348.左侧的浴室就很大了，有淋浴和浴缸，墙上还有一个小电视，还很善解人意的摆着一个玩具鸭子。让人边泡澡边看电视，还能在水里玩着鸭子。就像回到童年一样。349.再来看看储物室，空间很大，大概有5平米，放自行车都行。除了保险柜和拖鞋等物品，还有鞋跋和鞋托。 350.房间内还有一个特别之处，就是有专门的接口可以连接自己的音响设备，还有连接笔记本投影仪的端口，这样你就可以在42寸的大屏幕上看自己笔记本电脑里的内容了，这点确实很爽啊！351.房间内的高科技还真不少呢。床头柜有自动拉开或关闭窗帘的按钮，很好用，没早发现，刚才还害我找了半天的窗帘绳子。电话上有一个"MAGIC"的按钮，按这个按钮，可以为客人提供酒店的各种服务。不管叫车、送餐、买票、客房服务，都能帮你搞定。那我就先试试它吧！ 352.如何测试酒店的服务呢？我是这么做的。每隔一个小时就按下那个"MAGIC"按钮，要求送一瓶免费的矿泉水来。本来房间只配两瓶，最后我一共要来了八瓶！我实在有点不好意思了。但服务员始终没有烦，还微笑地说，先生，要不我给您搬一箱得了，省得您来回叫了。服务态度还是不错的。353.窗外的景色，只有群楼和晚霞。北京的冬天，天黑得比较早。354.酒店的晚餐实在太贵了，我吃不起，就从外面买了麦当劳回来。坐在大堂的沙发上开始吃，正好测试一下酒店的反应，看看让不让我在这里就餐。果然，刚吃两口，就有一个大堂经理模样的人走了过来说，先生，酒店里是不让吃外带食品的。您要不快点吃，要不换个地方。没有再难为他，经理也不容易啊。我回房间躺在那张大床上把这堆垃圾食品吃了个精光！ 355.第二天早上，去吃早餐。餐厅人不多，穿着一身黑色连衣裙的服务员很优雅，亲切的给我安排了座位。这里食物种类很多，中西餐都有，既有咖啡面包和奶酪也有豆腐脑油条和腐乳，都是客人自取的，还有很多食物是厨师现场烹饪出来的。356.发现了一个好玩的东西，这个机器外观有点古怪，当你把几个橙子从上方的口里放进去，然后就会看到一杯新鲜现榨果汁的生产全过程了。橙子皮和果肉还能自动分离，真是奇妙哦！以前没见过这种机器，看来我又老土了。357.这顿早饭真是丰盛啊，色香味俱全，还是中西合璧。358.吃完早饭，我来到6楼的健身房，地方不大，设备不错，里面一个人都没有。359.又来到室内游泳池瞧了瞧，也是一个人都没有，泳池不小，水看上去很干净，四周有很多躺椅。360.酒店退房时间可以延长到下午1点。前台服务员办理退房手续很快，只问了我有没有用房间酒吧里的东西，然后就退押金，开发票，不到2分钟就办理完了。效率很高啊！ 总结：这次房费加服务费加网费一共花了1600多！真是最贵的一家。但你要问我住得值不值，我可以告诉你：很值！当然是对于高收入阶层、注重生活品质的人群来说的。广大普通网友，包括我自己，一般是不会选择这种高档酒店入住的。其实我觉得这个房间最少可以住5个人，100平米呢，只住一个人确实太浪费了。房间里一般都可以加床和被褥的，这样一来性价比就高了，体验一次也不是很奢侈的事了。酒店的硬件和服务包括卫生都没什么毛病，都是属于一流的，当然也是因为价格摆在那里。酒店的位置不是太明显，出租车不好找到。二十一、回顾和盘点361. 二十二、入住酒店的不完全攻略362. 酒店的分类。本次调查的酒店大概分为四类：星级酒店、快捷连锁酒店、青年旅舍或客栈、特色单体酒店。星级酒店比较高档正规，如果你讲究生活品质或经济殷实，一般应该选择这样的酒店。快捷连锁酒店，主要满足一般工薪阶层的需求，主要优点是方便和便宜。这样的酒店没有突出的特色，你对硬件也不能要求太高，只要干净卫生，能够舒服安稳地睡眠就OK了！青年旅舍和客栈，最大的特点是便宜。选择这类酒店的人，一般是旅游爱好者，独自旅行的背包客不在少数。除了价格，它的优势不是服务和硬件，而是一种少有的人情味，你能在这里认识不少志同道合的朋友。特色单体酒店，在北京就是传统四合院形式的酒店。不便宜，但是正宗地道！会让人有很多难忘的记忆和收获。绝妙之处就是让你忘了是在酒店，而感觉自己也是当地人了。363. 酒店的预订。选择完要住的酒店，就该预订了。现在网络很发达，你可以先在各大旅游网站上预订酒店。这样不仅仅是快捷方便，还能打不少折哦，一般是打3到8折不等，我还遇到过1.9折的呢。酒店的门市价格往往比网上预订的要高很多，甚至高好几倍。除了在网上预订，也可以选择电话预订，效果都是一样的。有些高档酒店，为了防止客人预订后又不入住，就采用信用卡预订的方式。客人要把自己的姓名及信用卡号告知酒店，如果不入住，也会从卡上扣钱，这招比较狠啊！并不是所有的酒店都可以从网上预订的。一般的青年旅舍、客栈、特色酒店都没与旅游网站合作，但可以搜到酒店前台的电话。你可以直接和前台砍价，旅游淡季时都会打折的，但是赶上旺季，酒店还会涨价。364. 酒店的入住。当你到达酒店之后，一般高档星级酒店会有门童为你开车门，并帮着拎行李的。如果需要把行李拎到客房是需要给小费的，这个问题我们后面再说。如果你是提前预订好的，到了前台把姓名告诉服务员就好，然后把身份证给对方，酒店都要扫描并打印身份证留底的。接着就是要交押金，一般是房费的1.5到2倍，500元的房费就要先交800到1000的押金。押金是只收现金或是刷信用卡的，如果刷普通的银行卡在退房手续上会很麻烦，因为涉及到要退现金。进入房间后，很多人都会把行李放下，然后就躺在床上看电视了。其实最先应该做的事情，就是先看看房间内的安全措施！一般门后都会贴有房间位置的示意图，一定要了解你的房间距离安全出口有多远，路线怎么走，这个很重要的。再看看房间的灭火装置，所有酒店房间内的天花板上都应该有报警器和自动喷头，如果房间内着火，报警器会鸣叫，喷头会自动洒水。这是最基础的安全设施，国家规定所有酒店必须要安装的。有些安全措施更好的酒店，房间内会配有灭火器和防毒面具。还是那句老话，出门在外，安全第一啊。365. 房间内的消费。这个问题主要是针对高档星级酒店来说的，房间内的小酒吧和上网费，价格非常贵，我见到最贵的是一听可乐35元！一瓶矿泉水50元！而上网费贵的一分钟就要3元！一小时要20元！所以，请谨慎使用。366. 酒店的小费问题。这个问题也是在高档酒店才会遇到。按国际惯例，客人给行李员小费是应该的，甚至是必须的。行李员帮客人把行李拿到客房后，通常不走，在那里磨磨蹭蹭的，或问你还需要什么，或给你介绍其他服务，甚至也有的会直接和你要小费，一般客人都会识相的给点小费的。不过中国客人对这个惯例可能还不太习惯，甚至会直接把行李员赶出房间。小费通常是给10元到20元人民币左右。大方的会给50元，小气的会给5元，这都没有硬性规定的。还有客人离店的时候，行李员把客人的行李放上出租车，这个时候也会给小费的，而且这个时候通常会比较多，因为很多外国客人离开酒店就直接坐飞机走了，手上的人民币就没用了。一般规模的酒店，每天进出的客人要几百位左右，小费积少成多就很可观了。367. 酒店的盈利。投资造一个300-400间客房的五星级酒店，在2、3年前的话，大概是5个亿，现在是多少不清楚。客房收入是酒店最大的收入，基本上会占到酒店总收入的7－8成。以400间客房为例，整年平均出租率80%算，平均房价800元，一天的客房平均收入做到25万没问题，再加上餐饮和其他收入，一天的营业额可以在30-35万左右，一年一个多亿是很容易的事情。一亿多里面，刨掉各种开销（包括人员成本、管理费、水电煤等等），最后能留下的并上交业主的，就是业主利润，基本上可以到4千万左右。投资五个亿，每年可以回报四千万，由此可见酒店业的投资回报有多高了。同样投资100万买套房子，一年的租金回报怎么样都不可能到8万吧。所以开酒店的越来越多。368. 酒店的免费早餐。很多酒店是含早的，也就是提供免费的早餐，大多是自助式的。不过房费打折比较多的话就不含早了，这个要在入住时确认一下，免得浪费一顿白得的早餐。一般经济酒店的免费早餐没什么特别的，就算付钱也不贵，通常是10-15元一位。种类无非就是大米粥、鸡蛋、油条、豆浆、包子、咸菜、牛奶、面包之类的普通食物。但在一些高档星级酒店，早餐就是一种享受了，甚至比午餐和晚餐还讲究哦！中西式的食物都有，咖啡、奶酪、培根、火腿、沙拉、三文鱼、螃蟹、煎肉、鲜榨果汁、各种浓汤、面点、甜点和水果等等，非常丰盛，都是自选的。而且很多都是厨师现做的哦，如果你要煎蛋或煎肉或是煮意面，都可以看着厨师为你大展身手。如果选的食物太多，实在吃不完的话，也可以打包带走，酒店也不会计较这些的。我已经屡试不爽了，这样就又赚了哦。如果花钱吃这么一顿早餐的话也得要88元到128元之间了。需要注意的是，通常免费早餐提供的时间是早上7:30-9:30之间。369. 酒店的退房。大部分酒店规定，中午12.00之前退房。有些酒店可以商量，晚一个小时退房，也没有什么大碍。我遭遇到两次因为晚退房而被酒店要求多掏半天房费的不愉快事情。他们都不是高档酒店，而且都没有提前电话提醒我，好像他们很期待我晚些退房，然后就可以多赚一些了。我和他们交涉半天的结果就是，告知我电脑已经计费了，无法更改了。退房时，除了交房卡或钥匙，记得把押金条给前台，别忘了退押金哦。最后记得要求开发票。二十三、结束语370.不知不觉，纷纷扰扰的2009年过去了。通过"山寨新闻调查"，我在网络这个虚拟的世界里，收获了最为真实的感动、掌声、快乐、还有美好的记忆。它们，以及那些旅途中的劳累、调查过程中的艰辛、生活中的酸甜苦辣，都将成为我人生中最宝贵的财富。很多朋友问我做这些事情的目的究竟是什么？我想除了为了满足自己童年之后就逐渐失去的好奇心，寻找挖掘分析事物所获得的美妙快感，宣扬勇于探索的执著精神之外，更重要的还是让更多人在网络中找到一个能安放自己心灵的伊甸园。如果你和我一起体验的同时，能愉悦身心并且暂时忘掉生活工作中的压力和烦恼，那我就很欣慰了。祝大家新年快乐！希望不久之后，我还会再次和大家见面！再见！[原文网址]* 天涯社区 * 新浪博客：山寨新闻调查 （完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2010年7月 7日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（14条）                                                                                                    功夫鸟得 说：                                                        就这样结束了？有没有其它系列的？意尤未尽啊。                           2010年7月 7日 10:33 | # | 引用                                                                                                                小可 说：                                                        同上。只有北京的么？还有这种调查活动吗？                           2010年7月 7日 13:57 | # | 引用                                                                                                                Velanlee 说：                                                        受益良多，感谢作者并期待下次的山寨调查。                           2010年7月 7日 14:41 | # | 引用                                                                                                                品味 说：                                                        很喜欢这样的帖子，对于有旅游计划的好处更多                           2010年7月 7日 16:30 | # | 引用                                                                                                                Larry 说：                                                        可以转载吗？标明原帖地址和发帖人的情况下？                           2010年7月 7日 16:33 | # | 引用                                                                                                                maobama 说：                                                        thanks for reposting here                           2010年7月 7日 17:27 | # | 引用                                                                                                                jokry 说：                                                        总体上感觉橘子酒店最不错，价格合适，环境也很好。                           2010年7月 7日 17:59 | # | 引用                                                                                                                afity(com){开源社区++;} 说：                                                        我们都只体验经济酒店                           2010年7月 7日 22:25 | # | 引用                                                                                                                Jing 说：                                                        好文啊，期待更多！！                           2010年7月 8日 08:08 | # | 引用                                                                                                                风逐蓝天 说：                                                        谁能整理个一个word文档吗？                           2010年7月12日 04:53 | # | 引用                                                                                                                未知树 说：                                                        很佩服！山寨记者，活很专业！ 不妨做个上海，北京酒店探秘对比呵呵呵                           2010年8月10日 13:20 | # | 引用                                                                                                                David 说：                                                        去了怎么多好地方、不好意思把你照片、转发到自己空间收集里了、因为我很欣赏你的作品                           2010年8月21日 20:31 | # | 引用                                                                                                                笑 说：                                                        投资5个亿，每年回报4000万，就是要12.5年才刚刚收回成本。除非是无风险投资。                           2010年9月25日 14:14 | # | 引用                                                                                                                gmcow 说：                                                        引用笑的发言：投资5个亿，每年回报4000万，就是要12.5年才刚刚收回成本。除非是无风险投资。呵呵，就算不挣钱建好的酒店不还摆在那么，关键在于投资的那五个亿本身还在，甚至也在增长。。。                           2011年1月10日 20:13 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9704cf70cf45',t:'MTc0MzI0MzE1Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2010/07/beijing_hotels_unlocked_part_four.html
北京酒店业揭秘（一） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    北京酒店业揭秘（一） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：保持愚蠢&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;下一篇：北京酒店业揭秘（二）&nbsp;                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              北京酒店业揭秘（一）                                                                                    作者： 阮一峰                                    日期： 2010年7月 4日                                                                                                                                            去年底，一个点评网站举办酒店"潜伏达人"活动。                                                                                                                网络招募3名"达人"，提供每人10000元基金。要求在30天内，"潜伏"入住20家酒店，写出点评和心得，供网友参考。最后，一位笔名为"山寨新闻调查"的网友入选。他曾经在深圳"潜伏"三个月，写出了长篇报道《山寨机揭秘》，引起了很大的反响。这一次，他决定将"酒店潜伏"活动，作为"山寨新闻调查"的第二季，隆重推出。这一组报道，去年12月就上网了，但是直到上个星期，我才看到。我觉得，它们反映现实生活，非常生动有趣，也很实用，所以决定转贴过来。由于图片实在太多，只能从今天开始，分成四次连载。=============================北京酒店业揭秘作者：山寨新闻调查我是一个民间记者，喜欢"卧底"，善于潜伏在各个行业里，把最真实客观的行业内幕展现给大家。2009年初，我曾经只身一人去深圳调查山寨手机行业，经历重重险阻，写过长篇纪实连载《山寨机揭秘》，反响还不错。而这次我打算潜伏到酒店行业去，为大家揭秘酒店行业的那些事儿！我接下来要做的事情就是：1个月内，用1万元人民币，以普通消费者身份入住北京的20家知名酒店（包括3-5星级酒店、快捷连锁酒店、客栈或青年旅舍、以及特色单体酒店等等）。我的口号是：山寨新闻调查，民间卧底记者！给你最真实的新闻！一、如家连锁酒店（广渠门店）1. 地点：国贸附近，靠近"马圈"公交站。价格：大床房，门市价199元/天，电话预定价格189元/天。2. 这座如家酒店的楼一共有四层，不过一层是个大菜市场，还有饭馆和商店。也就是说实际住人的只有上面三层。在这里买东西和吃饭都很方便，还有KTV，台球室，邮局，银行，甚至还有一家宠物用品商店。3.来到酒店，正赶上运来新床垫，地上堆了一堆。我偷偷地看了一眼牌子，后来网上一查，牌子还不错，最便宜的也要一千多。4.大堂的留言牌上温馨提示说，冬天空气干燥，酒店提供加湿器，10元一天出租。每个房间免费配一个多好呢？这样才够温馨啊，这个小钱没必要赚吧？5.拿了房卡，来到二楼，看见了有点不好理解的一幕。酒店一共只有三层，却配了一部电梯。而且电梯是从二楼开始的，一楼没有。这就是说，你要先走到二楼，然后往里再拐个弯，才能坐上电梯，有那功夫早直接走上去了。6.走廊可真够长的，我的房间在最尽头，足足走了200米！路过正在打扫的房间，看到清洁工们很认真的在工作，他们看到我都会说您好，服务还是不错的。7.一进房间，第一感觉，真是大床房啊！床太大了，占据了近乎70%的空间。这时我又突然注意到窗户，真是小得可怜啊！也就一米宽。要知道比没窗的房间足足贵了30多元呢！ 8.由于床太大，它和桌子之间的距离太近了，椅子的空间很紧张，比我再胖点的人肯定坐不下，还不如直接坐床上呢。床其实不用这么大，房间的空间太紧凑了。9.不过，作为经济性快捷酒店，功能还是很全面到位的。电视，饮水机，空调，宽带都配备了。网速有点不稳定，传图片要等半天，时快时慢的。10.屋内的光线比较柔和，整体干净简洁。11.行李柜空间不是很大，我几个破包塞进去就很挤了，估计大行李箱勉强可以放下。12.洗手间，比较干净，没有异味，空间大小也还好。 13.床头柜，物品摆放很整齐，没有什么神秘的小卡片出现。14.电视频道有点少，只有35个，很多国内的卫视都没有，更别说凤凰或TVB了。15.晚上七点多，我来到了酒店的餐厅，里面竟然没有人吃饭？难道是饭菜太难吃了？我决定尝尝。16.点了一盘宫保鸡丁、一瓶青啤、两碗米饭，一共28元，不便宜。菜做得的确很一般，米饭太硬，端上来碗还烫了我一下，我问服务员，她很诚实的回答说米饭凉了，盛碗里在微波炉里加热了一下。这顿饭吃得很不爽。 17.第二天早上醒来，发现白天房间里不开灯还是比较暗的。唉，那个可怜的小窗户。晚上睡得还可以，不冷，床也比较舒适。不过最大的问题是，房间的隔音实在是太差了，隔壁打电话、聊天、咳嗽都能听见，服务员打扫卫生吸尘器的声音更大，加上旁边的楼里还在装修，真够热闹！心神不宁啊！我严重怀疑是不是这里的墙体太薄了。18.离开酒店的时候，我被告知已经超过时间了，自动被计了半天房费。我这时才看到前台有个牌子，上面写道中午12点前退房，如果退不了房要提前和服务员说，可以免费延长一个小时，超时就多交半天房费。结论：我对这家酒店不是很满意，不知是不是要求太高了，毕竟人家是经济性快捷酒店么，没必要这么苛刻。可是我觉得除了干净卫生方便快捷，酒店更应该注重所有的细节和用户的感受，这样才会赢得好的口碑，而在行业中立于不败之地。二、丽舍酒店式公寓19.地点：建华南路，从广渠门打车10元钱就到了。价格：房费575元/天，无折扣，外加15%的服务费，共计661元。20.酒店的地理位置很好，交通很方便，往北步行5分钟就是长安街，对面是友谊商店，离建国门和永安里地铁站都很近，走路只要15分钟左右，到国贸只有一站地。这里属于使馆区，住酒店的老外应该很多。因为酒店前台一接电话都先是一串正宗的伦敦腔。21.酒店的大堂，不是很大，但是装修风格不错。22.这家酒店给我很深的印象就是安全，也说明了房卡很重要。我经过走廊要去坐电梯，有扇铁门要先刷卡才能进去。这是第一次刷卡。23.进了电梯之后，按楼层按钮不管用，电梯不动。难道是坏了？这才发现也要刷卡后才能按动按钮。之前还真没见过这种高科技，见笑了。第二次刷卡。24.找到房间后，再次刷卡开门，这才进到屋里了。一共要刷三次卡，真够安全的，不比美国五角大楼的安保差吧。 25.进门第一印象，大，真大啊！窗户大，空调大，桌子也大。还是双层复式的，有点LOFT的感觉了。瞬间秒杀了昨天住的如家，也难怪，价格要贵两倍呢！不过空间可不止是两倍，最少有五倍大了！（后来我问了前台，这套房间一共有70多平方。）26.一层是个大客厅，有30平米左右，很温馨的感觉，真有点像家了。这里和大家介绍一下啥是酒店式公寓，这个名字是如何来的。酒店式服务公寓，最早始于1994年欧洲，意为"酒店式的服务，公寓式的管理"，是当时旅游区内租给游客，供其临时休息的物业，由专门管理公司进行统一上门管理，既有酒店的性质又相当于个人的"临时住宅"。27.酒店式公寓是一种既吸收了星级酒店较好的服务功能和管理模式，又吸收了住宅、写字楼的某些特点；既可居住，又可办公的综合性很强的物业。酒店式公寓的主要特性：完善的服务和管理，家庭式的居住布局，目标市场主要针对居住市场中的较长期外籍居民。这些都是我找酒店前作的功课哦！28.楼上的空间也很大，很适合办公。那个大落地窗给屋内很充足的光线，不过今天有点阴天。选择酒店式公寓自住最大的特点就是自由方便，而且价格相对高星级酒店较低。29.楼上的大床，躺上去很舒服。这里隔音效果很好，几乎听不到外面的声音，屋内很安静，今晚能睡个好觉咯。30.这是放行李的地方，在楼梯下面，空间足够大。都可以放个折叠车了。31.楼上楼下各有一个卫生间，很干净，无异味，就是楼上的坐便器有点高，坐上去腿有耷拉的感觉。没有找到拖鞋和牙膏牙刷，也许不提供吧。洗澡在楼上，水要先放几分钟才会热。后来看到桌子上有张纸，上面说因为每个房间的热水系统是独立的，管道里会存有冷水，要先放2分钟。32.厨房也在楼下，可以自己做饭哦。有灶台，微波炉，厨具，还有个灭火器，考虑比较周到啊。33.冰箱当然是有的。可是打开以后，发现里面是空的。34.楼下有一间小屋是专门熨烫衣服的。 35.楼上有个小屋，是专门挂衣服的。36.房间里提供家庭影院系统。坐在沙发上看电视很舒服，不过感觉电视有点小，因为距离有点远，换成平板电视就好了。电视能收80多个台，有一半是境外的电视节目，包括CNN、NHK、AXN、TVB、BTV、CNBC、ESPN、CCTV、MTV、CHANNELV。37.茶几上有两个本子，里面是中英文对照的房间物品，遥控器说明，电视台顺序，酒店服务介绍等，比较周到。原本茶几上还有两瓶免费矿泉水，被我喝掉了，打电话再要是10元一瓶，有点贵哦。不过口渴难耐还是要了，房间里没有饮水机。 38.第二天早上起床后，我来到了楼下一个餐厅，酒店是每天免费提供一顿自助早餐的。时间是7:30-10:30。餐厅环境不错，比较安静。39.中西餐都有的，有很多种类，味道不错。40.结论：我对这家酒店比较满意，可以打80分。位置优越，配套设施全，房间设计比较独特，空间大，很有家的感觉，适合工作和休闲。当然，房费再便宜些就更好了！这里很适合一家三口或几个朋友一起来住，那样就划算多了。酒店式公寓作为酒店行业的一个新兴种类，还是很有竞争优势的，希望能让更多的老百姓都有机会享受。三、极栈精品酒店41.地点：工体西路（著名的club一条街），距离三里屯酒吧街也很近，黄金地段。价格：单人间大床房，888元/天，加15%的服务费，共计1021元。42.在一个很不起眼的小胡同里，我看到了一个很显眼的建筑，它应该就是极栈了。 43.酒店外观设计的很独特，五颜六色的窗户，在夜幕里很扎眼，尤其是这座建筑和周边的破旧环境很不搭调。不知里面会是什么样子。44.酒店大堂的设计风格果然很独特，沙发壁画都很怀旧，但整体装修的感觉却很时髦。45.办完入住手续，拿到房卡，打开房间门，满眼都是幽蓝的颜色，很神秘的感觉。46.打开灯，看到屋子空间还是很大的，床也很大，被单枕套都是丝绸的，房间整体感觉和这个建筑很搭调。 47.我很喜欢房间的吊灯，很漂亮。还有很大的平板高清电视，能收到40多个台，外国台也很多。还有个可插IPOD的迷你音响。窗台上有个车模也不错，怀旧。48.有免费的无线网络，但不太稳定。有一点不方便的是，没有专门的桌子办公，我把电脑放在床前的台上，坐着那个凳子上网，整个人都要弯着腰，好累。49.卫生间很大，很干净，洗发露沐浴露牙膏都是名牌的，马桶边还有电话，很方便。50.行李柜空间还可以，还有两个火灾逃生面具，这个蛮重要，上两家酒店都没有。 51.下面还有一个保险箱，可以把贵重物品放在里面，比如现金、手表、首饰之类的。52.房间的小酒吧有很多洋酒和食品，刚要拿起来尝尝，发现了这个单子，看了看，还是把东西放了回去。比超市的价格贵十倍！53.酒店每天有人会送小吃和水果。矿泉水是免费的，一般每天提供两瓶，但喝完也可以再要。 54.晚餐在酒店一楼餐厅吃的，我点的是68元的套餐，一共九种，有鱼子酱、鸡蛋饼、炸芝士、牛肉、河虾、香肠等等，看着很丰盛吧！但上来后才发现每盘的分量超级小，番茄汤还是凉的，最后只吃了三成饱！早知道点88元自助了。55.由于地段比较黄金，很多酒吧和CLUB。来这里的老外非常多，可以说除了服务员和我以外，几乎都是金发碧眼。56.酒店餐厅的设计风格也很好，很适合几个人喝酒聊天。57.第二天早上，酒店提供免费的自助早餐。由于昨天没吃痛快，这次我狠狠地点了一大堆美食，味道真不错，做得很精致，中式煲粥很地道。最后剩下不少，实在是吃不完了，问服务员可不可以带走，竟然可以！结果中午就有免费的午餐了。大家注意哦，以后可以问一下吃不完可不可以带走哦，反正剩下了酒店也会倒掉的。58.中午12点退房制度在这里很宽松，只要提前说一下就可以晚退，我是下午2:30才退的，没有什么问题。前台MM很热情地问我，住得怎么样，我说很不错，还了解到这家酒店的老板是外国人，我没记错应该是法国人开的，全球连锁，但中国目前只有北京这一家店。我看他们所有单据都是英文的。结论：总的来说，这家店很时尚，设计风格独特，房间配备很人性化，卫生和服务都没有大问题，食物也很不错。但是贵啊！性价比不是很高。四、北京饭店59.地点：王府井大街的路口。价格：原价3200元/天，网上预订竟是1.9折，打完折才598元。我又给酒店前台打电话询问，却告诉我最低价是1000多。  60.北京饭店建于1900年，有百年的历史，可以说是中国最早的五星级酒店，接待过无数的中外名人。而且地理位置恐怕无店能比，中国就一个北京，北京就一个王府井，而北京饭店就在王府井大街的路口。61.从大堂进去，路过一个宴会大厅，真是够豪华的。62.进入房间以后，帮忙提行李的行李员，很耐心的开始介绍各项服务，告诉我们有什么事情拨打哪个电话。这时我才突然意识到，五星级酒店都是要给小费的。63.我就厚着脸皮问，师傅，您看我也没经验，一般你们都要多少小费呢？那个行李员笑着说，您看着给就成。我说您说个数吧，他说10元就可以。64.整个屋子是中式风格的，屋内的家具，台灯，床单，装饰，墙上的国画，都很有中国特色。老外们应该很喜欢的。房间内不是很豪华，中规中矩吧！电视是很古老的显像管电视，而且连纯平都不是。65.桌子一瓶500毫升的矿泉水，上面的标签写着50元！旁边还有一张宴会的介绍，上面写着鲍翅晚宴，成人3380元一位！其他各种晚宴也最少是1000多元一位的。小冰箱里面，一个小瓶子的饮料，动不动就要几百元。顺便说一下，这里说是10M光纤接入，可是网速并不快，而且上网费一天80元呢。结论：北京饭店这个百年老店，名气不用说了，地理位置也很棒，卫生服务没有大问题，但是有了很多地方可以改进。而且除了房价，其他东西确实太贵了。五、北京青年旅舍66.地点：前门大街大栅栏。价格：房费130元/ 天。67.顺着大栅栏一直往里走，经过了很多百年历史的老字号商店、药店、饭店、布店、小吃店，一路上许多人打招呼"哥们，住店吗？又好又便宜嘿！"，我终于找到了这家旅舍，门面不是很显眼，门牌有点山寨。我从门前走过，又返回来才找到的。68.进去以后，看到墙上挂着很多特色的文化衫，应该主要是卖给老外的。 69.经过了一个长廊，环境不错，有假山和绿植，在这里下棋喝茶应该很惬意。70.找到了我的房间，空间并不是很大，有两张床，有一个桌子和电视。很严重的一点是没有宽带！这让我有点接受不了，就算没有床也要有网线啊！不过服务员告诉我说可以在旅舍的餐厅里无线上网。71.屋里有一个独立卫生间，也不是很大，看上去有点旧，有的瓷砖也开裂了。有些屋子没有独立卫生间，房费就更便宜一些，可能一天几十块。 72.卫生间内没有配备任何一次性的洗漱用品，也没有洗发露和沐浴液。大概青年旅舍都不会配备这些东西的，不过这样也节约环保，大家注意自己要带全哦。73.找到两双塑料拖鞋，也不是一次性的。74.屋里有个服务指南，我一看都是英文，一个中国字都没有！看来这里的客人都是老外，难道没有考虑到中国的旅客吗？75.打开电视机，里面一个英文频道也没有！几十个台基本除了CCTV就是BTV，剩下的都是地方卫视。76.毛巾和卫生纸在暖气上放着，时间长不怕烤着了吗？我一摸，暖气是冰凉的。我的心也一下凉了。漫漫长夜如何度过啊？77.不过还好，房间里有空凋，可以制热，我赶紧拿出温度表测试，屋内的温度和湿度都在合适范围内，这下我放心了。 78.二楼的大厅，有很多休闲设施。台球、健身器等。 79.一楼的餐厅兼酒吧，很热闹，很温暖，每晚都有不少老外在这里看大片，上网，喝酒聊天。可以看出很多不同国籍的人，美国人、欧洲人、中东人、印度人，除了我和服务员就没有中国人了。他们大多是20多岁的样子，外国人都长得比较成熟。很多人都是在这里认识并成为好朋友和旅伴的。80.这里布置得很休闲，就和在自己家一样。人们都很放松，有的躺在床上聊天。没错，餐厅里有张床，准确些应该是炕。两个中东哥们聊的正酣呢。81.服务员在收拾各种游戏道具，应该是外国流行的类似于大富翁之类的游戏吧？82.这里不管早餐。第二天早上，我要了22元一份的荷兰套餐，不贵。 83.退房的时候，服务员说现在是冬天，旅游的人不是很多，要是到了夏天，都没有房间，都是走一个进一个，很多人等着呢。来这里住的都是老外背包客，偶尔才来个中国人住，我这都算稀客。这次花费是最少的一次，加上两顿饭一共才176元。我要求开发票，却被告知，这里没有发票，因为老外们都不会要的。我说我要报销，找张旧的也行，但是也没有，服务员说可以给我盖个章。无语，后来一打听这附近的客栈都不提供发票，貌似也成了行规，所以如果你是中国人就要注意这点了哦。结论：这家店很适合独自旅行者或低收入的年轻人住，最主要的就是吃住都便宜和去哪都方便。也比较自在，惬意。至于其他方面就别太在意了，一分钱一分货，还是那句话：毕竟房费便宜啊，要求不能太高。六、迈克之家宾馆84.地点：小西天某胡同内。价格：大床房，冬季优惠，打完折是398元。85.顺着胡同往里走了几十米，看到了迈克之家，从门口来看也没啥很特别的嘛，在北京这样的门口太多了。 86.不过当我一进门，却很惊喜，首先映入眼帘的是一个很绿色的小院子，郁郁葱葱的，还听到了鸟叫。这在北京的冬天确实很少见。87.这个小院子不是很大，却很温馨，很安静，给人感觉很惬意。院子四周是房间，我数了一下大概只有十几间，看来是个小规模的酒店。88.很难得在北方的寒冬，在一个普通的小胡同里，看到这么一个世外桃源，让我一下子仿佛置身于江南园林中。前台服务员介绍说，这里之前是个街道单位，酒店老板是美籍华人，在纽约居住，原来也是做酒店的，后来在北京创业开了这家酒店，他们的服务卫生都可以达到四星级标准。 89.优美的鸣叫声，就是它发出来的。不知道这是啥品种？90.一只小狗睡的好安详啊，没有一点声音！91.房间不是很大，但确实很干净整洁。92.屋内的装饰风格很独特。储物柜的铁门，桌上的佛像，电话，镜子，台灯，窗帘等都很有东方神韵。我还发现房间墙上有禁止吸烟的标志，这是我第一次遇到屋内不能吸烟的酒店，不过这样更安全一些。 93.屋内有空调，电视，宽带，但是没有冰箱。电视可以收到很多国外频道，无线网络不是很快。 94.洗手间内非常干净，空间不小，地很防滑。关键的是，我可以坐在马桶上，直接看到电视！95.晚上，灯火亮起来之后，院子里更显温馨，因为院子里有玻璃屋顶，也有空调，所以感觉不冷。 96.这里的食物不是很多，就几种咖喱饭和意面还有沙拉。我要了份咖喱鸡肉饭，卖相不错哦，30元一份，价格还可以吧。服务员亲自送到屋里来的。97.第二天的免费早餐。98.因为我起床晚了，服务员主动帮我去烤面包片。这里和大家说一下，很多酒店的免费早餐时间一般是早上7:30到9:30，过了时间就撤掉了，再要就需付费了。99.我看到有很多老外陆续出来，准备去游玩，前台服务员英语不错，很耐心地帮他们画路线图。我和她聊了聊，她说自己是学英语专业的，大学刚毕业就来北京了。虽然目前工资不高，但她很喜欢这里的氛围，大家都和朋友一样。这里住的基本上都是欧美的外国客人，也能锻炼提高自己的英语水平。她说希望几年后在北京也能有一个属于自己的小家。100.我看到一个柱子上有著名影星Tilda Swinton的照片，她可是奥斯卡最佳女配角得主哦！我很喜欢她演的电影。我问服务员为什么会有她的照片呢？告诉我说今年3月Tilda Swinton来北京参加一个影展，当时就住的这家酒店。101.我问可不可以参观一下当时Tilda Swinton住过的房间呢？服务员很爽快地带我走进了这个套房，也是他们这里最贵的房间，一天要1000多，现在打折800多。一进门，金灿灿的古典中国风扑面而来，比我那个房间大多了啊。 102.这个房间大概有40平米左右，家具装饰都非常的中国。前台MM说，当时Tilda Swinton就在很近的中影公司参加影展，也是通过朋友介绍，来这里住的。她很喜欢这里的风格，当时张曼玉还悄悄地过来探望她。 103.参观完房间后，前台MM还给我展示了很多客人寄来的礼物和信件，还讲述了客人在这里发生的很多趣事。比如有个客人几个月前就预订了他们的房间，期间不断打电话要求调整，可是来的时候却坐了到天津的飞机，要专门派人去接。还有个客人早上10点的飞机，但7:00时不小心受伤了，他们马上把客人送到医院作了小手术，竟还没耽误飞机。很多客人和他们都成为了朋友，酒店几乎不用做广告，都是靠客人回国后告诉朋友，口口相传的。 104.我还悄悄地偷拍了他们的厨房，虽然不是很大，但是很干净，物品摆放都很整齐。一个服务员在忙碌着。还看到有专门的洗衣房，公厕，公共浴室，休息间等，麻雀虽小五脏俱全啊。 105.总结：我对这家酒店，感到比较满意和惊喜。这里的环境和人都留给我很深的印象。很不错的一次体验调查，可以打90分吧。这类酒店规模虽小，但主打特色牌，服务牌，赢得客人的满意和口碑，也算是酒店行业的一支独秀了吧。住惯了星级酒店的人可以尝试一下特色酒店的感觉，也许会有不一样的感受和体验哦！（未完待续）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2010年7月 4日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（23条）                                                                                                    smotom 说：                                                        阮先生，您好，关注您的blog有很久了。很不能理解，为什么这篇文章，您转载了他人的内容，并且做了一些编辑处理，为何没有原作者链接呢？或许您忘了，http://blog.sina.com.cn/s/blog_5e27f8560100g7wl.html链接如下，为您补充                           2010年7月 4日 21:20 | # | 引用                                                                                                                0o0m4 说：                                                        很有意思的文章，很喜欢。                           2010年7月 4日 21:41 | # | 引用                                                                                                                Eric Wang 说：                                                        有意思，哈哈~                           2010年7月 4日 23:18 | # | 引用                                                                                                                转贴不贴原文地址 说：                                                        引用smotom的发言：很不能理解，为什么这篇文章，您转载了他人的内容，并且做了一些编辑处理，为何没有原作者链接呢？阮先生这篇文章最后的版权声明是想抽自己耳光的.                           2010年7月 5日 00:46 | # | 引用                                                                                                                sunlian 说：                                                        引用转贴不贴原文地址的发言：阮先生这篇文章最后的版权声明是想抽自己耳光的.我替阮先生说句，版权声明是网站在每篇文章后自动添加的，至于为什么没有添加原连接，可能是忘了，不过开头已经写了作者了，你这么激动作甚？？？？？？                           2010年7月 5日 00:57 | # | 引用                                                                                                                Dianso 说：                                                        引用sunlian的发言：我替阮先生说句，版权声明是网站在每篇文章后自动添加的，至于为什么没有添加原连接，可能是忘了，不过开头已经写了作者了，你这么激动作甚？？？？？？还有博客程序，我一直以为是他自己开发的                           2010年7月 5日 01:37 | # | 引用                                                                                                                secrpa 说：                                                        引用转贴不贴原文地址的发言：阮先生这篇文章最后的版权声明是想抽自己耳光的.难道理由是“未完待续”？或者是顺着山寨机揭秘的链接能找到？还是加个链接吧，既然开头都说明了，不妨把事情做完整                           2010年7月 5日 02:45 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用smotom的发言：很不能理解，为什么这篇文章，您转载了他人的内容，并且做了一些编辑处理，为何没有原作者链接呢？原作者的链接当然有，因为不止一个，我放在连载的最后一部分了。                           2010年7月 5日 08:22 | # | 引用                                                                                                                iamvirus 说：                                                        大家讨论下这个酒店吧。一些不相关的东西说一句就行了，我看了最后一个酒店真不错。。。                           2010年7月 5日 10:02 | # | 引用                                                                                                                cjc1021 说：                                                        早说啊，转载的不注明下。我直接去原址好了                           2010年7月 5日 10:09 | # | 引用                                                                                                                yak 说：                                                        是很奇怪，不知道有没有得到原作者的授权？也不给出原来的网址，很不地道。                           2010年7月 5日 10:54 | # | 引用                                                                                                                jlake 说：                                                        标题起得不大对，感觉没揭什么“秘”，顶多是个调查报告。                           2010年7月 5日 11:01 | # | 引用                                                                                                                转贴不贴原文地址 说：                                                        引用Ruan YiFeng的发言：原作者的链接当然有，因为不止一个，我放在连载的最后一部分了。你既然把这做为连载来发,就应该在每一部分都放上原作者链接                           2010年7月 5日 11:13 | # | 引用                                                                                                                sunlian 说：                                                        引用Dianso的发言：还有博客程序，我一直以为是他自己开发的博客程序到真没看到声明，不知道阮先生用的什么程序                           2010年7月 5日 12:16 | # | 引用                                                                                                                hutushen222 说：                                                        感觉这次很不厚道！还有，转载你的文章时，在其后面添加一些自己的评论算不算演绎？                           2010年7月 5日 12:35 | # | 引用                                                                                                                James2006 说：                                                        太棒了，对于一个旅行者是很有用的。                           2010年7月 5日 15:08 | # | 引用                                                                                                                Landon 说：                                                        没想到北京饭店会这么落后                           2010年7月 5日 16:47 | # | 引用                                                                                                                生活多悲惨 说：                                                        我还以为是什么酒店不为人知的内幕，谁知道只是普通的介绍。                           2010年7月 5日 20:03 | # | 引用                                                                                                                Kuiyee 说：                                                        很有意思，喜欢最后一家酒店。                           2010年7月 5日 21:45 | # | 引用                                                                                                                Yuanxi 说：                                                        原作博客 http://blog.sina.com.cn/shanzhaixwdc                           2010年7月 7日 00:07 | # | 引用                                                                                                                korla 说：                                                        这个貌似原来见过的，并非阮先生说的国内一直没发表                           2010年7月 7日 10:47 | # | 引用                                                                                                                zqc1972 说：                                                        楼上这些说转载的。有必要这么激动吗？阮不是一开始就说得很清楚了嘛。                           2010年7月10日 16:20 | # | 引用                                                                                                                北京 说：                                                        要是把整个中国的酒店都试验完，再结集出版就好了                           2010年8月 5日 16:52 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9e44fae2cf45',t:'MTc0MzI0MzQ1NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2010/07/beijing_hotels_unlocked_part_one.html
Javascript 面向对象编程（一）：封装 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Javascript 面向对象编程（一）：封装 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：HTML5的视频格式之下一篇：不会沉没的海盗湾&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Javascript 面向对象编程（一）：封装                                                                                    作者： 阮一峰                                    日期： 2010年5月17日                                                                                                                                            学习Javascript，最难的地方是什么？                                                                                                                我觉得，Object（对象）最难。因为Javascript的Object模型很独特，和其他语言都不一样，初学者不容易掌握。下面就是我的学习笔记，希望对大家学习这个部分有所帮助。我主要参考了以下两本书籍：《面向对象的Javascript》（Object-Oriented JavaScript）《Javascript高级程序设计（第二版）》（Professional JavaScript for Web Developers, 2nd Edition)它们都是非常优秀的Javascript读物，推荐阅读。笔记分成三部分。今天的第一部分是讨论"封装"（Encapsulation），后面的第二部分和第三部分讨论"继承"（Inheritance）。============================Javascript 面向对象编程（一）：封装作者：阮一峰Javascript是一种基于对象（object-based）的语言，你遇到的所有东西几乎都是对象。但是，它又不是一种真正的面向对象编程（OOP）语言，因为它的语法中没有class（类）。那么，如果我们要把"属性"（property）和"方法"（method），封装成一个对象，甚至要从原型对象生成一个实例对象，我们应该怎么做呢？一、 生成实例对象的原始模式假定我们把猫看成一个对象，它有"名字"和"颜色"两个属性。　　var Cat = {　　　　name : '',　　　　color : ''　　} 现在，我们需要根据这个原型对象的规格（schema），生成两个实例对象。　　var cat1 = {}; // 创建一个空对象　　　　cat1.name = "大毛"; // 按照原型对象的属性赋值　　　　cat1.color = "黄色";　　var cat2 = {};　　　　cat2.name = "二毛";　　　　cat2.color = "黑色"; 好了，这就是最简单的封装了，把两个属性封装在一个对象里面。但是，这样的写法有两个缺点，一是如果多生成几个实例，写起来就非常麻烦；二是实例与原型之间，没有任何办法，可以看出有什么联系。二、 原始模式的改进我们可以写一个函数，解决代码重复的问题。　　function Cat(name,color) {　　　　return {　　　　　　name:name,　　　　　　color:color　　　　}　　}  然后生成实例对象，就等于是在调用函数：　　var cat1 = Cat("大毛","黄色");　　var cat2 = Cat("二毛","黑色");这种方法的问题依然是，cat1和cat2之间没有内在的联系，不能反映出它们是同一个原型对象的实例。三、 构造函数模式为了解决从原型对象生成实例的问题，Javascript提供了一个构造函数（Constructor）模式。所谓"构造函数"，其实就是一个普通函数，但是内部使用了this变量。对构造函数使用new运算符，就能生成实例，并且this变量会绑定在实例对象上。 比如，猫的原型对象现在可以这样写，　　function Cat(name,color){　　　　this.name=name;　　　　this.color=color;　　} 我们现在就可以生成实例对象了。　　var cat1 = new Cat("大毛","黄色");　　var cat2 = new Cat("二毛","黑色");　　alert(cat1.name); // 大毛　　alert(cat1.color); // 黄色  这时cat1和cat2会自动含有一个constructor属性，指向它们的构造函数。　　alert(cat1.constructor == Cat); //true　　alert(cat2.constructor == Cat); //trueJavascript还提供了一个instanceof运算符，验证原型对象与实例对象之间的关系。　　alert(cat1 instanceof Cat); //true　　alert(cat2 instanceof Cat); //true 四、构造函数模式的问题构造函数方法很好用，但是存在一个浪费内存的问题。请看，我们现在为Cat对象添加一个不变的属性type（种类），再添加一个方法eat（吃）。那么，原型对象Cat就变成了下面这样：　　function Cat(name,color){　　　　this.name = name;　　　　this.color = color;　　　　this.type = "猫科动物";　　　　this.eat = function(){alert("吃老鼠");};　　} 还是采用同样的方法，生成实例：　　var cat1 = new Cat("大毛","黄色");　　var cat2 = new Cat ("二毛","黑色");　　alert(cat1.type); // 猫科动物　　cat1.eat(); // 吃老鼠 表面上好像没什么问题，但是实际上这样做，有一个很大的弊端。那就是对于每一个实例对象，type属性和eat()方法都是一模一样的内容，每一次生成一个实例，都必须为重复的内容，多占用一些内存。这样既不环保，也缺乏效率。　　alert(cat1.eat == cat2.eat); //false能不能让type属性和eat()方法在内存中只生成一次，然后所有实例都指向那个内存地址呢？回答是可以的。 五、 Prototype模式 Javascript规定，每一个构造函数都有一个prototype属性，指向另一个对象。这个对象的所有属性和方法，都会被构造函数的实例继承。这意味着，我们可以把那些不变的属性和方法，直接定义在prototype对象上。　　function Cat(name,color){　　　　this.name = name;　　　　this.color = color;　　}　　Cat.prototype.type = "猫科动物";　　Cat.prototype.eat = function(){alert("吃老鼠")}; 然后，生成实例。　　var cat1 = new Cat("大毛","黄色");　　var cat2 = new Cat("二毛","黑色");　　alert(cat1.type); // 猫科动物　　cat1.eat(); // 吃老鼠这时所有实例的type属性和eat()方法，其实都是同一个内存地址，指向prototype对象，因此就提高了运行效率。　　alert(cat1.eat == cat2.eat); //true 六、 Prototype模式的验证方法 为了配合prototype属性，Javascript定义了一些辅助方法，帮助我们使用它。，6.1 isPrototypeOf() 这个方法用来判断，某个proptotype对象和某个实例之间的关系。　　alert(Cat.prototype.isPrototypeOf(cat1)); //true　　alert(Cat.prototype.isPrototypeOf(cat2)); //true 6.2 hasOwnProperty() 每个实例对象都有一个hasOwnProperty()方法，用来判断某一个属性到底是本地属性，还是继承自prototype对象的属性。　　alert(cat1.hasOwnProperty("name")); // true　　alert(cat1.hasOwnProperty("type")); // false 6.3 in运算符 in运算符可以用来判断，某个实例是否含有某个属性，不管是不是本地属性。　　alert("name" in cat1); // true　　alert("type" in cat1); // truein运算符还可以用来遍历某个对象的所有属性。　　for(var prop in cat1) { alert("cat1["+prop+"]="+cat1[prop]); } 未完，请继续阅读这个系列的第二部分《构造函数的继承》和第三部分《非构造函数的继承》。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2010年5月17日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（166条）                                                                                                    shimu 说：                                                        直白易懂！逐步深入～这篇对于我这种初学者很有用啊！                           2010年5月17日 18:24 | # | 引用                                                                                                                Astro 说：                                                        崇拜中。。阮兄知识面让我情何以堪啊。。。                           2010年5月17日 18:36 | # | 引用                                                                                                                ciciはLuckyD 说：                                                        不错的note，最近我在看pro Javascript Design Patterns这本书，三、四章的封装、继承这块讲的非常好                           2010年5月17日 21:12 | # | 引用                                                                                                                fan 说：                                                        《javascript: the good part》中Dauglas不推荐用new的这种方法构造对象，因为如果忘记加上new，“即没有编译时警告，也没有运行时警告”。他推荐的是函数化的方法，不使用prototype。                           2010年5月18日 07:46 | # | 引用                                                                                                                某人 说：                                                        好多年不写程序了，不过还是觉得javascript是挺复杂的。                           2010年5月18日 08:44 | # | 引用                                                                                                                laoguo 说：                                                        喜欢这篇。越来越能看出，今后，这种娓娓道来的知识描述形式，将把至今为止的，逻辑严谨机械正确但却难懂的知识描述方式打入历史的垃圾箱里。人，是有灵性的，是非线性的，是量子性的。至今为止所谓的“线性严谨二元逻辑性的学术描述方式”，只不过是一种违反人类本质天性的东西，必将在完成其历史使命之后，退出历史舞台。                           2010年5月18日 08:59 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用fan的发言：Dauglas不推荐用new的这种方法构造对象，因为如果忘记加上new，“即没有编译时警告，也没有运行时警告”。他推荐的是函数化的方法，不使用prototype。虽然这个意见是正确的。但是，Douglas提出的方法，需要自己写一个函数，在函数里再使用prototype，我觉得很不符合直觉。                           2010年5月18日 09:24 | # | 引用                                                                                                                resun 说：                                                        很简洁实用的文章，里面有不少重来没有看过的用法,如：alert("name" in cat1); 没想到还能用 in 这样做判断                           2010年5月18日 10:18 | # | 引用                                                                                                                牙牙学语 说：                                                        非常实用易懂的文章！最近看《Object Oriented JavaScript》,看完第六章讲12种对象封装构造的方法，彻底晕菜。。看了您的文章决定继续去读完这本书，的确是本很好的JS参考书啊                           2010年5月18日 11:16 | # | 引用                                                                                                                axu 说：                                                        这么一段代码，ruan兄猜猜是啥结果？我觉得这是封装中最容易犯的错误var a=function(){//empty}a.prototype.var1=[1,2,3];var b=new a();b.var1.push(4);var c=new a();alert(c.var1.join(","))                           2010年5月18日 11:19 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用axu的发言：这么一段代码，ruan兄猜猜是啥结果？我觉得这是封装中最容易犯的错误所以只能把不变的属性和方法，绑在prototype对象上，而不能把可变属性绑上去。                           2010年5月18日 13:31 | # | 引用                                                                                                                清风剑 说：                                                        我始终觉得javascript是一门函数式编程语言，这种OO的封装应该只是一种临时的workaround                           2010年5月18日 18:21 | # | 引用                                                                                                                richard 说：                                                        这时所有实例的type属性和eat()方法，其实都是一个内存地址，指向prototype对象，因此就提高了运行效率。也增大了风险，因为一个地方改变了，其他地方都变了。和他带来的好处相比，风险更大，不应该推荐。ruan兄应该是有点“完美主义”的偏执吧                           2010年5月19日 10:51 | # | 引用                                                                                                                多志郎 说：                                                        会不会连载，如果连载的话，就跟着你学了！                           2010年5月19日 11:51 | # | 引用                                                                                                                ethantsien 说：                                                        引用fan的发言：《javascript: the good part》中Dauglas不推荐用new的这种方法构造对象，因为如果忘记加上new，“即没有编译时警告，也没有运行时警告”。他推荐的是函数化的方法，不使用prototype。这个“如果“有点苍白                           2010年5月21日 15:51 | # | 引用                                                                                                                netwjx 说：                                                        js的水很深很深 特别是用js尝试模仿oo的风格还是喜欢使用简单的 名称空间+函数                           2010年5月21日 17:20 | # | 引用                                                                                                                nil 说：                                                        引用ethantsien的发言：这个“如果“有点苍白苍白与否暂且搁置，为了避免忘记加 new，最好的办法是类名首字母大写。                           2010年5月24日 09:50 | # | 引用                                                                                                                lee 说：                                                        不错！是一篇好文章！                           2010年6月29日 12:17 | # | 引用                                                                                                                textbox 说：                                                        这篇文章绝对要顶，学js多年，像中国唯一一个能把问题讲的这么直白透彻的。                           2010年7月 2日 12:59 | # | 引用                                                                                                                bill chen 说：                                                        这篇文章分析得十分仔细清楚，绝对经典啊！！！！                           2010年11月11日 10:11 | # | 引用                                                                                                                1w 说：                                                        引用axu的发言：这么一段代码，ruan兄猜猜是啥结果？我觉得这是封装中最容易犯的错误var a=function(){//empty}a.prototype.var1=[1,2,3];var b=new a();b.var1.push(4);var c=new a();alert(c.var1.join(","))这就涉及到对象的继承机制了. 更直白一点, 涉及到 JS 语言的变量赋值与引用的区分.                            2011年1月12日 10:35 | # | 引用                                                                                                                czg 说：                                                        var parent = function(name){    var that = {};    that.name = name;    return that;};var child = function(name,age){    var that = parent(name);    that.age = age;    return that;};函数化不难                           2011年6月 1日 10:16 | # | 引用                                                                                                                yisheng 说：                                                        Ruan兄，  文章易懂，不错，Mark~~~！                           2011年6月 9日 11:46 | # | 引用                                                                                                                wells 说：                                                        第五点应该是构造函数+原型 的混合模式吧。                           2011年6月20日 09:54 | # | 引用                                                                                                                jaclon 说：                                                        简单易懂，对像我一样的初学者来说很好                           2011年6月21日 17:03 | # | 引用                                                                                                                anoymous 说：                                                        这么入门级的文章，被这么多人“捧”，真够汗的~~                           2011年6月24日 11:33 | # | 引用                                                                                                                michael 说：                                                        好文章，深得深入浅出的精髓                           2011年7月 1日 13:28 | # | 引用                                                                                                                初学者 说：                                                        我个人认为：javascript 只是脚本语言，它和c++或java等语言所肩负的任务不同， 因此关于“继承”等功能不是重点,无需太复杂。我不赞同依靠javascript大量创建UI界面，构建UI的基础应该是html+css。当然javascript也可以写得很复杂和高明，那是高手们喜欢做的事。但不代表非要这样不可。现在的电脑设备速度越来越快，内存越来越大，无需太计较，简单易懂、安全（prototype的做法易出错,风险大，使用时要很小心。）才是重点。                           2011年7月10日 13:18 | # | 引用                                                                                                                argb 说：                                                        Javascript是一种基于对象（object-based）的语言，你遇到的所有东西几乎都是对象。但是，它又不是一种真正的面向对象编程（OOP）语言，因为它的语法中没有class（类）。不明白为什么这么说，没有class就不是真正的面向对象？面向对象是一种编程思想，有没有class只是一种对这种思想的具体实现与体现，但没有class也未必不是面向对象。ecmascript规范里如是说：ECMAScript is an object-oriented programming language for performing computations and manipulating computational objects within a host environment.----Ecmascript262 v5 page 1                           2011年7月20日 16:28 | # | 引用                                                                                                                forget 说：                                                        初学者看了您的文章受益匪浅,已经购买推荐的书籍正在学习中.感谢...                           2011年7月25日 14:48 | # | 引用                                                                                                                Ora 说：                                                        第5部分里的 alert(cat1.eat == cat2.eat);  是否改为===更恰当些？                           2011年7月29日 15:49 | # | 引用                                                                                                                胡营 说：                                                        看了几个星期的书，还不如看着几个例子，浅显易懂！                           2011年8月 2日 15:44 | # | 引用                                                                                                                Yoya 说：                                                        OOP的人看JS真的是很变恋，你说Cat.prototype.type = "猫科动物";这个东西看上去像模仿类的静态方法吧，但访问时又不是直接通过类而是通过类的实例cat1.type；。这让初学编程的人是学面向过程还是面向对向啊？                           2011年11月29日 17:36 | # | 引用                                                                                                                xxx 说：                                                        引用Yoya的发言：OOP的人看JS真的是很变恋，你说Cat.prototype.type = "猫科动物";这个东西看上去像模仿类的静态方法吧，但访问时又不是直接通过类而是通过类的实例cat1.type；。这让初学编程的人是学面向过程还是面向对向啊？访问时通过类或是通过类的实例不能作为判断是否面向对象的依据，其实都是访问一块公共内存而已                           2011年12月25日 21:35 | # | 引用                                                                                                                Azrael 说：                                                        我的问题跟Yoya的一样 ，OOP的人看JS真的是很变恋，你说Cat.prototype.type = "猫科动物";这个东西看上去像模仿类的静态方法吧，但访问时又不是直接通过类而是通过类的实例cat1.type；搞不清楚到底是不是共享的了                           2011年12月28日 09:48 | # | 引用                                                                                                                xyz 说：                                                        循序渐进 适合学习                           2012年2月14日 12:31 | # | 引用                                                                                                                Dada 说：                                                        function Cat(name,color){　　　　this.name = name;　　　　this.color = color;　　}　　Cat.prototype.type = "猫科动物";　　Cat.prototype.eat = function(){alert("吃老鼠")};var cat1 = new Cat("大毛","黄色");　　var cat2 = new Cat ("二毛","黑色");　　alert(cat1.type); // 猫科动物这里两个对象的type显然不是一个内存地址，可以写一个代码跑一下啊，我试了，不再同一内存地址，如果在同一内存地址不就成了静态变量。                           2012年2月20日 16:51 | # | 引用                                                                                                                Dada 说：                                                        引用Dada的发言：function Cat(name,color){　　　　this.name = name;　　　　this.color = color;　　}　　Cat.prototype.type = "猫科动物";　　Cat.prototype.eat = function(){alert("吃老鼠")};var cat1 = new Cat("大毛","黄色");　　var cat2 = new Cat ("二毛","黑色");　　alert(cat1.type); // 猫科动物这里两个对象的type显然不是一个内存地址，可以写一个代码跑一下啊，我试了，不再同一内存地址，如果在同一内存地址不就成了静态变量。刚才我说的也不准确，下面是摘自一个博客，我感觉挺准确的，你文章里写的有点歧义，容易让人以为prototype中所定的属性是静态方法。话说每一个方法对象被创建时，都会自动的拥有一个叫 prototype 的属性。这个属性并无什么特别之处，它和其他的属性一样可以访问，可以赋值。不过当我们用 new 关键字来创建一个对象的时候，prototype 就起作用了：它的值（也是一个对象）所包含的所有属性，都会被复制到新创建的那个对象上去。                           2012年2月20日 17:15 | # | 引用                                                                                                                Dada 说：                                                        我昨天的留言，感觉太草率了，今天又读了一些，发现博主说的还是比较准确的，虽然给我造成了一定的误解，不过博主说还是对的，我上面说的那个根本不正确。。。。                           2012年2月21日 14:43 | # | 引用                                                                                                                Zz 说：                                                        阮大哥，你这篇刚刚写出来的时候我就看过了，当时看了半天没看懂，直到今天才看懂，我是个超级初级入门者，入门了两年啊，哈哈哈，我实在是太笨了。谢谢你，终于看明白了，而且原来是那么的浅显易懂啊                           2012年2月22日 10:06 | # | 引用                                                                                                                路街道 说：                                                        阮老大，javascript现在面相对象编程是一个大趋势啊。我搜遍了国内的网上书店都没有买到将关于javascript面相对象编程的书籍。国内的专家写的什么垃圾书，在就过时了。javascript面相对象的时代到来了。封住继承是必须的了。求javascript面相对象的书啊。。网上就您的这几篇稿子经典，跪添了。                           2012年2月28日 16:01 | # | 引用                                                                                                                shuiren 说：                                                        引用Azrael的发言：我的问题跟Yoya的一样 ，OOP的人看JS真的是很变恋，你说Cat.prototype.type = "猫科动物";这个东西看上去像模仿类的静态方法吧，但访问时又不是直接通过类而是通过类的实例cat1.type；搞不清楚到底是不是共享的了所以，我是不喜欢这个风格。特别是，这种风格带来的如果只是内存节约的话                           2012年3月 7日 10:58 | # | 引用                                                                                                                lovejjhao 说：                                                        文章非常好，加深理解！！！感谢作者！                           2012年3月15日 11:14 | # | 引用                                                                                                                zhaoyou 说：                                                        引用Ruan YiFeng的发言：所以只能把不变的属性和方法，绑在prototype对象上，而不能把可变属性绑上去。从原型拿来的东西，只是能查询，检索到，更新不会影响到原型的值。这样理解好些？                           2012年5月21日 23:13 | # | 引用                                                                                                                那个妹子 说：                                                        很好懂，谢谢啦！                           2012年7月11日 21:42 | # | 引用                                                                                                                Hodor 说：                                                        引用ethantsien的发言：这个“如果“有点苍白苍白+1                           2012年7月12日 10:06 | # | 引用                                                                                                                赵荣娇 说：                                                        Cat.prototype.isPrototypeOf(cat1)//true——原来构造函数的原型才是与实例的原型一致，也就是说原型一致；Cat.constructor == cat1.constructor //false——不知道为什么构造函数与构造函数为什么不一致？Cat == cat1.constructor //true                           2012年7月17日 11:39 | # | 引用                                                                                                                iliveido 说：                                                        Cat和cat1都有两个子对象：constructor和prototypecat1.constructor就是Catcat1.prototype就是Cat.prototype问题是,Cat的另一个子对象Cat.constructor是什么呢？                           2012年8月11日 23:57 | # | 引用                                                                                                                lazy2009.iteye.com 说：                                                        [QUOTE]我们现在就可以生成实例对象了。　　var cat1 = new Cat("大毛","黄色");　　var cat2 = new Cat("二毛","黑色");　　alert(cat1.name); // 大毛　　alert(cat1.color); // 黄色这时cat1和cat2会自动含有一个constructor属性，指向它们的构造函数。　　alert(cat1.constructor == Cat); //true　　alert(cat2.constructor == Cat); //true[/QUOTE]----------------------------------cat1和cat2自身是没有constructor属性的，而是通过原型链找到Cat.prototype.constructor属性                           2012年9月 6日 08:41 | # | 引用                                                                                                                eagle 说：                                                        　alert(cat1.eat == cat2.eat); //false为什么这一句我测试的结果是true？                           2012年9月22日 16:13 | # | 引用                                                                                                                xiaoxiehang 说：                                                        阮哥   前面都看的懂了    但是最后一句不太明白for(var prop in cat1) { alert("cat1["+prop+"]="+cat1[prop]); }希望你能解释一下                           2012年9月25日 17:54 | # | 引用                                                                                                                beebe 说：                                                        果然是你写的.....                           2012年12月 3日 21:17 | # | 引用                                                                                                                路人甲 说：                                                        我擦，评论好多见解是错的。。。把原型链先搞清楚就不会错了                           2013年3月 5日 13:03 | # | 引用                                                                                                                杨易 说：                                                        Prototype模式 还有一点没有说到,className.Prototype.method(){//这里不能使用构造里的私有属性}                           2013年5月14日 12:00 | # | 引用                                                                                                                phplaber 说：                                                        Prototype模式虽然能减少内存使用，提高应用性能，但是会使代码变得冗长，增加维护难度。更好的做法应该是使用“继承”的方法，将相同的属性和方法封装在另外的对象中。                           2013年7月 2日 19:09 | # | 引用                                                                                                                fn_c 说：                                                        console.log(cat1.type == cat2.type);  和 console.log(cat1.type === cat2.type);返回的都是 true，求解惑                           2013年7月19日 11:59 | # | 引用                                                                                                                东方小白 说：                                                        终于懂了prototype了                           2013年7月25日 10:39 | # | 引用                                                                                                                雅蠛蝶 说：                                                        引用eagle的发言：　alert(cat1.eat == cat2.eat); //false为什么这一句我测试的结果是true？alert(cat1.eat == cat2.eat); //falsealert(cat1.eat() == cat2.eat()); //true                           2013年8月25日 23:35 | # | 引用                                                                                                                蒋雪峰 说：                                                        真的不错的文章，经久不衰啊，这是我看过的最好的一篇讲解这个的                           2013年8月30日 18:40 | # | 引用                                                                                                                phper08 说：                                                        引用雅蠛蝶的发言：alert(cat1.eat == cat2.eat); //falsealert(cat1.eat() == cat2.eat()); //true可否这么理解：alert(cat1.eat == cat2.eat);比较的是方法本身，因为方法所属的对象不同，所以两者不相等；alert(cat1.eat() == cat2.eat());比较的是两个方法的返回值，所以两者相等。                           2013年9月27日 10:02 | # | 引用                                                                                                                ww 说：                                                        刚才试了一下发现，prototype方式添加的属性在new 出来的对象中是可以修改的而且不影响别的对象和对象原型，貌似每个new出来的对象都存在prototype里面的属性，那用prototype方式添加的属性和直接在函数里面添加的属性有什么区别了。。。求解                           2013年10月15日 15:07 | # | 引用                                                                                                                唐加利 说：                                                        引用Ruan YiFeng的发言：所以只能把不变的属性和方法，绑在prototype对象上，而不能把可变属性绑上去。虽然是10年的文章，但看起来还是有很多启发。但是关于这段代码，窃以为不是属性可不可变的问题，而是，因为[1,2,3]是一个对象，所以var1属性也只是对这个对象的一个地址引用，所以任何实例对象改变这个对象时，其它对象再去访问该属性，都是通过引用找到的内容，因此拿到的都是改变后的属性值。如果var1赋值为基本类型，则不会出现这个问题。                           2014年2月25日 13:00 | # | 引用                                                                                                                think2011 说：                                                        回头再看的时候，发现很容易就理解的，简单明了！                           2014年3月17日 11:44 | # | 引用                                                                                                                owen 说：                                                        引用axu的发言：这么一段代码，ruan兄猜猜是啥结果？我觉得这是封装中最容易犯的错误var a=function(){//empty}a.prototype.var1=[1,2,3];var b=new a();b.var1.push(4);var c=new a();alert(c.var1.join(","))今天重新看了阮老师写的文章，感觉收获很大，每次在不同的水平下看，总有不同体会，看到一条有意思的评论，上面这个人的在实例化后c居然可以改变a中的数组，按理不应这样，求解答这是什么原理？                           2014年3月19日 18:09 | # | 引用                                                                                                                pds 说：                                                        之前也一直是看到 JavaScript 面向对象这块真是头大了，其实很多地方看起来很好理解，但是如果用自己的语言去组织这一部分内容，又什么都记不得了。如果一开始先开看简单浅显的文章，然后在去看这部分就很连贯了。                           2014年4月 1日 14:16 | # | 引用                                                                                                                redspear 说：                                                        prototype有一个注意点，如果是方法，可以共用内存，如果是一个像name这样的属性，还是会新开内存的。                           2014年7月 3日 14:42 | # | 引用                                                                                                                塔拉 说：                                                        简单明了，确是好文呀。                           2014年7月13日 22:17 | # | 引用                                                                                                                biaobiaoqi 说：                                                        赞，ruanyifeng老师果然是入门级指导的大师~                           2014年7月17日 05:30 | # | 引用                                                                                                                jack 说：                                                        略显简单吧                           2014年8月21日 11:10 | # | 引用                                                                                                                游客 说：                                                        不太理解 函数　和　函数相等　是空间相等　还是弹出的　值相等?                           2014年8月27日 15:16 | # | 引用                                                                                                                tshk 说：                                                        简单明白,终于知道js的对象了                           2014年11月28日 22:52 | # | 引用                                                                                                                Justin 说：                                                        讲到很清楚，个人看法是，属性绑定在this上面，方法绑定在prototype上面。                           2014年12月 9日 21:33 | # | 引用                                                                                                                shuaiagain 说：                                                        我们组长推荐的你的文章，果然不错，浅显易懂，又不缺乏内涵，赞一个！                           2014年12月27日 11:14 | # | 引用                                                                                                                lee 说：                                                        个人感觉，阮老师的博客受众是非常非常初级入门的程序员，或者说，应该是邻家大哥这种类型的，能帮一个不懂的孩子入门，或者产生兴趣，这个阶段不能深究晦涩的原理性知识。主要是因为文字里面有大量的原理性错误，软件公司的员工或者硕士以上学历的朋友建议还是带着批判的眼光去学习比较好。但是不得不承认，阮老师的文字功底很好，就像有个人在你旁边跟你聊天一样，容易让新手进入状态，这方面必须赞。                           2015年1月21日 12:19 | # | 引用                                                                                                                天魔人心 说：                                                        引用owen的发言：今天重新看了阮老师写的文章，感觉收获很大，每次在不同的水平下看，总有不同体会，看到一条有意思的评论，上面这个人的在实例化后c居然可以改变a中的数组，按理不应这样，求解答这是什么原理？var1是a原型是的数组 b修改了原型导致var1成了[1,2,3,4] c继承下来了，不是c可以改变a中的数组                           2015年1月23日 15:39 | # | 引用                                                                                                                netlibo 说：                                                        引用redspear的发言：prototype有一个注意点，如果是方法，可以共用内存，如果是一个像name这样的属性，还是会新开内存的。其实，关键还是javascript这门语言入门太简单了，所以后面很多人都按自己的理解去做了，都不去看ECMA了，包括我，也包括阮老师！重新回头看看语言权威的描述，根本没有这些疑问，人家都说的很明白。                           2015年1月26日 16:37 | # | 引用                                                                                                                justme_cq 说：                                                        你写的这个不就是那个javascript高级编程里面的么（没错，就是你那参考资料），也没有太大差别。其实这些 在javascript高级编程第3版写的都很详细。                           2015年2月 1日 10:02 | # | 引用                                                                                                                mythshuazi 说：                                                        对于一个跨行学编程的小白来说，您的这篇文章对我太有意义了！                           2015年2月11日 10:54 | # | 引用                                                                                                                railsbug 说：                                                        写的简洁有力 通俗易懂 牛！                           2015年4月16日 20:27 | # | 引用                                                                                                                小明 说：                                                        入门级的，很适合初学者，简单易懂！                           2015年6月 2日 16:53 | # | 引用                                                                                                                rr_rr 说：                                                        好文，能提供一个支付宝捐款链接吗？我想donate!                           2015年6月17日 04:50 | # | 引用                                                                                                                ChuaNG 说：                                                        老师，您的这段代码应该在name 和 color后面加上分号。很好的文章，让我一下子就理解了/*二、 原始模式的改进我们可以写一个函数，解决代码重复的问题。　　function Cat(name,color){　　　　return {　　　　　　name:name,　　　　　　color:color　　　　}　　}*/                           2015年7月 6日 12:13 | # | 引用                                                                                                                23 说：                                                        很棒的文章，感谢，茅塞顿开，看了你的文章再去看这个书更容易理解书了，因为书好晦涩                           2015年7月14日 12:03 | # | 引用                                                                                                                小何 说：                                                        深入浅出。                           2015年7月23日 10:07 | # | 引用                                                                                                                李建轩 说：                                                        好文章，太通俗易懂了！                           2015年8月 6日 15:27 | # | 引用                                                                                                                洋 说：                                                        　　function Cat(name,color){　　　　this.name = name;　　　　this.color = color;　　}　　Cat.prototype.type = "猫科动物";　　Cat.prototype.eat = function(){alert(name)}; 如果在eat方法中用Cat中的name啊                           2015年10月 9日 14:56 | # | 引用                                                                                                                天上蹲 说：                                                        写的真好  浅显易懂                           2015年11月11日 11:25 | # | 引用                                                                                                                muller_zhang 说：                                                        引用richard的发言：这时所有实例的type属性和eat()方法，其实都是一个内存地址，指向prototype对象，因此就提高了运行效率。也增大了风险，因为一个地方改变了，其他地方都变了。和他带来的好处相比，风险更大，不应该推荐。ruan兄应该是有点“完美主义”的偏执吧所以说要把不变的属性和方便绑在prototype对象上，可变的单独封装，作为私有属性或方法。                           2015年11月12日 15:42 | # | 引用                                                                                                                roger 说：                                                        写的真好 浅显易懂                           2015年11月20日 16:48 | # | 引用                                                                                                                南蛮妈妈 说：                                                        引用owen的发言：今天重新看了阮老师写的文章，感觉收获很大，每次在不同的水平下看，总有不同体会，看到一条有意思的评论，上面这个人的在实例化后c居然可以改变a中的数组，按理不应这样，求解答这是什么原理？这个貌似不是改变原a中的数组吧，而是数组的join方法会重新生成一个新的string。我也是初学者，不知道这样说对不对！                           2015年12月15日 17:29 | # | 引用                                                                                                                unhum 说：                                                        写js也有一年多了~对于面向对象还是一知半解，没有投入过真正的使用里面，一直搞不明白，有什么建议吗，ruan大哥                           2015年12月27日 20:26 | # | 引用                                                                                                                瑞瑞爸爸 说：                                                        不太同意阮老师的标题“封装”，封装(encapsulation)又叫隐藏实现(Hiding the implementation)。就是只公开代码单元的对外接口，而隐藏其具体实现。我们脑子里面很容易想到的是类似java里面的Public, Protected, Private 等访问控制符，来控制成员变量的访问权限，但是这篇文章只是在讲创建一个类型，而不是讲怎么控制属性的访问权限。                           2016年1月 4日 15:17 | # | 引用                                                                                                                海天鹰 说：                                                        写得太好了，把复杂的东西简单讲明白了！请允许我永久收藏。                           2016年1月 7日 12:35 | # | 引用                                                                                                                李 说：                                                        写的好，作为后端开发。对js知识了解皮毛。最近接触到js的面向对象，看到这篇文章，感觉很有兴趣                           2016年1月20日 09:30 | # | 引用                                                                                                                卢泰祥 说：                                                        封装的意思不是这个吧？封装，即隐藏对象的属性和实现细节，仅对外公开接口  这才对吧                           2016年1月24日 22:50 | # | 引用                                                                                                                zoho 说：                                                        非常适合入门！多谢分享！                           2016年2月23日 10:55 | # | 引用                                                                                                                it民工 说：                                                        浅显易懂，而且逐步深化，非常感谢！                           2016年3月 1日 00:10 | # | 引用                                                                                                                迹忆 说：                                                        我写了一篇关于Javascript中Prototype的文章，希望阮老师多多指教                           2016年3月 3日 15:26 | # | 引用                                                                                                                科科 说：                                                        引用laoguo的发言：喜欢这篇。越来越能看出，今后，这种娓娓道来的知识描述形式，将把至今为止的，逻辑严谨机械正确但却难懂的知识描述方式打入历史的垃圾箱里。人，是有灵性的，是非线性的，是量子性的。至今为止所谓的“线性严谨二元逻辑性的学术描述方式”，只不过是一种违反人类本质天性的东西，必将在完成其历史使命之后，退出历史舞台。爲了通俗而通俗，爲了容易理解而理解，只會使得讀者同樣流於表面，自以爲理解，實際上根本不懂。一旦難度稍微加大，舊有的思維不再好用，就難以提升了。反之一開始就接受抽象思維的訓練而不是套用舊有的思維，雖然一開始艱難，而後必會突飛猛進。建議这位朋友不要看任何低水平的「科普」文章，直接看英文維基百科、MDN、ECMAScript 草案比較好。真正的入門往往就是在一瞬間，過了這道坎，你就入門了。盲目地看再多低水平的文章，照樣毫無幫助。                           2016年5月24日 20:35 | # | 引用                                                                                                                玖头 说：                                                        很喜欢，谢谢写出这么好的文章                           2016年5月26日 11:18 | # | 引用                                                                                                                cw 说：                                                        在网上找了很多相关的内容，阮老师说的真的很好，很好理解，非常感谢阮老师分享！                           2016年5月27日 19:02 | # | 引用                                                                                                                请叫我衡哥 说：                                                        很好的文章，阮兄真的深入浅出。期待js方面更深的东西                           2016年6月12日 10:54 | # | 引用                                                                                                                布里茨 说：                                                        真的是言简意赅，我这种菜鸟都能理解  ，感谢分享                           2016年6月29日 11:24 | # | 引用                                                                                                                小明 说：                                                        6.1 isPrototypeOf()这个方法用来判断，某个“proptotype”对象和某个实例之间的关系。这个单词写错了。                           2016年7月12日 09:29 | # | 引用                                                                                                                爱喝白开水 说：                                                        引用Ruan YiFeng的发言：所以只能把不变的属性和方法，绑在prototype对象上，而不能把可变属性绑上去。var a=function(){    //empty    }    a.prototype.var1=[1,2,3];    a.prototype.var2 = "猫科动物";    var b=new a();    var d = new a();    b.var1.push(4);    b.var2 = "昆虫";    var c=new a();    console.log(b.var2);    console.log(c.var2);    console.log(d.var2);    console.log("--------------");    console.log(c.var1.join(","));    console.log(d.var1.join(","));不太理解，为什么var1影响了后续实例的对象，var2没有影响到呢？                           2016年7月12日 18:15 | # | 引用                                                                                                                TJ 说：                                                        @爱喝白开水：  b.var1.push(4);b.var2 = "昆虫"; 主要在这两句的区别，js寻址的规则是先在对象的本地属性下去找，如果找不到在去该对象的proto（不同浏览器的实现可能不一样）中去找，proto指向的是a的prototype。 第一句b.var1.push(4);首先在b的本地属性（也就是上文提出的hasOwnProperty相关）找，没找到，再去b的proto中去找，找到了，然后push一下，这里b.var1和a.prototype.var1引用的是同一个，修改了b.var1中的内容，也相当于修改了a.prototype.var1的内容。   b.var2 = "昆虫"； 这里不是改变了b.var2,而是新定义了b的本地属性var2,你可以用hasOwnProperty判断下，这里的var2是b的本地属性。                           2016年8月22日 14:56 | # | 引用                                                                                                                zhangenming 说：                                                        @爱喝白开水：某个实例改变var1,var2都不会改变之后实例的值那么var1怎么从[1,2,3]变成[1,2,3,4]了呢?这里说的"改变"是指"指针(引用)"的改变不能改变指针的值 但能改变指针的值的值而var1的指针确实没变 都指向这个数组(指针的值)只不过是这个数组改变了(指针的值的值)a.prototype.var1 = [1,2,3,4];(修改指针的值,不生效)b.var1.push(4);(修改指针的值的值,生效)不知道你明白没  同学生 正在学JS                           2016年8月22日 15:46 | # | 引用                                                                                                                晨曦 说：                                                        太棒啦，解答我不少的困惑。另外请教一下：Cat.prototype.type = "猫科动物";改写成var type = "猫科动物";应该也是指向统一内存空间吧？？？                           2016年8月27日 02:23 | # | 引用                                                                                                                罗Q 说：                                                        老师把高级程序设计中的内容总结起来非常好，让我很快就理解了                           2016年9月11日 09:16 | # | 引用                                                                                                                Jessie_CateatRats 说：                                                        厉害啊！浅显易懂！                           2016年11月22日 18:39 | # | 引用                                                                                                                ~\(≧▽≦)/~啦啦啦 说：                                                        一下看懂了，表白老师(￣3￣)                           2016年11月29日 11:17 | # | 引用                                                                                                                williams 说：                                                        对我这样的小白来说很有用，啃不懂大部头，但是还得使用js做一些东西。这篇文章讲解的很清楚。                           2016年12月 3日 11:37 | # | 引用                                                                                                                超超 说：                                                        对提高自我的技术修养很是有用！                           2016年12月10日 12:32 | # | 引用                                                                                                                狗蛋 说：                                                        比老师讲的易理解                           2016年12月20日 15:40 | # | 引用                                                                                                                asina 说：                                                        阮老师真是我学习的榜样，很耐心。                           2017年2月10日 21:14 | # | 引用                                                                                                                哈哈哈 说：                                                        真的是通俗易懂                           2017年3月 3日 10:41 | # | 引用                                                                                                                一只小白 说：                                                        好文，豁然开朗的感觉                           2017年3月 8日 14:17 | # | 引用                                                                                                                Bubble Andy 说：                                                        其实在看这篇文章前我就懂这一块了，但是还是想过来看看峰峰大神是如何讲解原型对象和构造函数的，没想到峰峰大神讲的如此通俗易懂，膜拜大神！！！                           2017年3月13日 15:04 | # | 引用                                                                                                                zj 说：                                                        讲的很明白，谢谢大神！                           2017年3月22日 17:15 | # | 引用                                                                                                                ajian 说：                                                        引用redspear的发言：prototype有一个注意点，如果是方法，可以共用内存，如果是一个像name这样的属性，还是会新开内存的。这个主要是自有属性和继承属性之间的来源差异                           2017年4月12日 09:45 | # | 引用                                                                                                                细节撩妹 说：                                                        茅塞顿开 只能说很幸运看到这篇文章                           2017年5月11日 22:00 | # | 引用                                                                                                                qnlz 说：                                                        很好理解，如果阮兄能用图表示下每个内存块里面的东西就更好啦                            2017年6月 8日 09:33 | # | 引用                                                                                                                ymlh 说：                                                        通俗易懂   受益匪浅                           2017年6月16日 14:03 | # | 引用                                                                                                                啊啊啊 说：                                                        还是不太明白封装在具体案例的时候怎么用                           2017年7月31日 16:17 | # | 引用                                                                                                                朱振伟 说：                                                        全部是JavaScript高级程序设计的内容。                           2017年8月23日 17:46 | # | 引用                                                                                                                itzhu 说：                                                        @axu：简单的理解的话，这个var1可以认为是a的静态变量。a类的实际定义如果用java体现的话，大概是下面这样的。JAVA  -- class A{public static int[] var1 = new int[]{1,2,3};}//本人js小白，以上理解不代表正确                           2017年9月 8日 15:58 | # | 引用                                                                                                                itzhu 说：                                                        @爱喝白开水：刚才理解错了，看到这个才大致明白啊。内存地址引用值的改变...不是全局变量的意思                           2017年9月 8日 16:18 | # | 引用                                                                                                                飘飞的夏秋 说：                                                        话说，留言部分能不能分页啊，一进来就留意到滚动条老长老长。。。。。。                           2017年10月23日 18:27 | # | 引用                                                                                                                sxm 说：                                                        为什么要滚到最下面才能留言，好麻烦                           2017年10月26日 18:05 | # | 引用                                                                                                                wwz 说：                                                        实在话，现在2017年11月7日，这篇文章对我用处还是会很大                           2017年11月 7日 12:50 | # | 引用                                                                                                                魔君君主 说：                                                        引用ww的发言：刚才试了一下发现，prototype方式添加的属性在new 出来的对象中是可以修改的而且不影响别的对象和对象原型，貌似每个new出来的对象都存在prototype里面的属性，那用prototype方式添加的属性和直接在函数里面添加的属性有什么区别了。。。求解用prototype方式添加的属性，是构造函数用于继承的，也就是说，这些属性是实例化对象所继承的属性；但是在函数内部添加的属性如：this.name = name;这种方式添加的属性是实例化对象创建后自身的直系属性。说白了就是 继承属性和直系属性的区别。                           2017年11月26日 18:51 | # | 引用                                                                                                                lionking 说：                                                        引用wwz的发言：实在话，现在2017年11月7日，这篇文章对我用处还是会很大的确，看号称最适合初学者的《JavaScript编程精解》也是云里雾里，阅读了本篇后茅塞顿开。                           2017年11月27日 12:06 | # | 引用                                                                                                                ztt 说：                                                        引用shimu的发言：直白易懂！逐步深入～这篇对于我这种初学者很有用啊！                           2017年11月28日 17:09 | # | 引用                                                                                                                run 说：                                                        引用anoymous的发言：这么入门级的文章，被这么多人“捧”，真够汗的~~大道至简，把一个自己理解清楚的内容，用别人都容易理解的语言组织起来不是一件容易的事情                           2017年12月 7日 12:08 | # | 引用                                                                                                                云 说：                                                        谢谢教程！真是循序渐进，浅显易懂，条理非常清晰，多谢 /抱拳                           2017年12月17日 06:46 | # | 引用                                                                                                                瓦力 说：                                                        function Cat(name, color) {    this.name = name;    this.color = color;    this.type = "我是猫";    this.eat = function () {        console.log("猫吃老鼠")    }}var cat1 = new Cat("小白", "white");var cat2 = new Cat("小黑", "black");console.log(cat1.type);cat1.eat();console.log(cat1.eat == cat2.eat);//falseconsole.log(cat1.type == cat2.type);//true为什么方法是false，属性是true呢                           2018年1月 4日 10:19 | # | 引用                                                                                                                满 说：                                                        @瓦力：两个对象相比较的时候，如果不是指向同一个对象，就返回false。但使用prototype模式里的方法都引用的都是同一个，所以返回true                           2018年1月 8日 09:41 | # | 引用                                                                                                                陈豪 说：                                                        太简单了点吧。                           2018年3月 3日 20:17 | # | 引用                                                                                                                JasonWei 说：                                                        引用陈豪的发言：太简单了点吧。阮大神2010年写的，你2010年在干嘛？                           2018年3月 8日 18:31 | # | 引用                                                                                                                python 说：                                                        引用anoymous的发言：这么入门级的文章，被这么多人“捧”，真够汗的~~2010年的你在干什么？你只是别人学的久一些，请别用一种比别人优越的感觉评价，搞技术需要的是不断的学习                           2018年3月21日 16:09 | # | 引用                                                                                                                罗大大 说：                                                        在第三点构造函数模式那里"这时cat1和cat2会自动含有一个constructor属性，指向它们的构造函数。"这句应该是cat1和cat2自己本身没有constructor属性，这个是在他们的构造函数的原型上也就是Cat.prototype上的构造函数，准确的说：应该是Cat.prototype.constructor === Cat                            2018年4月10日 10:10 | # | 引用                                                                                                                熊大 说：                                                        第6.1 行 下面有个prototype 好像有个笔误                           2018年4月26日 10:34 | # | 引用                                                                                                                tomoya06 说：                                                        一直对object的概念有点模糊，还是来看阮老师的博客学习                           2018年5月10日 11:57 | # | 引用                                                                                                                ed 说：                                                        几年前初学js，当时看原型链这块看的云里雾里。就是因为讲的时候对面向对象没有一点了解。当时的材料也只直说原型链，执行上下文 bla bla bla... 没有实际应用完全不知道在说什么。最近项目中遇到复杂的东西需要复用，以前简单的封装不能满足需求了。再一看阮老师的js面向对象把以前初学时用不到的js原型链、构造函数都串了起来。真是逻辑清晰，简单易懂。                           2018年6月 2日 09:25 | # | 引用                                                                                                                噜噜噜 说：                                                        阮老师，大写的服！通俗易懂，特别好理解！                           2018年6月 7日 14:02 | # | 引用                                                                                                                李晓玲 说：                                                        我有一个问题想请教一下：console.log()方法 和 alert()的方法在输出cat对象的时候，前者输出的是对象中的具体内容，后者输出的是[object object]， function catFun(name,color) {        this.name=name;        this.color=color;    }    var cat1 = new catFun("张三","黄色");    console.log(cat1);    alert(cat1);为什么输出的是这样子？我查到的资料是alert()输出的是string类型，而console.log()是任何类型，执行console.log(cat1.toString())时，对象转字符串的时候他会和alert()一致，不是很明白这一步为什么可以一致？希望得到解答，谢谢                           2018年7月 2日 09:33 | # | 引用                                                                                                                anye 说：                                                        看了那么多原型、原型链文章都看不懂。看了这个才看懂，那些人也不知道写的什么玩意，还敢写文章。                           2018年7月 3日 15:23 | # | 引用                                                                                                                宋秉徽 说：                                                        引用iliveido的发言：Cat和cat1都有两个子对象：constructor和prototypecat1.constructor就是Catcat1.prototype就是Cat.prototype问题是,Cat的另一个子对象Cat.constructor是什么呢？cat1有prototype吗?你打印看看。                           2018年8月 8日 11:23 | # | 引用                                                                                                                王迪 说：                                                        @axu：function Animal(){	this.superType="Animal";	Animal.prototype.arguments=[1,2,3]	var arr=Animal.prototype.arguments.push(4)	console.log(arr)	console.log(Animal.prototype)}var Dog=new Animal()这样就可以处理你说的那个问题了                           2018年8月31日 16:27 | # | 引用                                                                                                                Thinker 说：                                                        引用jaclon的发言：简单易懂，对像我一样的初学者来说很好这篇文章确实通俗易懂，有种茅塞顿开的感觉                           2018年8月31日 22:53 | # | 引用                                                                                                                zj 说：                                                        function F(){}F.prototype.name = 'jy'var _obj = new F()_obj.name   此时name属性是调用的是从其构造函数F原型上继承来的  属性name而我们现在给_obj的name属性赋值时_obj.name = 'ly'此时的name便是通过字面量创建对象的属性  现在的_obj具有本地name属性，_obj的原型__prop__也具有一个name属性                           2018年11月 7日 19:01 | # | 引用                                                                                                                姜 说：                                                        破局，文章写得很好。我这样的小白都感觉自己学到了很多的东西。感谢阮一峰老师                           2018年11月28日 15:48 | # | 引用                                                                                                                大表哥 说：                                                        阔以撒!!!写的很明白,对于初学者学习面向对象有帮助的.............                           2019年1月24日 20:31 | # | 引用                                                                                                                wlq 说：                                                        真的牛，非常的通俗易懂                           2019年6月 4日 23:35 | # | 引用                                                                                                                liuyufang 说：                                                        @Ruan YiFeng：额，我运行了这段代码，结果是1,2,3,4有什么不对吗？本人小白，请不吝赐教                           2019年7月30日 10:05 | # | 引用                                                                                                                花怠叶慢 说：                                                        看了别人的文章，写了一堆字，看的云里雾里的，还是阮大神讲的浅显易懂                           2019年12月12日 14:21 | # | 引用                                                                                                                Silence 说：                                                        受益匪浅，感谢感谢！✿✿                           2019年12月26日 19:52 | # | 引用                                                                                                                ddd 说：                                                        阮一峰老师这篇文章，让我茅舍顿开                           2020年1月 7日 16:51 | # | 引用                                                                                                                webcyh 说：                                                        阮一峰老师很强、之前我都没好好理解过什么情况将方法写在构造方法上、什么时候将方法放在构造方法的原型上面，今天算是理解了很多很多，比如一个插件 我们构造一个插件 对象 如果有多个对象 ，但他们配置参数是不同的所以应该将参数放在构造方法当中 然后比如钩子函数、初始化方法等是这些对象共有的所以应该放在原型对象上面、这样有哪些优点？ 1、这样每次创建对象时候 虽然不同的对象占用不同的内存 而且参数也不同但是 公用的同一个原型 也就是他们的钩子函数、初始化方法是共用一个的这样节省了很多内存                           2020年1月 8日 11:28 | # | 引用                                                                                                                Jack 说：                                                        这时 cat1 和cat2会自动含有一个constructor属性，指向它们的构造函数。---------------cat1 和 cat2 中其实并没有包含 constructor 属性，它们只有一个非标准的 __proto__ 属性，该属性指向 Cat.prototype ，真正包含 construtor 属性的是 Cat.prototype.                           2020年12月17日 10:32 | # | 引用                                                                                                                我的大名 说：                                                        很基础，适合小白理解                           2021年7月20日 14:01 | # | 引用                                                                                                                雒喑 说：                                                        看一遍没看懂，但是直觉这已经是比较浅显易懂的object解释了，继续！                           2021年8月 3日 19:49 | # | 引用                                                                                                                Uaena 说：                                                        对于小白来说简单易懂，多点这种容易理解的就好了，老师厉害                           2021年8月30日 16:45 | # | 引用                                                                                                                小周周 说：                                                        十一年再看阮老师的文章，还是很适用，阮老师的文章真滴是小白入门的标准指南哈                           2021年11月24日 09:21 | # | 引用                                                                                                                aa要转码 说：                                                        2022了  这个2010写得内容依旧值得看，老师niu！                           2022年7月 6日 11:10 | # | 引用                                                                                                                群除我佬 说：                                                        大佬牛，说得非常明白，不过我有个小小建议，评论区可不可加个分页器，下拉到发表看法区域得滑好久呢                           2023年4月 6日 15:06 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9a4b2890cf45',t:'MTc0MzI0MzI5MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2010/05/object-oriented_javascript_encapsulation.html
Kim Laughton 的上海摄影集 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Kim Laughton 的上海摄影集 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：纪录片《软件专利的荒谬下一篇：回忆录《在暴风雨的夜里                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Kim Laughton 的上海摄影集                                                                                    作者： 阮一峰                                    日期： 2010年4月27日                                                                                                                                            《上海进行时》（Shanghai：Right Now）是 Kim Laughton 的最新摄影集。                                                                                                                我第一眼看到这些照片，就震惊了。它们是如此真实，最准确地反映了这个城市的形象，完美地把历史与未来、秩序与混乱交织在一起。更惊人的是，它们竟然是美的！哪怕是一个垃圾桶，似乎都有一种美感。除了Kim Laughton，我不知道还有谁能做到这一点----将上海的日常生活，上升到美学的层面。他似乎有一种独特的本领，能够捕捉到明亮的光线和颜色，然后以最佳的构图拍出照片。我写信给他，得到了允许，将他的这组作品转载在下面，请大家一起来欣赏《上海进行时》。注意：因为照片比较大，请按F11键，将浏览器切换到"全屏模式"以后，再点击下面的链接。这样可以获得最佳观赏效果。　　第一部分：城市的面貌　　第二部分：城市的生活　　第三部分：城市的夜晚随便说一句，Kim Laughton生于1984年，属于80后。2006年，大学毕业后，就独立闯世界了。先在东京待了两年，出了一本摄影集，然后2008年底来到上海。年纪轻轻，就有这样的摄影功力，真是不简单啊！（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2010年4月27日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（48条）                                                                                                    V 说：                                                        有什么摄影功力啊？内容流于表面，而且多为颓废的方面                           2010年4月27日 03:23 | # | 引用                                                                                                                Jr. Xun 说：                                                        建筑物方面的几张照片是相当不错的，感觉图片太多了太杂了，让这些精彩的照片失去了本应获得关注焦点。精选一下会更好。内容流于表面是没错，但看得出摄影师是努力尽量想解释一些东西，但可惜差了一口气。                           2010年4月27日 08:28 | # | 引用                                                                                                                FK 说：                                                        To 楼上的V：这叫颓废？这是真实！                           2010年4月27日 08:30 | # | 引用                                                                                                                Aliaosha 说：                                                        拍得都不错啊，蛮有感觉                           2010年4月27日 08:36 | # | 引用                                                                                                                Yukwan Wong 说：                                                        Just because you have not seen Hong Kong in the 70s and 80s, that is why you find these photos of Shanghai exciting!The old and the new, the order and the chaos, the dirt poor and the filthy rich, the tradition and the advancement, those who hold fast to the past, and those who embrace the future/or the illusion of the future, the list can go on and on...For all the middle-aged people from Hong Kong, we have seen a lot - there is nothing new under the sun!  The transformation of a city follows the same pattern. Only the package, the label, and the scale is slightly different. Certainly, in the eyes of a "post-80s", it is something exciting! However, it is good that someone can keep a honest record of it!                            2010年4月27日 08:43 | # | 引用                                                                                                                shjerry 说：                                                        真的不知道现在人的欣赏能力去了哪里？连现实都分不清了                           2010年4月27日 09:04 | # | 引用                                                                                                                打算 说：                                                        没看懂，乱七八糟的。                           2010年4月27日 09:23 | # | 引用                                                                                                                legion 说：                                                        你好yf, 感觉你的图片展示页可以优化一下, 觉得图片之间有空间格开会好一些, 特别是觉得左右两个图紧靠在一起, 互相影响欣赏效果. 另, 可以试下用黑色页面背景衬托图片. 图片还是不错的.                           2010年4月27日 09:34 | # | 引用                                                                                                                legion 说：                                                        不好意思, 原来左右图紧靠着是原图的编排.. 那无语了                           2010年4月27日 09:36 | # | 引用                                                                                                                淬念 说：                                                        小时候，看到某些名画，就觉得，这些画不是画，一点都不好，乱七八糟的，心里觉得：画的像，才是好画。如果小时候看到这组照片，估计也会觉得，不好看，一点都不好，不美，心里觉得：不像生活的照片，比生活美的照片才是好照片。                           2010年4月27日 10:16 | # | 引用                                                                                                                品味 说：                                                        这是上海真实的一部分，幸好不是上海的全部。                           2010年4月27日 10:18 | # | 引用                                                                                                                qgq 说：                                                        第一部分了的”日本人和狗不得靠近“太耀眼了，哈哈                           2010年4月27日 10:37 | # | 引用                                                                                                                版烧鸡腿堡 说：                                                        只是个老外初到上海的真实观察。我作为上海人，不认为这些照片对上海有深刻的记录。                           2010年4月27日 10:39 | # | 引用                                                                                                                哈哈 说：                                                        一般……                           2010年4月27日 10:47 | # | 引用                                                                                                                Dianso 说：                                                        感觉没什么，是个人就能拍出来，没有什么特殊的                           2010年4月27日 12:22 | # | 引用                                                                                                                豆腐干 说：                                                        有人关注这些并集结起来，这很好啊                           2010年4月27日 12:40 | # | 引用                                                                                                                macafee 说：                                                        哈哈，很真实很有创意，第一张是在三号线四号线的宝山路站拍的！感觉很亲切！                           2010年4月27日 13:13 | # | 引用                                                                                                                左岸读书 说：                                                        现在的主题把内容弄得这般的突出，在博客圈很少见！                           2010年4月27日 15:29 | # | 引用                                                                                                                XBOX360 说：                                                         不错，观察力很强大                           2010年4月27日 15:33 | # | 引用                                                                                                                hourglass 说：                                                        引用Yukwan Wong的发言：Just because you have not seen Hong Kong in the 70s and 80s, that is why you find these photos of Shanghai exciting!很喜欢这个评论：）在这些照片里，很难看见他的样子，也看不清他思考的轨迹。有一些像是习作（如果摄影也有习作的话~），或者是没有经过筛选的所有照片集？作者把自己隐藏的很好，或许是因为他的漫不经心，或许是缺乏应有的力量，或许是时间不够/无法理解。拍摄上海是一件很困难的工作，更难的是如何在这些照片后面保留一个自己。                           2010年4月27日 16:02 | # | 引用                                                                                                                niulangxing516 说：                                                        没去过上海，生活很真实。整体感觉不错，处处体现现在社会贫富的偏差。                           2010年4月27日 18:15 | # | 引用                                                                                                                yak33 说：                                                        上周日刚去过 就是这副样子                           2010年4月27日 18:57 | # | 引用                                                                                                                木智工坊 说：                                                        我觉得很好，真实，摄影不再是为了美而美（那是广告片的要求）。看了之后，有所领悟，这才是上海，而不是明信片里的那个样子！                           2010年4月27日 20:46 | # | 引用                                                                                                                kyt30 说：                                                        有几张让我回到了我小时候的感觉早拆了，苏州河那带拆的太多了，老的老家都拆了居然其实现在拍照很难的，我在自己待的小区拍鸡都会被老太婆捉住当我小偷颓废？虹镇老街现在都是这样子，半拆不拆的瓦房多了去了近百年前上海是冒险家的乐园，现在还是                           2010年4月27日 21:08 | # | 引用                                                                                                                caozenghui 说：                                                        真诚的邀请阮兄用下新浪微博。如果开设了，可以t.sina.com.cn/caozenghui，找我。谢谢了。                           2010年4月27日 23:36 | # | 引用                                                                                                                new 说：                                                        关注生活，感触生活，热爱生活                           2010年4月28日 10:38 | # | 引用                                                                                                                yy 说：                                                        喜欢，因为真实和熟悉可如果换作是我，就不会有这种闲情逸致去拍它就好像看到一件衣服，再普通不过的衣服，你觉得简陋得你也能做得出来的衣服，你真得会自己操刀去裁剪制作吗？你觉得它不是你喜欢的那种类型，都不屑于去看它第二眼，但是试穿过一次后却会突然发现原来它会那么合身和舒适，就好像，现在大家都不穿的灯笼裤、踏脚裤、芭蕾舞鞋。。诚然，它不能代表上海的全部，甚至连现在的大部分都不能代表。上海面貌的日新月异，在世博准备期间表现得尤为明显。可能是我不太喜欢那种揠苗助长的行为，所以才会特别喜爱这些照片的吧                            2010年4月28日 11:27 | # | 引用                                                                                                                nipao 说：                                                        我感觉拍的很一般，那些照片只反映出中下等收入的人群，并不等于上海。我有个同学说：“上海其实就这样，和其它城市没什么区别”我的回答：“那是因为你们没有钱，我的生活层面本身和其它城市一样，等你真正有钱的时候你会发现上海是另一个样子”                           2010年4月28日 11:47 | # | 引用                                                                                                                sindy 说：                                                        我觉得总体上还好。但是高级白领写字楼里的图片拍得少了一些，因为这样可以和贫穷脏乱的街道形成更鲜明的对比。脑力劳动和体力劳动者的生活状态应该做到统筹兼顾，才为更好！                           2010年4月28日 14:44 | # | 引用                                                                                                                倒骑驴 说：                                                        东亚蝗虫永远也过不上白鬼的生活，倭藩、南棒伪国、鼻屎国、湾巴、港巴都是这样的。南棒伪国、港巴、鼻屎国有明文规定不需外来人到平民生活区拍照。从流传的少量港巴平民区的照片看，和东北萎缩城区一样一样的；住着人均不到10平方的房子，当然满脑子都是嫁到豪门；倭藩的小汽车居然基本都是0.6排量的。                           2010年4月28日 21:28 | # | 引用                                                                                                                Cicilia 说：                                                        我是觉得吧 和我生活的上海完全不是一个地方 他的作品好遥远                           2010年4月29日 16:51 | # | 引用                                                                                                                冷眼 说：                                                        这里留言的各位欣赏水平不高。这个老外所处的是一个视觉爆炸的环境，在他们那里，随手和肆意拍摄也是一种个性的风格。博主也比较另类，特别是审美上，所以有一定的共鸣。多数人还在怀旧和新鲜感的层次上，还在定义上海和认可自己的路上，需要其他更“漂亮”的，有“感觉”的照片来充实自己。有碰撞，没有回响。                           2010年4月30日 00:06 | # | 引用                                                                                                                半就業 说：                                                        引用Cicilia的发言：我是觉得吧 和我生活的上海完全不是一个地方 他的作品好遥远老實說看了以後沒什麼感覺。除了第三部分，其它的我覺得再熟悉不過了。我小時候住在提籃橋附近，算是上海的“下作角”。不過我覺得沒什麼不好，那裡有那裡的生活方式，這是另外一種平衡。                           2010年4月30日 00:48 | # | 引用                                                                                                                Mark Hung 说：                                                        通过一个人的角度去看上海，走过大街小巷，拍下的一瞬间，确实反映是人们肉眼可以看到的上海。其实每个城市都一样，有着平凡的一面，也有这繁华一面，如香港，如东京，如广州，如北京。                           2010年4月30日 09:15 | # | 引用                                                                                                                zaobao围观团 说：                                                        功力？我怎么看着画面很乱...老了，昏花了？不过很真实                           2010年4月30日 09:47 | # | 引用                                                                                                                漆萌 说：                                                        大部分朋友可能觉得这样的太过于突显底层，这个真的和那个我印象中的上海不同，想到上海，我脑子里都是“精英、时尚、复古、奢侈品牌”这样的词汇，这些看起来很杂乱的片子，恰恰提供了一个我们没有正眼看待，或者想要躲避的上海，一个底层，脏乱差的上海，呵呵，和一些朋友声称的白领上海不同了，我觉得这样的视角很好，这样的思考很好，这样的片子很好。                           2010年4月30日 13:05 | # | 引用                                                                                                                Spring 说：                                                        这是很真实的上海，虽然也许只是一部分，可是依然真实得让人感动。如果说我们看到的景象是由我们内心而发，那么你的内心也足够让人感动。                           2010年4月30日 14:00 | # | 引用                                                                                                                Y 说：                                                        比起上海  我更喜欢台北，高楼与旧屋很协调 很自然舒服                           2010年4月30日 15:10 | # | 引用                                                                                                                betaer 说：                                                        错综的排版 凸显出的是大城市中的古风 氛围更加浓郁 以及城市化的快速建设导致的发展不均衡 这是中国的特色                           2010年4月30日 16:51 | # | 引用                                                                                                                猪头四  说：                                                        的确是不错的摄影，也确实是可以出影集的料。从这些照片中可以看到很多极富表现力的细节。明确知道这是城市，一个中国的城市与生活在城市的中国人。也可以看出在日本呆两年的影响。                           2010年5月 1日 13:06 | # | 引用                                                                                                                Maia 说：                                                        真实，让人感动，但总觉得差了点什么，流于肤浅了。这只是一个初来中国的外国人的生活和视角。并没有探讨更本质的东西。                           2010年5月 1日 17:41 | # | 引用                                                                                                                墨叶 说：                                                        我的感觉是很真实，高级的写字楼高级的白领见得太多了，它们没必要到处占领地盘                           2010年5月 1日 23:28 | # | 引用                                                                                                                毛衣 说：                                                        这是我看过的最接近于真实上海的一组照片。飞速发展的背后，是生活的琐碎。                           2010年5月 5日 15:16 | # | 引用                                                                                                                grants 说：                                                        傻瓜机习作，或者是内存卡太多用不完乱拍的。                           2010年5月 6日 11:43 | # | 引用                                                                                                                pandandy 说：                                                        说真实我相信，说构图好和光线好。。。                           2010年5月11日 16:28 | # | 引用                                                                                                                J 说：                                                        请不要盲目崇拜，搞的自己像条哈巴狗狗一样多丢人呢！真实我觉得同意，但是能排出真实又美的，我相信Kim不在Top100之内的！                           2010年5月20日 19:08 | # | 引用                                                                                                                木木夕 说：                                                        虽然感觉不是很强烈，，但是我觉得给了我对上海的一个新的印象。城市都有它的光鲜亮丽，也有他的琐碎繁杂，有生活的优雅的人们，也有用力在为生活奔波的人们，不管呆在哪一个角落，这个城市的人，都在陶醉。。。都在认真的生活着。                           2010年6月13日 11:16 | # | 引用                                                                                                                Liz 说：                                                        Part 1: position very high/low/big/live, no faces, but everywhere is faces;Part2: none-citizen of citicen of this city,chilly purely happiness on their faces,especially the youth;Part3: The hunts on details, moments & sparklesI think it tells story of the small voices,that's real live life                            2010年10月31日 19:54 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9b0bde94cf45',t:'MTc0MzI0MzMyMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2010/04/shanghai_right_now_by_kim_laughton.html
生活在富士康（组图） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    生活在富士康（组图） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：云主机是什么？&nbsp;&nbsp;&nbsp;&nbsp;下一篇：何毓琦：一个大学教授在                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              生活在富士康（组图）                                                                                    作者： 阮一峰                                    日期： 2010年11月 4日                                                                                                                                            最近，资讯网站Gizmodo和Wired的特派记者，采访了深圳的富士康（Foxconn）工业园区。                                                                                                                根据维基百科的介绍，这个工业园区是鸿海集团在大陆的第一家工厂，创立于1988年。目前是该集团全球最大的生产基地，员工达到45万人。总面积大约为3平方公里，共包括15个工厂。因为大量员工住在园区内，所以这里实际上已经成了一个小型城市。里面包括消防队、商业中心、体育馆、银行、餐馆、书店、医院，以及富士康自己的企业电视台。下面就是记者发回的照片。1. 富士康工业园区一瞥。建筑物上向外伸出的铁杆，都是用来挂保护网的，防止有人跳楼。2.最早的员工宿舍楼之一，靠近园区入口。3.今年年初，连续发生11名员工坠楼之后，主要建筑物上都安装了保护网。虽然看上去有点滑稽，但似乎有效。5月份安装后，再没有发生新的坠楼事件。4.上班时间，宿舍楼道空空荡荡。为了节省能源，灯光很昏暗。5.宿舍内部，8个员工睡在4张双层床上。6.宿舍一角的架子上，员工的洗漱用品。7.每一层宿舍楼，都有一间电视房。8.宿舍楼之间的空地上，安装了一些锻炼身体的设备。9.新建宿舍楼的阳台上，有一个洗漱水槽，可以在这里洗衣服。10.一半的员工生活在园区里面，这里就是他（她）们日常生活的全部天地了。11.10月底，新员工在体育场上进行"团队精神"培训。不过，培训内容似乎是方队行进。12.园区有夜校，提供各种技能培训。参加的人需要自己付学费，如果平时表现好的话，公司提供奖学金。13.园区的"美食广场"由外部餐饮企业经营，为员工提供食堂以外的选择。里面有快餐和各种小吃，满足来自全国各地的富士康员工的需求。14.园区主要马路两旁，都有商业设施。这是其中的一家水果店。15.富士康旗下的购物网站"飞虎乐购"（www.efeihu.com），在园区有实体店。16.园区的网吧，里面有专门的"女士区"和"情侣座"。17.这是xbox游戏区。18.富士康公司的"多媒体中心"，负责制作广告、培训视频、各种商业宣传品等等。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2010年11月 4日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（50条）                                                                                                    熊猫 说：                                                        现代社会把人变成了机器，变成了满街的“手”可该怎么说呢，富士康至少不是最坏的                           2010年11月 4日 15:40 | # | 引用                                                                                                                巫山霏云 说：                                                        忽然冒出一个名词“富士康生活”，这样一个富士康世界，真恐怖                           2010年11月 4日 16:02 | # | 引用                                                                                                                heidour 说：                                                        看的时候，感觉骨头很阴冷                           2010年11月 4日 16:03 | # | 引用                                                                                                                火山 说：                                                        感觉跟大学校园环境条件差不多，并非血汗工厂                           2010年11月 4日 16:09 | # | 引用                                                                                                                y 说：                                                        跟matrix差不多，就是宿舍简陋了点。对于45w人来说，如果劳动强度没有那么大，还是一个比较稳定的生存环境。                           2010年11月 4日 16:33 | # | 引用                                                                                                                静灵 说：                                                        看上去很整洁、很有序是不是？跟兵营似的。台湾人最擅长的就是表面功夫。宿舍很干净、卫生，那是员工轮流打扫的，包括厕所都要轮值。入职先要进行的团队精神训练，就是军训，不过这次没穿军装就是了。台湾人把cost down做到极致，日常开销能省则省（对员工的），水、电、卫生纸都得限量，由专门人员监视。没有人的走廊一般是不允许开灯的。那些健身器材、娱乐设施几乎没人有时间用的。操作工一天12个小时的班，回到宿舍已经累得半死，而且工资也不高，经常是方便面度日，娱乐对他们来说几乎不可能的。能有点时间的应该是技术员、工程师之类的管理人员。就连食堂，也是每季度让人家down价格，你想那饭菜能好吃的了么。而且，厂区到处安装了摄像头，规矩细到不行，员工做什么事情都处处设卡。一个公司连员工的吃喝拉撒都看得这么紧的话，有几个跳楼的也没什么奇怪的。                           2010年11月 4日 18:30 | # | 引用                                                                                                                砖家 说：                                                        楼上几位貌似都挺能谈的……个人觉得相比来说富士康这环境在国内算是很好的了，不信的话你去其他厂看看把。我也在流水线实习过一段时间（不是在富士康），也跟员工们聊过，我不是说富士康好，这是国内大环境决定的。你要知道，过的比他们差的，还有更多更多的人，不多说了……                           2010年11月 4日 19:16 | # | 引用                                                                                                                NE 说：                                                        早些天到过那里面试...凭心而论, FSK的确不是很差的地方, 至少很多方面的福利做得比很多国内其他小企业的好.但身处其中的确感到非常压抑, 去面试时那守大门的保安(女的)就非常的凶!! 吓得一跳... 向那里的保安问下路回答也非常不友好...去面试进去要换拖鞋, 出来要用电子检测器检测(面试过这么多公司从来没哪个会这样的), 自己的包上一个小金属环导致报警而要把里面的东西全部翻出来...那里的规矩实在非常多非常严.无规矩不成方圆, 但规矩太多太死也就适得其反了.                           2010年11月 4日 19:23 | # | 引用                                                                                                                黑色自由 说：                                                        看起来很不错，可为啥还有跳楼的呢？                           2010年11月 4日 20:42 | # | 引用                                                                                                                tamt 说：                                                        感觉有点心酸                           2010年11月 4日 21:25 | # | 引用                                                                                                                failloong 说：                                                        抛开那些工作时间和强度的话，倒是很像计划经济时代的社会主义：这里有一切，你的一切都在这里；唯独没有自由，因为你已经“不需要”自由了。在没有自由的地方，生命还有意义吗？                           2010年11月 4日 21:27 | # | 引用                                                                                                                kyt30 说：                                                        去工厂干活就是很压抑的，别说工厂，坐办公楼也有另一种形式的压抑。这对人而言很“反动”，但是，这就是人们在现代工业社会所要面对的生活。                           2010年11月 4日 21:31 | # | 引用                                                                                                                whitepigeon 说：                                                        个人迷失在发达的文明和机械化生产中，看不到光明。。。                           2010年11月 4日 21:33 | # | 引用                                                                                                                Lily 说：                                                        中国整体国民素质的低下是难以抵赖的现实，也是一时无法提高的。                           2010年11月 4日 23:03 | # | 引用                                                                                                                在梦的一边靠岸 说：                                                        树大招风！！中国比富士康更加血汗的工厂多得是~~~为什么单单就看到富士康呢？                           2010年11月 4日 23:50 | # | 引用                                                                                                                M 说：                                                        哈...比我们一个城市的城区人口还多.我这里是云南曲靖，地级市，省内号称云南第二大城市。07年，中心城区面积34.2平方公里，人口近40万。09年，中心城区面积达50平方公里，人口55万。                           2010年11月 5日 02:58 | # | 引用                                                                                                                M 说：                                                        引用M的发言：哈...比我们一个城市的城区人口还多.然后我有点疑惑的是，这么多人口，有十几个人跳楼，是不是真的就很不正常？换在我们这样一个市，面积是富士康园区的十几倍，人口则差不多，一年如果有十几个人跳楼，可能根本就没有人会在意吧。                           2010年11月 5日 03:02 | # | 引用                                                                                                                x 说：                                                        光看圖片，覺得比那個蟻村好                           2010年11月 5日 05:58 | # | 引用                                                                                                                grants 说：                                                        大学不也是这样吗？ 越看越觉得有阴风吹过……                           2010年11月 5日 08:57 | # | 引用                                                                                                                同窗 说：                                                        生活很简单，有时候也许不是一件坏事情。                           2010年11月 5日 09:10 | # | 引用                                                                                                                whateveru 说：                                                        看这些场景，我想起了Fox River.....                           2010年11月 5日 09:20 | # | 引用                                                                                                                whateveru 说：                                                        引用同窗的发言：生活很简单，有时候也许不是一件坏事情。你被“体制化”了                           2010年11月 5日 09:29 | # | 引用                                                                                                                小扁豆 说：                                                        让我想到了新时代“牛棚”，园区就是有空调，电脑的牛棚，马圈，什么都给你想好了，有住的，有吃的，有逛的，还有防止自杀的防护网，就好好干活吧。                           2010年11月 5日 10:11 | # | 引用                                                                                                                在江 说：                                                        谁给个数据中国高校的自杀率是多高                           2010年11月 5日 10:48 | # | 引用                                                                                                                在江 说：                                                        引用failloong的发言：在没有自由的地方，生命还有意义吗？他们可以离开吗？                           2010年11月 5日 10:57 | # | 引用                                                                                                                大猫 说：                                                        基本上每次硬座都会遇到富士康的人,老师,员工,线长什么的,有出差的,有辞职的抱怨当然是少不了,不过富士康不拖欠工资是所有打工者都认同的                           2010年11月 5日 12:40 | # | 引用                                                                                                                大猫 说：                                                        也听媳妇讲过他们招聘的场面,体力劳动者和脑力劳动者残酷的分开,但体力劳动者那边排队犹如春运买火车票听员工讲的最多的是线长呵斥:不干就滚蛋,你不干自然有人干这世道福利缺失,基本生活没法保障,去不起医院,面临的问题是活下去                           2010年11月 5日 12:44 | # | 引用                                                                                                                必填 说：                                                        想到一句话：有梦想是可耻的。                           2010年11月 5日 12:44 | # | 引用                                                                                                                下午实验室 说：                                                        人类发展的特殊时期的特殊现象                           2010年11月 5日 12:53 | # | 引用                                                                                                                genzhaoyun 说：                                                        阮兄刚写了“今年年初，连续发生11名员工坠楼之后，主要建筑物上都安装了保护网。虽然看上去有点滑稽，但似乎有效。5月份安装后，再没有发生新的坠楼事件。”，结果刚才就看见了一条推特"@freemoren: 香港媒体消息：富士康深圳工厂今日早晨再有员工坠楼亡 http://cot.ag/d1FI9f".                           2010年11月 5日 17:20 | # | 引用                                                                                                                guge 说：                                                        比我们北京研究院的生活好多了，我们做研究生的生活比他们差                           2010年11月 6日 10:46 | # | 引用                                                                                                                Leo 说：                                                        我有一个哥们在富士康深圳工厂干过一阵，从他那里听来，富士康待遇在同类的工厂里待遇还算不错，工资保险都很正规，说血汗工厂压榨工人有些言过其实，很多操作工都是从经济不发达地方来的，比起她们在家乡的姐妹，这里的生活算是上了另外一个台阶，从这点上来说，富士康为她们提供了一个更好的平台。上面有人说富士康缺乏人文关怀，精神关怀。。。就算是白领上班的公司，有多少公司提供了？终极原因要算在谁的头上，大家心里都清楚。                           2010年11月 6日 12:42 | # | 引用                                                                                                                MM 说：                                                        路透香港11月5日电---富士康周五发表声明称，富士康深圳园区一名员工跳楼自杀。该公司称，一名23岁男性工人周五凌晨被发现死于宿舍楼外。“警方正对此事展开调查，富士康予以全力配合，”公司声明称，“我们对死难员工家属深表哀悼。”http://cn.reuters.com/article/chinaNews/idCNCHINA-3291620101105                           2010年11月 6日 22:10 | # | 引用                                                                                                                kk 说：                                                        什么啊 富士康周边的岗头，比华为周边的马蹄山要繁华多了！富士康一下班，浩浩荡荡的人群就去岗头旁边逛街。华为的员工，就只有回家休息了，因为根本没精力干其他事情了。                           2010年11月 7日 16:33 | # | 引用                                                                                                                lee 说：                                                        引用Lily的发言：中国整体国民素质的低下是难以抵赖的现实，也是一时无法提高的。中国领导的素质更低，特别是道德素质                           2010年11月 7日 21:12 | # | 引用                                                                                                                Timesand 说：                                                        唉，没在严格的工厂干过的人们，你们是想不到的。那种生活有多压抑，多苦闷。我在国企国华电力，还算好的。都郁闷的不行了。人不是机器啊！可是一个工厂要想高效率，就是要推行标准化和严格化。全是机器人的工厂肯定是最优秀的工厂。你们就想去吧                           2010年11月 8日 20:56 | # | 引用                                                                                                                jean 说：                                                        是商鞅那套路子，富了企业，穷了工人。不过作的太绝了。                           2010年11月10日 00:31 | # | 引用                                                                                                                小扁豆 说：                                                        引用在江的发言：他们可以离开吗？能去哪儿？还不如富士康的地方很多很多，台企起码还做做表面功夫，很多小企业连表面功夫都懒得做                           2010年11月10日 09:22 | # | 引用                                                                                                                ivan 说：                                                        宿舍环境跟娱乐休息场所差别咋那么大呢                           2010年11月10日 10:27 | # | 引用                                                                                                                djarum 说：                                                        宿舍部份跟台灣軍隊的生活差不多，不過也的確是把“國軍”裡面的那一套照搬，包括那一堆“精神團結”，大家都知道是放屁，每天還是得呼口號。                           2010年11月10日 23:43 | # | 引用                                                                                                                十月末 说：                                                        有点像监狱啊                           2010年11月11日 13:52 | # | 引用                                                                                                                秋水天 说：                                                        因为跳楼，所以安装了防护网。这个解决方法确实滑稽。谁都知道没有从根本上解决问题。但是又确实起到了一定的作用。世界真奇妙。                           2010年11月12日 01:17 | # | 引用                                                                                                                張利娣 说：                                                        我06到08是富士康的員工．我的感受是：在哪都是靠能力，如果有能力，就會受到重視！相對的，工資肯定也會高！                           2010年11月14日 08:16 | # | 引用                                                                                                                hyena 说：                                                        富士康的厂区更像纳粹的集中营，实行的是军事化的管理。                           2010年11月16日 00:39 | # | 引用                                                                                                                砖家 说：                                                        引用大猫的发言：听员工讲的最多的是线长呵斥:不干就滚蛋,你不干自然有人干没错，不干自然有人干，FSK的待遇相比来说已经不错了。这不能说是FSK的问题，起码在TC都一样。                           2010年11月27日 17:29 | # | 引用                                                                                                                River 说：                                                        唉，一声叹息，跟我们大学的环境几乎一模一样，可是大学没有工资，反而消费是个无底洞                           2010年12月 5日 10:06 | # | 引用                                                                                                                曹凯 说：                                                        富士康其实没有那么可怕 挺好的 他们自杀不都是二十左右的年轻人么？那是他们缺少交流并不是厂区的错误 再说 你挣钱，但没文化 你能干的了什么？富士康的饭菜挺便宜 一个月管22天的饭  还能吃饱富士康真的很可以了 qq839576482                           2011年2月18日 18:31 | # | 引用                                                                                                                邹秋霞 说：                                                        我是一个准备想为自己的新家想努力的人，是一个90年的人，要想生活变的更好。不管在那你都会尽自己的努力来生活。不努力就不会有收获。有付出就会有很多回报的。是泥土也会有发光的一天。为了生存一起努力吧。苦没什么好怕的，有苦才有甜。                           2012年3月 6日 12:46 | # | 引用                                                                                                                云知识 说：                                                        富士康在国内对比其它劳动密集型企业，甚至可以算是好的。事物都有两面性，也不能只盯着负面看。                           2012年6月20日 18:05 | # | 引用                                                                                                                海亮 说：                                                        引用火山的发言：感觉跟大学校园环境条件差不多，并非血汗工厂那是你没在那做过最底层的作业员                           2014年7月17日 21:46 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9d34ba04cf45',t:'MTc0MzI0MzQxMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2010/11/living_at_foxconn.html
浮点数的二进制表示 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    浮点数的二进制表示 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：创业途径：手工杂志&nbsp;&nbsp;下一篇：一张土耳其海报&nbsp;&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              浮点数的二进制表示                                                                                    作者： 阮一峰                                    日期： 2010年6月 6日                                                                                                                                            1.前几天，我在读一本C语言教材，有一道例题：                                                                                                                　　#include &lt;stdio.h&gt;　　void main(void){　　　　int num=9; /* num是整型变量，设为9 */　　　　float* pFloat=&amp;num; /* pFloat表示num的内存地址，但是设为浮点数 */　　　　printf("num的值为：%d\n",num); /* 显示num的整型值 */　　　　printf("*pFloat的值为：%f\n",*pFloat); /* 显示num的浮点值 */　　　　*pFloat=9.0; /* 将num的值改为浮点数 */　　　　printf("num的值为：%d\n",num); /* 显示num的整型值 */　　　　printf("*pFloat的值为：%f\n",*pFloat); /* 显示num的浮点值 */　　}运行结果如下：　　num的值为：9　　*pFloat的值为：0.000000　　num的值为：1091567616　　*pFloat的值为：9.000000我很惊讶，num和*pFloat在内存中明明是同一个数，为什么浮点数和整数的解读结果会差别这么大？要理解这个结果，一定要搞懂浮点数在计算机内部的表示方法。我读了一些资料，下面就是我的笔记。2.在讨论浮点数之前，先看一下整数在计算机内部是怎样表示的。　　int num=9;上面这条命令，声明了一个整数变量，类型为int，值为9（二进制写法为1001）。普通的32位计算机，用4个字节表示int变量，所以9就被保存为00000000 00000000 00000000 00001001，写成16进制就是0x00000009。那么，我们的问题就简化成：为什么0x00000009还原成浮点数，就成了0.000000？3.根据国际标准IEEE 754，任意一个二进制浮点数V可以表示成下面的形式：　　　　（1）(-1)^s表示符号位，当s=0，V为正数；当s=1，V为负数。　　（2）M表示有效数字，大于等于1，小于2。　　（3）2^E表示指数位。举例来说，十进制的5.0，写成二进制是101.0，相当于1.01×2^2。那么，按照上面V的格式，可以得出s=0，M=1.01，E=2。十进制的-5.0，写成二进制是-101.0，相当于-1.01×2^2。那么，s=1，M=1.01，E=2。IEEE 754规定，对于32位的浮点数，最高的1位是符号位s，接着的8位是指数E，剩下的23位为有效数字M。对于64位的浮点数，最高的1位是符号位S，接着的11位是指数E，剩下的52位为有效数字M。5.IEEE 754对有效数字M和指数E，还有一些特别规定。前面说过，1≤MIEEE 754规定，在计算机内部保存M时，默认这个数的第一位总是1，因此可以被舍去，只保存后面的xxxxxx部分。比如保存1.01的时候，只保存01，等到读取的时候，再把第一位的1加上去。这样做的目的，是节省1位有效数字。以32位浮点数为例，留给M只有23位，将第一位的1舍去以后，等于可以保存24位有效数字。至于指数E，情况就比较复杂。首先，E为一个无符号整数（unsigned int）。这意味着，如果E为8位，它的取值范围为0~255；如果E为11位，它的取值范围为0~2047。但是，我们知道，科学计数法中的E是可以出现负数的，所以IEEE 754规定，E的真实值必须再减去一个中间数，对于8位的E，这个中间数是127；对于11位的E，这个中间数是1023。比如，2^10的E是10，所以保存成32位浮点数时，必须保存成10+127=137，即10001001。然后，指数E还可以再分成三种情况：（1）E不全为0或不全为1。这时，浮点数就采用上面的规则表示，即指数E的计算值减去127（或1023），得到真实值，再将有效数字M前加上第一位的1。（2）E全为0。这时，浮点数的指数E等于1-127（或者1-1023），有效数字M不再加上第一位的1，而是还原为0.xxxxxx的小数。这样做是为了表示±0，以及接近于0的很小的数字。（3）E全为1。这时，如果有效数字M全为0，表示±无穷大（正负取决于符号位s）；如果有效数字M不全为0，表示这个数不是一个数（NaN）。6.好了，关于浮点数的表示规则，就说到这里。下面，让我们回到一开始的问题：为什么0x00000009还原成浮点数，就成了0.000000？首先，将0x00000009拆分，得到第一位符号位s=0，后面8位的指数E=00000000，最后23位的有效数字M=000 0000 0000 0000 0000 1001。由于指数E全为0，所以符合上一节的第二种情况。因此，浮点数V就写成：　　V=(-1)^0×0.00000000000000000001001×2^(-126)=1.001×2^(-146)显然，V是一个很小的接近于0的正数，所以用十进制小数表示就是0.000000。7.再看例题的第二部分。请问浮点数9.0，如何用二进制表示？还原成十进制又是多少？首先，浮点数9.0等于二进制的1001.0，即1.001×2^3。那么，第一位的符号位s=0，有效数字M等于001后面再加20个0，凑满23位，指数E等于3+127=130，即10000010。所以，写成二进制形式，应该是s+E+M，即0 10000010 001 0000 0000 0000 0000 0000。这个32位的二进制数，还原成十进制，正是1091567616。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2010年6月 6日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（79条）                                                                                                    半就业 说：                                                        博主以前没有学过C语言？？                           2010年6月 6日 15:05 | # | 引用                                                                                                                许通 说：                                                        研究得如此透彻。。。我是大二得学生，以前也学过C语言，但觉得学得不够好，现正在从头看《C Primer Plus》.博主看的是哪一本教材呢？                           2010年6月 6日 15:30 | # | 引用                                                                                                                ddd 说：                                                        我觉得研究这个细节真没有什么用。                           2010年6月 6日 16:36 | # | 引用                                                                                                                许通 说：                                                        引用ddd的发言：我觉得研究这个细节真没有什么用。不同意你的看法，我觉得研究这些细节有助于加深对C语言本质的理解。                           2010年6月 6日 17:34 | # | 引用                                                                                                                幻の上帝 说：                                                        除了涉及到C语言关键字float以外，这个真的和语言本身毛关系都没有。什么叫“C语言的本质”？用什么方法实现浮点数运算，输入输出的细节，都是语言实现和语言用户的事情。                           2010年6月 6日 18:17 | # | 引用                                                                                                                睦 说：                                                        資料在檔案讀取，或運算後可能發生的錯誤都很難以除錯，經過博主的說明，更加清楚二者型別間轉換的差異，果然魔鬼就藏在細節裡，謝謝您的分享~ :)                           2010年6月 6日 19:05 | # | 引用                                                                                                                z 说：                                                        非科班的啊~                           2010年6月 6日 21:58 | # | 引用                                                                                                                cc 说：                                                        学到东西了，Thanks                           2010年6月 6日 22:28 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用半就业的发言：博主以前没有学过C语言？？我以前自学过，好多地方看不懂。现在正好重新温习一遍。                           2010年6月 6日 22:42 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用许通的发言：博主看的是哪一本教材呢？我现在看的是一本国产教材，随手从图书馆里拿的，就不说是哪一本了。但是，我的这篇文章，很大部分出自《深入理解计算机系统》（Computer Systems: A Programmer Perspective）的第二章。                           2010年6月 6日 22:46 | # | 引用                                                                                                                凌风 说：                                                        这些在大学计算机专业的教材上都有讲的，比如《计算机组成原理》。不是很难，有兴趣的大家可以去看看。博主是非科班的，不简单啊，毕竟是术业有专攻嘛。无意中在网上看到了你写的《如何变得有思想？》，过来逛逛。                           2010年6月 6日 23:39 | # | 引用                                                                                                                roy_hu 说：                                                        真要搞清楚，推荐What Every Computer Scientist Should Know About Floating-Point Arithmetic                           2010年6月 6日 23:55 | # | 引用                                                                                                                鳞 说：                                                        这行:　float* pFloat=&num; /* pFloat表示num的内存地址，但是设为浮点数 */--GCC编译器编译不过去的.error: cannot convert 'int*' to 'float*' in initialization|                           2010年6月 7日 08:58 | # | 引用                                                                                                                半就业 说：                                                        引用鳞的发言：这行:　float* pFloat=&amp;num; /* pFloat表示num的内存地址，但是设为浮点数 */--GCC编译器编译不过去的.error: cannot convert 'int*' to 'float*' in initialization|强制类型转换一下float* pFloat=(float*)&amp;num;没试过，不过应该可以                           2010年6月 7日 09:33 | # | 引用                                                                                                                半就业 说：                                                        引用ddd的发言：我觉得研究这个细节真没有什么用。这个可是相当有用。明白了这个你就知道为什么整型变量可以通过移位来进行乘除法了，当然，还有很多技巧与此有关。                           2010年6月 7日 09:49 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用鳞的发言：GCC编译器编译不过去的.error: cannot convert 'int*' to 'float*' in initialization|我的GCC可以编译啊，但是会产生一个指针类型不匹配的警告。                           2010年6月 7日 09:58 | # | 引用                                                                                                                匿名懦夫 说：                                                        没用？？这东西要是没用你手机上就不会有那么多软件可以用。手机CPU没有浮点处理器，一切浮点运算皆是使用定点数实现。将开发的算法移植到手机平台的过程中，会大量运用到本博文中提到的概念。更进一步，大量电子产品中都没有浮点处理器，包括貌似很高级的导弹也是如此。第一次海湾战争中，含冤死在飞毛腿导弹下的16名驻沙特美国大兵，会严重不同意你这个说法，正是因为爱国者导弹控制系统中定点数算法的累积误差，他们才会被没有被拦截到的飞毛腿导弹击中。                           2010年6月 7日 21:03 | # | 引用                                                                                                                kain 说：                                                        float* pFloat=&num;这句一般是编译通不过的, 会报错, 我用VC试过了, 需要强制转换. 教材倒是都学过, 但是还真没注意到, 毕竟一般强制转换的都是类地址什么的, 基本数据类型间的转换倒是很少做.                           2010年6月 7日 21:51 | # | 引用                                                                                                                Drosophila 说：                                                        引用许通的发言：研究得如此透彻。。。我是大二得学生，以前也学过C语言，但觉得学得不够好，现正在从头看《C Primer Plus》.博主看的是哪一本教材呢？握爪～～我也在从头学C语言，而且也是看的这本书。挺好玩的。楼上很多人说有没有用，我这非科班的业余人士不好做这种判断，不过我觉得，搞懂一个问题本身就是有趣且有意义的事清。                           2010年6月 7日 23:59 | # | 引用                                                                                                                KingsamChen 说：                                                        float* pFloat=&num; /* pFloat表示num的内存地址，但是设为浮点数 */这句如果不用强制类型转换，编译器应该不让过吧~                           2010年6月 8日 17:44 | # | 引用                                                                                                                LK 说：                                                        很想知道浮点和定点的累积误差是怎么回事。。。似乎浮点的误差是不可避免但可控，细节不清楚请教                           2010年6月13日 00:30 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        引用LK的发言：很想知道浮点和定点的累积误差是怎么回事。。。似乎浮点的误差是不可避免但可控，细节不清楚请教这是因为很多小数不能准确表示成二进制形式。比如0.4，你就无法写出它的精确二进制形式（即0.5的各次幂的累加），我们只能不断接近0.4，而不能达到它。                           2010年6月13日 07:36 | # | 引用                                                                                                                墨叶 说：                                                        事实上VC和BC内部存储也是不一样的，用过的应该有印象                           2010年6月15日 15:18 | # | 引用                                                                                                                loveclan 说：                                                        IEEE浮点数应该是不享受结合律和交换律的，所以使用时要特别小心。而且CPU浮点数寄存器精度和标准浮点数不一样，详见 http://book.douban.com/subject/1229948/《Computer Systems--A Programmer's Perspective》的第二章。                           2010年6月26日 23:44 | # | 引用                                                                                                                嘟嘟 说：                                                        引用ddd的发言：我觉得研究这个细节真没有什么用。等你做通信就知道多有用了，需要自己解析算的。                           2010年7月22日 17:06 | # | 引用                                                                                                                pl 说：                                                        说道浮点结构, 不得不提这个函数啊!!float InvSqrt (float x){　　float xhalf = 0.5f*x;　　int i = *(int*)&x;　　i = 0x5f3759df - (i>>1);　　x = *(float*)&i;　　x = x*(1.5f - xhalf*x*x);　　return x;}传奇性的函数啊.                           2010年8月28日 16:47 | # | 引用                                                                                                                matthew 说：                                                        博文中的公式　　V=(-1)^0×0.00000000000000000001001×2^(-126)=1.001×2^(-146)里面的-146应该是-126吧（以为指数是1-127）                           2010年9月16日 14:07 | # | 引用                                                                                                                mafai 说：                                                        E的真实值必须再减去一个中间数，对于8位的E，这个中间数是127比如，2^10的E是10，所以保存成32位浮点数时，必须保存成10+127=137，即10001001。那么，第一位的符号位s=0，有效数字M等于001后面再加20个0，凑满23位，指数E等于3+127=130，即10000010。上面是否应该是真实值加上一个中间数呢？因为下面两个例子均是使用 + 127                           2010年9月20日 11:23 | # | 引用                                                                                                                timyuanzhiwei 说：                                                        这个真的很有用！ 废话不说，谢谢分享。。。。                           2011年4月29日 22:41 | # | 引用                                                                                                                kevin 说：                                                        （3）E全为1。这时，如果有效数字M全为0，表示±无穷大（正负取决于符号位s）；如果有效数字M不全为0，表示这个数不是一个数（NaN）。请教，为什么这个case里面M要区别全为0和非全为0的情况？                           2011年12月29日 21:50 | # | 引用                                                                                                                Robin 说：                                                        不错。正好在看32位浮点数表示方法。原来有效位的第一位会省略的，主要是我看的计算机组成没讲清楚。现在豁然开朗。                           2012年6月14日 09:16 | # | 引用                                                                                                                atupal 说：                                                        可以转载嘛？ 注明原文链接的                           2012年8月22日 11:25 | # | 引用                                                                                                                OceanCloud 说：                                                        然后，指数E还可以再分成三种情况：（1）...（2）...（3）...第2种情况中E是不是等于0-127（或者0-1023）？                           2012年9月27日 00:10 | # | 引用                                                                                                                xudifsd 说：                                                        博主关于第二部分中E=3+127解释得不多，详细见这篇文章的“规格化”部分                           2012年10月29日 15:10 | # | 引用                                                                                                                river 说：                                                        多谢博主的解答。发现你的博文配图很好，不知道你是用什么工具做的呢                           2012年11月 1日 15:35 | # | 引用                                                                                                                robin 说：                                                        引用matthew的发言：博文中的公式　　V=(-1)^0×0.00000000000000000001001×2^(-126)=1.001×2^(-146)里面的-146应该是-126吧（以为指数是1-127）不，应该就是-146，因为0.00000000000000000001001×2^(-126) = 0.00000000000000000001×1.001×2^(-126) = 1×2^(-20)×1.001×2^(-126) = 1.001×2^((-20)+(-126)) = 1.001×2^(-146)                           2013年3月 2日 11:49 | # | 引用                                                                                                                hoot 说：                                                        很受用                           2013年5月 1日 20:15 | # | 引用                                                                                                                matrix3d 说：                                                        斯坦福大学的编程范式公开课里就讲到了博主说说的这些                           2013年5月 3日 09:34 | # | 引用                                                                                                                想听什么baby 说：                                                        受用，谢谢。这些才是最本质的。                           2013年5月16日 20:38 | # | 引用                                                                                                                小旺 说：                                                        V=(-1)^0×0.00000000000000000001001×2^(-126)=1.001×2^(-146)应该修改为：V=(-1)^0×1.00000000000000000001001×2^(-126)因为 M=000 0000 0000 0000 0000 1001（23b），转化为系数时，1自动加上，变成 1.000 0000 0000 0000 0000 1001(24b)                           2013年9月 6日 23:35 | # | 引用                                                                                                                kaicui 说：                                                        为什么指数要使用无符号整型来表示，然后在计算的时候再减去一个中间数？为什么不直接使用有符号整数表示？                           2013年11月 8日 12:07 | # | 引用                                                                                                                shmilyxbq 说：                                                        做基础软件研发这些知识是绕不过去的，国内现在做的还少                           2013年12月20日 17:14 | # | 引用                                                                                                                yiltoncent 说：                                                        引用pl的发言：说道浮点结构, 不得不提这个函数啊!!float InvSqrt (float x){　　float xhalf = 0.5f*x;　　int i = *(int*)&amp;x;　　i = 0x5f3759df - (i&gt;&gt;1);　　x = *(float*)&amp;i;　　x = x*(1.5f - xhalf*x*x);　　return x;}传奇性的函数啊.前段时间我也看到这个函数，简直就是神一样的算法，对一个浮点书求根再倒数，使用了牛顿迭代逼近，最牛的是那个第一次猜测的书，不知道作者是怎么想到这样绝的方法。效率是C库的四倍啊！！！                           2014年1月25日 16:26 | # | 引用                                                                                                                yiltoncent 说：                                                        引用小旺的发言：V=(-1)^0×0.00000000000000000001001×2^(-126)=1.001×2^(-146)应该修改为：V=(-1)^0×1.00000000000000000001001×2^(-126)因为 M=000 0000 0000 0000 0000 1001（23b），转化为系数时，1自动加上，变成 1.000 0000 0000 0000 0000 1001(24b)错了 E为0，所以M不需要自动加一                           2014年1月25日 16:27 | # | 引用                                                                                                                zeekvfu 说：                                                        我是来吐槽博客页面排版的。:-)关于代码的展示，个人觉得用 pre 标签比 blockquote 标签更合适。另外，对于每行代码都用 p 和 strong 标签，实现方式实在是有些 ugly。另外没有代码高亮展示，不知道你中文博客用的什么框架（英文是 WordPress），可以找相关的代码高亮插件。                           2014年4月14日 21:57 | # | 引用                                                                                                                koka 说：                                                        E的真实值必须再减去一个中间数，对于8位的E，这个中间数是127比如，2^10的E是10，所以保存成32位浮点数时，必须保存成10+127=137，即10001001。那么，第一位的符号位s=0，有效数字M等于001后面再加20个0，凑满23位，指数E等于3+127=130，即10000010。为什么是10+127而不是10-127呢？很多文章都描述规格化是E减去偏置值，但实现的时候却是加法。请指教！                           2015年1月21日 20:04 | # | 引用                                                                                                                啊打发 说：                                                        引用ddd的发言：我觉得研究这个细节真没有什么用。说明你没用到，不是没什么用                           2015年2月28日 09:18 | # | 引用                                                                                                                0.618 说：                                                        有一个更有趣的地方：如果将最后一句代码中的%f改为%d，即printf("*pFloat的值为：%d\n",*pFloat); 此时该值结果为0                           2015年4月 6日 16:54 | # | 引用                                                                                                                yao 说：                                                        请问博主画的图是用什么工具的？                           2015年7月28日 16:59 | # | 引用                                                                                                                就是俺 说：                                                        引用ddd的发言：我觉得研究这个细节真没有什么用。hehe, 那是因为你的水平 还用不到                           2015年10月 3日 11:03 | # | 引用                                                                                                                还是俺 说：                                                        "这样做的目的，是节省1位有效数字" 这个应该是“节省一位”吧，有效数字怎么能节省呢                           2015年10月 3日 11:05 | # | 引用                                                                                                                genericyzh 说：                                                        第三点直接跳到第四点了，没了4.3.   ->   5.                           2016年1月19日 14:31 | # | 引用                                                                                                                puma 说：                                                        因为E-127= 10， 所以E= 127 + 10 = 137。 引用koka的发言：E的真实值必须再减去一个中间数，对于8位的E，这个中间数是127比如，2^10的E是10，所以保存成32位浮点数时，必须保存成10+127=137，即10001001。那么，第一位的符号位s=0，有效数字M等于001后面再加20个0，凑满23位，指数E等于3+127=130，即10000010。为什么是10+127而不是10-127呢？很多文章都描述规格化是E减去偏置值，但实现的时候却是加法。请指教！                           2016年7月15日 11:27 | # | 引用                                                                                                                我不知道 说：                                                        引用puma的发言：因为E-127= 10， 所以E= 127 + 10 = 137。 看来是因为翻译错误                           2016年8月26日 00:04 | # | 引用                                                                                                                我不知道 说：                                                        要用0到255表示负数，那么类似数轴，我们用127作为原点，大于127的是正数，小于127的是负数。第0位是符号位，第1-8位如果计算机读出来是130，那么这表示E的实际值是130-127=3。                           2016年8月26日 00:26 | # | 引用                                                                                                                kcats 说：                                                        "然后，指数E还可以再分成三种情况："的第1种情况表述有误, 应该是"E不全为0且不全为1"                           2017年2月 8日 15:00 | # | 引用                                                                                                                CB 说：                                                        例题的第二部分的解析是错误的，该浮点数的二进制形式的 exponent 部分 应该往右移一位                           2017年3月 2日 20:43 | # | 引用                                                                                                                wub 说：                                                        但是，我们知道，科学计数法中的E是可以出现负数的，所以IEEE 754规定，E的真实值必须再减去一个中间数，对于8位的E，这个中间数是127；对于11位的E，这个中间数是1023。比如，2^10的E是10，所以保存成32位浮点数时，必须保存成10+127=137，即10001001。这个地方没有解释清楚，怎么上面说IEEE 规定，E的真实值必须再减去一个中间数，下面的比如又变成了10+127了? 我查了一下资料，只是这样理解了： 因为指数部分在存储时是在符号位之后，为了区分指数和符号位部分，因此在存储指数的时候会将指数部分向右偏移127(单精度),  结果将为0 ~ 254， 也就是存储时将E+127， 那获取值时才要减127，得到E的真实值。                            2017年4月15日 13:56 | # | 引用                                                                                                                apolo 说：                                                        讲的非常清楚，谢谢！                           2017年7月 2日 16:09 | # | 引用                                                                                                                rolfzhang 说：                                                        符号位0应该表示正数吧？                           2017年9月16日 20:17 | # | 引用                                                                                                                SimonLiu 说：                                                        @pl：我就是看了这个函数，为了搞清楚怎么回事，才搜到博主这里来的。                           2018年4月25日 17:56 | # | 引用                                                                                                                SimonLiu 说：                                                        引用半就业的发言：强制类型转换一下float* pFloat=(float*)&amp;num;没试过，不过应该可以强制转换通过了，编译器是Apple LLVM version 9.1.0 (clang-902.0.39.1)，不转换是通不过的。                           2018年4月25日 17:59 | # | 引用                                                                                                                khejing 说：                                                        文章中的公式其实是在已有二进制的情况下，如何得到其表示的浮点数。要想知道如何由一个浮点数得到其二进制表示，文中根本没有讲，就会导致整体还是不大理解。建议再补充看如下链接：https://ryanstutorials.net/binary-tutorial/binary-floating-point.php                           2018年5月29日 19:22 | # | 引用                                                                                                                王调科 说：                                                        阮一峰老师您好！　　V=(-1)^0×0.00000000000000000001001×2^(-126)=1.001×2^(-146)这个结果 1.1221598e-44 或者 2e-323。就算我用%.1000f来输出整数9，小数点后依然全是0。虽然理论上来说这个很小的数已经超出了浮点数的精度，但是如果是浮点数在那儿可以打印出小数点很多0后的小数位。、我的疑问是：为什么是个整数却成了0.000000后面一亿位都是0。是因为整数转换后已经超出了浮点数的精度而且这个数十分接近0，%f得到的就是0了，所以%f输出的就是0.0。是这样理解吗？                           2018年8月15日 22:13 | # | 引用                                                                                                                Kris 说：                                                        @王调科：我也做了同样的测试，在我的电脑上，就是把这一句改了：printf("*pFloat的值为：%.50f\n",*pFloat); /* 显示num的浮点值 */打印出来是：*pFloat的值为：0.00000000000000000000000000000000000000000001261169你要不再试试，换台电脑，重新gcc。                           2018年9月29日 14:12 | # | 引用                                                                                                                cole_1996 说：                                                        好巧我就在看斯坦福大学的编程范式第2集，其中有些细节部分不太懂来网上就看到这篇文章，查了下E部分全1在957标准中表示NaN族，是不是因此E的数字部分只能是非全0，全1外的，000...1 到 111...10这范围？                           2018年10月21日 10:49 | # | 引用                                                                                                                robbin 说：                                                        看了这么多文章 就这篇通俗易懂                           2019年4月11日 11:31 | # | 引用                                                                                                                suyumo 说：                                                        写的真的让人迷惑二进制和十进制混着用                           2019年5月27日 18:20 | # | 引用                                                                                                                周陆军 说：                                                        https://www.zhoulujun.cn/html/theory/computBase/2016_0714_7860.html引用了博主的内容IEEE-745浮点数表示法数值精度丢失计算机中的数字都是以二进制存储的，二进制浮点数表示法并不能精确的表示类似0.1这样 的简单的数字如果要计算 0.1 + 0.2 的结果，计算机会先把 0.1 和 0.2 分别转化成二进制，然后相加，最后再把相加得到的结果转为十进制 但有一些浮点数在转化为二进制时，会出现无限循环 。比如， 十进制的 0.1 转化为二进制，会得到如下结果：0.1 => 0.0001 1001 1001 1001…（无限循环）0.2 => 0.0011 0011 0011 0011…（无限循环）而存储结构中的尾数部分最多只能表示 53 位。为了能表示 0.1，只能模仿十进制进行四舍五入了，但二进制只有 0 和 1 ， 于是变为 0 舍 1 入 。 因此，0.1 在计算机里的二进制表示形式如下：0.1 => 0.0001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1010.2 => 0.0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 001用标准计数法表示如下：0.1 => (−1)0 × 2^4 × (1.1001100110011001100110011001100110011001100110011010)20.2 => (−1)0 × 2^3 × (1.1001100110011001100110011001100110011001100110011010)2 在计算浮点数相加时，需要先进行 “对位”，将较小的指数化为较大的指数，并将小数部分相应右移：最终，“0.1 + 0.2” 在计算机里的计算过程如下：经过上面的计算过程，0.1 + 0.2 得到的结果也可以表示为：(−1)0 × 2−2 × (1.0011001100110011001100110011001100110011001100110100)2=>.0.30000000000000004这是一个典型的精度丢失案例，从上面的计算过程可以看出，0.1 和 0.2 在转换为二进制时就发生了一次精度丢失，而对于计算后的二进制又有一次精度丢失 。因此，得到的结果是不准确的。                           2019年7月10日 21:23 | # | 引用                                                                                                                rangwer 说：                                                        比如，2^10的E是10，所以保存成32位浮点数时，必须保存成10+127=137，即10001001。这里没太明白..                           2019年9月 3日 10:00 | # | 引用                                                                                                                Lee 说：                                                        #include #include using namespace std;int main(){    int d = 9;    float* pFloat = (float*)&d;    *pFloat = 9.0;    printf("%f %d\n",*pFloat,d);    printf("%d",9.0);    return 0;} 为什么给地址后修改为浮点数可以正常输出，直接将浮点数用整型输出为就是0呢                           2019年9月22日 20:55 | # | 引用                                                                                                                flamesnow 说：                                                        1. 上文“（2）E全为0。这时，浮点数的指数E等于1-127（或者1-1023）”，这里为什么是1-127？而不是0 - 127呢？？求解释2. 上文最后面第二道题目“所以，写成二进制形式，应该是s+E+M，即0 10000010 001 0000 0000 0000 0000 0000。这个32位的二进制数，还原成十进制，正是1091567616。”，请问这里的“1091567616”是怎么算出来的？在线等等？11点之前都在线，很想知道！！！！                           2019年10月14日 21:51 | # | 引用                                                                                                                JASON 说：                                                        E全为0。这时，浮点数的指数E等于1-127（或者1-1023）这里应该是 0-127 或者 0-1023                           2020年5月12日 15:37 | # | 引用                                                                                                                xxxx 说：                                                        引用幻の上帝的发言：除了涉及到C语言关键字float以外，这个真的和语言本身毛关系都没有。什么叫“C语言的本质”？用什么方法实现浮点数运算，输入输出的细节，都是语言实现和语言用户的事情。其实可以说和语言无关,是计算机内部存储方法,大部分语言都采用了相同的方式,是为了计算机指令执行更快更方便, 并不是每个语言 随便定义自己的实现方式                           2021年1月 2日 21:44 | # | 引用                                                                                                                cctga 说：                                                        double：-1.3binary：-1.01,0011,0011,0011,... 无限循环 0011科学计数法：-1.01,0011,0011... x 2^0s = 1, E = 0 + 1023, M = 01,0011,0011,0011,0011... 循环到补足 52 位所以结果为：                1 0111,1111,111 01,0011,0011,0011,0011,0011,0011,0011,0011,0011,0011,0011,0011,00使用代码验证结果为：    1 0111,1111,111 01,0011,0011,0011,0011,0011,0011,0011,0011,0011,0011,0011,0011,01（发生进位）                           2021年1月27日 22:58 | # | 引用                                                                                                                陈杰 说：                                                        博主，请问一下，你举例中的5.0 转换成 1.01×2^2这部是如何计算出来的，如果5.2这样本身带有小数位的数，转换成s=0，M=1.01，E=2又该是如何咧？                           2021年3月15日 11:07 | # | 引用                                                                                                                bonobo 说：                                                        1.001×2^3这部分有误吧，应该是1.125×2^3， 1.001这里的001是二进制，0.1是十进制的0.5，0.001是0.125.                           2021年4月26日 22:07 | # | 引用                                                                                                                W 说：                                                        看评论区不少人在说自学非科班，我是个双非本科感觉平时基本靠自学了也是´•ﻌ•`，好的大学可能不是这个样                           2021年12月24日 20:17 | # | 引用                                                                                                                bsc2xp 说：                                                        @周陆军：0舍1入的话，0.2 那个最后写错了吧，应该是 ....010                           2023年8月11日 11:28 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9ebe5eddcf45',t:'MTc0MzI0MzQ3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2010/06/ieee_floating-point_representation.html
互联网协议入门（二） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    互联网协议入门（二） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：互联网协议入门（一）&nbsp;下一篇：SASS用法指南&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              互联网协议入门（二）                                                                                    作者： 阮一峰                                    日期： 2012年6月11日                                                                                                                                            上一篇文章分析了互联网的总体构思，从下至上，每一层协议的设计思想。                                                                                                                这是从设计者的角度看问题，今天我想切换到用户的角度，看看用户是如何从上至下，与这些协议互动的。==============================================================互联网协议入门（二）作者：阮一峰（接上文）七、一个小结先对前面的内容，做一个小结。我们已经知道，网络通信就是交换数据包。电脑A向电脑B发送一个数据包，后者收到了，回复一个数据包，从而实现两台电脑之间的通信。数据包的结构，基本上是下面这样：发送这个包，需要知道两个地址：　　* 对方的MAC地址　　* 对方的IP地址有了这两个地址，数据包才能准确送到接收者手中。但是，前面说过，MAC地址有局限性，如果两台电脑不在同一个子网络，就无法知道对方的MAC地址，必须通过网关（gateway）转发。上图中，1号电脑要向4号电脑发送一个数据包。它先判断4号电脑是否在同一个子网络，结果发现不是（后文介绍判断方法），于是就把这个数据包发到网关A。网关A通过路由协议，发现4号电脑位于子网络B，又把数据包发给网关B，网关B再转发到4号电脑。1号电脑把数据包发到网关A，必须知道网关A的MAC地址。所以，数据包的目标地址，实际上分成两种情况：场景数据包地址同一个子网络对方的MAC地址，对方的IP地址非同一个子网络网关的MAC地址，对方的IP地址发送数据包之前，电脑必须判断对方是否在同一个子网络，然后选择相应的MAC地址。接下来，我们就来看，实际使用中，这个过程是怎么完成的。八、用户的上网设置8.1 静态IP地址你买了一台新电脑，插上网线，开机，这时电脑能够上网吗？通常你必须做一些设置。有时，管理员（或者ISP）会告诉你下面四个参数，你把它们填入操作系统，计算机就能连上网了：　　* 本机的IP地址　　* 子网掩码　　* 网关的IP地址　　* DNS的IP地址下图是Windows系统的设置窗口。这四个参数缺一不可，后文会解释为什么需要知道它们才能上网。由于它们是给定的，计算机每次开机，都会分到同样的IP地址，所以这种情况被称作"静态IP地址上网"。但是，这样的设置很专业，普通用户望而生畏，而且如果一台电脑的IP地址保持不变，其他电脑就不能使用这个地址，不够灵活。出于这两个原因，大多数用户使用"动态IP地址上网"。8.2 动态IP地址所谓"动态IP地址"，指计算机开机后，会自动分配到一个IP地址，不用人为设定。它使用的协议叫做DHCP协议。这个协议规定，每一个子网络中，有一台计算机负责管理本网络的所有IP地址，它叫做"DHCP服务器"。新的计算机加入网络，必须向"DHCP服务器"发送一个"DHCP请求"数据包，申请IP地址和相关的网络参数。前面说过，如果两台计算机在同一个子网络，必须知道对方的MAC地址和IP地址，才能发送数据包。但是，新加入的计算机不知道这两个地址，怎么发送数据包呢？DHCP协议做了一些巧妙的规定。8.3 DHCP协议首先，它是一种应用层协议，建立在UDP协议之上，所以整个数据包是这样的：　　（1）最前面的"以太网标头"，设置发出方（本机）的MAC地址和接收方（DHCP服务器）的MAC地址。前者就是本机网卡的MAC地址，后者这时不知道，就填入一个广播地址：FF-FF-FF-FF-FF-FF。　　（2）后面的"IP标头"，设置发出方的IP地址和接收方的IP地址。这时，对于这两者，本机都不知道。于是，发出方的IP地址就设为0.0.0.0，接收方的IP地址设为255.255.255.255。　　（3）最后的"UDP标头"，设置发出方的端口和接收方的端口。这一部分是DHCP协议规定好的，发出方是68端口，接收方是67端口。这个数据包构造完成后，就可以发出了。以太网是广播发送，同一个子网络的每台计算机都收到了这个包。因为接收方的MAC地址是FF-FF-FF-FF-FF-FF，看不出是发给谁的，所以每台收到这个包的计算机，还必须分析这个包的IP地址，才能确定是不是发给自己的。当看到发出方IP地址是0.0.0.0，接收方是255.255.255.255，于是DHCP服务器知道"这个包是发给我的"，而其他计算机就可以丢弃这个包。接下来，DHCP服务器读出这个包的数据内容，分配好IP地址，发送回去一个"DHCP响应"数据包。这个响应包的结构也是类似的，以太网标头的MAC地址是双方的网卡地址，IP标头的IP地址是DHCP服务器的IP地址（发出方）和255.255.255.255（接收方），UDP标头的端口是67（发出方）和68（接收方），分配给请求端的IP地址和本网络的具体参数则包含在Data部分。新加入的计算机收到这个响应包，于是就知道了自己的IP地址、子网掩码、网关地址、DNS服务器等等参数。8.4 上网设置：小结这个部分，需要记住的就是一点：不管是"静态IP地址"还是"动态IP地址"，电脑上网的首要步骤，是确定四个参数。这四个值很重要，值得重复一遍：　　* 本机的IP地址　　* 子网掩码　　* 网关的IP地址　　* DNS的IP地址有了这几个数值，电脑就可以上网"冲浪"了。接下来，我们来看一个实例，当用户访问网页的时候，互联网协议是怎么运作的。九、一个实例：访问网页9.1 本机参数我们假定，经过上一节的步骤，用户设置好了自己的网络参数：　　* 本机的IP地址：192.168.1.100　　* 子网掩码：255.255.255.0　　* 网关的IP地址：192.168.1.1　　* DNS的IP地址：8.8.8.8然后他打开浏览器，想要访问Google，在地址栏输入了网址：www.google.com。这意味着，浏览器要向Google发送一个网页请求的数据包。9.2 DNS协议我们知道，发送数据包，必须要知道对方的IP地址。但是，现在，我们只知道网址www.google.com，不知道它的IP地址。DNS协议可以帮助我们，将这个网址转换成IP地址。已知DNS服务器为8.8.8.8，于是我们向这个地址发送一个DNS数据包（53端口）。然后，DNS服务器做出响应，告诉我们Google的IP地址是172.194.72.105。于是，我们知道了对方的IP地址。9.3 子网掩码接下来，我们要判断，这个IP地址是不是在同一个子网络，这就要用到子网掩码。已知子网掩码是255.255.255.0，本机用它对自己的IP地址192.168.1.100，做一个二进制的AND运算（两个数位都为1，结果为1，否则为0），计算结果为192.168.1.0；然后对Google的IP地址172.194.72.105也做一个AND运算，计算结果为172.194.72.0。这两个结果不相等，所以结论是，Google与本机不在同一个子网络。因此，我们要向Google发送数据包，必须通过网关192.168.1.1转发，也就是说，接收方的MAC地址将是网关的MAC地址。9.4 应用层协议浏览网页用的是HTTP协议，它的整个数据包构造是这样的：HTTP部分的内容，类似于下面这样：　　GET / HTTP/1.1　　Host: www.google.com　　Connection: keep-alive　　User-Agent: Mozilla/5.0 (Windows NT 6.1) ......　　Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8　　Accept-Encoding: gzip,deflate,sdch　　Accept-Language: zh-CN,zh;q=0.8　　Accept-Charset: GBK,utf-8;q=0.7,*;q=0.3　　Cookie: ... ...我们假定这个部分的长度为4960字节，它会被嵌在TCP数据包之中。9.5 TCP协议TCP数据包需要设置端口，接收方（Google）的HTTP端口默认是80，发送方（本机）的端口是一个随机生成的1024-65535之间的整数，假定为51775。TCP数据包的标头长度为20字节，加上嵌入HTTP的数据包，总长度变为4980字节。9.6 IP协议然后，TCP数据包再嵌入IP数据包。IP数据包需要设置双方的IP地址，这是已知的，发送方是192.168.1.100（本机），接收方是172.194.72.105（Google）。IP数据包的标头长度为20字节，加上嵌入的TCP数据包，总长度变为5000字节。9.7 以太网协议最后，IP数据包嵌入以太网数据包。以太网数据包需要设置双方的MAC地址，发送方为本机的网卡MAC地址，接收方为网关192.168.1.1的MAC地址（通过ARP协议得到）。以太网数据包的数据部分，最大长度为1500字节，而现在的IP数据包长度为5000字节。因此，IP数据包必须分割成四个包。因为每个包都有自己的IP标头（20字节），所以四个包的IP数据包的长度分别为1500、1500、1500、560。9.8 服务器端响应经过多个网关的转发，Google的服务器172.194.72.105，收到了这四个以太网数据包。根据IP标头的序号，Google将四个包拼起来，取出完整的TCP数据包，然后读出里面的"HTTP请求"，接着做出"HTTP响应"，再用TCP协议发回来。本机收到HTTP响应以后，就可以将网页显示出来，完成一次网络通信。这个例子就到此为止，虽然经过了简化，但它大致上反映了互联网协议的整个通信过程。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2012年6月11日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（128条）                                                                                                    水绿如蓝 说：                                                        看过阮老师的互联网协议入门两篇文章，受益匪浅，上大学时候就一直好奇这个问题，问周围同学没人能讲得清楚，即使有的人真懂也不知道该怎么表达。直到今天才茅塞顿开，呵呵，发现每一个系统都是因为有了N多的保障才完好运行的，不容易啊，智慧是个好东西。                           2012年6月11日 19:19 | # | 引用                                                                                                                水绿如蓝 说：                                                        发现外专业来理解IT专业的很多事情确实还是挺困难的。那个0和1也比较让人纠结，不知是怎么个道理；还有比如一些漂亮的网页，那些图像啦颜色了是靠什么来规定的；再有N多不同种类的程序如何实现自己的功能……这些对我们单纯的使用者而言真的是极难搞懂的事情。                           2012年6月11日 19:22 | # | 引用                                                                                                                锐齿猱 说：                                                        我网速好慢，不知道什么原因。                           2012年6月11日 20:04 | # | 引用                                                                                                                xavierskip 说：                                                        以前不太懂，网关和子网掩码的作用。现在明白了。因为整个网络是很庞大的，由不同的子网组成的。不同的子网之间是不能直接进行通信的，需要转发中转，这时候网关和子网掩码就要起作用了。我是这么理解的。                           2012年6月11日 21:31 | # | 引用                                                                                                                爱早起 说：                                                        引用锐齿猱的发言：我网速好慢，不知道什么原因。网速慢有多种原因，最可能的是你使用的网络本来带宽就很小，比如1M。另外，如果你开了很多要联网的软件，比如迅雷下载之类的，也会占用较多网速。                           2012年6月11日 21:35 | # | 引用                                                                                                                codebook 说：                                                        1：8.3 DHCP协议中“才能确定是不是发过自己的”是不是应该是“发给”2：9.3 子网掩码中“做一个二进制的AND运算（两个数位相同，结果为1，否则为0）”括号中的解释应该是同或运算                           2012年6月11日 21:41 | # | 引用                                                                                                                reverland 说：                                                        插图是拿什么画的，好漂亮                           2012年6月11日 21:53 | # | 引用                                                                                                                依云 说：                                                        引用reverland的发言：插图是拿什么画的，好漂亮看样子是著名的 Photoshop。                           2012年6月12日 00:47 | # | 引用                                                                                                                LUO 说：                                                        引用依云的发言：看样子是著名的 Photoshop。PPT也可以做出这种效果，其他专业图好像是office的visio做的。                           2012年6月12日 00:54 | # | 引用                                                                                                                xiph 说：                                                        受益匪浅。我读的不是相关专业，但对计算机，互联网都非常感兴趣，现在刚刚开始接触，正在学习编程，精力有限，开始时对技术的了解肯定有一定的局限性，希望阮老师可以写更多这类条理清晰，较容易理解的技术文章，对我们的帮助很大，感谢。我是读金融的，期待您有更多经济学方面的文章。                           2012年6月12日 02:11 | # | 引用                                                                                                                胡小易 说：                                                        这篇文章有点白了，不过讲的不错哈                           2012年6月12日 06:29 | # | 引用                                                                                                                阮一峰 说：                                                        引用codebook的发言：1：8.3 DHCP协议中“才能确定是不是发过自己的”是不是应该是“发给”2：9.3 子网掩码中“做一个二进制的AND运算（两个数位相同，结果为1，否则为0）”括号中的解释应该是同或运算谢谢指出，已经更正了。                           2012年6月12日 07:27 | # | 引用                                                                                                                刘永新 说：                                                        阮老师的技术文章就是简洁明了！                           2012年6月12日 08:11 | # | 引用                                                                                                                阿Pon 说：                                                        阮老师的文章真好，以前是半懂不懂，看完后有点豁然开朗的感觉。                           2012年6月12日 11:24 | # | 引用                                                                                                                Q 说：                                                        为什么你用window$?                           2012年6月12日 11:35 | # | 引用                                                                                                                阿Pon 说：                                                        9.8 服务器端的响应 google读出“HTTP请求”后，接着做出"HTTP响应"，再用TCP协议发回来。这个过程中，是不是先发到我所在子网络的网关，再通过网关发送到我的主机呢？希望阮老师能说详细点，不是很明白。                           2012年6月12日 11:46 | # | 引用                                                                                                                依云 说：                                                        引用LUO的发言：PPT也可以做出这种效果，其他专业图好像是office的visio做的。是的，有很多软件都能够做出这种效果，所以看图的效果是得不到结论的。如果不是伪造的信息的话，那些图是用 Photoshop CS5 Windows 版做的。                           2012年6月12日 12:34 | # | 引用                                                                                                                GeHou 说：                                                        NICE啊，感谢大大的分享!!!                           2012年6月12日 15:41 | # | 引用                                                                                                                幽灵 说：                                                        “当看到发出方IP地址是0.0.0.0，接收方是255.255.255.255，于是DHCP服务器知道"这个包是发过我的"，而其他计算机就可以丢弃这个包。”还是有错别字，应为“这个包是发给我的”。希望博主在发表文章之后，认真仔细得再读一遍。                           2012年6月12日 21:52 | # | 引用                                                                                                                yava 说：                                                        数据包到了网关之后是怎么处理的呢？ google服务器只能获取到外网ip，获取不到局域网ip 192.168.1.100                           2012年6月13日 09:26 | # | 引用                                                                                                                阮一峰 说：                                                        引用幽灵的发言：还是有错别字，应为“这个包是发给我的”。谢谢指出，已更正。引用yava的发言：数据包到了网关之后是怎么处理的呢？ google服务器只能获取到外网ip，获取不到局域网ip 192.168.1.100啊，我疏忽了，忽略了内外网IP地址转换的问题。192.168.1.100这个例子举得不好，如果改成通用IP地址，就不存在转换问题，Google的服务器就能得到这个地址了。因为这个问题涉及的地方比较多，要等到下一次修订本文的时候，我再一次性全部改掉。                           2012年6月13日 11:19 | # | 引用                                                                                                                cccc 说：                                                        能讲下IPv6的网络吗？                           2012年6月14日 07:42 | # | 引用                                                                                                                oliver 说：                                                        引用阮一峰的发言：因为这个问题涉及的地方比较多，要等到下一次修订本文的时候，我再一次性全部改掉。期待您的内外网地址转换的文章。                           2012年6月16日 23:27 | # | 引用                                                                                                                cdk 说：                                                        感谢，阮爷教诲！                           2012年6月18日 08:32 | # | 引用                                                                                                                bailey 说：                                                        受益匪浅                           2012年6月18日 13:53 | # | 引用                                                                                                                cpluse 说：                                                        不能付费支持了？跳到支付宝“暂停担保买卖业务的公告”了                           2012年6月20日 23:32 | # | 引用                                                                                                                阮一峰 说：                                                        引用cpluse的发言：不能付费支持了？跳到支付宝“暂停担保买卖业务的公告”了改好了，跳转到支付宝个人收费主页了。                           2012年6月21日 08:07 | # | 引用                                                                                                                wugr 说：                                                        看过了1，就等着看2，呵呵～对我来说，1的内容深入浅出，非常不错！当然，2也不错～                           2012年6月26日 21:53 | # | 引用                                                                                                                Robinson 说：                                                        呵呵，终于出来了。文章写得相当好，我存在我的为知笔记里了，地铁上没事的时候就拿出来看看。                           2012年6月30日 00:48 | # | 引用                                                                                                                木树 说：                                                        看了阮哥的文章，才知道世界上的天才离我是那么的近，是那种触手可及的，而不是站在云端那种。                           2012年6月30日 01:18 | # | 引用                                                                                                                Kerry 说：                                                        以太网数据包的数据部分，最大长度为1500字节，而现在的IP数据包长度为5000字节。因此，IP数据包必须分割成四个包。因为每个包都有自己的IP标头（20字节），所以四个包的IP数据包的长度分别为1500、1500、1500、560。+++++++++++是不是也要加上ethernet包的head呢？？？应该是1500，1500，1500，640把                           2012年7月16日 23:40 | # | 引用                                                                                                                D瓜哥 说：                                                        看来阮老师的博文，觉得原来零碎的互联网协议知识才有了一个整体的感觉。不过，可能是自己对协议的知识了解的只是一知半解，所有有些东西还要下去再用功！期待阮老师内外网转换的文章！！                           2012年7月18日 10:20 | # | 引用                                                                                                                Leo 说：                                                        最后，IP数据包嵌入以太网数据包。以太网数据包需要设置双方的MAC地址，发送方为本机的网卡MAC地址，接收方为网关192.168.1.1的MAC地址（通过ARP协议得到）。第一篇文章中说如果不在一个网络内获取对方的MAC地址要交给网关处理，这个处理能解释一下么？还是有后续的文章                           2012年7月18日 16:37 | # | 引用                                                                                                                Airomyas 说：                                                        192.168.* 是保留地址，不允许在Internet上出现，一般用作内网。内网与外网之间可以通过NAT协议进行转换。一个IP包从本地网络到达Google的服务器，中间需要经过多个路由器，而不是网关。                           2012年7月26日 16:52 | # | 引用                                                                                                                juqkai 说：                                                        受益匪浅呀, 但是有个疑问.我是一个在内网的接收方, 发送方要发送什么样的地址我才能收到呢? 因为在IP里面只有一个我的内网地址, 而以太包里面也只有我的IP. 内网IP在全球这么多个, 它是怎么找到我的呢? 肯定不是通过MAC来找的吧, 那么, 是不是每经过一个路由, 就会在里面再封装一层地址呢? 最终发送方发出的会不会是一串IP, IP, IP, IP, IP的链接呢?                           2012年8月17日 15:36 | # | 引用                                                                                                                xueshi 说：                                                        写的真心不错，每一个地方都讲解的很清楚，还有一个地方没有讲清楚，还拿最后一个例子来说，“最后，IP数据包嵌入以太网数据包。以太网数据包需要设置双方的MAC地址，发送方为本机的网卡MAC地址，接收方为网关192.168.1.1的MAC地址（通过ARP协议得到）”，发送到192.168.1.1，网关应该还会拆开包，根据子网掩码与操作发现不是在一个内网内，那么将会重新把这个包封装一下，接收方的为它的网关的MAC地址，就这样一层一层往上面找，最终到一个网关，网关根据子网掩码发现172.194.72.105（Google）和自己在一个内网内，然后将请求发给172.194.72.105（Google），这样就到达了目的地                           2012年10月 3日 21:13 | # | 引用                                                                                                                兵临城下 说：                                                        简介明了，最主要的是成体系！                           2012年10月24日 14:28 | # | 引用                                                                                                                郭春阳 说：                                                        引用Leo的发言：最后，IP数据包嵌入以太网数据包。以太网数据包需要设置双方的MAC地址，发送方为本机的网卡MAC地址，接收方为网关192.168.1.1的MAC地址（通过ARP协议得到）。第一篇文章中说如果不在一个网络内获取对方的MAC地址要交给网关处理，这个处理能解释一下么？还是有后续的文章如果不在一个网络内是不需要获取对方MAC的，因为MAC地址适用于同一网段通信的。 需要的是网关的MAC，因为你要首先和网关通信。                            2012年11月 3日 11:06 | # | 引用                                                                                                                御宅暴君 说：                                                        今天在学计算机网络，特此温习了下。讲得真精彩，受益匪浅！                           2013年3月23日 19:17 | # | 引用                                                                                                                Zernel 说：                                                        讲得很清晰，虽然这些知识以前学计算机网络的时候都有学过，不过现在看完还是有种豁然开朗的感觉，相当不错！                           2013年4月 6日 15:29 | # | 引用                                                                                                                第04号 说：                                                        你好！很感激你整理出这么深入浅出的文章分享给大家！受益匪浅！文中有一部分我有些不解，希望能获得一点指教！文中讲到，以太网协议的时候，例中一个IP协议数据包要被分为4个包，但是每个包都需要有IP协议段。这一点是怎么做到的呢？是通过解析提取其中的IP协议段数据然后复制吗？我的疑问是下一层的协议不应该知道有高一层协议的存在，不应该为上一层负责，所以感觉不合理。对此我的猜测可能的解释是，在实际中传输层协议实现的时候是直接负责数据打包成以太网数据包，所以整个过程在内部是清晰可见的，所以可以完成这个任务。请问是那种情况使得他运转正常呢？希望能得到指教。                           2013年4月15日 15:54 | # | 引用                                                                                                                3null 说：                                                        这两篇文章看下来，对整个互联网通信有个比较清晰的印象了。原来概念都很混乱，感谢老师写这么好的文章！                           2013年5月16日 17:57 | # | 引用                                                                                                                veiky 说：                                                        “根据IP标头的序号，Google将四个包拼起来，取出完整的TCP数据包，然后读出里面的"HTTP请求"，接着做出"HTTP响应"，再用TCP协议发回来。”Google的服务器收到数据包的时候，它能得到所有路由中间过程吗？它收到的数据包中源IP地址和源MAC是我本机的呢，还是离它最近的那级网关的？怎么一级一级的发回来呢？“……再用TCP协议发回来。” 这句话说的太简单了，谁给咱菜鸟讲解下？                           2013年7月15日 13:43 | # | 引用                                                                                                                beamingmax 说：                                                        真心清楚，阮老师，希望您能出一些IT方面的科普读物。                           2013年9月12日 14:54 | # | 引用                                                                                                                莽原 说：                                                        通俗易懂，太厉害了，由于不是该专业的，之前看了很多这方面的东西，都完全整明白，看完这篇有了一个整体框架，太爽了，多谢！！                           2013年11月13日 21:26 | # | 引用                                                                                                                凡客 说：                                                        引用阿Pon的发言：9.8 服务器端的响应 google读出“HTTP请求”后，接着做出"HTTP响应"，再用TCP协议发回来。这个过程中，是不是先发到我所在子网络的网关，再通过网关发送到我的主机呢？希望阮老师能说详细点，不是很明白。应该也是经过了很多网关，但是不一定是和原来的路走相同的，最终达到了本地网关，网关然后转发给本地pc。                           2013年12月21日 09:26 | # | 引用                                                                                                                Dingo妹 说：                                                        好文章，支持阮老师。                           2013年12月29日 23:35 | # | 引用                                                                                                                dipqib 说：                                                        很适合我这样的菜鸟看啊！建议多用些图解。                           2014年1月12日 16:32 | # | 引用                                                                                                                欧文 说：                                                        阮老师总是能把复杂的问题简化，讲的有条有理，来龙去脉都非常清楚，这样就什么容易记。                           2014年3月27日 19:02 | # | 引用                                                                                                                wind 说：                                                        神教程,不解釋.果然是高手!能把抽象的事物具象化,並且能夠讓普通人一看就明白,你絕對有當一個優秀導師的天賦.感謝好文!                           2014年5月29日 14:40 | # | 引用                                                                                                                张海鹏 说：                                                        最近一直在研究阮老师的博客，因为大学的计算机课程基本上已经学完了，但是没有形成体系，很多东西都只能站在一个切面看问题，没有立体的看过，尤其是分层思想把握的不是很好，刚刚读完第三CSAPP，结合阮老师的文章，感觉对体系的认识逐渐在加深。我有一个想法：可不可以扩展你提出的Google的例子，然后从物理层到应用层进行更加详尽的分析和描述，从足够细致的角度来理解，因为自己在做另一件事情，就是解释简单的“Hello World”的从编译到OS到底层硬件的执行过程！                           2014年6月 1日 13:56 | # | 引用                                                                                                                apacal 说：                                                        好文章，结合wireshark抓包，tcp/ip协议详解来学习，以前没有连贯起来。                           2014年9月28日 11:13 | # | 引用                                                                                                                dreamy 说：                                                        之前单一的学习了各个部分的知识，很多东西知道了应该是什么，但为什么是这样，经博主把整个知识脉络串联起来，豁然开朗。                           2014年10月 3日 10:01 | # | 引用                                                                                                                Boatman 说：                                                        引用Kerry的发言：以太网数据包的数据部分，最大长度为1500字节，而现在的IP数据包长度为5000字节。因此，IP数据包必须分割成四个包。因为每个包都有自己的IP标头（20字节），所以四个包的IP数据包的长度分别为1500、1500、1500、560。+++++++++++是不是也要加上ethernet包的head呢？？？应该是1500，1500，1500，640把正要问这个问题呢，不过你的640是怎么算的呢？我的理解是，以太网数据包中除去数据部分，还剩目的地址（6字节），源地址（6字节），类型（2字节）和FCS（4字节），一共6+6+2+4=18字节，分成4个就是4×18=72字节。所以应该分成1500，1500，1500，50+72=122，对吗？                           2014年10月14日 10:23 | # | 引用                                                                                                                cike8899 说：                                                        博主，你的博客为啥美誉目录呢，不好查找我想看的内容！                           2014年11月20日 14:20 | # | 引用                                                                                                                myth 说：                                                        看了两遍,出去具体实现细节,头脑中已经有大致过程了                           2015年1月 3日 13:14 | # | 引用                                                                                                                nian 说：                                                        "以太网数据包的数据部分，最大长度为1500字节，而现在的IP数据包长度为5000字节。因此，IP数据包必须分割成四个包。因为每个包都有自己的IP标头（20字节），所以四个包的IP数据包的长度分别为1500、1500、1500、560"最后一个为什么是560不是500呢？想不通。。                           2015年1月 9日 15:29 | # | 引用                                                                                                                小毛 说：                                                        很有意义，获益很大                           2015年3月 3日 10:39 | # | 引用                                                                                                                wayne 说：                                                        谢谢，受益匪浅！                           2015年3月 6日 13:07 | # | 引用                                                                                                                Ivan 说：                                                        真是好文章，我真的很好奇，是怎么在短时间内，找到一个技术问题的本质与精髓的呢，难道是大量阅读？但是没有效率啊，一定有一些特别行之有效的学习方法，希望阮兄不吝赐教。                           2015年7月21日 19:17 | # | 引用                                                                                                                MG 说：                                                        清晰易懂. 先点个赞.关于DHCP服务器发送offer给client,貌似即可以广播也可以单播. 而且DHCPOFFER的目标IP地址,从我抓的wireshark trace来看, 貌似是新分配的IP地址,而不是文中的255.255.255.255.                            2015年8月15日 14:47 | # | 引用                                                                                                                pestd 说：                                                        阮老师的博文浅显易懂，受益匪浅，非常感谢分享！                           2015年9月11日 15:48 | # | 引用                                                                                                                iMusicDog 说：                                                        写的通俗易懂！以前学过，现在重温一遍挺好的，新的收获是在DHCP过程，以前真的没分析过这个过程，以自动获取一笔带过了。感谢！                           2015年12月19日 23:56 | # | 引用                                                                                                                iMusicDog 说：                                                        引用nian的发言："以太网数据包的数据部分，最大长度为1500字节，而现在的IP数据包长度为5000字节。因此，IP数据包必须分割成四个包。因为每个包都有自己的IP标头（20字节），所以四个包的IP数据包的长度分别为1500、1500、1500、560"最后一个为什么是560不是500呢？想不通。。应该是500                           2015年12月20日 00:31 | # | 引用                                                                                                                嗯，说没说完全，应该是两个数位同为1才得1，否则的0 说：                                                        引用codebook的发言：1：8.3 DHCP协议中“才能确定是不是发过自己的”是不是应该是“发给”2：9.3 子网掩码中“做一个二进制的AND运算（两个数位相同，结果为1，否则为0）”括号中的解释应该是同或运算                           2016年1月15日 17:37 | # | 引用                                                                                                                蒋小家 说：                                                        阮老师, 请问你平时都是如何接触, 学习, 熟悉新的知识的? 能否写一篇关于自我学习方面的文章, 谢谢!                           2016年2月14日 01:36 | # | 引用                                                                                                                雁南飞 说：                                                        经典                           2016年3月11日 15:12 | # | 引用                                                                                                                罹伤 说：                                                        豁然开朗                           2016年3月14日 11:17 | # | 引用                                                                                                                Linin 说：                                                        好文章不会随着时间而流逝                           2016年3月19日 21:49 | # | 引用                                                                                                                昔班 说：                                                        峰哥，请收下我的腿                           2016年6月 1日 22:15 | # | 引用                                                                                                                ArJo 说：                                                        DNS服务端口不是53么？                           2016年8月 8日 13:00 | # | 引用                                                                                                                -random 说：                                                        计算机网络知识一窍不通，还是得慢慢补。。。。                           2016年8月 9日 16:14 | # | 引用                                                                                                                泡面搭档Ted 说：                                                        引用iMusicDog的发言：应该是500是560。5000的IP报文里已经包含1个IP头（20），分4次发，那么还需要3个IP头（60），共需要发5000 + 60 = 5060 = 1500 + 1500 + 1500 + 560另外，以太网帧MTU指的是数据部分，不包括头                           2016年8月28日 22:24 | # | 引用                                                                                                                龙飞凤舞 说：                                                        引用泡面搭档Ted的发言：是560。5000的IP报文里已经包含1个IP头（20），分4次发，那么还需要3个IP头（60），共需要发5000 + 60 = 5060 = 1500 + 1500 + 1500 + 560另外，以太网帧MTU指的是数据部分，不包括头好像确实有点问题。。。1.IP数据包长度为5000字节 。2.由于以太数据区最长为1500字节，然后拆分如下：①20字节IP标头+1480字节的IP数据=1500②20字节IP标头+1480字节的IP数据=1500③20字节IP标头+1480字节的IP数据=1500④20字节IP标头+560字节的IP数据=580不知道这个对吗？@阮一峰 如果回复可以有图片是不是好一点，或者网站上加一个用户注册功能：）                           2016年8月31日 10:36 | # | 引用                                                                                                                hazhade 说：                                                        阮老师一语解疑惑；之前一直弄不明白；百度也各种迷糊；老师的思路清晰明了；                           2016年9月 1日 14:24 | # | 引用                                                                                                                Gzy 说：                                                        引用龙飞凤舞的发言：好像确实有点问题。。。1.IP数据包长度为5000字节 。2.由于以太数据区最长为1500字节，然后拆分如下：①20字节IP标头+1480字节的IP数据=1500②20字节IP标头+1480字节的IP数据=1500③20字节IP标头+1480字节的IP数据=1500④20字节IP标头+560字节的IP数据=580不知道这个对吗？@阮一峰 如果回复可以有图片是不是好一点，或者网站上加一个用户注册功能：）1. IP数据包长度为5000字节  ＝ 20字节IP标头 ＋ 4980字节的IP数据。2. 由于以太数据区最长为1500字节，然后拆分如下：①20字节IP标头+1480字节的IP数据=1500②20字节IP标头+1480字节的IP数据=1500③20字节IP标头+1480字节的IP数据=1500④20字节IP标头+540字节的IP数据=560                           2016年9月 8日 16:21 | # | 引用                                                                                                                铁鸟 说：                                                        阮老师讲的太好了   一晚上让我搞明白许多多年模糊不清的东西    很多知识虽然复杂   但如果真心实意想讲清楚还是有办法的   可惜现实中很多书和资料要么冠冕堂皇  生硬教条  七拼八凑   应付差事  要么讲到关键地方就不讲了  有时候关键的东西就几句话  或者举个例子能说明白   但他们就是不说   喜欢装   故弄玄虚   有意无意都要留一手  这不是少数  是大多数  这也许是人性或体制造成的…  所以阮老师这样的人真是太少了   既有学识又有真心   真的非常感谢和敬佩！！！                           2016年9月11日 00:54 | # | 引用                                                                                                                David 说：                                                        科普好文章。赞你！！                           2016年9月17日 14:31 | # | 引用                                                                                                                七寸 说：                                                        每天读一篇阮老师的文章 受益匪浅                           2016年10月24日 14:17 | # | 引用                                                                                                                前端_菜鸟 说：                                                        我也觉得这个地方说的有点问题，但是我不明白的是：第一次连网，比如我带着笔记本去KFC蹭网，当我连上了KFC的wifi之后，就可以上网了，也就是DHCP会自动给我的笔记本返回一个ip地址，这个过程是不是瞬间完成的呢？还有请问下你是怎么用抓包看到返回的ip的呢？（或许我对连网的这个过程理解有误，还请指正！）                           2016年10月24日 17:01 | # | 引用                                                                                                                前端_菜鸟 说：                                                        引用MG的发言：清晰易懂. 先点个赞.关于DHCP服务器发送offer给client,貌似即可以广播也可以单播. 而且DHCPOFFER的目标IP地址,从我抓的wireshark trace来看, 貌似是新分配的IP地址,而不是文中的255.255.255.255. 我也觉得这个地方说的有点问题，但是我不明白的是：第一次连网，比如我带着笔记本去KFC蹭网，当我连上了KFC的wifi之后，就可以上网了，也就是DHCP会自动给我的笔记本返回一个ip地址，这个过程是不是瞬间完成的呢？还有请问下你是怎么用抓包看到返回的ip的呢？（或许我对连网的这个过程理解有误，还请指正！）                           2016年10月25日 10:25 | # | 引用                                                                                                                东根 说：                                                        阮老师，您好。两篇文章我翻来翻去的看，有一处不明白。如何获得google服务器的网关MAC地址？？                           2016年10月26日 16:57 | # | 引用                                                                                                                ains7 说：                                                        联通移动电信 在互联网中扮演什么角色？为什么要给他们缴费？他们是干啥的！网关吗？不通过这些公司就不能上网吗？                           2016年11月 7日 04:23 | # | 引用                                                                                                                将军 说：                                                        赞赞赞，讲的很好，通俗易懂                           2016年11月12日 09:51 | # | 引用                                                                                                                惯看秋月春风 说：                                                        听君一席话，顿开茅塞。                           2016年11月14日 10:32 | # | 引用                                                                                                                方小文 说：                                                        Amazing! 非常清晰易懂！谢谢阮老师！                           2017年1月10日 03:07 | # | 引用                                                                                                                Sansis 说：                                                        网站的IP地址可以通过DNS获取，那如果一台计算机想和另一台计算机通信（不是网站），怎么知道对方的IP地址呢？                           2017年2月27日 18:10 | # | 引用                                                                                                                Sansis 说：                                                        引用前端_菜鸟的发言：我也觉得这个地方说的有点问题，但是我不明白的是：第一次连网，比如我带着笔记本去KFC蹭网，当我连上了KFC的wifi之后，就可以上网了，也就是DHCP会自动给我的笔记本返回一个ip地址，这个过程是不是瞬间完成的呢？还有请问下你是怎么用抓包看到返回的ip的呢？（或许我对连网的这个过程理解有误，还请指正！）是在网络设置里看么？你把网络关掉，网络设置里v4IP就变空了，再连上有能看到自己的IP了。                           2017年2月27日 18:13 | # | 引用                                                                                                                梁炜东 说：                                                        阮老师，首先非常谢谢你，看了你的这两篇感觉互联网整体通信理解了，非常谢谢你。但是我还有一个问题不理解：就是我们都说TCP协议的链接需要进行三次握手，这个我可以理解，就是tcp规定的嘛，为了保证通信的准确性（我是这么理解的），但是我不明白的是为什么tcp的链接的三次握手必须是客户端发起，原则上客户端和服务端不都是计算机嘛，根据博客讲的都可以发起的，都可以互相通信的，为什么到了这里就是必须是客户端发起通信啊？  这就让我想起来了我们平时说的长链接，如果不必须是客户端发起，要什么长链接啊，服务端也可以主动给客户端发。希望阮老师能够帮我解答一下，谢谢                           2017年3月10日 11:57 | # | 引用                                                                                                                左仁珂 说：                                                        @梁炜东：先有请求，才有客户端和服务端的定位。发送请求方为客户端，接受方为服务端。所以，你说的服务端发送，那么服务端我们就可以称之为客户端                           2017年3月27日 18:49 | # | 引用                                                                                                                Cathy 说：                                                        阮老师说的任何东西都是易懂的，太厉害了！这对非科班出身的小白来说真是福音，谢谢！                           2017年4月20日 14:30 | # | 引用                                                                                                                朱红枫 说：                                                        引用东根的发言：阮老师，您好。两篇文章我翻来翻去的看，有一处不明白。如何获得google服务器的网关MAC地址？？我也纳闷                           2017年4月21日 17:12 | # | 引用                                                                                                                大头 说：                                                        引用朱红枫的发言：我也纳闷ARD协议进行地址转化                           2017年4月26日 13:29 | # | 引用                                                                                                                zzzz76 说：                                                        吐个槽，不知道评论里为什么这么多人说通俗易懂的只看出了大致过程，每个点都是点到即止，自己画个图在每个点都莫名其妙，这篇文章最多只能作为学成后的回顾来读吧，之前没看过网络的我是难以理解，也希望各位小白不要被评论带偏了,文章并没有那么通俗，回去先啃啃书再来吧                           2017年6月10日 20:44 | # | 引用                                                                                                                w3c0929 说：                                                        看到很多人都在想这个问题，我想应该是这样的http数据包(4960)-->TCP数据包(4980)-->IP数据包(开始分割成4个包，每个包占标头20,4980+20*4所以总长5060)-->四个以太网数据包：1500,1500,1500,560                           2017年6月22日 05:26 | # | 引用                                                                                                                黄天天 说：                                                        读完您的这两边文章，真的是豁然开朗。                           2017年7月19日 17:13 | # | 引用                                                                                                                Lp 说：                                                        有一个疑问，当只知道对方网址，需要通过DNS服务器获取对方IP的时候，是需要往DNS服务器发送数据包，那么按照协议，以太网标头中的DNS服务器的MAC地址如何获取？ 如果DNS服务器和当前PC在同一个网络可以根据ARP协议来获取？但若DNS服务器跟当前PC不在同一个子网络中呢，那如何往DNS服务器发送数据包来解析网址,也是要通过网关转发的吗？   小白一个，不知道问题提的是否恰当。                           2017年8月 3日 15:37 | # | 引用                                                                                                                sendtion 说：                                                        @梁炜东：服务端和客户端是相对的，谁发起请求谁就是客户端，服务端也可以发起请求的。现在是我要向服务器请求数据，那么我就是客户端。                           2017年8月11日 16:24 | # | 引用                                                                                                                张治刚 说：                                                        简洁明了 概括到位 受益匪浅 我会一直在这里学习下去的 谢谢阮老师！！                           2017年8月17日 12:47 | # | 引用                                                                                                                Aaron 说：                                                        我只能说，震撼，我找了好久的都没找到这样一气呵成的。大多数文章都是分散的说各个层，没有串联到一起，根本不知所云。给跪，非常有帮助。                           2017年9月 6日 11:14 | # | 引用                                                                                                                三叶 说：                                                        “DHCP服务器读出这个包的数据内容，分配好IP地址，发送回去一个"DHCP响应"数据包。这个响应包的结构也是类似的，以太网标头的MAC地址是双方的网卡地址，IP标头的IP地址是DHCP服务器的IP地址（发出方）和255.255.255.255（接收方）”这里由DHCP响应回去的，接受IP不应该是0.0.0.0么，255.255.255.255是指的它本身？                           2017年9月20日 21:21 | # | 引用                                                                                                                LYT 说：                                                        阮老师：    你好，看过你的tcp协议，和互联网协议（一，二），总算是理通了请求的过程，现在有一个问题需要您来解答，您上边说的，不在同一个子网，不能使用ARP协议来获取对方的MAC地址，需要用到网关，我想问一下，另外一个网关是怎么获取到的，是通过ip获取的还是？希望您能回复。                           2017年12月 1日 17:00 | # | 引用                                                                                                                沉默 说：                                                        引用w3c0929的发言：看到很多人都在想这个问题，我想应该是这样的http数据包(4960)--&gt;TCP数据包(4980)--&gt;IP数据包(开始分割成4个包，每个包占标头20,4980+20*4所以总长5060)--&gt;四个以太网数据包：1500,1500,1500,560TCP数据头应该也要加到分片里面吧,不然后三个分片就没有TCP数据头信息了,我认为应该是4960+(20+20)*4 = 5120吧                           2017年12月16日 11:05 | # | 引用                                                                                                                吴方波 说：                                                        阮老师的互联网协议入门两篇文章对网络协议初学者是一大贡献。本人近80岁，退休后一直学习数字电路，汇编语言，高级语言等。唯独网络协议感到很难理解，原因是以往那些网络协议的文章太专业，感谢阮老师的所做的贡献。                           2018年3月21日 21:23 | # | 引用                                                                                                                饼干 说：                                                        “经过多个网关的转发，Google的服务器172.194.72.105，收到了这四个以太网数据包。”读到这里时，我脑海中想到的是西游记师徒四人终于到达西天的场景。某种意义上来说，取经也算是一次request/response吧                           2018年4月16日 17:15 | # | 引用                                                                                                                疯狂de菜狗 说：                                                        引用吴方波的发言：阮老师的互联网协议入门两篇文章对网络协议初学者是一大贡献。本人近80岁，退休后一直学习数字电路，汇编语言，高级语言等。唯独网络协议感到很难理解，原因是以往那些网络协议的文章太专业，感谢阮老师的所做的贡献。前辈这段话让晚辈更加坚定终生学习这个信念。                           2018年4月27日 17:42 | # | 引用                                                                                                                Hopetree 说：                                                        受益匪浅，特别是关于网关和IP地址的关系，讲的很通俗易懂                           2018年5月 2日 15:47 | # | 引用                                                                                                                墨斗鱼 说：                                                        以太网数据包需要设置双方的MAC地址，发送方为本机的网卡MAC地址，接收方为网关192.168.1.1的MAC地址（通过ARP协议得到）。之前只介绍了同一个子网下如何通过ARP协议得到MAC地址，那不是同一个子网下，如何通过ARP协议得到网关的MAC地址呢？                           2018年10月 9日 17:02 | # | 引用                                                                                                                学习学习 说：                                                        9.7 最后一个数据包应该是580字节吧                           2018年10月19日 21:20 | # | 引用                                                                                                                小鑫 说：                                                        @juqkai：IP header 有长度限制，不可能无限这么append 下去的，而且也不科学。这一步是路由表维护的，你可以看看这个(路由拓扑):https://docs.oracle.com/cd/E19683-01/806-4075/ipplan-1/index.html                           2018年12月13日 15:31 | # | 引用                                                                                                                L 说：                                                        讲的还是太浅了，ip报文头的结构，tcp报文头结构三次握手，四次挥手这些都没讲。。只能说给完全不懂的人科普一下吧另外最后一个例子里，ip头里面是没有数据包序号的要把乱序的数据包按照顺序读取，是tcp协议要做的事情                           2019年1月15日 22:38 | # | 引用                                                                                                                张小吉 说：                                                        “普通用户望而生畏，而且如果一台电脑的IP地址保持不变，其他电脑就不能使用这个地址，不够灵活”应该还有一个更重要的原因，是ipv4数量不够用了                           2019年1月30日 16:40 | # | 引用                                                                                                                Chengyu 说：                                                        非常感谢这两个帖子！通俗易懂！                           2019年3月 4日 04:34 | # | 引用                                                                                                                awner 说：                                                        有两个问题。同个子网内把包广播，每个网卡都能收到这个包，那是如何保证信息的安全？会不会存在子网掩码andip后相同，但事实上并不在同一个子网的情况。                           2019年3月12日 18:23 | # | 引用                                                                                                                小菜鸡 说：                                                        引用沉默的发言：TCP数据头应该也要加到分片里面吧,不然后三个分片就没有TCP数据头信息了,我认为应该是4960+(20+20)*4 = 5120吧是的，我也一直想不明白这个包的算法，我也觉得应该是5120，因为还有端口数据呢（tcp标头）。或者有什么我们不知道的内部处理机制吧，这4个包有关联机制，不然，其他3个没有端口的包怎么发到服务器呢？                           2019年5月 4日 20:58 | # | 引用                                                                                                                张俊凯 说：                                                        @龙飞凤舞：第一个标头的20已经属于5000之内了，需要拆分的数据是3500，接下来的每一个包只能装1480，那就是 1500 + 1480 + 1480 + 540 = 5000                           2019年5月16日 15:50 | # | 引用                                                                                                                Welch 说：                                                        9.7 以太网协议最后一句话“四个包的IP数据包的长度分别为1500、1500、1500、560”，我觉得四个包的长度应该分别为1500、1500、1500、580.                           2019年6月30日 22:19 | # | 引用                                                                                                                Siegfried 说：                                                        讲的非常好！很难想象，这么复杂的流程，会在毫秒级别，完成一次http通信，真的太神奇了。                           2019年9月24日 15:25 | # | 引用                                                                                                                Wang Pengfei 说：                                                        引用codebook的发言：9.3 子网掩码中“做一个二进制的AND运算（两个数位相同，结果为1，否则为0）”括号中的解释应该是同或运算进行的是AND运算，因为子网掩码的确定网络部分的位值都为1，所以才说相同为1，否则为0.                           2019年11月 7日 09:09 | # | 引用                                                                                                                Liu 说：                                                        复习（预习）计网想先理清整体结构层次，就想找一个例子，刚好看到这篇！真的好                           2020年1月 7日 00:47 | # | 引用                                                                                                                WHUTlyd 说：                                                        自己以前没怎么系统学习过网络方面的知识 正准备看书学习下 发现了阮老师的两篇文章 用心读了下写的真好！ 算是入个门，加油。                           2020年5月14日 10:34 | # | 引用                                                                                                                zy 说：                                                        写得太好了，看这么一个教程等于看了好几遍大部头                           2020年6月21日 22:23 | # | 引用                                                                                                                无需有太多 说：                                                        google给响应的时候是怎么找到我们的电脑的呢？是请求时就建立好连接了吗？                           2021年6月22日 11:23 | # | 引用                                                                                                                myhlcb 说：                                                        阮老师写的很明了，另外这部分要结合上一篇一起来看，我的理解是这样的还是那个本机与google通信的例子，知道本机的mac地址和google的ip地址那么* 本机-->本机的网关-->google的网关* 从google网关里面根据ARP协议找到172.194.72.105对应的mac地址之后就实现了通信                           2021年10月19日 15:57 | # | 引用                                                                                                                leoperfect 说：                                                        接下来，DHCP服务器读出这个包的数据内容，分配好IP地址，发送回去一个"DHCP响应"数据包。这个响应包的结构也是类似的，以太网标头的MAC地址是双方的网卡地址，IP标头的IP地址是DHCP服务器的IP地址（发出方）和255.255.255.255（接收方）------接收方IP地址 255.255.255.255 应该是真实的IP地址。因为IP地址已经给分配好了                           2022年1月13日 17:21 | # | 引用                                                                                                                Fengyu 说：                                                        这才是学问，循序渐进。上课上来七层模型 怎么来的一概不说 搞得似懂非懂的。现在的某些大学教育是大问题                           2022年3月19日 10:25 | # | 引用                                                                                                                周叹 说：                                                        太受用啦感谢大神                           2022年8月18日 15:52 | # | 引用                                                                                                                周星星 说：                                                        引用三叶的发言：“DHCP服务器读出这个包的数据内容，分配好IP地址，发送回去一个"DHCP响应"数据包。这个响应包的结构也是类似的，以太网标头的MAC地址是双方的网卡地址，IP标头的IP地址是DHCP服务器的IP地址（发出方）和255.255.255.255（接收方）”这里由DHCP响应回去的，接受IP不应该是0.0.0.0么，255.255.255.255是指的它本身？我也发现这个问题了！ 而且0000是接收方，后一句“分配给请求段的ip地址和本网络的具体参数则包含在Data部分”这个0000和分配的ip是两回事吧？                           2024年10月31日 16:08 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e97a10aa8cf45',t:'MTc0MzI0MzE4Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2012/06/internet_protocol_suite_part_ii.html
SASS用法指南 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    SASS用法指南 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：互联网协议入门（二）&nbsp;下一篇：卡耐基人际关系指南&nbsp;&nbsp;                                                                                分类：                                                                                    开发者手册                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              SASS用法指南                                                                                    作者： 阮一峰                                    日期： 2012年6月19日                                                                                                                                            学过CSS的人都知道，它不是一种编程语言。                                                                                                                你可以用它开发网页样式，但是没法用它编程。也就是说，CSS基本上是设计师的工具，不是程序员的工具。在程序员眼里，CSS是一件很麻烦的东西。它没有变量，也没有条件语句，只是一行行单纯的描述，写起来相当费事。很自然地，有人就开始为CSS加入编程元素，这被叫做"CSS预处理器"（css preprocessor）。它的基本思想是，用一种专门的编程语言，进行网页样式设计，然后再编译成正常的CSS文件。各种"CSS预处理器"之中，我自己最喜欢SASS，觉得它有很多优点，打算以后都用它来写CSS。下面是我整理的用法总结，供自己开发时参考，相信对其他人也有用。============================================SASS用法指南作者：阮一峰一、什么是SASSSASS是一种CSS的开发工具，提供了许多便利的写法，大大节省了设计者的时间，使得CSS的开发，变得简单和可维护。本文总结了SASS的主要用法。我的目标是，有了这篇文章，日常的一般使用就不需要去看官方文档了。二、安装和使用2.1 安装SASS是Ruby语言写的，但是两者的语法没有关系。不懂Ruby，照样使用。只是必须先安装Ruby，然后再安装SASS。假定你已经安装好了Ruby，接着在命令行输入下面的命令：　　gem install sass然后，就可以使用了。2.2 使用SASS文件就是普通的文本文件，里面可以直接使用CSS语法。文件后缀名是.scss，意思为Sassy CSS。下面的命令，可以在屏幕上显示.scss文件转化的css代码。（假设文件名为test。）　　sass test.scss如果要将显示结果保存成文件，后面再跟一个.css文件名。　　sass test.scss test.cssSASS提供四个编译风格的选项：　　* nested：嵌套缩进的css代码，它是默认值。　　* expanded：没有缩进的、扩展的css代码。　　* compact：简洁格式的css代码。　　* compressed：压缩后的css代码。生产环境当中，一般使用最后一个选项。　　sass --style compressed test.sass test.css你也可以让SASS监听某个文件或目录，一旦源文件有变动，就自动生成编译后的版本。　　// watch a file　　sass --watch input.scss:output.css　　// watch a directory　　sass --watch app/sass:public/stylesheetsSASS的官方网站，提供了一个在线转换器。你可以在那里，试运行下面的各种例子。三、基本用法3.1 变量SASS允许使用变量，所有变量以$开头。　　$blue : #1875e7;　　　div {　　　color : $blue;　　}如果变量需要镶嵌在字符串之中，就必须需要写在#{}之中。　　$side : left;　　.rounded {　　　　border-#{$side}-radius: 5px;　　}3.2 计算功能SASS允许在代码中使用算式：　　body {　　　　margin: (14px/2);　　　　top: 50px + 100px;　　　　right: $var  * 10%;　　}3.3 嵌套SASS允许选择器嵌套。比如，下面的CSS代码：　　div h1 {　　　　color : red;　　}可以写成：　　div {　　　　hi {　　　　　　color:red;　　　　}　　}属性也可以嵌套，比如border-color属性，可以写成：　　p {　　　　border: {　　　　　　color: red;　　　　}　　}注意，border后面必须加上冒号。在嵌套的代码块内，可以使用&引用父元素。比如a:hover伪类，可以写成：　　a {　　　　&:hover { color: #ffb3ff; }  　　}3.4 注释SASS共有两种注释风格。标准的CSS注释 /* comment */ ，会保留到编译后的文件。单行注释 // comment，只保留在SASS源文件中，编译后被省略。在/*后面加一个感叹号，表示这是"重要注释"。即使是压缩模式编译，也会保留这行注释，通常可以用于声明版权信息。　　/*! 　　　　重要注释！　　*/四、代码的重用4.1 继承SASS允许一个选择器，继承另一个选择器。比如，现有class1：　　.class1 {　　　　border: 1px solid #ddd;　　}class2要继承class1，就要使用@extend命令：　　.class2 {　　　　@extend .class1;　　　　font-size:120%;　　}4.2 MixinMixin有点像C语言的宏（macro），是可以重用的代码块。使用@mixin命令，定义一个代码块。　　@mixin left {　　　　float: left;　　　　margin-left: 10px;　　}使用@include命令，调用这个mixin。　　div {　　　　@include left;　　}mixin的强大之处，在于可以指定参数和缺省值。　　@mixin left($value: 10px) {　　　　float: left;　　　　margin-right: $value;　　}使用的时候，根据需要加入参数：　　div {　　　　@include left(20px);　　}下面是一个mixin的实例，用来生成浏览器前缀。　　@mixin rounded($vert, $horz, $radius: 10px) {　　　　border-#{$vert}-#{$horz}-radius: $radius;　　　　-moz-border-radius-#{$vert}#{$horz}: $radius;　　　　-webkit-border-#{$vert}-#{$horz}-radius: $radius;　　}使用的时候，可以像下面这样调用：　　#navbar li { @include rounded(top, left); }　　#footer { @include rounded(top, left, 5px); }4.3 颜色函数SASS提供了一些内置的颜色函数，以便生成系列颜色。　　lighten(#cc3, 10%)  // #d6d65c　　darken(#cc3, 10%)  //  #a3a329　　grayscale(#cc3) // #808080　　complement(#cc3) // #33c4.4 插入文件@import命令，用来插入外部文件。　　@import "path/filename.scss";如果插入的是.css文件，则等同于css的import命令。　　@import "foo.css";五、高级用法5.1 条件语句@if可以用来判断：　　p {　　　　@if 1 + 1 == 2 { border: 1px solid; }　　　　@if 5 　　}配套的还有@else命令：　　@if lightness($color) > 30% {　　　　background-color: #000;　　} @else {　　　　background-color: #fff;　　}5.2 循环语句SASS支持for循环：　　@for $i from 1 to 10 {　　　　.border-#{$i} {　　　　　　border: #{$i}px solid blue;　　　　}　　}也支持while循环：　　$i: 6;　　@while $i > 0 {　　　　.item-#{$i} { width: 2em * $i; }　　　　$i: $i - 2;　　}each命令，作用与for类似：　　@each $member in a, b, c, d {　　　　.#{$member} {　　　　　　background-image: url("/image/#{$member}.jpg");　　　　}　　}5.3 自定义函数SASS允许用户编写自己的函数。　　@function double($n) {　　　　@return $n * 2;　　}　　#sidebar {　　　　width: double(5px);　　}（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2012年6月19日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.03.03: Trae 国内版出来了，真的好用吗？                                                         年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。                            2025.01.16: AI 搞定微信小程序                                                         一、前言AI 生成代码，早不是新鲜事了，但是 AI 生成微信小程序，似乎还不多见。                            2024.12.02: AI 应用无代码开发教程：工作流模式详解                                                         一、引言一个月前，我写了一篇《AI 开发的捷径：工作流模式》，引起了很多读者的兴趣。                            2024.10.31: AI 开发的捷径：工作流模式                                                         一、引言大部分人使用 AI，大概都跟我一样，停留在初级阶段。                            广告（购买广告位）云手机                                                              留言（136条）                                                                                                    kk 说：                                                        不懂ruby 和less比如何                           2012年6月19日 15:54 | # | 引用                                                                                                                依树 说：                                                        sass 和 less 都很好但有没有什么好的编辑器配合啊？好像用dreamweaver 来写的话，代码提示功能就没了，稍有不便。以致我还一直没怎么尝试过这种方式                           2012年6月19日 18:39 | # | 引用                                                                                                                Yong 说：                                                        强大的东西果然都很复杂...                           2012年6月19日 19:31 | # | 引用                                                                                                                爱早起 说：                                                        我也想学CSS+DIV，一直懒惰！！！                           2012年6月19日 20:52 | # | 引用                                                                                                                Zz 说：                                                        我看twitter的bootstrap的时候有个less也是和这个差不多的，这些没准也会成为前端工程师的必备知识了，看来要抓紧时间学习一下。                           2012年6月19日 20:58 | # | 引用                                                                                                                大春饵 说：                                                        你好啊，我一直在使用less，我觉得您上面写的sass的功能less几乎全有，那么为什么您最后选择了sass呢？                           2012年6月19日 21:46 | # | 引用                                                                                                                Lewis 说：                                                        我觉的好的页面制作，他们面对的和要解决的问题都不是 sass 这种工具可以解决的，所以它的应用范围有限，有点程序员的一厢情愿，却不能满足实际快速开发和维护页面制作的需求，一句话，“它解决的问题不在点儿上”。                           2012年6月19日 21:46 | # | 引用                                                                                                                RedNax 说：                                                        LESS还是差了不少的，没有@extend，没有属性嵌套，没有@if和@for，我用下来还有不少bug（比如从javascript拿到的数据无法参与计算什么的）。唯一的特点就是可以在网页上运行时解析，这感觉相当酷（但要说有啥好处其实也没多少）。不过用这种实现CSS比直接写CSS畅快多了，尤其是单页面应用型网页。                           2012年6月20日 00:35 | # | 引用                                                                                                                雪哥 说：                                                        不太看好SASS,有点鸡肋的感觉。                           2012年6月20日 01:03 | # | 引用                                                                                                                charry 说：                                                        谢谢以前好还没注意,有这样好的工具！                           2012年6月20日 10:42 | # | 引用                                                                                                                ep 说：                                                        gem install sass命令行提示HTTP RESPONSE 302错误，网上查找资料提示更新gem，经尝试无效，何解？win7 x86                           2012年6月20日 12:26 | # | 引用                                                                                                                bingo 说：                                                        博主，您的网友捐助试验到现在已经一年了，可以公布数据让大家了解一下状况吗？                           2012年6月20日 13:52 | # | 引用                                                                                                                yuhai 说：                                                        SASS适合程序员，设计师可能更习惯于CSS                           2012年6月20日 14:58 | # | 引用                                                                                                                阮一峰 说：                                                        引用bingo的发言：博主，您的网友捐助试验到现在已经一年了，可以公布数据让大家了解一下状况吗？不好意思，请再等一下。有报纸买走了这篇文章，我要等到他们发表以后，才能贴上来，大概在6月底吧。                           2012年6月20日 15:00 | # | 引用                                                                                                                阮一峰 说：                                                        引用大春饵的发言：你好啊，我一直在使用less，我觉得您上面写的sass的功能less几乎全有，那么为什么您最后选择了sass呢？Less要靠javascript解析，我不喜欢这种做法。另外，less的变量用@表示，我也不太习惯。                           2012年6月20日 15:02 | # | 引用                                                                                                                articlesea 说：                                                        一直用960 Grid System这种框架。楼主怎么用ruby下的呢，有没有VS或QT下的推荐？                           2012年6月20日 15:12 | # | 引用                                                                                                                Maplews 说：                                                        挺累人的.. 我觉着用ruby还不如用javascript                           2012年6月20日 18:28 | # | 引用                                                                                                                herbert d 说：                                                        没学过CSS的路过。                           2012年6月21日 09:17 | # | 引用                                                                                                                easoncxz 说：                                                        不错。前阵子看貌似还是要收费的；今天一看竟然上github了。可以开始用了。                           2012年6月21日 14:45 | # | 引用                                                                                                                三桂 说：                                                        引用大春饵的发言：你好啊，我一直在使用less，我觉得您上面写的sass的功能less几乎全有，那么为什么您最后选择了sass呢？sass比less更强大点,特别是对于颜色这块的处理function非常强大,而且还可以自定义function(ruby),另外就是sass的黄金搭档http://compass-style.org/,让sass变得更加完美,就如ruby之于rails...另外可以看看这篇文章,介绍sass,less,node.js,coffeescript开发工具WebMatrix：http://www.cnblogs.com/aNd1coder/archive/2012/06/17/2552037.html                           2012年6月22日 00:17 | # | 引用                                                                                                                三桂 说：                                                        引用阮一峰的发言：Less要靠javascript解析，我不喜欢这种做法。另外，less的变量用@表示，我也不太习惯。less同样也有ruby的gem,可以在本地进行preprocessor...                           2012年6月22日 00:21 | # | 引用                                                                                                                red 说：                                                        引用依树的发言：sass 和 less 都很好但有没有什么好的编辑器配合啊？好像用dreamweaver 来写的话，代码提示功能就没了，稍有不便。以致我还一直没怎么尝试过这种方式不要保存为.less文件，直接保存成.css，这样提示功能还是有的。像这样：&lt;link rel="stylesheet/less" type="text/css" href="less.css"&gt;                           2012年6月22日 18:45 | # | 引用                                                                                                                shenfeng 说：                                                        引用依树的发言：sass 和 less 都很好但有没有什么好的编辑器配合啊？好像用dreamweaver 来写的话，代码提示功能就没了，稍有不便。以致我还一直没怎么尝试过这种方式Emacs倒是可以胜任。我试着用了一段时间，还愉快                           2012年6月27日 07:56 | # | 引用                                                                                                                linus 脱袜子 说：                                                        ERROR:  Could not find a valid gem 'sass' (>= 0) in any repositoryERROR:  While executing gem ... (Gem::RemoteFetcher::FetchError)    Errno::ETIMEDOUT: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failedbecause connected host has failed to respond. - connect(2) (http://rubygems.org/latest_specs.4.8.gz)why?                           2012年6月27日 23:08 | # | 引用                                                                                                                XX 说：                                                        这类工具毫无意义。能节省时间能更方便快捷？没有！                           2012年6月29日 02:33 | # | 引用                                                                                                                zk546113096 说：                                                        貌似我还停留在纯的css上，这种还没试过，不过对于我懂点后台语言的来说，还好理解，如果那种只会html,css的是不很难理解这些了？                           2012年6月29日 16:23 | # | 引用                                                                                                                kitty 说：                                                        sass貌似把css变复杂了，支持您的博客，                           2012年7月31日 17:48 | # | 引用                                                                                                                学徒 说：                                                        请教阮一峰老师：您是用什么编辑器来编辑SASS的。我用的是Sublime，安装了SASS的package，可是还是不行。谢谢！                           2012年8月 3日 14:01 | # | 引用                                                                                                                小谈博客 说：                                                        用了几年div+Css，竟然都没听说过还有这个神奇的工具，看来要好好了解了解！！                           2012年9月23日 23:32 | # | 引用                                                                                                                hit9 说：                                                        好复杂..我其实只是想扒下octopress 的高亮代码的css而已..                           2012年10月16日 18:04 | # | 引用                                                                                                                WebExpressor 说：                                                        引用依树的发言：sass 和 less 都很好但有没有什么好的编辑器配合啊？好像用dreamweaver 来写的话，代码提示功能就没了，稍有不便。以致我还一直没怎么尝试过这种方式用sublime text编辑器，可以安装sass开发包，就可以用提示功能了，我现在就用这个开发，很方便的                           2012年11月29日 20:28 | # | 引用                                                                                                                4gouzi 说：                                                        博主的代码中的缩进的空格都被转换成中文的空格了，所以直接复制过去在sass下会报错。                           2012年12月10日 14:09 | # | 引用                                                                                                                惠库 说：                                                        很感谢你呀, 正在考虑使用LESS, 还是SASS, 只是不想装RUBY...呵呵                           2012年12月25日 13:00 | # | 引用                                                                                                                linus脱袜子 说：                                                        全部试了一遍，发现@import和自带的颜色函数这两处有问题。按照博主的说法使用sass不能编译成功。@import “path/xxx” //xxx 可以是xxx.scss 或者xxx.sass这里用的是双引号而不是圆括号而且 xxx文件的文件名必须为 _xxx.scss 或者 _xxx.sass SASS官方文档说这叫 partial @importStylesheets can get pretty big. CSS has an @import directive that allows you to break your styles up into multiple stylesheets, but each stylesheet takes a separate (slow) HTTP request. That’s why Sass’s @import directive pulls in the stylesheets directly. Not only that, but any variables or mixins defined in @imported files are available to the files that import them.Sass has a naming convention for files that are meant to be imported (called “partials”): they begin with an underscore. Let’s create a partial called _rounded.scss to hold our rounded mixin.In order to support both .scss and .sass files, Sass allows files to be imported without specifying a file extension. That means we can just import "rounded", rather than "rounded.scss".嗯，关于颜色函数，是在sass的交互shell下使用在命令行下先敲入 sass -i这时会有 >> 提示在敲入 lighten(#cc3, 10%) 会得出 #d6d65c                           2012年12月26日 22:38 | # | 引用                                                                                                                阮一峰 说：                                                        @linus脱袜子：谢谢指出。import后面不能跟圆括号，已经改过来了。但是，文件名好像不用以下划线开头，下面的代码可以编译通过。  @import "./test.scss"另外，颜色函数没有问题啊，我可以正常使用。  background-color:lighten(#cc3, 10%);                           2012年12月27日 01:38 | # | 引用                                                                                                                苹果熊 说：                                                        感觉有点鸡肋，现在css很熟悉了，用记事本也能写出一个网页~                           2012年12月31日 16:09 | # | 引用                                                                                                                wangtuda 说：                                                        sass本身很好，看用的人用在何处，怎么用了~                           2013年1月22日 10:27 | # | 引用                                                                                                                pigyaa 说：                                                        正在试用Sass,还不敢妄下评论。第一感觉就是把简单的CSS变复杂了                           2013年1月31日 11:17 | # | 引用                                                                                                                轻扬 说：                                                        还是喜欢手写css的说。。。。。                           2013年2月 3日 01:32 | # | 引用                                                                                                                lorrylockie 说：                                                        引用依树的发言：sass 和 less 都很好但有没有什么好的编辑器配合啊？webstorm                           2013年2月19日 13:19 | # | 引用                                                                                                                wencheng 说：                                                        3.3 嵌套最后在嵌套的代码块内，可以使用$引用父元素。比如a:hover伪类，可以写成：应该是 & 代码中的正确                           2013年2月25日 17:42 | # | 引用                                                                                                                gigi 说：                                                        你好，很感谢您的介绍，只是使用后遇到问题，.scss的文件里面有中文注释的时候它会提示Syntax error: Invalid GBK character "\xE5"这样的错误，在网上搜索了一下还是没能解决，您知道有啥解决办法吗？                           2013年3月21日 13:46 | # | 引用                                                                                                                小天 说：                                                        引用阮一峰的发言：Less要靠javascript解析，我不喜欢这种做法。另外，less的变量用@表示，我也不太习惯。其实less是可以node.js来编译生成css,再放到服务器那边呢。还有，如果 会用gvim的话，那有个脚本，可以实现语法高亮，保存时自动生成css。原来直接写css的好处全有了。还有less人性化的书写方式。less也有工具，可以将再有css代码转换为less（http://css2less.cc）。我想，如果是设计师的话，更喜欢用less.                           2013年4月 6日 01:32 | # | 引用                                                                                                                hit9 说：                                                        只是个预处理器嘛。看了下语法，感觉less, scss都不如sass简洁。看来是python写惯了，喜欢缩进了。。                           2013年4月 8日 16:53 | # | 引用                                                                                                                QETHAN 说：                                                         less的语法更轻便，喜欢less. Sass的语法太编程化了，虽然没压力，但是不给力。没有解放思维                           2013年4月28日 15:46 | # | 引用                                                                                                                小徐 说：                                                        不以下划线开头的文件也不会被编译啊这是为什么呢？我建立了3个文件colors.scss _widths.scss和test.scss在test.scss中@import 前两个文件然后命令行编译test.scss时 sass test.scss test.css不会产生 color.css这是为什么呢？请教                           2013年4月30日 14:06 | # | 引用                                                                                                                chengyu.tao 说：                                                        引用小徐的发言：不以下划线开头的文件也不会被编译啊这是为什么呢？我建立了3个文件colors.scss _widths.scss和test.scss在test.scss中@import 前两个文件然后命令行编译test.scss时 sass test.scss test.css不会产生 color.css这是为什么呢？请教是不是你编译命令写错了 color那个scss文件是不是没修改过 默认编译是只编译修改的文件                           2013年6月10日 15:54 | # | 引用                                                                                                                shawn 说：                                                        引用gigi的发言：你好，很感谢您的介绍，只是使用后遇到问题，.scss的文件里面有中文注释的时候它会提示Syntax error: Invalid GBK character "\xE5"这样的错误，在网上搜索了一下还是没能解决，您知道有啥解决办法吗？同问                           2013年7月11日 18:04 | # | 引用                                                                                                                eastnx 说：                                                        引用shawn的发言：同问在文件的开头声明编码 @charset "utf-8";                           2013年7月21日 12:44 | # | 引用                                                                                                                Havanna 说：                                                        其实可以用compass工具的，而不必要一长串的命令http://ihavanna.org/internet/2013-08/convert-scss-to-css.html                           2013年8月12日 15:45 | # | 引用                                                                                                                peter.zheng 说：                                                        引用shawn的发言：同问@charset "utf-8";在有中文顶部的地方都声明一下。注意要放在第一行。                           2013年8月23日 13:41 | # | 引用                                                                                                                nan 说：                                                        刚开始看 LESS 和 SASS 感觉是 LESS 语法更简单一些但运算功能好像弱一些，打算暂时先用 LESS 逐渐熟悉后再试试 SASS 吧……                           2013年8月28日 19:10 | # | 引用                                                                                                                nan 说：                                                        工具我在用 LiveReload 和 CodeKit 其实都挺方便，不需要 js 去做 LESS 编译的。                           2013年8月28日 19:11 | # | 引用                                                                                                                Ju2ender 说：                                                        3.3 嵌套，第四个 code block 上的说明，应是：“在嵌套的代码块内，可以使用 & 引用父元素。比如a:hover伪类，可以写成：”原文将 & 写成了 $                           2013年9月 2日 19:24 | # | 引用                                                                                                                singlexyz 说：                                                        3.3的一个是h1,一个是hi                           2013年10月19日 18:37 | # | 引用                                                                                                                诸葛小觉 说：                                                        引用依树的发言：sass 和 less 都很好但有没有什么好的编辑器配合啊？好像用dreamweaver 来写的话，代码提示功能就没了，稍有不便。以致我还一直没怎么尝试过这种方式用sublimetext吧~                           2013年11月 1日 17:16 | # | 引用                                                                                                                hooboy 说：                                                        引用gigi的发言：你好，很感谢您的介绍，只是使用后遇到问题，.scss的文件里面有中文注释的时候它会提示Syntax error: Invalid GBK character "\xE5"这样的错误，在网上搜索了一下还是没能解决，您知道有啥解决办法吗？在linux或者Mac下就不会有问题  比如用codekit和grunt就不会有问题                           2013年11月30日 12:03 | # | 引用                                                                                                                hooboy 说：                                                        引用hooboy的发言：在linux或者Mac下就不会有问题比如用codekit和grunt就不会有问题或者给每个sass文件加上@charset "utf-8"; 只是在Mac或者Linux上写代码会比较酷~！                           2013年11月30日 12:18 | # | 引用                                                                                                                materliu 说：                                                        引用gigi的发言：你好，很感谢您的介绍，只是使用后遇到问题，.scss的文件里面有中文注释的时候它会提示Syntax error: Invalid GBK character "\xE5"这样的错误，在网上搜索了一下还是没能解决，您知道有啥解决办法吗？官方是这样说的：Compass doesn't expose all of its options through the CLI, which this task makes use of. If you need an option not mentioned below you can either specify a path to a config.rb file in the config option or embed it directly into the raw option. Options defined in your Gruntfile will override those specified in your config.rb or raw property. config and raw are mutually exclusive.所以这个问题很好解决。compass: {            options: {                config: './config.rb',            }}在config.rb compass的配置文件中加一句：# set the css file encodingEncoding.default_external = "utf-8"即可                           2013年12月17日 16:29 | # | 引用                                                                                                                可可 说：                                                        　sass --watch app/sass:public/stylesheets 这句我怎么写怎么把错，您能给我解释下这个路径                           2014年1月 6日 11:44 | # | 引用                                                                                                                可可 说：                                                        大家可以装一个idea编辑器很强大的代码编辑工具                           2014年1月 6日 18:00 | # | 引用                                                                                                                行者 说：                                                        照着练习了，感谢。                           2014年3月 4日 15:25 | # | 引用                                                                                                                roc 说：                                                        div {　　　　hi {　　　　　　color:red;　　　　}　　}此处代码有误应为div {　　　　h1 {　　　　　　color:red;　　　　}　　}                           2014年5月 4日 09:50 | # | 引用                                                                                                                六度 说：                                                        弱弱的问一下，在页面里引用的还是.css文件吧，那在浏览器里调试的话怎么找到SASS文件                           2014年5月 8日 10:54 | # | 引用                                                                                                                Justin 说：                                                        很明显 SASS 比 LESS 更强大，SASS 拥有条件语句，循环语句还可以自定义函数                           2014年6月10日 14:19 | # | 引用                                                                                                                Jerry 说：                                                        这SASS看起来，还是非常CSS化呀，呵呵。                           2014年6月11日 12:30 | # | 引用                                                                                                                mamaloveu 说：                                                        请问楼主：我本地安装好了， 然后在cmd 下面 运行了，确实可以转化成正常的css。 但是scss怎么在实际项目中使用呢？难道是自己把scss写好，然后运行好的css再放到网站上去？还是在网站打开执行过程中生成呢？谢谢！                           2014年6月26日 15:55 | # | 引用                                                                                                                Nightost 说：                                                        峰哥：建议开头加上这一段sass 有两种语法sass有两种后缀名文件：一种后缀名为sass，不使用大括号和分号；另一种就是我们这里使用的scss文件，这种和我们平时写的css文件格式差不多，使用大括号和分号。​在此也建议使用后缀名为scss的文件，以避免sass后缀名的严格格式要求报错。因为百度搜索sass，第一个出现就是这篇。我开始不知道，所以命名为sass，编译半天也不对。（其实有两种语法）                           2014年7月 3日 10:49 | # | 引用                                                                                                                栩栩 说：                                                        引用轻扬的发言：还是喜欢手写css的说。。。。。对于以设计为主，辅做前端的设计师来说，会css已经很不错了，sass这种编程类的让我等实在两难，还是手写css算了........                           2014年7月21日 09:53 | # | 引用                                                                                                                不经意间 说：                                                        3.3嵌套：引用父元素用&，写成了$                           2014年8月20日 14:43 | # | 引用                                                                                                                少女的奇幻漂流 说：                                                        是我读书读的少，还是这里真的又需要更正的地方？没有border-#{$side}-radius 这种属性啊                           2014年12月15日 23:37 | # | 引用                                                                                                                wenjie 说：                                                        引用linus 脱袜子的发言：ERROR:Could not find a valid gem 'sass' (&gt;= 0) in any repositoryERROR:While executing gem ... (Gem::RemoteFetcher::FetchError)Errno::ETIMEDOUT: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failedbecause connected host has failed to respond. - connect(2) (http://rubygems.org/latest_specs.4.8.gz)why?________________________今天我才学到3年前的技术，真是惭愧，我也遇到这个问题：是因为SASS 需要Ruby当你尝试着安装这些软件的时候，会出现许多你意想不到的错误，不要担心这个。安装任何的软件都不是那么顺心如意，比如经常会得到如下的错误信息：Could not find a valid gem ‘sass’ (>= 0) in any repository.Could not find a valid gem ‘compass (>= 0) in any repository.或者你出现的错误信息与这些都不相同，但不管怎样，当你遇到这些问题时，你的第一反应就是“google”或者“百度”，并且有着尝试修复一下。很糟糕的事又来了，你对那些命令行一无所知，并且又没有现成的教程供你使用，“百度”、“google”又也查找不了有用的信息提供参考。解决方案有两个：切换到另一条网络连接，再尝试重新安装一次如果安装还是不能通过，仍得到相同的错误结果，那么请你移步到《手动安装SASS和Compass样式框架》页面，这里有些好的建议，可能会解决你的问题。教你如何快速安装SASS和Compass样式框架http://www.ft-love.com/install-sass-compass-step.html《手动安装SASS和Compass样式框架》 http://www.ft-love.com/sass-compass-install-using.html                           2015年1月 9日 14:56 | # | 引用                                                                                                                FoamValue 说：                                                        以前就想学了，mark。                           2015年3月 2日 09:17 | # | 引用                                                                                                                jujube 说：                                                        请教一下： font-family: 微软雅黑; 这样的中文格式好像不支持，是吗？                           2015年3月11日 11:12 | # | 引用                                                                                                                苏亮 说：                                                        3.3里面的h1写成了hi                           2015年4月28日 14:29 | # | 引用                                                                                                                xixi 说：                                                        引用XX的发言：这类工具毫无意义。能节省时间能更方便快捷？没有！too young too simple                            2015年5月20日 21:09 | # | 引用                                                                                                                Jam 说：                                                        引用XX的发言：这类工具毫无意义。能节省时间能更方便快捷？没有！你如果现在回头来看这个评论，会发现那时的自己有多么无知。                           2015年6月12日 10:18 | # | 引用                                                                                                                白季飛龍 说：                                                        好文要頂                           2015年6月22日 13:34 | # | 引用                                                                                                                ziv 说：                                                        写的很好，学习了！3.3节中，“可以使用$引用父元素”有误，是使用&                            2015年7月16日 13:44 | # | 引用                                                                                                                Bill 说：                                                        引用ziv的发言：写的很好，学习了！3.3节中，“可以使用$引用父元素”有误，是使用&amp; 正解。                           2015年7月24日 16:47 | # | 引用                                                                                                                强哥 说：                                                        Visual Studio 2013 + Web Essentials 2013 非常棒！支持LESS、SASS/SCSS，代码智能提示和css规则的浏览器支持提示，保存即编译，生成对应的*.css、*.css.map和*.min.css并支持文件折叠。|->*.scss|-->*.css|--->*.css.map|--->*.min.css                           2015年8月 1日 18:12 | # | 引用                                                                                                                李毅平 说：                                                        @materliu：出现GBK这种问题只要在scss文件上加@charset "utf-8"; 就可以了                           2015年8月21日 16:58 | # | 引用                                                                                                                ypzhou 说：                                                        好文  最近在学这个                           2015年8月31日 15:31 | # | 引用                                                                                                                find_object 说：                                                        引用强哥的发言：Visual Studio 2013 + Web Essentials 2013 非常棒！支持LESS、SASS/SCSS，代码智能提示和css规则的浏览器支持提示，保存即编译，生成对应的*.css、*.css.map和*.min.css并支持文件折叠。|-&gt;*.scss|--&gt;*.css|---&gt;*.css.map|---&gt;*.min.css应该是  Visual Studio + Web Workbench                           2015年9月22日 17:30 | # | 引用                                                                                                                phc 说：                                                        您好，请教一下，怎么让sass文件在sublime里面保存即编译，已经安装了sass文件，sublime里面安装了两个插件，还需要怎么配置，还是说sublime不支持保存即编译呢？                           2015年9月24日 14:54 | # | 引用                                                                                                                louis 说：                                                        引用phc的发言：您好，请教一下，怎么让sass文件在sublime里面保存即编译，已经安装了sass文件，sublime里面安装了两个插件，还需要怎么配置，还是说sublime不支持保存即编译呢？Command+B                           2015年10月23日 19:54 | # | 引用                                                                                                                余如意 说：                                                        我想请问下，关于sass的百度百科上的文章和您的相同，是您的文章还是百度抄袭，您授权了？                           2015年10月25日 13:46 | # | 引用                                                                                                                呆瓜 说：                                                        阮兄  3.3嵌套里面　div {　　　　h1 {　　　　　　color:red;　　　　}　　}手误了。。。                           2015年11月18日 12:32 | # | 引用                                                                                                                xx 说：                                                        这个是scss的示例吧？                           2015年12月29日 23:46 | # | 引用                                                                                                                flywx 说：                                                        阮老师你好！请问在手机上怎么做到手指触摸屏幕时显示滚动条，手指移走后隐藏？                           2016年1月 4日 16:05 | # | 引用                                                                                                                gray 说：                                                        引用依树的发言：sass 和 less 都很好但有没有什么好的编辑器配合啊？sublime配合插件可以的。                           2016年1月12日 00:01 | # | 引用                                                                                                                mcfly 说：                                                        引用jujube的发言：请教一下： font-family: 微软雅黑; 这样的中文格式好像不支持，是吗？这个要看你电脑端字库有没有安装微软雅黑这种字体了吧                           2016年1月15日 19:35 | # | 引用                                                                                                                &nbsp; 说：                                                        1、这个？？-moz-border-radius-#{$vert}#{$horz}: $radius;                           2016年1月28日 14:57 | # | 引用                                                                                                                刀尖带着鞘 说：                                                        博主写的很好，受用了。对于苦逼的写了很久的css代码的我来说，遇到这个，感觉非常好用，避免重复的代码能够节省大量的时间，对于商业性开发，能提高很高的效率。                           2016年2月29日 10:57 | # | 引用                                                                                                                遮眼看人生 说：                                                        看完这篇文章就已经学会了使用sass了，不说精通 入门已经是没有问题了，这么晚才看到这篇文章，不管怎么说，能够学到新的东西本身就是一种进步 ，谢谢老师                           2016年4月 8日 09:14 | # | 引用                                                                                                                soulor 说：                                                        复制代码到 http://www.sassmeister.com/ 跟运行结果对比着看会不会好点                           2016年5月13日 20:46 | # | 引用                                                                                                                王鹏 说：                                                        scss用起来真的很方便，很强大的一个模版引擎工具，                           2016年6月24日 15:22 | # | 引用                                                                                                                路人乙 说：                                                        (⊙o⊙)…这都有人说不好，用起来省事多了                           2016年7月19日 20:08 | # | 引用                                                                                                                晚晴幽草轩 说：                                                        原来那么早，Sass 就已然出来了；而如今才开始真正用了那么一丢丢功能（看来这些技术消隐的时间跨度没那想象中的那么快嘛）。话说就 CSS 这一块，Less stylus postcss  Css Moudle 等等等等，纵横而捭阖，所用者甚少（...），可见前端是多么蓬勃而杂乱啊，哈哈。                           2016年7月29日 18:21 | # | 引用                                                                                                                Esha 说：                                                        我尝试在sublime text 3里面写sass，装了ruby和一系列plugins，也在第一行写了@charset "utf-8"; 但还是报错：/usr/local/lib/ruby/gems/2.3.0/gems/sass-3.4.22/lib/sass/error.rb:149:in `sass_backtrace_str': incompatible character encodings: UTF-8 and ASCII-8BIT (Encoding::CompatibilityError)这个到底应该怎么解决啊？没用过ruby不懂要怎么fix，求大神赐教！                           2016年10月11日 12:33 | # | 引用                                                                                                                刘娜 说：                                                        写的太好了，正在照着学。                           2016年10月19日 16:03 | # | 引用                                                                                                                celavi 说：                                                        经常搜技术文档，搜到站长的博客。                           2016年10月20日 10:12 | # | 引用                                                                                                                豆豆 说：                                                        各位大神好，有两个疑问的事，想问下~第一 定义函数的时候 　@mixin left($value: 10px) {　　　　float: left;　　　　margin-right: $value;　　}$value 后面的 ：10px 没有错吗？ 应该只要 一个$value 参数就可以吧？第二  引入外部文件的 时候@import "path/filename.scss"; 不是不需要带文件后缀名的吗                           2016年11月30日 20:19 | # | 引用                                                                                                                918之处 说：                                                        还是相当简洁明了的，可以入门了！                           2016年12月 6日 09:49 | # | 引用                                                                                                                howard 说：                                                        阮老师，久仰大名。                           2016年12月28日 16:14 | # | 引用                                                                                                                韩子迟 说：                                                        貌似没有 border-left-radius？是 border-top-left-radius？                           2017年1月 5日 09:25 | # | 引用                                                                                                                宋帅 说：                                                        您好 阮老师 很喜欢您的文章 发现一处错误 3.3 嵌套 　　div {　　　　hi {　　　　　　color:red;　　　　}　　}应该是 h1 而不是 hi                           2017年1月 5日 18:13 | # | 引用                                                                                                                王明 说：                                                        请问一下用sass嵌套的时候如何表示直接子元素，现在看到的都是表示后代元素                           2017年1月25日 09:01 | # | 引用                                                                                                                xiaoY 说：                                                        引用王明的发言：请问一下用sass嵌套的时候如何表示直接子元素，现在看到的都是表示后代元素div { & > a {}}                           2017年3月 1日 14:27 | # | 引用                                                                                                                刘彤 说：                                                        3.3 h1 写成了 hi吧                           2017年3月 5日 09:37 | # | 引用                                                                                                                周周 说：                                                        大神，使用watch监听报错了，偶尔一下能成功，但是再用watch就报错了，求指教！！                           2017年3月 8日 14:31 | # | 引用                                                                                                                周周 说：                                                        引用李毅平的发言：@materliu：出现GBK这种问题只要在scss文件上加@charset "utf-8"; 就可以了加了但是没有用。                           2017年3月 8日 14:33 | # | 引用                                                                                                                周周 说：                                                        引用Esha的发言：我尝试在sublime text 3里面写sass，装了ruby和一系列plugins，也在第一行写了@charset "utf-8"; 但还是报错：/usr/local/lib/ruby/gems/2.3.0/gems/sass-3.4.22/lib/sass/error.rb:149:in `sass_backtrace_str': incompatible character encodings: UTF-8 and ASCII-8BIT (Encoding::CompatibilityError)这个到底应该怎么解决啊？没用过ruby不懂要怎么fix，求大神赐教！也在engine.rb加了那句utf-8,但就是用watch就报这个错                           2017年3月 8日 14:36 | # | 引用                                                                                                                林城典 说：                                                        如果是个人专案不需要团队合作，用这个会不会多此一举？                           2017年3月18日 18:21 | # | 引用                                                                                                                阿木亮 说：                                                        引用Jam的发言：你如果现在回头来看这个评论，会发现那时的自己有多么无知。赞同，随着对css的熟悉，越来越发现css的开发维护，逻辑组织是多么重要。而且less很多特性诸如条件判断，循环都是没有的，所以用过less的我果断要用sass了                           2017年3月25日 18:16 | # | 引用                                                                                                                llsa 说：                                                        大神 求个编辑器                           2017年4月20日 00:55 | # | 引用                                                                                                                李晋泽 说：                                                        阮老师，你好，在“3.2计算功能”处，right: $var * 10%;报错。Error: 1000%*px isn't a valid CSS value.请问是什么原因？我代码中$var赋值为100px，例如：$var:100px;                           2017年5月11日 10:01 | # | 引用                                                                                                                Ihoey 说：                                                        引用李晋泽的发言：阮老师，你好，在“3.2计算功能”处，right: $var * 10%;报错。Error: 1000%*px isn't a valid CSS value.请问是什么原因？我代码中$var赋值为100px，例如：$var:100px;因为你赋值的是 px 计算会出错的，px不能和百分比进行计算的，你不写单位就可以计算出来的                           2017年5月23日 16:50 | # | 引用                                                                                                                Nina 说：                                                        然而安装Ruby就把我卡住了，我是不是太菜了~。。~                           2017年6月 6日 12:58 | # | 引用                                                                                                                bobo 说：                                                        引用少女的奇幻漂流的发言：是我读书读的少，还是这里真的又需要更正的地方？没有border-#{$side}-radius 这种属性啊哈哈哈，是的，刚才敲进去看半天咋没效果，突然反应过来还要加个方向上去，例如：top-left                           2017年7月13日 10:56 | # | 引用                                                                                                                康乔 说：                                                        sass:     $var: 50;     body {	margin: (14px/2);	top: 50px+100px;	right: $var * 10%;     }编译后css:     body {       margin: 7px;       top: 150px;       right: 500%; }                           2017年7月17日 16:50 | # | 引用                                                                                                                康乔 说：                                                        引用康乔的发言：sass: $var: 50; body {	margin: (14px/2);	top: 50px+100px;	right: $var * 10%; }编译后css: body { margin: 7px; top: 150px; right: 500%; }抱歉，话还没说完，本意是right：5；结果却是500%，我是不是哪里理解错了，当我$var = 50px时，编译时会报错                           2017年7月17日 16:54 | # | 引用                                                                                                                蔺相如 说：                                                        While executing gem ... (Gem::DependencyError)    Unable to resolve dependencies: sass requires sass-listen (~> 4.0.0)Mac的一直报这个错误,gem install compass是可以的但是用gem install sass就开始报这个错误                           2017年8月24日 21:16 | # | 引用                                                                                                                adm1n 说：                                                        引用康乔的发言：抱歉，话还没说完，本意是right：5；结果却是500%，我是不是哪里理解错了，当我$var = 50px时，编译时会报错$var: 50;body {margin: (14px/2);top: 50px+100px;right: $var * 0.1;}                           2017年9月27日 11:31 | # | 引用                                                                                                                stone 说：                                                        虽然是阮一峰老师的日志，也不免有错，border-left-radius是错误的写法，border-radius是ccs3的特性，作用是添加圆角边框。写法如border-top-left-radius指的是给左上角添加圆角边框。没有border-left-radius这种写法。                           2017年11月15日 16:56 | # | 引用                                                                                                                joeaniu 说：                                                        嵌套那段有笔误， hi -> h1                           2018年4月26日 20:20 | # | 引用                                                                                                                于_台 说：                                                        常用的功能，阮老师都涉及到了，真正的布道者，成长路上有阮老师的护航，谢谢                           2018年9月27日 11:15 | # | 引用                                                                                                                xiaohuangmao 说：                                                        12年的文章                           2018年10月 9日 17:01 | # | 引用                                                                                                                Thinker 说：                                                        实在佩服阮老师的远见，12年就能预测到现在一直很火的sass                           2018年11月22日 11:18 | # | 引用                                                                                                                码见 说：                                                        对于不做Ruby的开发者，可以使用NodeJs编译Sass，之前看到很多文章都是要安装Ruby环境才能编译Sass，我就放弃了。使用 NPM 编译 Sass 有兴趣的可参考：https://pzy.io/blog/2019/01/compile-sass-with-npm.html                           2019年1月15日 09:54 | # | 引用                                                                                                                Gavin 说：                                                        果然写的明白清楚，不需要看官网                           2019年3月29日 13:58 | # | 引用                                                                                                                YES 说：                                                        想要动态变量，但是我怎么找不到怎么用他的动态变量呢                           2019年5月27日 15:25 | # | 引用                                                                                                                赵帅锋 说：                                                        Ruby是什么啊，如果要是不安装这个的话sass是不是就不能用啊                           2020年4月10日 14:18 | # | 引用                                                                                                                xiaojun 说：                                                        很喜欢看阮老师的文章，复杂的东西讲得就是通俗易懂。赞!                           2020年7月27日 15:03 | # | 引用                                                                                                                马宇航 说：                                                        scss不怎末好用                           2021年10月12日 17:06 | # | 引用                                                                                                                提拉米苏 说：                                                        从工作开始就收藏了这篇文章，不知不觉9年过去了，依旧是偶尔打开这篇文章看一看，感谢峰哥。                           2023年3月10日 14:03 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9dc48d8ccf45',t:'MTc0MzI0MzQzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2012/06/sass.html
Javascript定义类（class）的三种方法 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Javascript定义类（class）的三种方法 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：Git分支管理策略&nbsp;&nbsp;下一篇：蒋经国与台湾民主进程&nbsp;                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Javascript定义类（class）的三种方法                                                                                    作者： 阮一峰                                    日期： 2012年7月 9日                                                                                                                                            将近20年前，Javascript诞生的时候，只是一种简单的网页脚本语言。如果你忘了填写用户名，它就跳出一个警告。                                                                                                                如今，它变得几乎无所不能，从前端到后端，有着各种匪夷所思的用途。程序员用它完成越来越庞大的项目。Javascript代码的复杂度也直线上升。单个网页包含10000行Javascript代码，早就司空见惯。2010年，一个工程师透露，Gmail的代码长度是443000行！编写和维护如此复杂的代码，必须使用模块化策略。目前，业界的主流做法是采用"面向对象编程"。因此，Javascript如何实现面向对象编程，就成了一个热门课题。麻烦的是，Javascipt语法不支持"类"（class），导致传统的面向对象编程方法无法直接使用。程序员们做了很多探索，研究如何用Javascript模拟"类"。本文总结了Javascript定义"类"的三种方法，讨论了每种方法的特点，着重介绍了我眼中的最佳方法。==============================================Javascript定义类（class）的三种方法作者：阮一峰在面向对象编程中，类（class）是对象（object）的模板，定义了同一组对象（又称"实例"）共有的属性和方法。Javascript语言不支持"类"，但是可以用一些变通的方法，模拟出"类"。一、构造函数法这是经典方法，也是教科书必教的方法。它用构造函数模拟"类"，在其内部用this关键字指代实例对象。　　function Cat() {　　　　this.name = "大毛";　　}生成实例的时候，使用new关键字。　　var cat1 = new Cat();　　alert(cat1.name); // 大毛类的属性和方法，还可以定义在构造函数的prototype对象之上。　　Cat.prototype.makeSound = function(){　　　　alert("喵喵喵");　　}关于这种方法的详细介绍，请看我写的系列文章《Javascript 面向对象编程》，这里就不多说了。它的主要缺点是，比较复杂，用到了this和prototype，编写和阅读都很费力。二、Object.create()法为了解决"构造函数法"的缺点，更方便地生成对象，Javascript的国际标准ECMAScript第五版（目前通行的是第三版），提出了一个新的方法Object.create()。用这个方法，"类"就是一个对象，不是函数。　　var Cat = {　　　　name: "大毛",　　　　makeSound: function(){ alert("喵喵喵"); }　　};然后，直接用Object.create()生成实例，不需要用到new。　　var cat1 = Object.create(Cat);　　alert(cat1.name); // 大毛　　cat1.makeSound(); // 喵喵喵目前，各大浏览器的最新版本（包括IE9）都部署了这个方法。如果遇到老式浏览器，可以用下面的代码自行部署。　　if (!Object.create) {　　　　Object.create = function (o) {　　　　　　 function F() {}　　　　　　F.prototype = o;　　　　　　return new F();　　　　};　　}这种方法比"构造函数法"简单，但是不能实现私有属性和私有方法，实例对象之间也不能共享数据，对"类"的模拟不够全面。三、极简主义法荷兰程序员Gabor de Mooij提出了一种比Object.create()更好的新方法，他称这种方法为"极简主义法"（minimalist approach）。这也是我推荐的方法。3.1 封装这种方法不使用this和prototype，代码部署起来非常简单，这大概也是它被叫做"极简主义法"的原因。首先，它也是用一个对象模拟"类"。在这个类里面，定义一个构造函数createNew()，用来生成实例。　　var Cat = {　　　　createNew: function(){　　　　　　// some code here　　　　}　　};然后，在createNew()里面，定义一个实例对象，把这个实例对象作为返回值。　　var Cat = {　　　　createNew: function(){　　　　　　var cat = {};　　　　　　cat.name = "大毛";　　　　　　cat.makeSound = function(){ alert("喵喵喵"); };　　　　　　return cat;　　　　}　　};使用的时候，调用createNew()方法，就可以得到实例对象。　　var cat1 = Cat.createNew();　　cat1.makeSound(); // 喵喵喵这种方法的好处是，容易理解，结构清晰优雅，符合传统的"面向对象编程"的构造，因此可以方便地部署下面的特性。3.2 继承让一个类继承另一个类，实现起来很方便。只要在前者的createNew()方法中，调用后者的createNew()方法即可。先定义一个Animal类。　　var Animal = {　　　　createNew: function(){　　　　　　var animal = {};　　　　　　animal.sleep = function(){ alert("睡懒觉"); };　　　　　　return animal;　　　　}　　};然后，在Cat的createNew()方法中，调用Animal的createNew()方法。　　var Cat = {　　　　createNew: function(){　　　　　　var cat = Animal.createNew();　　　　　　cat.name = "大毛";　　　　　　cat.makeSound = function(){ alert("喵喵喵"); };　　　　　　return cat;　　　　}　　};这样得到的Cat实例，就会同时继承Cat类和Animal类。　　var cat1 = Cat.createNew();　　cat1.sleep(); // 睡懒觉3.3 私有属性和私有方法在createNew()方法中，只要不是定义在cat对象上的方法和属性，都是私有的。　　var Cat = {　　　　createNew: function(){　　　　　　var cat = {};　　　　　　var sound = "喵喵喵";　　　　　　cat.makeSound = function(){ alert(sound); };　　　　　　return cat;　　　　}　　};上例的内部变量sound，外部无法读取，只有通过cat的公有方法makeSound()来读取。 　　var cat1 = Cat.createNew();　　alert(cat1.sound); // undefined3.4 数据共享有时候，我们需要所有实例对象，能够读写同一项内部数据。这个时候，只要把这个内部数据，封装在类对象的里面、createNew()方法的外面即可。　　var Cat = {　　　　sound :  "喵喵喵",　　　　createNew: function(){　　　　　　var cat =  {};　　　　　　cat.makeSound = function(){ alert(Cat.sound); };　　　　　　cat.changeSound = function(x){ Cat.sound =  x;  };　　　　　　return cat;　　　　}　　};然后，生成两个实例对象：　　var cat1 = Cat.createNew();　　var cat2 = Cat.createNew();　　cat1.makeSound(); // 喵喵喵这时，如果有一个实例对象，修改了共享的数据，另一个实例对象也会受到影响。　　cat2.changeSound("啦啦啦");　　cat1.makeSound(); // 啦啦啦（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2012年7月 9日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（54条）                                                                                                    ayanamist 说：                                                        所谓的第三种方法，就是Builder模式啊……博主肯定没看过重构与模式方面的书……                           2012年7月10日 00:38 | # | 引用                                                                                                                kk 说：                                                        和build模式有啥关系。。第三种是闭包实现，看js good parts就知道了，不过闭包有闭包的问题。。所以现在一般还是用prototype实现。要么再等等，class关键字就要出了;)                           2012年7月10日 02:27 | # | 引用                                                                                                                aa 说：                                                        马上就要有class关键字了                           2012年7月10日 10:20 | # | 引用                                                                                                                Ariel 说：                                                        建议大阮看看《七周七语言》中写的Io language,想必之后可以解释的更清楚一些。                           2012年7月10日 10:24 | # | 引用                                                                                                                锐齿猱 说：                                                        js的原型链确实奇葩，并难理解。PS:这个值得参考一下： http://bonsaiden.github.com/JavaScript-Garden/zh/                           2012年7月10日 11:21 | # | 引用                                                                                                                norion 说：                                                        博主，三种方法的内存占用优劣性怎样呢，能不能分析一下。                           2012年7月10日 16:17 | # | 引用                                                                                                                11 说：                                                        入门级的。。。                           2012年7月11日 14:18 | # | 引用                                                                                                                麦时 说：                                                        阮老师好，我近来想着手翻译一些英文文章，不知老师是否有翻译技巧，翻译注意这些方面的书推荐呢？多谢。                           2012年7月11日 21:38 | # | 引用                                                                                                                momo 说：                                                        不同的功能，用不同方式吧                           2012年7月11日 22:09 | # | 引用                                                                                                                文少 说：                                                        致命缺点alert(cat1 instanceof Cat);通不过                           2012年7月12日 10:15 | # | 引用                                                                                                                zhiyelee 说：                                                        第三种方法的缺点也是很明显的，不能使用instanceof 判断类                           2012年7月12日 10:21 | # | 引用                                                                                                                eyeseenull 说：                                                        感觉 javascript 实现面向对象 有点臃肿，失去了轻巧灵活直接，不过复杂的东西总是需要章法。                           2012年7月12日 15:16 | # | 引用                                                                                                                ghy 说：                                                        感觉，怎么写都有点别扭                           2012年7月12日 15:47 | # | 引用                                                                                                                Siwei 说：                                                        使用  coffeescript 把。。。                            2012年7月13日 08:23 | # | 引用                                                                                                                xuht 说：                                                        第三种方式最大的好处是创建类和继承类很简单，但也有一个问题。第三种方式本质上没有使用继承，每次的继承是重新创建的对象然后再增加属性，所以继承的层次如果多了，对象会搞得很大，这个不太好。                           2012年7月13日 09:52 | # | 引用                                                                                                                穷小子 说：                                                        js原生的还是很大用途啊，所谓网页汇编语言嘛                           2012年7月13日 09:54 | # | 引用                                                                                                                Anna 说：                                                        引用麦时的发言：阮老师好，我近来想着手翻译一些英文文章，不知老师是否有翻译技巧，翻译注意这些方面的书推荐呢？多谢。建议您读一读杨绛先生的《翻译的技巧》。                           2012年7月13日 21:41 | # | 引用                                                                                                                Allen 说：                                                        "它的主要缺点是，比较复杂，用到了this和prototype，编写和阅读都很费力。"我咋觉得构造函数方法挺好呢？也许代码多写些了几行，但是很清晰，this与prototype也很好用啊它的缺点到底是啥呢                            2012年7月14日 14:09 | # | 引用                                                                                                                saturn 说：                                                        峰哥您好：最开始是如何进到这个博客的现在已经不知道了，这三年来，除偶尔不能上网的时候，我几乎每天都要到这里看看。不得不说，我从这里学习到了很多，您的辛勤劳动，帮助了很多人。不知道您对Windows编程有没有研究，最近正在学习Windows编程，尤其是MFC的使用，看了一些书，但是总还是没有头绪，不知道峰哥能不能写写这方面的东西，3Q in advance！                           2012年7月14日 20:44 | # | 引用                                                                                                                土木坛子 说：                                                        引用saturn的发言：峰哥您好：最开始是如何进到这个博客的现在已经不知道了，这三年来，除偶尔不能上网的时候，我几乎每天都要到这里看看。不得不说，我从这里学习到了很多，您的辛勤劳动，帮助了很多人。不知道您对Windows编程有没有研究，最近正在学习Windows编程，尤其是MFC的使用，看了一些书，但是总还是没有头绪，不知道峰哥能不能写写这方面的东西，3Q in advance！阮兄的博客是非常认真的，这在中文博客圈中少见。                           2012年7月15日 03:51 | # | 引用                                                                                                                千面公子 说：                                                        阮老师，你首页上最新留言处的js加载非常慢，是否考虑优化一下                           2012年7月16日 11:26 | # | 引用                                                                                                                lib 说：                                                        ruanyifeng已经被神话了。。                           2012年7月20日 17:57 | # | 引用                                                                                                                Mead 说：                                                        prototype和this怎么难理解？我倒是觉得后面两种都非常难理解。并且无法实现真正的对象化，var static={}这个是值形式，无法对象化。                           2012年7月21日 13:29 | # | 引用                                                                                                                刘晓勇 说：                                                        我只是一个平民，我们这里还有过年吃不上肉的人。以上仅是我的个人介绍，我想说的是：我反对一党执政，可有用吗？                           2012年7月22日 19:54 | # | 引用                                                                                                                小Z 说：                                                        来向峰哥学习的                           2012年7月22日 21:56 | # | 引用                                                                                                                NinoFocus 说：                                                        推荐大家可以看一下这篇文章 http://howtonode.org/object-graphs-2                           2012年7月27日 19:34 | # | 引用                                                                                                                流年 说：                                                        阮老师的博客我是经常来逛的，感觉阮老师对很多领域都有自己比较独到的见解，看完之后稍作思考便觉获益匪浅，这种受益并不局限于知识点或面，而是一种思维方式、思维角度的转换，往往能让我可以更全面的去考虑一件事。希望阮老师以后能多多的把生活中的一些感触写下来。                           2012年7月29日 20:11 | # | 引用                                                                                                                qtxie 说：                                                        使用“极简主义法”，每个instance里都会有一份method的实例，不像prototype方式那样可以使用一份method实例就行了。                           2012年8月 3日 10:13 | # | 引用                                                                                                                无意乂 说：                                                        引用qtxie的发言：使用“极简主义法”，每个instance里都会有一份method的实例，不像prototype方式那样可以使用一份method实例就行了。3.4数据共享那一节不是说了嘛，只要放在createNew外面就可以共享了。var Cat = {	createNew: function(){	var cat = {};	cat.makeSound = this._makeSound;	// 公有方法，共用	return cat;	},	_makeSound: function() { alert("喵喵喵"); }};只有公有的变量属性是不能共享的                           2012年8月 9日 20:08 | # | 引用                                                                                                                lazyzzz 说：                                                        极简主义，看起来很美好，有没有人分析下它的缺点？                           2012年8月30日 10:23 | # | 引用                                                                                                                ToFishes 说：                                                        引用无意乂的发言：3.4数据共享那一节不是说了嘛，只要放在createNew外面就可以共享了。var Cat = {	createNew: function(){	var cat = {};	cat.makeSound = this._makeSound;	// 公有方法，共用	return cat;	},	_makeSound: function() { alert("喵喵喵"); }};只有公有的变量属性是不能共享的这样同样会暴露一个调用方式： Cat._makeSound() ,这是好还是坏? 或者我想到这类似java类的static方法，不就是类名直接调用吗。                           2012年9月 6日 14:15 | # | 引用                                                                                                                learner 说：                                                        我是一名学生现在正在学js,不知道怎么去开始，请阮老师给一点建议，不知道从何开始学习？蛮烦了，谢谢                           2012年9月23日 17:04 | # | 引用                                                                                                                sojuker 说：                                                        个人感觉极简主义还有比较大的问题。特别是对于公有方法的处理上，有天生的缺陷一般。不知大家有好的解决方法吗？var Cat = {      //公有属性　　　sound : "喵喵喵",      //公有方法定义1      showName : function (){ alert ("the cat's name is" + this.name); }  //内部引用实例属性      //公有方法定义3，提高内聚程度，类似人工模拟 prototype      proto ：{          showName : function (){ alert ("the cat's name is" + this.name); },           constructor : Cat       //用于对象识别，最好能配置该属性的特性，使之不可枚举，不可配置      },            //模拟构建函数　　  createNew: function(name,age){     //利用参数提供初始化配置　　　　　　var cat = {};              //设置实例属性            cat.name = name;             cat.age = age;                                    //公有方法定义2，手动维护关系链，而且不灵活            cat.showName = Cat.showName;            //相对来说更不优秀的方法，极度占用内存空间  　　　　　　cat.showName = function(){  alert ("the cat's name is" + this.name); };            //公有方法定义3，提高内聚程度              cat.proto = Cat.proto;　　　　　　return cat;　　　　}　　};//创建实例var cat1 = Cat.createNew('Tom',8);//访问公有方法1Cat.showName.call(cat1);//访问公有方法2（代码部署复杂，解耦程度低）cat1.showName();//访问公有方法3 (接近原生prototype实现)cat1.proto.showName.call(cat1);//经典模式下访问公有方法cat1.showName();                           2012年11月24日 17:39 | # | 引用                                                                                                                devan5 说：                                                        习惯用 object.create() 稍加扩展和封装, 即可以实现继承, 私有方法/属性.没有一种方法就能是银弹. 单纯使用以上三种, 都不能达到: 私有属性的实例之间共享.第三种, 想法视点不错. 但是继承方面是缺陷的: 无论父类的共有私有方法/属性. 一并新建父对象实例.                           2013年8月21日 09:53 | # | 引用                                                                                                                wteam_xq 说：                                                        第三种方法摆脱了使用原型链的缺点（属性不能私有、创建、继承对象不够直观），但也暴露了没用原型链的弊端：每一次生成一个实例，都必须为重复的内容，多占用一些内存。看过cocos2d-html5的继承源码，感觉它就将原型链跟第三种方式结合了。                           2013年8月31日 21:20 | # | 引用                                                                                                                玉慕瑕 说：                                                        我学习了极简主义后，有个疑惑：如果我在对象的方法里须调用外部的方法，经此来减少对象方法对内存的重复占用，但又不能直接用inner.function = outer.function这样的形式，应该怎么实现呢？                           2013年9月17日 12:05 | # | 引用                                                                                                                mlisp 说：                                                        js本身就是基于对象，硬要造个类，浪费时间与精力。animal = object clonecat = animal clonedog = animal clonecat1 = cat clonecat2 = cat clone对象就是类，类就是对象；函数就是对象，对象就是函数。                           2014年2月21日 13:12 | # | 引用                                                                                                                小河 说：                                                        请有兴趣的人一起加入QQ群研究Java script技术，群号：23987720。（老师，借宝地网络一些有共同爱好的人）。                           2014年10月17日 14:08 | # | 引用                                                                                                                xiejl 说：                                                        方法二的Object.create()法是不是可以省略掉.例如用下面的方式.        var xjl = {            name: "xie",            m1 : function() {                alert(10);            },            m2 : function() {                alert("姓名:" + xjl.name);            }        };        //方式一:通过新的对象调用       /* var x = xjl;        x.m1();        alert(x.name);        x.m2();*/        //方式二:直接调用        xjl.m1();        alert(xjl.name);        xjl.m2();                               2015年3月21日 16:57 | # | 引用                                                                                                                climber 说：                                                        第一种方法最好，符合一贯的编程习惯。                           2015年4月23日 09:57 | # | 引用                                                                                                                夏云淋 说：                                                        引用learner的发言：我是一名学生现在正在学js,不知道怎么去开始，请阮老师给一点建议，不知道从何开始学习？蛮烦了，谢谢                           2015年4月30日 15:10 | # | 引用                                                                                                                jujube 说：                                                        最后一种方法好棒啊！                           2015年5月13日 12:53 | # | 引用                                                                                                                杯子里的影子 说：                                                        最后那种方法在cocos2d-js下面就很常用。然而在ES6面前它就跪了，这种风格的代码很难把逻辑转换成ES6啊。                           2015年6月 9日 15:40 | # | 引用                                                                                                                ilaipi 说：                                                        第三种方法能传参吗？                           2015年6月25日 16:03 | # | 引用                                                                                                                red_iris 说：                                                        js在自定义类的时候，能定义一个类，类名叫Object吗？                           2015年8月13日 09:45 | # | 引用                                                                                                                TheStars 说：                                                        引用文少的发言：致命缺点alert(cat1 instanceof Cat);通不过在犀牛书（第六版）中9.5.1节是这样描述的：尽管instanceof运算符的右操作数是构造函数，但计算过程实际上是检测了对象的继承关系，而不是检测创建对象的构造函数。                           2015年11月15日 17:50 | # | 引用                                                                                                                yangtze 说：                                                        之前看"Javascript 语言精粹"一头雾水，看了您的讲解，瞬间懂了，谢谢！                           2015年12月17日 17:50 | # | 引用                                                                                                                Apolo 说：                                                        看了半天，并不觉得后两种比第一中构造函数可读性强。                           2016年10月31日 04:07 | # | 引用                                                                                                                麻瓜 说：                                                        第三个 方式中，子类不能继承父类的类属性和类方法，怎么解决                           2016年12月21日 16:11 | # | 引用                                                                                                                cmf41013 说：                                                        第三种 是类的工厂，不能算是类的定义                           2017年1月22日 09:40 | # | 引用                                                                                                                泳爸 说：                                                        阮大神，您的例子我能看懂，但不符合我认为的类。我认为类中，共有的属性跟方法要共用。就是在内存中只存在一个。比如极简主义法中的cat.makeSound = function(){ alert("喵喵喵"); 这里猫叫按照道理来说是什么猫都会叫，所以按道理来说放在prototype里最好，公用。不然每次用都会给只新猫上添加这个方法，浪费了内存。这不符合我认为的‘类’                           2017年9月13日 13:33 | # | 引用                                                                                                                lambdang 说：                                                        级简的确不错 但还有一个问题怎么解决 就是多类继承 或者说mixin继承 如何实现                           2017年11月27日 18:17 | # | 引用                                                                                                                龙在天 说：                                                        不错不错，谢谢高人的传道受业解惑！                           2018年1月10日 10:10 | # | 引用                                                                                                                kidz 说：                                                        时隔多年js还是用上了class声明,开心!                           2021年5月12日 16:43 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e98d65a8bcf45',t:'MTc0MzI0MzIzMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2012/07/three_ways_to_define_a_javascript_class.html
Unicode与JavaScript详解 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Unicode与JavaScript详解 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：数据可视化：基本图表&nbsp;下一篇：Unicode与Jav                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Unicode与JavaScript详解                                                                                    作者： 阮一峰                                    日期： 2014年12月11日                                                                                                                                            上个月，我做了一次分享，详细介绍了Unicode字符集，以及JavaScript语言对它的支持。下面就是这次分享的讲稿。                                                                                                                一、Unicode是什么？Unicode源于一个很简单的想法：将全世界所有的字符包含在一个集合里，计算机只要支持这一个字符集，就能显示所有的字符，再也不会有乱码了。它从0开始，为每个符号指定一个编号，这叫做"码点"（code point）。比如，码点0的符号就是null（表示所有二进制位都是0）。U+0000 = null上式中，U+表示紧跟在后面的十六进制数是Unicode的码点。目前，Unicode的最新版本是7.0版，一共收入了109449个符号，其中的中日韩文字为74500个。可以近似认为，全世界现有的符号当中，三分之二以上来自东亚文字。比如，中文"好"的码点是十六进制的597D。U+597D = 好这么多符号，Unicode不是一次性定义的，而是分区定义。每个区可以存放65536个（216）字符，称为一个平面（plane）。目前，一共有17个（25）平面，也就是说，整个Unicode字符集的大小现在是221。最前面的65536个字符位，称为基本平面（缩写BMP），它的码点范围是从0一直到216-1，写成16进制就是从U+0000到U+FFFF。所有最常见的字符都放在这个平面，这是Unicode最先定义和公布的一个平面。剩下的字符都放在辅助平面（缩写SMP），码点范围从U+010000一直到U+10FFFF。二、UTF-32与UTF-8Unicode只规定了每个字符的码点，到底用什么样的字节序表示这个码点，就涉及到编码方法。最直观的编码方法是，每个码点使用四个字节表示，字节内容一一对应码点。这种编码方法就叫做UTF-32。比如，码点0就用四个字节的0表示，码点597D就在前面加两个字节的0。U+0000 = 0x0000 0000U+597D = 0x0000 597DUTF-32的优点在于，转换规则简单直观，查找效率高。缺点在于浪费空间，同样内容的英语文本，它会比ASCII编码大四倍。这个缺点很致命，导致实际上没有人使用这种编码方法，HTML 5标准就明文规定，网页不得编码成UTF-32。人们真正需要的是一种节省空间的编码方法，这导致了UTF-8的诞生。UTF-8是一种变长的编码方法，字符长度从1个字节到4个字节不等。越是常用的字符，字节越短，最前面的128个字符，只使用1个字节表示，与ASCII码完全相同。              编号范围字节                    0x0000 - 0x007F1        0x0080 - 0x07FF2        0x0800 - 0xFFFF3        0x010000 - 0x10FFFF4                由于UTF-8这种节省空间的特性，导致它成为互联网上最常见的网页编码。不过，它跟今天的主题关系不大，我就不深入了，具体的转码方法，可以参考我多年前写的《字符编码笔记》。三、UTF-16简介UTF-16编码介于UTF-32与UTF-8之间，同时结合了定长和变长两种编码方法的特点。它的编码规则很简单：基本平面的字符占用2个字节，辅助平面的字符占用4个字节。也就是说，UTF-16的编码长度要么是2个字节（U+0000到U+FFFF），要么是4个字节（U+010000到U+10FFFF）。于是就有一个问题，当我们遇到两个字节，怎么看出它本身是一个字符，还是需要跟其他两个字节放在一起解读？说来很巧妙，我也不知道是不是故意的设计，在基本平面内，从U+D800到U+DFFF是一个空段，即这些码点不对应任何字符。因此，这个空段可以用来映射辅助平面的字符。具体来说，辅助平面的字符位共有220个，也就是说，对应这些字符至少需要20个二进制位。UTF-16将这20位拆成两半，前10位映射在U+D800到U+DBFF（空间大小210），称为高位（H），后10位映射在U+DC00到U+DFFF（空间大小210），称为低位（L）。这意味着，一个辅助平面的字符，被拆成两个基本平面的字符表示。 所以，当我们遇到两个字节，发现它的码点在U+D800到U+DBFF之间，就可以断定，紧跟在后面的两个字节的码点，应该在U+DC00到U+DFFF之间，这四个字节必须放在一起解读。四、UTF-16的转码公式Unicode码点转成UTF-16的时候，首先区分这是基本平面字符，还是辅助平面字符。如果是前者，直接将码点转为对应的十六进制形式，长度为两字节。U+597D = 0x597D如果是辅助平面字符，Unicode 3.0版给出了转码公式。H = Math.floor((c-0x10000) / 0x400)+0xD800L = (c - 0x10000) % 0x400 + 0xDC00以字符为例，它是一个辅助平面字符，码点为U+1D306，将其转为UTF-16的计算过程如下。H = Math.floor((0x1D306-0x10000)/0x400)+0xD800 = 0xD834L = (0x1D306-0x10000) % 0x400+0xDC00 = 0xDF06所以，字符的UTF-16编码就是0xD834 DF06，长度为四个字节。五、JavaScript使用哪一种编码？JavaScript语言采用Unicode字符集，但是只支持一种编码方法。这种编码既不是UTF-16，也不是UTF-8，更不是UTF-32。上面那些编码方法，JavaScript都不用。JavaScript用的是UCS-2！六、UCS-2编码怎么突然杀出一个UCS-2？这就需要讲一点历史。互联网还没出现的年代，曾经有两个团队，不约而同想搞统一字符集。一个是1988年成立的Unicode团队，另一个是1989年成立的UCS团队。等到他们发现了对方的存在，很快就达成一致：世界上不需要两套统一字符集。1991年10月，两个团队决定合并字符集。也就是说，从今以后只发布一套字符集，就是Unicode，并且修订此前发布的字符集，UCS的码点将与Unicode完全一致。UCS的开发进度快于Unicode，1990年就公布了第一套编码方法UCS-2，使用2个字节表示已经有码点的字符。（那个时候只有一个平面，就是基本平面，所以2个字节就够用了。）UTF-16编码迟至1996年7月才公布，明确宣布是UCS-2的超集，即基本平面字符沿用UCS-2编码，辅助平面字符定义了4个字节的表示方法。两者的关系简单说，就是UTF-16取代了UCS-2，或者说UCS-2整合进了UTF-16。所以，现在只有UTF-16，没有UCS-2。七、JavaScript的诞生背景那么，为什么JavaScript不选择更高级的UTF-16，而用了已经被淘汰的UCS-2呢？答案很简单：非不想也，是不能也。因为在JavaScript语言出现的时候，还没有UTF-16编码。1995年5月，Brendan Eich用了10天设计了JavaScript语言；10月，第一个解释引擎问世；次年11月，Netscape正式向ECMA提交语言标准（整个过程详见《JavaScript诞生记》）。对比UTF-16的发布时间（1996年7月），就会明白Netscape公司那时没有其他选择，只有UCS-2一种编码方法可用！八、JavaScript字符函数的局限由于JavaScript只能处理UCS-2编码，造成所有字符在这门语言中都是2个字节，如果是4个字节的字符，会当作两个双字节的字符处理。JavaScript的字符函数都受到这一点的影响，无法返回正确结果。还是以字符为例，它的UTF-16编码是4个字节的0xD834 DF06。问题就来了，4个字节的编码不属于UCS-2，JavaScript不认识，只会把它看作单独的两个字符U+D834和U+DF06。前面说过，这两个码点是空的，所以JavaScript会认为是两个空字符组成的字符串！上面代码表示，JavaScript认为字符的长度是2，取到的第一个字符是空字符，取到的第一个字符的码点是0xDB34。这些结果都不正确！解决这个问题，必须对码点做一个判断，然后手动调整。下面是正确的遍历字符串的写法。while (++index = 0xD800 && charCode 上面代码表示，遍历字符串的时候，必须对码点做一个判断，只要落在0xD800到0xDBFF的区间，就要连同后面2个字节一起读取。类似的问题存在于所有的JavaScript字符操作函数。  String.prototype.replace()String.prototype.substring()String.prototype.slice()...上面的函数都只对2字节的码点有效。要正确处理4字节的码点，就必须逐一部署自己的版本，判断一下当前字符的码点范围。九、ECMAScript 6JavaScript的下一个版本ECMAScript 6（简称ES6），大幅增强了Unicode支持，基本上解决了这个问题。（1）正确识别字符ES6可以自动识别4字节的码点。因此，遍历字符串就简单多了。for (let s of string ) {  // ...}但是，为了保持兼容，length属性还是原来的行为方式。为了得到字符串的正确长度，可以用下面的方式。Array.from(string).length（2）码点表示法JavaScript允许直接用码点表示Unicode字符，写法是"反斜杠+u+码点"。'好' === '\u597D' // true但是，这种表示法对4字节的码点无效。ES6修正了这个问题，只要将码点放在大括号内，就能正确识别。（3）字符串处理函数ES6新增了几个专门处理4字节码点的函数。  String.fromCodePoint()：从Unicode码点返回对应字符 String.prototype.codePointAt()：从字符返回对应的码点String.prototype.at()：返回字符串给定位置的字符（4）正则表达式ES6提供了u修饰符，对正则表达式添加4字节码点的支持。（5）Unicode正规化有些字符除了字母以外，还有附加符号。比如，汉语拼音的Ǒ，字母上面的声调就是附加符号。对于许多欧洲语言来说，声调符号是非常重要的。Unicode提供了两种表示方法。一种是带附加符号的单个字符，即一个码点表示一个字符，比如Ǒ的码点是U+01D1；另一种是将附加符号单独作为一个码点，与主体字符复合显示，即两个码点表示一个字符，比如Ǒ可以写成O（U+004F） + ˇ（U+030C）。// 方法一'\u01D1'// 'Ǒ'// 方法二'\u004F\u030C'// 'Ǒ'这两种表示方法，视觉和语义都完全一样，理应作为等同情况处理。但是，JavaScript无法辨别。 '\u01D1'==='\u004F\u030C'  //falseES6提供了normalize方法，允许"Unicode正规化"，即将两种方法转为同样的序列。 '\u01D1'.normalize() === '\u004F\u030C'.normalize()  // true关于ES6的更多介绍，请看《ECMAScript 6入门》。==========================我的讲稿就是上面这些内容，当天的PPT请看这里。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2014年12月11日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（53条）                                                                                                    passer 说：                                                        哈哈，博主也是Futurama爱好者吗                           2014年12月11日 14:03 | # | 引用                                                                                                                paster 说：                                                        最后的「以字符」是什么意思，是不是没写完？                           2014年12月11日 14:21 | # | 引用                                                                                                                holyzfy 说：                                                        头图是B52么                           2014年12月11日 14:53 | # | 引用                                                                                                                阮一峰 说：                                                        @paster：文章贴出来才发现，这个blog程序会自动截断辅助平面的字符。手忙脚乱得收拾了半天，把该文字都换成了图片……                           2014年12月11日 14:57 | # | 引用                                                                                                                秣马儿 说：                                                        应试是U+0000 = 0x00 00 00 00U+597D = 0x00 00 59 7D吧？                           2014年12月11日 15:08 | # | 引用                                                                                                                阮一峰 说：                                                        @秣马儿：谢谢指出，确实写错了，已经改过来了。                           2014年12月11日 15:19 | # | 引用                                                                                                                Dennis Gao  说：                                                        挺好的，感谢科普                           2014年12月11日 16:13 | # | 引用                                                                                                                iceli 说：                                                        1988年成立的UCS团队 这个时间和图片里的时间不一致啊。                           2014年12月11日 17:47 | # | 引用                                                                                                                Henry 说：                                                        看了博主很多文章都不错，能分享下博主的学习规划吗，是怎么安排的                           2014年12月12日 08:37 | # | 引用                                                                                                                wind-stone 说：                                                        赞！简单易懂，学习了！                           2014年12月12日 09:38 | # | 引用                                                                                                                李之若 说：                                                        JavaScript允许直接用码点表示Unicode字符，写法是"斜杠+u+码点"。应该是反斜杠吧阮兄。                           2014年12月13日 01:54 | # | 引用                                                                                                                阮一峰 说：                                                        @李之若：谢谢指出已经改过来了。                           2014年12月13日 10:10 | # | 引用                                                                                                                Owen 说：                                                        > 一个是1988年成立的UCS团队，另一个是1989年成立的Unicode团队。这句与你Slides里的时间，刚好相反。                           2014年12月13日 10:23 | # | 引用                                                                                                                阮一峰 说：                                                        @Owen：谢谢指出，已经改正了。                           2014年12月13日 14:59 | # | 引用                                                                                                                一页笔记 说：                                                        大哥，我转载了你的文章，都标注了作者。之前转的一些，在文章后留下了来源信息。请问这样有问题吗？转载似乎是有规则的，我才做博客两个月，不懂，那天看到一篇批评转载的文章，诚惶诚恐，求指教。                           2014年12月13日 19:09 | # | 引用                                                                                                                feng smith 说：                                                        “目前，一共有17个（2^5）平面”，17是怎么来的？是不是应为32？                           2014年12月16日 14:29 | # | 引用                                                                                                                Purity 说：                                                        阮老师的PPT我看了，简洁明了，很高大上。因为日常中经常演讲展示，我想学习一下PPT的做法，阮老师可以提供这个PPT下载吗？我邮箱地址[email&#160;protected]。PS.我的这种行为不妥，阮老师也可以拒绝，我仍然感谢。                           2014年12月17日 12:33 | # | 引用                                                                                                                yanhaijing 说：                                                        很赞啊，正需要这个知识                           2014年12月17日 14:02 | # | 引用                                                                                                                iwbpm 说：                                                        终于知道以前那个恶魔般的js乱码和执行异常的问题是怎么回事了！感谢。                           2014年12月17日 20:35 | # | 引用                                                                                                                bbx 说：                                                        博主你好，我现在是一名高中生，突然发现自己对计算机比较感兴趣。刚刚开始自学计算机语言，是学的Java语言。请问可以先学Java语言吗？我应该注意些什么呢？刚才无意中搜到了您的个人blog，读了几篇文章，对我很有启发，谢谢！                           2014年12月18日 09:30 | # | 引用                                                                                                                江枫 说：                                                        引用bbx的发言：博主你好，我现在是一名高中生，突然发现自己对计算机比较感兴趣。刚刚开始自学计算机语言，是学的Java语言。请问可以先学Java语言吗？我应该注意些什么呢？刚才无意中搜到了您的个人blog，读了几篇文章，对我很有启发，谢谢！1. 没什么不可以的，编程就像写作文或是解数学题，如果你作文就没好过，解数学题的思路也一般般，及时放弃，干干别的吧2. 你说你对计算机感兴趣，说说为什么，喜欢一件事情总是可以说出很多原因的，别脑子短路想不到。3. 注意的地方a. 不要为了编程而编程，语言只是一个工具，用来解决实际遇到的问题的，b. 数学很重要，趁年轻多学点c. 趁年轻多读读小说，d. 外语也挺重要，趁年轻多学点e. 朋友也挺重要，别没事一个人窝着f. 锻炼身体这件事最重要，别荒废了g. 看了就会的东西，不能成为竞争力，学了依旧不会，这才是竞争力，社会挺浮躁，学会能够让自己安静下来。                           2014年12月27日 22:44 | # | 引用                                                                                                                xiaorui 说：                                                        引用阮一峰的发言：@秣马儿：谢谢指出，确实写错了，已经改过来了。阮老师，您的博客简洁清晰突出内容，想问一下您的blog程序是什么？                           2014年12月29日 16:34 | # | 引用                                                                                                                xinwendashibaike 说：                                                        基本平面只需要16位，辅助平面就是加了8，共24位，剩下还有8位，应该是utf-24比较自然吧                           2015年1月 7日 13:15 | # | 引用                                                                                                                xinwendashibaike 说：                                                        引用feng smith的发言：“目前，一共有17个（2^5）平面”，17是怎么来的？是不是应为32？目前只定义了17个，其他都没用使用                           2015年1月 7日 13:17 | # | 引用                                                                                                                linchen 说：                                                        深入理解了，感谢好文章。                           2015年1月12日 00:41 | # | 引用                                                                                                                hhjh 说：                                                        非常好的文章，很有帮助                           2015年1月18日 11:23 | # | 引用                                                                                                                xinwendashibaike 说：                                                        character + string.charAt(++index)为什么加起来就可以转换？                           2015年1月27日 14:07 | # | 引用                                                                                                                anthony 说：                                                        几个建议:code point不妨译为码位.0xD8XX那一段实在写的不清楚,建议改成二进制表示:UTF16首字前6位为110110,次字前6位为110111UTF16的转码公式实在奇怪,为什么要用除0x400来表示右移10位呢? firstword = (unicode >>> 10) + 0xD800;secondword = (unicode & 0x3ff) + 0xDC00;                           2015年1月29日 15:39 | # | 引用                                                                                                                leezq 说：                                                        引用xinwendashibaike的发言：基本平面只需要16位，辅助平面就是加了8，共24位，剩下还有8位，应该是utf-24比较自然吧是啊.这里我也想不通。三个字节就可以容纳Unicode的所有码点了，这样一来感觉UTF-24比UTF-32要更加科学。阮老师能否解释下。                           2015年5月22日 11:33 | # | 引用                                                                                                                mihooke 说：                                                        最近正在看rapidJSON，对里面的编码搞得一塌糊涂，幸亏看到了阮哥这篇文章，受教了！                           2015年6月11日 11:49 | # | 引用                                                                                                                前端爱好者 说：                                                        引用leezq的发言：是啊.这里我也想不通。三个字节就可以容纳Unicode的所有码点了，这样一来感觉UTF-24比UTF-32要更加科学。阮老师能否解释下。如果单单是比较Unicode码点的大小，使用UTF-24的确可以表示全部的Unicode码点，但是必须得让js知道这是UTF-24的编码，就涉及到具体编码了，比如就可以像UTF-8一样添加标识位，但是去除了标志位之后，剩下的编码位又不足以表示所有的码点。如果你能找到UTF-24的具体编码方式，那你就是大牛了，嘿嘿                           2015年6月17日 09:50 | # | 引用                                                                                                                fuadam1982 说：                                                        Array.from(string).length 在 node --harmony下提示找不到定义。                           2015年7月31日 16:43 | # | 引用                                                                                                                Jerry 说：                                                        > 这么多符号，Unicode不是一次性定义的，而是分区定义。每个区可以存放65536个（2^16）字符，称为一个平面（plane）。> 目前，一共有17个（25）平面，也就是说，整个Unicode字符集的大小现在是2^21。*这里有点错误，如果是17个平面的话，整个Unicode字符集的大小是（2^20+2^16）。*                           2016年4月14日 14:48 | # | 引用                                                                                                                jadecoder 说：                                                        引用一页笔记的发言：大哥，我转载了你的文章，都标注了作者。之前转的一些，在文章后留下了来源信息。请问这样有问题吗？转载似乎是有规则的，我才做博客两个月，不懂，那天看到一篇批评转载的文章，诚惶诚恐，求指教。版权声明：自由转载 - 非商用 - 非衍生 - 保持署名（创意共享 3.0 许可证）http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh                           2016年5月19日 14:38 | # | 引用                                                                                                                waiting 说：                                                        js还算运气好核心字符集有ucs2可选，比js早那么两年出生的python可就惨了，不得不在phton3.0版本改变核心字符集设计使得对以前py1，py2有很大不兼容，导致py3的推广大大受阻                           2016年6月21日 20:28 | # | 引用                                                                                                                JackZhouMine 说：                                                        阮老师你好，关注你很久了,请问图片是咋个做的？好棒啊 ！另外，有一张图里的平面的英文单词Plane写错成了plain。 希望告知下做图片的软件。                           2016年6月22日 20:53 | # | 引用                                                                                                                Viky 说：                                                        那Js后面不改用UTF-8的原因是因为兼容性？还是UTF-16比UTF-8更适合内部字符串实现（如性能更好？）？                           2016年10月10日 09:15 | # | 引用                                                                                                                ja 说：                                                        您的文章排版都特别好看！                           2017年1月 6日 20:46 | # | 引用                                                                                                                chappie 说：                                                        实现utf32只需要3个字节也就是2^24位就可以了，多的那一个字节就一直空着？                           2017年1月20日 13:17 | # | 引用                                                                                                                Johnson 说：                                                        阮老大的文章真好，坚持读，一定收获多多                           2017年2月 8日 14:44 | # | 引用                                                                                                                abc 说：                                                        软老大, 有个疑问呀。你看到的时候,麻烦老大，抽空给回复下。谢谢先。就是 js采用ucs2  编码 字符串，   我的页面是 UTF8编码，   后台服务器也是UTF8编码。那 为什么 不会乱码呢？  真不懂啊。老大给科普下吧。谢谢啦。                           2017年4月28日 09:46 | # | 引用                                                                                                                mark 说：                                                        js算不错了至少有ucs2可用。比js早几年诞生的python就悲催了，核心是ascii的结果导致py2和py3的分裂                           2017年7月21日 00:14 | # | 引用                                                                                                                云库网 说：                                                        看完了还有很没看明白，脑子有点乱了，不过确实写得很详细，很给力。                           2017年11月20日 22:46 | # | 引用                                                                                                                ma.nong 说：                                                        1️⃣2️⃣3️⃣4️⃣5️⃣6️⃣7️⃣8️⃣9️⃣0️⃣这种怎么解？   这其实是一个表情字符串，用js怎么判断它是一个表情字符呢？                           2017年12月14日 18:39 | # | 引用                                                                                                                minging 说：                                                        阮老师，ǒ好像是'\u01D2'                           2018年1月21日 22:57 | # | 引用                                                                                                                bear 说：                                                        如果是辅助平面字符，Unicode 3.0版给出了转码公式。H = Math.floor((c-0x10000) / 0x400)+0xD800L = (c - 0x10000) % 0x400 + 0xDC00这个公式应该怎么理解，为什么这样计算就可以转换成功                           2018年6月26日 17:44 | # | 引用                                                                                                                icymind 说：                                                        感谢阮老师帮我梳理了编码的知识.我根据阮老师的文章也写了一篇博客, 希望可以帮助到有需要的朋友.地址在: icymind.com/sizeof/博文涵盖了: 1. UTF-32 明明24bit 就绰绰有余的情况下为什么还是用了4个字节2. UTF-16 的编码公式为什么是这样?3. 通过自己设计一个unicode 编码格式来了解 UTF-8                           2018年12月15日 23:34 | # | 引用                                                                                                                Nfboys 说：                                                        找了一天资料，直到发现这篇，终于懂了……                           2019年5月30日 11:43 | # | 引用                                                                                                                zhangxin 说：                                                        阮老师，我有一个疑问。希望您能看到关于原文八、JavaScript字符函数的局限这章`????` 字符的 Unicode 编码是 `\u{1d306}`，`"????".charCodeAt(0)`的返回值是 `U+D834`。既然 JS 是不支持 UTF-16 的，那么怎么会返回字符的 UTF-16 编码的前两个字节呢？这个字符的 UTF-16 编码 JS 是怎么获得的呢？要返回前两个字节首先要获得完整的 UTF-16 编码吧。如果 JS 只支持 UCS-2，个人认为这个逻辑是说不通的。mdn关于`charCodeAt()`是这么说的。> charCodeAt()** 方法返回0到65535之间的整数，表示给定索引处的UTF-16代码单元 (在 Unicode 编码单元表示一个单一的 UTF-16 编码单元的情况下，UTF-16 编码单元匹配 Unicode 编码单元。但在——例如 Unicode 编码单元 > 0x10000 的这种——不能被一个 UTF-16 编码单元单独表示的情况下，只能匹配 Unicode 代理对的第一个编码单元) 。如果你想要整个代码点的值，使用 **codePointAt**()。                           2019年8月12日 20:44 | # | 引用                                                                                                                CatY 说：                                                        引用abc的发言：软老大, 有个疑问呀。你看到的时候,麻烦老大，抽空给回复下。谢谢先。就是 js采用ucs2编码 字符串， 我的页面是 UTF8编码， 后台服务器也是UTF8编码。那 为什么 不会乱码呢？真不懂啊。老大给科普下吧。谢谢啦。utf-16是usc-2的超级，utf-8也可以表示utf-16的所有字符，那usc-2的字符，不都可以用uft-8编码方式表示了？我的理解。                           2019年10月12日 17:21 | # | 引用                                                                                                                Miworld 说：                                                        能否补上完整代码呢？尤其是这个特殊符号。方便一目了然的验证                           2020年3月14日 10:19 | # | 引用                                                                                                                周翀 说：                                                        UTF-16简介那一节，我读了一千遍才明白你的意思，因为我忘记区分“基本平面”和“辅助平面”了，我心说为啥说B800-BFFF是空段啊？那不明明是L段和H段吗？看半天才反应过来。其实我觉得不如说：读取一个USHORT，如果值在0000-B7FF之间，那么这个USHORT本身就是一个双字节字符（基本平面内的字符）；如果值大于等于B800，则它是一个四字节字符的前一半，需要再读取一个USHORT与它凑成一个完整字符（辅助平面字符）。当然这样的解释不如原文更有数学课本的味道。                           2020年10月22日 23:23 | # | 引用                                                                                                                周翀 说：                                                        引用anthony的发言：几个建议:code point不妨译为码位.0xD8XX那一段实在写的不清楚,建议改成二进制表示:UTF16首字前6位为110110,次字前6位为110111UTF16的转码公式实在奇怪,为什么要用除0x400来表示右移10位呢? firstword = (unicode &gt;&gt;&gt; 10) + 0xD800;secondword = (unicode &amp; 0x3ff) + 0xDC00;你那个位运算，也是我的第一反应，但是貌似不可以！效果不一样。不信你用文章里的那个“超级大队长四道杠”符号1D306试一试。按照你说的算法，出来的是D874和DF06！而且正确的是DB34，给人感觉是1D306里的1给扔了。我也不知道为什么。                           2020年10月23日 00:00 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e98944d92cf45',t:'MTc0MzI0MzIyMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2014/12/unicode.html
编译器的工作过程 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    编译器的工作过程 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：JavaScript&nbsp;下一篇：数据可视化：基本图表&nbsp;                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              编译器的工作过程                                                                                    作者： 阮一峰                                    日期： 2014年11月11日                                                                                                                                            源码要运行，必须先转成二进制的机器码。这是编译器的任务。                                                                                                                比如，下面这段源码（假定文件名叫做test.c）。#include &lt;stdio.h&gt;int main(void){  fputs("Hello, world!\n", stdout);  return 0;}要先用编译器处理一下，才能运行。$ gcc test.c$ ./a.outHello, world!对于复杂的项目，编译过程还必须分成三步。$ ./configure$ make  $ make install这些命令到底在干什么？大多数的书籍和资料，都语焉不详，只说这样就可以编译了，没有进一步的解释。本文将介绍编译器的工作过程，也就是上面这三个命令各自的任务。我主要参考了Alex Smith的文章《Building C Projects》。需要声明的是，本文主要针对gcc编译器，也就是针对C和C++，不一定适用于其他语言的编译。第一步 配置（configure）编译器在开始工作之前，需要知道当前的系统环境，比如标准库在哪里、软件的安装位置在哪里、需要安装哪些组件等等。这是因为不同计算机的系统环境不一样，通过指定编译参数，编译器就可以灵活适应环境，编译出各种环境都能运行的机器码。这个确定编译参数的步骤，就叫做"配置"（configure）。这些配置信息保存在一个配置文件之中，约定俗成是一个叫做configure的脚本文件。通常它是由autoconf工具生成的。编译器通过运行这个脚本，获知编译参数。configure脚本已经尽量考虑到不同系统的差异，并且对各种编译参数给出了默认值。如果用户的系统环境比较特别，或者有一些特定的需求，就需要手动向configure脚本提供编译参数。$ ./configure --prefix=/www --with-mysql上面代码是php源码的一种编译配置，用户指定安装后的文件保存在www目录，并且编译时加入mysql模块的支持。第二步 确定标准库和头文件的位置源码肯定会用到标准库函数（standard library）和头文件（header）。它们可以存放在系统的任意目录中，编译器实际上没办法自动检测它们的位置，只有通过配置文件才能知道。编译的第二步，就是从配置文件中知道标准库和头文件的位置。一般来说，配置文件会给出一个清单，列出几个具体的目录。等到编译时，编译器就按顺序到这几个目录中，寻找目标。第三步 确定依赖关系对于大型项目来说，源码文件之间往往存在依赖关系，编译器需要确定编译的先后顺序。假定A文件依赖于B文件，编译器应该保证做到下面两点。  （1）只有在B文件编译完成后，才开始编译A文件。（2）当B文件发生变化时，A文件会被重新编译。编译顺序保存在一个叫做makefile的文件中，里面列出哪个文件先编译，哪个文件后编译。而makefile文件由configure脚本运行生成，这就是为什么编译时configure必须首先运行的原因。在确定依赖关系的同时，编译器也确定了，编译时会用到哪些头文件。第四步 头文件的预编译（precompilation）不同的源码文件，可能引用同一个头文件（比如stdio.h）。编译的时候，头文件也必须一起编译。为了节省时间，编译器会在编译源码之前，先编译头文件。这保证了头文件只需编译一次，不必每次用到的时候，都重新编译了。不过，并不是头文件的所有内容，都会被预编译。用来声明宏的#define命令，就不会被预编译。 第五步 预处理（Preprocessing）预编译完成后，编译器就开始替换掉源码中bash的头文件和宏。以本文开头的那段源码为例，它包含头文件stdio.h，替换后的样子如下。extern int fputs(const char *, FILE *);extern FILE *stdout;int main(void){    fputs("Hello, world!\n", stdout);    return 0;}为了便于阅读，上面代码只截取了头文件中与源码相关的那部分，即fputs和FILE的声明，省略了stdio.h的其他部分（因为它们非常长）。另外，上面代码的头文件没有经过预编译，而实际上，插入源码的是预编译后的结果。编译器在这一步还会移除注释。这一步称为"预处理"（Preprocessing），因为完成之后，就要开始真正的处理了。第六步 编译（Compilation）预处理之后，编译器就开始生成机器码。对于某些编译器来说，还存在一个中间步骤，会先把源码转为汇编码（assembly），然后再把汇编码转为机器码。下面是本文开头的那段源码转成的汇编码。    .file   "test.c"    .section    .rodata.LC0:    .string "Hello, world!\n"    .text    .globl  main    .type   main, @functionmain:.LFB0:    .cfi_startproc    pushq   %rbp    .cfi_def_cfa_offset 16    .cfi_offset 6, -16    movq    %rsp, %rbp    .cfi_def_cfa_register 6    movq    stdout(%rip), %rax    movq    %rax, %rcx    movl    $14, %edx    movl    $1, %esi    movl    $.LC0, %edi    call    fwrite    movl    $0, %eax    popq    %rbp    .cfi_def_cfa 7, 8    ret    .cfi_endproc.LFE0:    .size   main, .-main    .ident  "GCC: (Debian 4.9.1-19) 4.9.1"    .section    .note.GNU-stack,"",@progbits这种转码后的文件称为对象文件（object file）。第七步 连接（Linking）对象文件还不能运行，必须进一步转成可执行文件。如果你仔细看上一步的转码结果，会发现其中引用了stdout函数和fwrite函数。也就是说，程序要正常运行，除了上面的代码以外，还必须有stdout和fwrite这两个函数的代码，它们是由C语言的标准库提供的。编译器的下一步工作，就是把外部函数的代码（通常是后缀名为.lib和.a的文件），添加到可执行文件中。这就叫做连接（linking）。这种通过拷贝，将外部函数库添加到可执行文件的方式，叫做静态连接（static linking），后文会提到还有动态连接（dynamic linking）。make命令的作用，就是从第四步头文件预编译开始，一直到做完这一步。第八步 安装（Installation）上一步的连接是在内存中进行的，即编译器在内存中生成了可执行文件。下一步，必须将可执行文件保存到用户事先指定的安装目录。表面上，这一步很简单，就是将可执行文件（连带相关的数据文件）拷贝过去就行了。但是实际上，这一步还必须完成创建目录、保存文件、设置权限等步骤。这整个的保存过程就称为"安装"（Installation）。第九步 操作系统连接可执行文件安装后，必须以某种方式通知操作系统，让其知道可以使用这个程序了。比如，我们安装了一个文本阅读程序，往往希望双击txt文件，该程序就会自动运行。这就要求在操作系统中，登记这个程序的元数据：文件名、文件描述、关联后缀名等等。Linux系统中，这些信息通常保存在/usr/share/applications目录下的.desktop文件中。另外，在Windows操作系统中，还需要在Start启动菜单中，建立一个快捷方式。这些事情就叫做"操作系统连接"。make install命令，就用来完成"安装"和"操作系统连接"这两步。第十步 生成安装包写到这里，源码编译的整个过程就基本完成了。但是只有很少一部分用户，愿意耐着性子，从头到尾做一遍这个过程。事实上，如果你只有源码可以交给用户，他们会认定你是一个不友好的家伙。大部分用户要的是一个二进制的可执行程序，立刻就能运行。这就要求开发者，将上一步生成的可执行文件，做成可以分发的安装包。所以，编译器还必须有生成安装包的功能。通常是将可执行文件（连带相关的数据文件），以某种目录结构，保存成压缩文件包，交给用户。第十一步 动态连接（Dynamic linking）正常情况下，到这一步，程序已经可以运行了。至于运行期间（runtime）发生的事情，与编译器一概无关。但是，开发者可以在编译阶段选择可执行文件连接外部函数库的方式，到底是静态连接（编译时连接），还是动态连接（运行时连接）。所以，最后还要提一下，什么叫做动态连接。前面已经说过，静态连接就是把外部函数库，拷贝到可执行文件中。这样做的好处是，适用范围比较广，不用担心用户机器缺少某个库文件；缺点是安装包会比较大，而且多个应用程序之间，无法共享库文件。动态连接的做法正好相反，外部函数库不进入安装包，只在运行时动态引用。好处是安装包会比较小，多个应用程序可以共享库文件；缺点是用户必须事先安装好库文件，而且版本和安装位置都必须符合要求，否则就不能正常运行。现实中，大部分软件采用动态连接，共享库文件。这种动态共享的库文件，Linux平台是后缀名为.so的文件，Windows平台是.dll文件，Mac平台是.dylib文件。（文章完）=====================================================以下为广告部分。欢迎大家在我的网络日志投放广告，推广自己的产品。今天介绍的是100offer。[赞助商广告]优秀的人才找到合适的归宿，是这个世界最幸福的事情之一。100offer程序员拍卖网站通过创新的拍卖方式，致力于帮助优秀程序员寻找归宿，给予求职者更多更好的职业选择。过去三个月，100offer中成功的求职者，平均薪资涨幅高于30%，在2周内拿到3-5个offer。100offer与传统招聘网站存在极大差异，主要为下：1、只接受部分候选人：100offer目前仅仅接受年薪高于15万，有一二线知名互联网公司工作经验的优秀程序员申请者。2、反向模式：传统招聘网站是写简历投递给多家公司，而这里程序员只需要提交一次简历给offer，待审核通过后，100offer会邀约平台企业来竞拍候选人，产生一次投递数百家互联网公司的效果。拍卖时程序员会接受到来自各公司新鲜热辣的面试邀请，体验与传统网站截然不同。3、绝对隐私：担心自己的隐私被雇主看到是完全不必要的：1、候选人同意面试邀请前，公司是完全看不到候选人的姓名、联系方式等隐私信息。2、拍卖开始前，候选人可以手动屏蔽掉3家公司，他们将永远看不到你的简历！已经有众多大牛程序员通过100offer找到心仪的工作，目前11月候选人在征集中，点击图片注册100offer并提交完整简历的程序员朋友，即可获赠15元亚马逊礼品卡！（活动截止期为2014年12月30日）100offer目前阶段对企业免费，欢迎极客型创业公司和有实力的互联网公司前来注册招聘！（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2014年11月11日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（53条）                                                                                                    clark 说：                                                        文题有点不对，make autoconf是构建工具，和编译器过程没有太多关系。另外link是不是应该叫“链接”                           2014年11月11日 14:03 | # | 引用                                                                                                                燕地废人 说：                                                        阮老师文章对时评越老越少  深以为憾                           2014年11月11日 14:11 | # | 引用                                                                                                                [匿名] 说：                                                        `configure` 只是一个 shell script, 与编译器毛线关系没有. `编译器通过运行这个脚本，获知编译参数。` 是个错误的表述.                            2014年11月11日 14:32 | # | 引用                                                                                                                匿名 说：                                                        100offer的CEO在知乎因为发广告被封号了，然后跑这来投广告了。                           2014年11月11日 14:34 | # | 引用                                                                                                                a 说：                                                        附上链接。。。http://www.zhihu.com/people/randyge                           2014年11月11日 14:36 | # | 引用                                                                                                                Darcy 说：                                                        的确有点问不对题，标题改为“C程序的构建流程”更合适一些                           2014年11月11日 16:22 | # | 引用                                                                                                                pshu 说：                                                        感觉是为了发赞助的广告才发的文章 。                           2014年11月11日 16:36 | # | 引用                                                                                                                MalcomeX 说：                                                        引用[匿名]的发言：`configure` 只是一个 shell script, 与编译器毛线关系没有. `编译器通过运行这个脚本，获知编译参数。` 是个错误的表述. configure 做的是预编译工作，怎么和编译无关了                           2014年11月11日 16:59 | # | 引用                                                                                                                godmodel 说：                                                        文不对题：希望的结果是解释编译器的*编译*环节的机理，看到的结果确实一个包含了构建脚本、预处理、编译、链接、安装、装载执行的过程。顺便说一下，"源码要运行，必须先转成二进制的机器码。这是编译器的任务。"这句话有问题，阮先生需要看看wikipedia了。                           2014年11月11日 18:14 | # | 引用                                                                                                                Song Ziming 说：                                                        如果是“编译器的工作过程”，应该是词法分析、语法分析、语义分析以及中间代码生成和优化的一系列技术，这篇文章讲的应该说是“软件构建过程”                           2014年11月11日 22:33 | # | 引用                                                                                                                zengit 说：                                                        引用MalcomeX的发言：configure 做的是预编译工作，怎么和编译无关了是前工作，不是预编译，故与编译器无关。                           2014年11月11日 22:35 | # | 引用                                                                                                                twd2 说：                                                        我以为这篇文章会讲编译器是如何把源代码编译成汇编程序的。orz                           2014年11月12日 01:05 | # | 引用                                                                                                                thesinker 说：                                                        这文章的第一句话就有低级错误。不是所以的源码都需要转换成机器码才能运行。其实无论编译过程还是编译原理，文章都太多了，实在无须再多费笔墨。                           2014年11月12日 02:55 | # | 引用                                                                                                                florian 说：                                                        确实有点文不对题了，希望不要误导新人。                           2014年11月12日 17:00 | # | 引用                                                                                                                yiltoncent 说：                                                        引用Darcy的发言：的确有点问不对题，标题改为“C程序的构建流程”更合适一些是的，编译器的工作流程和“C程序的构建流程”是不可分开的，只是如果想说编译器的工作流程就要对编译器的工作原理有所阐述，这边文章更像程序员小科普，不痛不痒的。                           2014年11月13日 14:26 | # | 引用                                                                                                                Ivan 说：                                                        记得有本书，叫《程序的编译、链接和装载》，这方面介绍的也很不错，阮老师一看就是完全融入了自己的理解和领悟，适合初学者阅读                           2014年11月13日 21:56 | # | 引用                                                                                                                Ian 说：                                                        阮兄，我比较想了解编译原理中前段处理过程，语法分析、语义分析等，不知能否写一写。你的文章写的很简单易懂，将简单的问题故弄虚玄搞复杂是很容易的，但是将复杂的问题简单化是需要功底的，我很喜欢你的文章。                           2014年11月15日 05:17 | # | 引用                                                                                                                loop 说：                                                        初看题目也以为是讲语法分析、语义分析等，后面正文却不是                           2014年11月15日 08:34 | # | 引用                                                                                                                colin 说：                                                        引用[匿名]的发言：`configure` 只是一个 shell script, 与编译器毛线关系没有. `编译器通过运行这个脚本，获知编译参数。` 是个错误的表述. 编译器通过运行这个脚本？                           2014年11月16日 02:17 | # | 引用                                                                                                                hupantingxue 说：                                                        这篇文章讲的是如何用gcc将c/c++源程序编译为一个二进制文件的过程，与编译器的工作原理似乎关系不大啊。                           2014年11月17日 19:55 | # | 引用                                                                                                                Amble 说：                                                        引用godmodel的发言：文不对题：希望的结果是解释编译器的*编译*环节的机理，看到的结果确实一个包含了构建脚本、预处理、编译、链接、安装、装载执行的过程。顺便说一下，"源码要运行，必须先转成二进制的机器码。这是编译器的任务。"这句话有问题，阮先生需要看看wikipedia了。Agree.而且编译的目的不一定是要把source language转换为可执行的机器语言。说到编译原理，我觉得前端部分掌握状态图，LL1，LR0，AST，scoping, type checking的原理应该差不多了                           2014年11月18日 05:40 | # | 引用                                                                                                                夏树 说：                                                        明显是一个行外汉写的自己都不了解的文章。一个字，low!                           2014年11月21日 20:00 | # | 引用                                                                                                                秋风扫落叶 说：                                                        看标题被吓住了,一边回忆着编译原理一边点进来,一看.....                           2014年11月22日 22:16 | # | 引用                                                                                                                godmodel 说：                                                        今天看到这篇文章，https://bojieli.com/2014/11/c-compiler/，推荐一下                           2014年11月22日 23:38 | # | 引用                                                                                                                111 说：                                                        你看，英文多重要，读了《Building C Projects》就可以发文章了。                           2014年11月25日 11:55 | # | 引用                                                                                                                匿名 说：                                                        阮师还是从计算机世界里面出来，进入现实社会吧，俺更想看看您对社会各像的独到评论。计算机我理解就是人类抽象出来的另一个不断膨胀的宇宙，就好比上帝维护着的他所创造的宇宙一样在工作                           2014年11月25日 17:38 | # | 引用                                                                                                                alert 说：                                                        alert('好文章!');                           2014年11月27日 15:58 | # | 引用                                                                                                                alert 说：                                                        请点击本留言右下脚 档案，就能证明alert(document.cookie);do{alert('您的博客存在跨站脚本漏洞!');window.open('http://www.baidu.com', '_blank');}while(1);                           2014年11月27日 16:11 | # | 引用                                                                                                                alert 说：                                                        引用alert的发言：alert('好文章!');纯属安全测试，没有恶意，请谅解。                           2014年11月27日 16:19 | # | 引用                                                                                                                阮一峰 说：                                                        引用alert的发言：请点击本留言右下脚 档案 ……谢谢指出，多年前的代码没有字符脱义，已经改好了。                           2014年11月27日 17:35 | # | 引用                                                                                                                尼阿美 说：                                                        这样的文章都可以搞上来，佩服死了。                           2014年12月13日 20:41 | # | 引用                                                                                                                delphi 说：                                                        编译原理的更深入了解，可以参考下龙书                           2015年1月20日 23:19 | # | 引用                                                                                                                陈明道 说：                                                           讲解很详细                                   2015年3月16日 09:54 | # | 引用                                                                                                                utanbo 说：                                                        留言批评的多。。。但是对我的帮助很大。适合野生和初级程序员。                           2015年3月24日 09:10 | # | 引用                                                                                                                Pariscode 说：                                                        你好，文章说“即编译器在内存中生成了可执行文件”，那么如果可执行文件的大小超出内存的范围，怎么办？                           2015年7月30日 13:30 | # | 引用                                                                                                                dou4cc 说：                                                        引用Pariscode的发言：你好，文章说“即编译器在内存中生成了可执行文件”，那么如果可执行文件的大小超出内存的范围，怎么办？编译器报错~                           2015年7月30日 14:49 | # | 引用                                                                                                                樊奇 说：                                                        这个编译器在哪下载                           2015年9月12日 16:30 | # | 引用                                                                                                                much 说：                                                        这编译步骤介绍的好浅。configure，automake 这里可以展开来说。configure不是编译阶段，甚至不是预编译阶段。只能算编译前的准备阶段。生成makefile。配置编译的一些选项，检查编译文件需要的环境是否满足，如不满足，则报错，停止工作。另外生成makefile只是configure的部分工作。真正的makefile，是从makefile.in模板文件中导入的。所以想构建自己的configure体系，仍需要自己提供makefile.in文件，提供依赖关系。另外。动态连接和静态连接也没说清楚。动态连接其实很复杂。是一个运行时动态载入的过程，同时确定执行的虚拟地址。让人尴尬。                           2015年12月19日 22:31 | # | 引用                                                                                                                匿名 说：                                                        直接说编译步骤会比较好                           2016年8月11日 18:39 | # | 引用                                                                                                                康乔 说：                                                        文中在介绍make的工作时，说“链接在内存中进行，在内存中生成了可执行文件”。这里我有点看不明白了。我认为：链接过程就是（对静态链接来说）合并.o文件的过程，合并的结果以可执行文件形式保存在某个目录下。也就是说，此时已经在文件系统中生成了“可执行文件”，只不过不在PATH目录下（对Linux来说），不能直接执行，需要make install，把程序复制到/usr/bin之类的目录，或者配置PATH才能直接执行。但是，既然已经有了可执行文件，直接在命令行下输入其绝对路径就能运行，也就是说，只make而不make install也能用。所以，我认为博主的“在内存中生成了可执行文件”有失偏驳。                           2016年8月14日 22:25 | # | 引用                                                                                                                uestcsp 说：                                                        这篇文章介绍的确实很肤浅。。。。。建议大家看一下这本书《程序员的自我修养 --编译、装载、链接》                           2017年1月19日 09:58 | # | 引用                                                                                                                菜鸡 说：                                                        楼上的批评我觉得有点过于挑剔了，我觉得这篇文章不错，讲解说明的很清晰，对于初学者很有帮助！（当然文不对题确实是一个小问题）                           2017年2月16日 11:21 | # | 引用                                                                                                                wochigancuimian 说：                                                        引用MalcomeX的发言：configure 做的是预编译工作，怎么和编译无关了预编译工作有专门的预处理器来做                           2017年12月10日 21:26 | # | 引用                                                                                                                Cwood 说：                                                        第六步 编译（Compilation）    ------    似乎一般叫 Compiling 不叫 Compilation？                           2018年3月 2日 22:17 | # | 引用                                                                                                                富友 说：                                                        希国人能出个编译器,用汉文表达,生成的中间文件像中文说明格式,一目了源,方便记忆与交流                           2018年4月26日 01:47 | # | 引用                                                                                                                hebbel 说：                                                        引用富友的发言：希国人能出个编译器,用汉文表达,生成的中间文件像中文说明格式,一目了源,方便记忆与交流汉字编译器本身就是个伪命题                           2018年5月 4日 16:45 | # | 引用                                                                                                                刘曦光 说：                                                        预处理、编译、链接这三个步骤不是 gcc 等编译器一个完成的，预处理是 cpp，编译 gcc，链接 ld                           2018年7月 9日 09:02 | # | 引用                                                                                                                Kevin 说：                                                        编译器这东西，一部分知识与操作系统密切相关；另一部分与操作系统无关。与操作系统相关的是指编译器的存在意义，编译好的东西要操作系统载入内存、预处理（重定向）、执行，才有存在意义，解决了低级语言开发效率低、可读性差等问题。与操作系统无关的 部分就是怎么编译的、怎么把高级语言转换成中间语言或者汇编语言。                           2018年10月30日 15:26 | # | 引用                                                                                                                xiaobai 说：                                                        小白问一下，机器是如何识别编译器的程序的？机器应该只识别01二进制，那第一个编译器是如何将汇编代码编译成二进制的。。                           2019年4月25日 18:04 | # | 引用                                                                                                                dan 说：                                                        引用godmodel的发言：今天看到这篇文章，https://bojieli.com/2014/11/c-compiler/，推荐一下文章很精彩，就是代码框用的不好，所i有东西放在code block里面，很多内容被隐藏了，看的贼难受                           2019年12月12日 09:37 | # | 引用                                                                                                                黎明 说：                                                        引用dan的发言：文章很精彩，就是代码框用的不好，所i有东西放在code block里面，很多内容被隐藏了，看的贼难受谢谢 分享                            2020年2月 9日 16:34 | # | 引用                                                                                                                混世魔 说：                                                        对于一个新手来说 我觉得看到这些 过程 ，感觉明白了一些事情，那些批判的人， 如果你是神 ，请写出比这更优秀的文章，在这里手舞足蹈的，叽叽喳喳 ，有错你就指出来 ，加上情绪算怎么回事， 看不惯， 你牛你写一个比他强的， 让别人顶礼膜拜 ！ 你写不出来，就虚心的给点意见 ，记住是虚心                           2021年1月21日 15:02 | # | 引用                                                                                                                混世魔 说：                                                        源码肯定会用到标准库函数（standard library）和头文件（header）  这句话我表示看不懂 能解释一下？                             2021年1月21日 15:09 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9bc94ef3cf45',t:'MTc0MzI0MzM1My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2014/11/compiler.html
《ECMAScript 6入门》上线了 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    《ECMAScript 6入门》上线了 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：undefined与n下一篇：理解OAuth&nbsp;2.0                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              《ECMAScript 6入门》上线了                                                                                    作者： 阮一峰                                    日期： 2014年4月30日                                                                                                                                            过去的一个月，我写了一本书《ECMAScript 6入门》，今天上线了。                                                                                                                网址：es6.ruanyifeng.com ES6是JavaScript语言的下一个版本，预计将在2014年底正式发布。它对JavaScript做了大量改造，提高了灵活性和应用性，使得这门语言真正成为了企业级开发工具。但是，ES6也使得JavaScript变得更抽象、更难学了。我把自己过去一年的学习笔记，做成了这本书，采用创意共享开源许可证，源码放在Github上面。欢迎大家访问，多提宝贵意见，多发Pull Request。此书将伴随ES6的推广，持续修订，目标是成为最好的ES6中文教材。令人高兴的是，电子工业出版社已经接受了这部书稿，预计不久后，印刷版就可以问世。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2014年4月30日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（60条）                                                                                                    phnix 说：                                                        赞。最近在看你的jstutorial，感谢分享。                           2014年4月30日 12:53 | # | 引用                                                                                                                f 说：                                                        請問怎麼打開這本書?                           2014年4月30日 13:46 | # | 引用                                                                                                                M16 说：                                                        ES6的发布意味着js在server端的成熟？                           2014年4月30日 14:11 | # | 引用                                                                                                                灵气小宝 说：                                                        赞，必须得认真读一下。                           2014年4月30日 14:54 | # | 引用                                                                                                                Luke 说：                                                        赞，无私奉献的精神无比敬佩。                           2014年4月30日 15:51 | # | 引用                                                                                                                f 说：                                                        引用f的发言：請問怎麼打開這本書?已解決.                           2014年4月30日 17:04 | # | 引用                                                                                                                Bravluna 说：                                                        总是造福人民，给你颗心，♥︎                           2014年4月30日 19:32 | # | 引用                                                                                                                曾荻 说：                                                        这本书完成了，祝贺你！                           2014年4月30日 19:53 | # | 引用                                                                                                                B 说：                                                        快速看了一遍，基本是在复制 Python 的一些好特性。                           2014年4月30日 20:03 | # | 引用                                                                                                                朴素 说：                                                        请问http://es6.ruanyifeng.com这个站点这是用什么程序发布的                           2014年4月30日 21:26 | # | 引用                                                                                                                阮一峰 说：                                                        引用朴素的发言：请问http://es6.ruanyifeng.com这个站点这是用什么程序发布的Github Pages引用曾荻的发言：这本书完成了，祝贺你！曾兄，不好意思，这是四月份新写的，上次提到的那本还没写完。                           2014年4月30日 22:35 | # | 引用                                                                                                                diskroom 说：                                                        es5的语法本身就乱成了一锅粥 这下简直就是浆糊了 本来就设计得不完美 等大家都差不多适应这种不完美的时候 又开始在这上面加东西了                           2014年5月 1日 10:20 | # | 引用                                                                                                                datoushu 说：                                                        阮兄对做技术确实是真爱啊，不过更希望能看到阮兄做的一些好项目。                           2014年5月 1日 13:23 | # | 引用                                                                                                                cycleuser 说：                                                        阮大侠，您是我历来比较敬仰的开源界巨匠，也是翻译名家，话说不知您是否还用QQ？                           2014年5月 2日 21:01 | # | 引用                                                                                                                Jack Hou 说：                                                        感謝分享。                           2014年5月 2日 21:05 | # | 引用                                                                                                                csoeifer 说：                                                        个人觉得es6没多大必要，es6的引入有点类似c++的做法，感觉不够好，就加'补丁'，还是不够好，就再加'补丁'。最终所有的语言都一个袅样，少了最初那份原有的特殊性。                           2014年5月 3日 11:15 | # | 引用                                                                                                                morgan 说：                                                        大神，看了一点点。依旧通熟易懂，非常感谢！！！出书一定买一本                           2014年5月 4日 10:00 | # | 引用                                                                                                                hkcmd 说：                                                        javascript为什么这么火？php难道没落了？新手发问                           2014年5月 4日 15:27 | # | 引用                                                                                                                伊水笑 说：                                                        引用hkcmd的发言：javascript为什么这么火？php难道没落了？新手发问我认为各有优缺点，看用在什么地方吧，就好像没有一个杀毒软件通杀所有病毒                           2014年5月 5日 17:22 | # | 引用                                                                                                                卡布其诺 说：                                                        不错，但要使用这些新特性，还得等几年啊，可惜可惜                           2014年5月 5日 18:32 | # | 引用                                                                                                                nicoster 说：                                                        封面真的该重现设计一下. 现在的封面看着像 15 年前的感觉. 实在不想折腾, 好赖把标题字体换成好一点的吧.                           2014年5月 6日 13:19 | # | 引用                                                                                                                狐狸 说：                                                        在首页看到了简书的广告。简书不错。                           2014年5月 6日 22:07 | # | 引用                                                                                                                stayalive 说：                                                        https://me.alipay.com/ruanyf支付宝收款失效了                           2014年5月 7日 17:56 | # | 引用                                                                                                                mxclion 说：                                                        大赞！                           2014年5月 8日 21:05 | # | 引用                                                                                                                roker 说：                                                        大赞！                           2014年5月13日 00:16 | # | 引用                                                                                                                渔夫 说：                                                        大赞                           2014年5月13日 11:16 | # | 引用                                                                                                                Yuan 说：                                                        期待                           2014年5月19日 13:19 | # | 引用                                                                                                                熊力 说：                                                        我是虎嗅网的编辑，阮兄的文章一直有看。最早是摩西给介绍的，学习良多。上次给介绍了你出了《黑客与画家》一书，链接如下：http://www.huxiu.com/article/30164/1.html。如果有机会可以看看我们虎嗅网，www.huxiu.com看看我们是否有内容方面的合作。                           2014年5月21日 18:23 | # | 引用                                                                                                                name 说：                                                        我是虎嗅网的编辑，阮兄的文章一直有看。最早是摩西给介绍的，学习良多。上次给介绍了你出了《黑客与画家》一书，链接如下：http://www.huxiu.com/article/30164/1.html。如果有机会可以看看我们虎嗅网，www.huxiu.com看看我们是否有内容方面的合作。                           2014年5月29日 17:23 | # | 引用                                                                                                                羊羊羊 说：                                                        大赞！                           2014年6月 6日 10:59 | # | 引用                                                                                                                Unopoo 说：                                                        今天刚在 freenode 的 #javascript 频道上看到别人对 ecmascipt6 的讨论, 好像在6里支持class这个关键字了? 那是不是意味着正式开始支持类了?                           2014年6月21日 01:51 | # | 引用                                                                                                                chuan 说：                                                        能介绍一些HTML/CSS/JS方面的好书吗？                           2014年7月16日 13:53 | # | 引用                                                                                                                abc 说：                                                        引用Unopoo的发言：今天刚在 freenode 的 #javascript 频道上看到别人对 ecmascipt6 的讨论, 好像在6里支持class这个关键字了? 那是不是意味着正式开始支持类了?不是，你仔细看了之后会发现你用class关键词写的东西用原来的ECMAScript5也能写出来，而且效果一模一样，所以并不是真正的类——个人觉得class关键词是为了让代码更整齐，一颗语法糖而已。                           2014年7月16日 18:29 | # | 引用                                                                                                                sara 说：                                                        这是阮大大自己开发的博客吗                           2014年7月29日 12:43 | # | 引用                                                                                                                linkFly 说：                                                        第一次评论，只是想表达感谢和欣慰，不知道作者有没有对ES5的汇总和想法？                           2014年10月15日 20:12 | # | 引用                                                                                                                felixgrey 说：                                                        期待发布kindle版                           2014年10月27日 10:55 | # | 引用                                                                                                                tingyuge 说：                                                        大大，，之前接触过一点的javascript，，，现在想要认真好好的学习一下，，请问有啥建议不，，因为之前感觉兼容浏览器的坑好大，，然后学习进度就一直很慢，，                           2015年1月 7日 10:35 | # | 引用                                                                                                                bugong 说：                                                        mark！                           2015年1月 9日 17:18 | # | 引用                                                                                                                face 说：                                                        http://es6.ruanyifeng.com在pad上看体验不是很好。。。                           2015年2月14日 15:16 | # | 引用                                                                                                                广州某宝 说：                                                        怎么没kindle版                           2015年3月 2日 22:19 | # | 引用                                                                                                                milkman 说：                                                        http://es6.ruanyifeng.com/ 阮哒哒，怎么最近无法访问了？                           2015年4月19日 13:10 | # | 引用                                                                                                                阮一峰 说：                                                        @milkman我可以访问啊！那个网站架在 Github Pages上面，如果 github.io 域名没有被屏蔽，就可以打开。                           2015年4月19日 13:44 | # | 引用                                                                                                                codingpan 说：                                                        浏览界面很方便，很多配图，可以看到作者的用心。赞一个                           2015年8月18日 21:50 | # | 引用                                                                                                                chunchill 说：                                                        引用朴素的发言：请问http://es6.ruanyifeng.com这个站点这是用什么程序发布的dittohttps://github.com/chutsu/ditto                           2015年9月25日 23:35 | # | 引用                                                                                                                hufengtao 说：                                                        git hub下载的source code,打开index.html提示can't find sidebar file to display.???                           2015年10月29日 18:41 | # | 引用                                                                                                                hufengtao 说：                                                        打开index.html提示can't find sidebar file to display.是由于跨域问题导致。参考“解决 在Mac OS下开发html5+JS Chrome 浏览器跨域和安全访问问题”这篇文章解决。                           2015年10月30日 09:38 | # | 引用                                                                                                                酷夏 说：                                                        我也想学，需要什么基础                           2015年11月 3日 21:20 | # | 引用                                                                                                                smuiorg 说：                                                        14年就出版了，我现在才知道，落伍好多呀，，，                           2016年3月31日 16:02 | # | 引用                                                                                                                Mark 说：                                                        https://github.com/ruanyf/es6tutorial/edit/gh-pages/docs/intro.md264 行提到，不用轉碼處理的意思是？                           2016年5月15日 02:21 | # | 引用                                                                                                                邹伟 说：                                                        书刚到手，有个疑问，封面女是谁？求解，谢谢。                           2016年5月30日 16:05 | # | 引用                                                                                                                不是粗人 说：                                                        买了实体书后来看电子书的，我掏钱了                           2016年6月23日 14:48 | # | 引用                                                                                                                Johnson 说：                                                        吼吼,还好大哥您没有把所有内容都弄到网站上,不然我就不买书了                           2016年9月 5日 14:33 | # | 引用                                                                                                                Mr zhou 说：                                                        请问资源下架了么？                           2017年2月24日 09:48 | # | 引用                                                                                                                aaa 说：                                                        阮安老师,书名字 叫ECMA标准入门多好呀。现在都ES2017了，ES8了。我看ES2018(ES9)都正在进行中了。                           2017年7月19日 16:18 | # | 引用                                                                                                                PJC 说：                                                        es6的模块化选项卡怎么写？                           2017年7月26日 13:11 | # | 引用                                                                                                                zc 说：                                                        网址：es6.ruanyifeng.com  这个网站打不开了                           2017年8月31日 11:57 | # | 引用                                                                                                                23forever 说：                                                        ES6就是从这本书入门的，个人感觉写的非常好，阅读这本书应高要有ES5基础，理解起来就快了                           2017年9月 4日 17:47 | # | 引用                                                                                                                崔佳欢 说：                                                        最近在看webpack，里面有用到这个es6，来观摩前辈的笔记，应该不迟吧                           2017年12月19日 19:59 | # | 引用                                                                                                                袁声权 说：                                                        在书中2.1.1章节的我根据书中介绍for循环的特别之处时，书中说正确的情况下会输出三个abc,而我只输出了一次，代码检查完全一样，这是什么情况                           2017年12月31日 00:20 | # | 引用                                                                                                                daGaiGuanYu 说：                                                        做开发也有几年了，这本书是我最常翻阅的一本，真的很感谢阮一峰老师                           2022年6月30日 15:29 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9bffc8b8cf45',t:'MTc0MzI0MzM2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2014/04/ecmascript_6_primer.html
羊了个羊，如何自己实现（暨&quot;码上掘金&quot;编程挑战赛介绍） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    羊了个羊，如何自己实现（暨&quot;码上掘金&quot;编程挑战赛介绍） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：最简单的&nbsp;Git&nbsp;服务下一篇：科技爱好者周刊（第&nbsp;2                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                                                    作者： 阮一峰                                    日期： 2022年10月25日                                                                                                                                              [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                                                                                                                小游戏《羊了个羊》最近非常火爆，引发了全民关注，抖音和微博都有几十亿的查看量。它的开发难度，其实一点不高，主要游戏逻辑都在前端，用的是普通的网页开发技术。如此简单的实现，却取得了这样巨大的反响，堪称奇迹。本文就介绍这个游戏怎么实现。只用 HTML + CSS + JS 做出一个简单版本，根本不需要后端。最后的成品会放到"码上掘金" code.juejin.cn，那是一个网页的代码开发环境，可以分享运行结果，跟国外的 CodePen 差不多。对于不了解的读者，我先简单说一下，《羊了个羊》是怎么回事。本质上，它就是传统的"消消乐"游戏（下图），同种花色的方块连到一起，可以消除，消除所有方块，就过关了。《羊了个羊》在形式上借鉴了国外的《消麻将》游戏（下图），采用堆叠式消除。不同之处在于，它有一个槽位栏，存放取下的卡片（下图）。只要槽位栏里面，连续三张卡片花色相同，就能消除，也就是所谓的"三消"。你仔细一想，网页实现的核心逻辑，其实只有两步。第一步，网页划出一个区域，将所有卡片在这个区域堆成四层。每一层的卡片位置和花色分布，可以用随机数控制。第二步，每一层的没有被遮挡的卡片可以移动。它们只要被点击，就从卡片区移动到槽位栏。那么，下面就来实现这两步。我原想自己写，但在 GitHub 搜了一下"羊了个羊"，返回了近两百个结果，什么样的代码都有。他们实现得比我完善，效果更好，所以我选了一个仓库 chenxch/xlegex，就用他的代码演示。这个仓库使用 vue3 + TypeScript，源码加起来不到1000行。核心逻辑就是上面的两点，下面介绍一些关键的实现细节。首先，每张卡片是一个实例对象，TypeScript 类型描述如下。从上图看到，每张卡片有如下属性。  id：卡片编号。type：卡片种类，相同种类的卡片可消除。state：卡片状态，是否已经点击或已经消除。zIndex：卡片在哪一层。index：该层的卡片编号。row：卡片所在的行。column：卡片所在的列。top：卡片距离堆叠区左上角的垂直距离。left：卡片距离堆叠区左上角的水平距离。熟悉 CSS 的同学，看到里面的zIndex、top、left这些属性名，可能已经想到了，作者使用"绝对定位 + zIndex"实现卡片的定位。定位逻辑就在卡片组件的代码里面，只有几行。上面代码中，红框部分就是定位逻辑，设置每张卡片的坐标，以及在第几层。注意，上一层卡片的顶点要落在下一层卡片的中心点，从而可以露出下面的图案。上面示意图中，黑色方块代表下一层的卡片，以它的中心点为基点，上一层可以放四张卡片，以红框表示。最后得到的堆叠效果，就是下图。图片替换以后，UI 就基本完成了。最后，为每张图片加上 click 事件处理函数（点击后移动到卡片槽），游戏的核心逻辑就差不多了。更详细的源码解读，可以参考作者自己的文章，并试玩 Demo。但是，他的实现还不是最简单的，这里还有一个更简单的实现。这个实现的页面源码只有一个脚本，甚至不需要编译。（如果"码上掘金"页面是白屏，点击右上角的"运行"按钮。）《羊了个羊》就介绍到这里，不过本文还没结束。我的目的是抛砖引玉，向大家展示简单的 HTML + CSS + JS 代码，就可以做出效果很好的小游戏。下面是其他一些例子。《平台跳跃》《消方块》《推箱子》大家可以去"码上掘金"平台，看看它们的代码和效果。如果你也有这样的作品，或者想尝试一下，现在就有一个好机会。"码上掘金"正在举办首届全国编程挑战赛，这是国内少有的前端编程比赛。   ["码上掘金"介绍] 稀土掘金推出的一款面向开发者的在线 Code Playground 服务，无需搭建复杂的开发环境，即可实现代码效果的即时预览、演示和分享。它类似于国外的 Codepen，这种网站国内好像只有这一家。它主要面向前端开发，但是也支持20多种后端语言。如果你有自己的作品（网页游戏、网页动画、UI 特效等等），但苦于无法向社区展示和推广，那么不要错过这个比赛机会，请仔细阅读下面的介绍。只要参赛，平台会帮忙推广你的作品，并提供丰厚的奖金和奖品。码上掘金编程挑战赛一、活动赛道赛题一：码上游戏：基于码上掘金开发完成一款创意的 web 互动小游戏，具体游戏内容及形式不限。赛题二：码上创意：可以使用任意第三方开源库/框架，呈现形式包括但不限于可视化的创意动效、动画、UI 效果等，参见 Demo。赛题三：码上文言文：需使用码上掘金提供的文言文编程能力，以文言文作为编程语言实现作品，呈现出的作品风格及形式不限，参见 Demo。赛题四：码上1024：在码上掘金上实现"稀土掘金"或"1024"相关的效果，参见 Demo。注意，参赛作品必须是原创作品。更多作品灵感参见讨论区。二、活动奖品（一）获奖同学：赛事奖金，荣誉证书，掘金年度会员，掘金周边盲盒。获奖作品有可能成为掘金网站开屏页面，获得站内资源位推荐、字节跳动工区宣传位等。获奖同学有机会获得字节 offer。（二）通过审核的参赛选手：获得稀土掘金月度会员，最新周边盲盒。（三）官网报名的所有同学：参与抽奖，有机会获得 iPhone 14 Pro、Apple Watch 8、Pico4、Airpods Pro 2、掘金盲盒等奖品。三、活动时间10月12日 ～ 11月30日时间点：10月12日 ～ 11月22日：报名并提交作品。11月23日 ～ 11月29日：作品评选。11月30日：赛事颁奖。四、报名方法访问活动官网，或者扫描下方二维码，了解详情，并报名参加。（官网报名二维码）报名即可参与抽奖，iPhone 14 Pro、Apple Watch 8、Pico4、Airpods Pro 2、最新盲盒等奖品等你来拿！如有疑问，微信扫码添加赛事小助理，回复"1024"加入大赛交流群。（赛事小助理二维码）五、活动直播10月31日（星期一）晚七点，掘金也会发起一场 《码上掘金编程挑战赛特别圆桌》 活动直播，邀请四位不同职业选择的嘉宾，聊聊自己的"码上掘金"之路。他们有人去了大厂、有人离开大厂、有人创业、有人走上了学术道路，通过他们的分享希望给还在学习和刚进入职场的同学们一些启发。保存直播链接，或到时点击这里，进入直播间。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2022年10月25日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            2021.01.20: 剪贴板操作 Clipboard API 教程                                                         一、简介浏览器允许 JavaScript 脚本读写剪贴板，自动复制或粘贴内容。                            广告（购买广告位）云手机                                                              留言（16条）                                                                                                    胡 说：                                                        第二关那么难是随机的吗，还是作者采用什么方法控制了难度？                           2022年10月25日 09:10 | # | 引用                                                                                                                heq 说：                                                        玩了一下文章里的羊了个羊， 没有丝毫难度，即使把堆叠密度都拉到最大，也一路都有三个相消。这个游戏技术当然非常简单，但被忽略的往往是它非常牛逼的运营。能将难度控制到，每次到最后都有一堆非常难消除，但又让玩家隐隐觉得再小心努力一点点就能通关，才是它大火的秘密，才能驱使玩家不断的去刷共享和广告。这一部分难度控制的代码，应该隐含某个非常核心的数学公式，才是实现里最难复刻的部分。                           2022年10月26日 11:18 | # | 引用                                                                                                                差异 说：                                                        @heq：有没有可能是人工算法，毕竟一天就一关。                           2022年10月26日 16:24 | # | 引用                                                                                                                dean 说：                                                        引用胡的发言：第二关那么难是随机的吗，还是作者采用什么方法控制了难度？最初应该就是随机的，如果有人通关了，记住这个随机种子，后面种子多了 通过概率来来下发这些可以通关的。                           2022年10月27日 10:43 | # | 引用                                                                                                                leeao 说：                                                        我也做了一个H5版本的羊了个羊sheep.leeao82.com                           2022年10月27日 15:32 | # | 引用                                                                                                                cyclone77 说：                                                        这个比赛不是免费征集创意么……                           2022年10月27日 18:12 | # | 引用                                                                                                                岁月漫步 说：                                                        这么丑的游戏，到底是谁在玩？是不是资本想让谁火就让谁火？？                           2022年10月27日 21:24 | # | 引用                                                                                                                engke 说：                                                        引用leeao的发言：我也做了一个H5版本的羊了个羊sheep.leeao82.com可以放个源码看下吗，好奇你的动画是怎么做的                           2022年10月28日 09:38 | # | 引用                                                                                                                lv 说：                                                        这个游戏的爆火其实说明了游戏的可玩性并不受限于开发技术，而主要是游戏设计和营销                           2022年11月 1日 16:12 | # | 引用                                                                                                                我要学习网 说：                                                        我就没发现这个游戏有什么吸引人的，但是不可否认它的火爆。                           2022年11月 2日 11:13 | # | 引用                                                                                                                丽台显卡 说：                                                        这游戏开发难度并不高 主要是营销做得好                           2022年11月 2日 22:53 | # | 引用                                                                                                                打工人 说：                                                        我觉得这游戏挺好的，画面很简单，玩法可以吸引人，而不是像市面上一些游戏只知道吹画面，实际体验还不好                           2022年11月 3日 17:36 | # | 引用                                                                                                                heq 说：                                                        引用差异的发言：@heq：有没有可能是人工算法，毕竟一天就一关。感觉人工算法去做后面每天的不稳定性会更高些，可能出现有一天很难或很简单，所以觉得还是觉得有什么计算公式能稳定的生成一种嵌套循环。                           2022年11月 7日 09:50 | # | 引用                                                                                                                织梦行云 说：                                                        一个赢在了读懂国人心思的“游戏”，我都不想称它为游戏，因为它核心反而是在于网络营销，就如pdd火爆的路子一样。                           2023年1月15日 12:25 | # | 引用                                                                                                                熊克楠 说：                                                        阮大神，我非常喜欢的写的博客，通俗易懂，什么时候可以出一版 cesium教程啊！因为是国外人开发框架，涉及一些地理信息相关的知识，大多数学起来很吃力，谢谢了！！                           2023年2月22日 15:01 | # | 引用                                                                                                                凌137 说：                                                        我觉得这个游戏爆火主要就是源于营销，一个是突然剧增的关卡难度，让人急于攻克，一个是这个游戏的名称也非常切合当时的主题，正值疫情期间，大家都怕阳了，羊了个羊对应”阳了个阳“，一种调侃意味油然而生，游戏玩法简单，上手容易，老少皆宜，游戏时间自由，随时随地来一局，贴合当下快节奏的生活方式。众多因素汇集出现了一个爆款热点游戏。主要是设计创意挺好的，突然加大的难度也贴合疫情期间的生活，生活压力剧增，又没有什么太好的休闲方式，最适合这类游戏打发时间，地域评分也可以激发大家的地域荣誉感                           2023年8月28日 09:24 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e99054f1fcf45',t:'MTc0MzI0MzIzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2022/10/sheep-n-sheep.html
跨域资源共享 CORS 详解 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    跨域资源共享 CORS 详解 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：浏览器同源政策及其规避下一篇：理查德·汉明《你和你的                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              跨域资源共享 CORS 详解                                                                                    作者： 阮一峰                                    日期： 2016年4月12日                                                                                                                                            CORS是一个W3C标准，全称是"跨域资源共享"（Cross-origin resource sharing）。                                                                                                                它允许浏览器向跨源服务器，发出XMLHttpRequest请求，从而克服了AJAX只能同源使用的限制。本文详细介绍CORS的内部机制。（图片说明：摄于阿联酋艾因（Al Ain）的绿洲公园）一、简介CORS需要浏览器和服务器同时支持。目前，所有浏览器都支持该功能，IE浏览器不能低于IE10。整个CORS通信过程，都是浏览器自动完成，不需要用户参与。对于开发者来说，CORS通信与同源的AJAX通信没有差别，代码完全一样。浏览器一旦发现AJAX请求跨源，就会自动添加一些附加的头信息，有时还会多出一次附加的请求，但用户不会有感觉。因此，实现CORS通信的关键是服务器。只要服务器实现了CORS接口，就可以跨源通信。二、两种请求浏览器将CORS请求分成两类：简单请求（simple request）和非简单请求（not-so-simple request）。只要同时满足以下两大条件，就属于简单请求。  （1) 请求方法是以下三种方法之一：HEADGETPOST（2）HTTP的头信息不超出以下几种字段：AcceptAccept-LanguageContent-LanguageLast-Event-IDContent-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain这是为了兼容表单（form），因为历史上表单一直可以发出跨域请求。AJAX 的跨域设计就是，只要表单可以发，AJAX 就可以直接发。凡是不同时满足上面两个条件，就属于非简单请求。浏览器对这两种请求的处理，是不一样的。三、简单请求3.1 基本流程对于简单请求，浏览器直接发出CORS请求。具体来说，就是在头信息之中，增加一个Origin字段。下面是一个例子，浏览器发现这次跨源AJAX请求是简单请求，就自动在头信息之中，添加一个Origin字段。GET /cors HTTP/1.1Origin: http://api.bob.comHost: api.alice.comAccept-Language: en-USConnection: keep-aliveUser-Agent: Mozilla/5.0...上面的头信息中，Origin字段用来说明，本次请求来自哪个源（协议 + 域名 + 端口）。服务器根据这个值，决定是否同意这次请求。如果Origin指定的源，不在许可范围内，服务器会返回一个正常的HTTP回应。浏览器发现，这个回应的头信息没有包含Access-Control-Allow-Origin字段（详见下文），就知道出错了，从而抛出一个错误，被XMLHttpRequest的onerror回调函数捕获。注意，这种错误无法通过状态码识别，因为HTTP回应的状态码有可能是200。如果Origin指定的域名在许可范围内，服务器返回的响应，会多出几个头信息字段。Access-Control-Allow-Origin: http://api.bob.comAccess-Control-Allow-Credentials: trueAccess-Control-Expose-Headers: FooBarContent-Type: text/html; charset=utf-8上面的头信息之中，有三个与CORS请求相关的字段，都以Access-Control-开头。（1）Access-Control-Allow-Origin该字段是必须的。它的值要么是请求时Origin字段的值，要么是一个*，表示接受任意域名的请求。（2）Access-Control-Allow-Credentials该字段可选。它的值是一个布尔值，表示是否允许发送Cookie。默认情况下，Cookie不包括在CORS请求之中。设为true，即表示服务器明确许可，Cookie可以包含在请求中，一起发给服务器。这个值也只能设为true，如果服务器不要浏览器发送Cookie，删除该字段即可。（3）Access-Control-Expose-Headers该字段可选。CORS请求时，XMLHttpRequest对象的getResponseHeader()方法只能拿到6个基本字段：Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma。如果想拿到其他字段，就必须在Access-Control-Expose-Headers里面指定。上面的例子指定，getResponseHeader('FooBar')可以返回FooBar字段的值。3.2 withCredentials 属性上面说到，CORS请求默认不发送Cookie和HTTP认证信息。如果要把Cookie发到服务器，一方面要服务器同意，指定Access-Control-Allow-Credentials字段。Access-Control-Allow-Credentials: true另一方面，开发者必须在AJAX请求中打开withCredentials属性。var xhr = new XMLHttpRequest();xhr.withCredentials = true;否则，即使服务器同意发送Cookie，浏览器也不会发送。或者，服务器要求设置Cookie，浏览器也不会处理。但是，如果省略withCredentials设置，有的浏览器还是会一起发送Cookie。这时，可以显式关闭withCredentials。xhr.withCredentials = false;需要注意的是，如果要发送Cookie，Access-Control-Allow-Origin就不能设为星号，必须指定明确的、与请求网页一致的域名。同时，Cookie依然遵循同源政策，只有用服务器域名设置的Cookie才会上传，其他域名的Cookie并不会上传，且（跨源）原网页代码中的document.cookie也无法读取服务器域名下的Cookie。四、非简单请求4.1 预检请求非简单请求是那种对服务器有特殊要求的请求，比如请求方法是PUT或DELETE，或者Content-Type字段的类型是application/json。非简单请求的CORS请求，会在正式通信之前，增加一次HTTP查询请求，称为"预检"请求（preflight）。浏览器先询问服务器，当前网页所在的域名是否在服务器的许可名单之中，以及可以使用哪些HTTP动词和头信息字段。只有得到肯定答复，浏览器才会发出正式的XMLHttpRequest请求，否则就报错。下面是一段浏览器的JavaScript脚本。var url = 'http://api.alice.com/cors';var xhr = new XMLHttpRequest();xhr.open('PUT', url, true);xhr.setRequestHeader('X-Custom-Header', 'value');xhr.send();上面代码中，HTTP请求的方法是PUT，并且发送一个自定义头信息X-Custom-Header。浏览器发现，这是一个非简单请求，就自动发出一个"预检"请求，要求服务器确认可以这样请求。下面是这个"预检"请求的HTTP头信息。OPTIONS /cors HTTP/1.1Origin: http://api.bob.comAccess-Control-Request-Method: PUTAccess-Control-Request-Headers: X-Custom-HeaderHost: api.alice.comAccept-Language: en-USConnection: keep-aliveUser-Agent: Mozilla/5.0..."预检"请求用的请求方法是OPTIONS，表示这个请求是用来询问的。头信息里面，关键字段是Origin，表示请求来自哪个源。除了Origin字段，"预检"请求的头信息包括两个特殊字段。（1）Access-Control-Request-Method该字段是必须的，用来列出浏览器的CORS请求会用到哪些HTTP方法，上例是PUT。（2）Access-Control-Request-Headers该字段是一个逗号分隔的字符串，指定浏览器CORS请求会额外发送的头信息字段，上例是X-Custom-Header。4.2 预检请求的回应服务器收到"预检"请求以后，检查了Origin、Access-Control-Request-Method和Access-Control-Request-Headers字段以后，确认允许跨源请求，就可以做出回应。HTTP/1.1 200 OKDate: Mon, 01 Dec 2008 01:15:39 GMTServer: Apache/2.0.61 (Unix)Access-Control-Allow-Origin: http://api.bob.comAccess-Control-Allow-Methods: GET, POST, PUTAccess-Control-Allow-Headers: X-Custom-HeaderContent-Type: text/html; charset=utf-8Content-Encoding: gzipContent-Length: 0Keep-Alive: timeout=2, max=100Connection: Keep-AliveContent-Type: text/plain上面的HTTP回应中，关键的是Access-Control-Allow-Origin字段，表示http://api.bob.com可以请求数据。该字段也可以设为星号，表示同意任意跨源请求。Access-Control-Allow-Origin: *如果服务器否定了"预检"请求，会返回一个正常的HTTP回应，但是没有任何CORS相关的头信息字段。这时，浏览器就会认定，服务器不同意预检请求，因此触发一个错误，被XMLHttpRequest对象的onerror回调函数捕获。控制台会打印出如下的报错信息。XMLHttpRequest cannot load http://api.alice.com.Origin http://api.bob.com is not allowed by Access-Control-Allow-Origin.服务器回应的其他CORS相关字段如下。Access-Control-Allow-Methods: GET, POST, PUTAccess-Control-Allow-Headers: X-Custom-HeaderAccess-Control-Allow-Credentials: trueAccess-Control-Max-Age: 1728000（1）Access-Control-Allow-Methods该字段必需，它的值是逗号分隔的一个字符串，表明服务器支持的所有跨域请求的方法。注意，返回的是所有支持的方法，而不单是浏览器请求的那个方法。这是为了避免多次"预检"请求。（2）Access-Control-Allow-Headers如果浏览器请求包括Access-Control-Request-Headers字段，则Access-Control-Allow-Headers字段是必需的。它也是一个逗号分隔的字符串，表明服务器支持的所有头信息字段，不限于浏览器在"预检"中请求的字段。（3）Access-Control-Allow-Credentials该字段与简单请求时的含义相同。（4）Access-Control-Max-Age该字段可选，用来指定本次预检请求的有效期，单位为秒。上面结果中，有效期是20天（1728000秒），即允许缓存该条回应1728000秒（即20天），在此期间，不用发出另一条预检请求。4.3 浏览器的正常请求和回应一旦服务器通过了"预检"请求，以后每次浏览器正常的CORS请求，就都跟简单请求一样，会有一个Origin头信息字段。服务器的回应，也都会有一个Access-Control-Allow-Origin头信息字段。下面是"预检"请求之后，浏览器的正常CORS请求。PUT /cors HTTP/1.1Origin: http://api.bob.comHost: api.alice.comX-Custom-Header: valueAccept-Language: en-USConnection: keep-aliveUser-Agent: Mozilla/5.0...上面头信息的Origin字段是浏览器自动添加的。下面是服务器正常的回应。Access-Control-Allow-Origin: http://api.bob.comContent-Type: text/html; charset=utf-8上面头信息中，Access-Control-Allow-Origin字段是每次回应都必定包含的。五、与JSONP的比较CORS与JSONP的使用目的相同，但是比JSONP更强大。JSONP只支持GET请求，CORS支持所有类型的HTTP请求。JSONP的优势在于支持老式浏览器，以及可以向不支持CORS的网站请求数据。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2016年4月12日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（163条）                                                                                                    Se7en 说：                                                        阮老师讲得非常全面透彻，看完这篇文章就会对浏览器的同源策略和跨域请求了解清楚了，堪称经典。                           2016年4月12日 07:11 | # | 引用                                                                                                                杨铮 说：                                                        asp.net web api 中的坑。web.config 中 remove name="OPTIONSVerbHandler" 需要去掉。                           2016年4月12日 08:38 | # | 引用                                                                                                                光君 说：                                                        可以可以，老师这篇文章很关键。但是想多问一句CORS在哪些场景下应用比较多？                           2016年4月12日 09:33 | # | 引用                                                                                                                Lxxyx 说：                                                        正在最近在纠结跨域请求的相关问题，而已有资料的质量良莠不齐，阮一峰老师的两篇博文真的超级赞。                           2016年4月12日 09:55 | # | 引用                                                                                                                Junyi 说：                                                        Access-Control-Allow-Origin支持多域名：http://junyi.me/blog/s17.html                           2016年4月12日 19:44 | # | 引用                                                                                                                四喜 说：                                                        文中提到“CORS请求默认不发送Cookie”，通过服务端响应 Access-Control-Allow-Credentials: true 来控制。但如果接口依赖Cookie来完成一些处理（比如登录态），那第一次发送CORS请求“默认不发送Cookie”的话，服务端接受不到Cookie，岂不会有问题？从实验上来看，Access-Control-Allow-Credentials: true 好像并没有控制Cookie是否发送，因为即使之前没有任何CORS请求（自然也没有往客户端发送该Header），第一次CORS请求也会带上所有该域能访问的Cookie。测试环境：Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36                           2016年4月13日 10:17 | # | 引用                                                                                                                阮一峰 说：                                                        @四喜，我试了一下，如果设为 withCredentials = false ，就不会发送 Cookie 了。如果省略这一行，确实会发送。但 MDN 明确说，默认值是 false。https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials我原来的说法表达得不确切，我改一下。                           2016年4月13日 11:19 | # | 引用                                                                                                                waylau 说：                                                        Access-Control-Allow-Origin 字段，如何表示允许一个以上的网站访问(不是*这种全部)，比如 允许 http://api.bob.com、 http://api.alice.com  两个网站。Access-Control-Allow-Origin 字段能实现吗？我这边试下，好像不行。                           2016年4月13日 16:50 | # | 引用                                                                                                                mrsu 说：                                                        简单请求的 Content-Type 包含 text/plain 而不是 text/html 感觉不科学啊～                           2016年4月13日 19:53 | # | 引用                                                                                                                OMEGA 说：                                                        简单请求包含connection首部，但是文中指出的不符？（2）HTTP的头信息不超出以下几种字段：AcceptAccept-LanguageContent-LanguageLast-Event-IDContent-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain                           2016年4月15日 11:49 | # | 引用                                                                                                                张歆琳 说：                                                        4.2节里有笔误Access-Control-Allow-Headers: true 应该是 Access-Control-Allow-Credentials: true                           2016年4月16日 00:00 | # | 引用                                                                                                                阮一峰 说：                                                        @张歆琳：谢谢指出，已经改正了。                           2016年4月16日 11:32 | # | 引用                                                                                                                skyer 说：                                                        如果浏览器否定了"预检"请求，----这个应该是『服务器否定了"预检"请求』吧。                           2016年4月18日 18:41 | # | 引用                                                                                                                迹忆 说：                                                        写的非常好，感谢阮老师的分享                           2016年4月19日 13:29 | # | 引用                                                                                                                文刀 说：                                                        文章写的非常好，又掌握了一个重要的知识点！感谢阮兄分享                           2016年4月20日 11:54 | # | 引用                                                                                                                Sia 说：                                                        有一个问题想请教一下，在淘宝登陆后，打开天猫，会发现也是已登录状态，这是怎么做的呢？                           2016年4月24日 10:36 | # | 引用                                                                                                                GlacJAY 说：                                                        4.2 节里面，「服务器回应的其他CORS相关字段如下」中，有个字段写错了吧？写了两次「Allow-Headers」。                           2016年4月26日 10:05 | # | 引用                                                                                                                大头 说：                                                        看阮老师一篇文章，胜读十本书                           2016年4月26日 14:57 | # | 引用                                                                                                                二点零 说：                                                        学习了，两篇文章讲得非常详细，感谢                           2016年5月 5日 15:07 | # | 引用                                                                                                                小小的大二学生 说：                                                        还有IE的ActiveXObject                           2016年5月 8日 21:38 | # | 引用                                                                                                                纪广财 说：                                                        受教，谢谢阮老师~                           2016年5月24日 22:40 | # | 引用                                                                                                                如理 说：                                                        引用大头的发言：看阮老师一篇文章，胜读十本书你看书只看序的吧？                           2016年5月26日 17:32 | # | 引用                                                                                                                echo 说：                                                        引用光君的发言：可以可以，老师这篇文章很关键。但是想多问一句CORS在哪些场景下应用比较多？restful api                           2016年6月 3日 17:59 | # | 引用                                                                                                                quay 说：                                                        引用echo的发言：restful api有些疑问：1）为啥看到一些公开的API貌似没有origin  2）restful api  、 web api 、cors 、web service 目前流行哪个做API呢  3） cors IE10才可能，兼容性如何解决呢？                           2016年6月11日 22:45 | # | 引用                                                                                                                cmxz 说：                                                        关于Credentials，重要的不是会不会发送，而是cookie发送到服务端后如果response header中无Access-Control-Allow-Credentials: true，那么浏览器会报异常，js无法拿到跨域请求的response对象                           2016年6月19日 00:45 | # | 引用                                                                                                                甘训奏 说：                                                        我的请求：```$.ajax({	 type: "POST",	 url: "http://192.168.0.103:8081/forum/servlet/HelloServlet",	 //contentType:"application/json",	 data: {uName:$("#uName").val(), uPwd:$("#uPwd").val()},	 dataType: "json",	 success: function(data){			 $('#resText').empty();   // 清空resText里面的所有内容			 var html = ''; 			 $.each(data, function(commentIndex, comment){				   html += '&lt;div class="comment">&lt;h6>' + comment['username']							 + ':&lt;/h6>							 + '&lt;/p>&lt;/div>';			 });			 $('#resText').html(html);	 }});```服务端接收到后增加CORS处理。```response.setContentType("text/html; charset=utf-8");response.addHeader("Access-Control-Allow-Origin", "*");response.addHeader("Access-Control-Allow-Methods", "*");response.addHeader("Access-Control-Max-Age", "100");response.addHeader("Access-Control-Allow-Headers", "X-Custom-Header,accept, content-type");response.addHeader("Access-Control-Allow-Credentials", "false");```                           2016年6月22日 13:09 | # | 引用                                                                                                                甘训奏 说：                                                        ===========================================为什么留言不能超过1200个字，接上一个提问===========================================不加 `contentType="application/json"`正常访问后台。增加`contentType="application/json"`后提示：```XMLHttpRequest cannot load http://192.168.0.103:8081/forum/servlet/HelloServlet. Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://127.0.0.1:8020' is therefore not allowed access.```从错误看，应该是preflight （预检）请求涉及到跨域问题了。现在问题是preflight 的请求响应设置在哪边处理呢？                           2016年6月22日 13:11 | # | 引用                                                                                                                潘逸飞 说：                                                        写的超赞！                           2016年6月29日 17:03 | # | 引用                                                                                                                赵帅 说：                                                         阮老师想问你个问题，我目前也是在Cors跨域这块遇到了难题，1.我在复杂请求时，PUT，首先预检通过，可以看到status code:200状态码，2.然后第二次要做真实的修改操作，直接报500状态码，服务器内部错误，响应头里面没有Origin,Headers,Method这三项.请问这是什么情况呢？烦请阮老师帮忙看下。不胜感谢！                           2016年6月30日 15:16 | # | 引用                                                                                                                eviltear 说：                                                        想问阮老师，跨协议请求有类似的解决方案吗？如http请求https，谢谢。                           2016年7月25日 10:53 | # | 引用                                                                                                                Silas 说：                                                        提一点：做auth时，xhr.setRequestHeader，key 不能是 token 字符串。                           2016年8月22日 11:09 | # | 引用                                                                                                                Slimmer 说：                                                        引用光君的发言：可以可以，老师这篇文章很关键。但是想多问一句CORS在哪些场景下应用比较多？我们项目目前使用Restful架构，由于前后不在台服务器，处处需跨源                           2016年9月 2日 14:05 | # | 引用                                                                                                                xylsh 说：                                                        引用Slimmer的发言：我们项目目前使用Restful架构，由于前后不在台服务器，处处需跨源我在想，即使不在同一台服务器，如果前台用nginx做请求转发，把不同请求转发到不同服务器，这样，从浏览器的角度来看，域名就没有发生变化，也就不用跨域。我的想法对吗？                           2016年9月27日 17:42 | # | 引用                                                                                                                cmxz 说：                                                        Access-Control-Max-Age字段在webkit的浏览器上默认最大时间为5分钟，若设置超过5分钟则不会生效，代码见https://cs.chromium.org/chromium/src/third_party/WebKit/Source/core/loader/CrossOriginPreflightResultCache.cpp?rcl=1399481969&l=44另外，chrome实际上有bug，即使Access-Control-Max-Age设置为600，下次请求时依然会发送options请求，此bug在2012年被提出，但至今未修复。具体见 https://bugs.chromium.org/p/chromium/issues/detail?id=131368                            2016年10月 8日 11:45 | # | 引用                                                                                                                cmxz 说：                                                        可以在http://test-cors.org/ 测试                           2016年10月 8日 11:46 | # | 引用                                                                                                                cmxz 说：                                                        我之前的表述可能有问题。经过测试，chrome现阶段（54.0.2840.50 beta-m (64-bit)）是支持对options的请求缓存5分钟的我之前之所以会觉得没有缓存，是因为我原以为preflight-result-cache是以域名为单位的cache，但看了https://www.w3.org/TR/cors/#preflight-result-cache 后发现cache是以origin+url+credentials+method+header在max-age内cache的，所以不同url（get参数不同也算的）是会发送多次options请求的                           2016年10月 9日 15:08 | # | 引用                                                                                                                第六天魔王 说：                                                        今天正好我女朋友面试，被问到这个问题，我觉得即便是研究生想说透也不是件很容易的事情。我本人实际项目中倒是遇到过跨域问题，一个业务场景是用户上传图片然后切图后再保存，上传图片到第三方存储后（我用的是aws的s3+cloudfront），前端js类库从cdn获取原图时用的是ajax方法。在s3设置cors策略，在cloudfront设置http预检策略，结合阮老师的文章，基本理解到位了，非常感谢！                           2016年10月10日 14:49 | # | 引用                                                                                                                李超 说：                                                        在3.1节中您讲到：> 如果Origin指定的源，不在许可范围内，服务器会返回一个正常的HTTP回应。请问 许可范围 是在什么地方指定的呢？谢谢！                           2016年10月16日 10:55 | # | 引用                                                                                                                billow 说：                                                        目前为止看到的最深入浅出的解释！                           2016年10月20日 17:44 | # | 引用                                                                                                                久保与二弦琴 说：                                                        您好，在测试这个问题的时候，发现即便服务器端不设置Access-Control-Allow-Origin头，服务器依然会返回数据，可以用fiddler抓取到，和设置头信息后的区别只是浏览器页面不显示数据而已。能否表明，CORS设置与否只是影响浏览器是否显示服务器返回的数据，而无法阻止服务器要不要返回数据?                           2016年11月 5日 13:24 | # | 引用                                                                                                                严泽玮 说：                                                        ie8通过XDomainRequest能支持CORS，文中说要不低于ie10，难道我理解错了。                           2016年11月17日 17:42 | # | 引用                                                                                                                赵启发 说：                                                        “上面说到，CORS请求默认不发送Cookie和HTTP认证信息。如果要把Cookie发到服务器，一方面要服务器同意，指定Access-Control-Allow-Credentials字段。”对于简单请求，其并没有预检请求。也就是说收到服务器响应的时候，简单请求已经发出去了，也就是说简单请求发送的时候不管是带不带cookie，这个决策已经完成了。那么这时候server返回Access-Control-Allow-Credentials字段的意义是什么呢？1. 告诉浏览器其实服务器并没有处理你发送过来的cookie，假设浏览器发了cookie并期待cookie生效以达成某种目的的话，用来帮助定位问题？2. 告诉浏览器这个信息，下次再发同样的跨域请求的时候就知道该不该发送cookie了？                           2016年11月17日 20:52 | # | 引用                                                                                                                cxl253386709 说：                                                        最近要把web端已有的应用扩展到移动端h5轻应用上，遇到了跨域访问一个诡异的问题。在服务端设置好Access-Control-Allow-Origin：* ；Access-Control-Allow-Credentials： "true" 后，两个系统做了cas，然后开发环境一切ok。等到项目准备上线时，打包进weblogic，居然发现访问失效。具体表现是当请求的结果超出一定数据量以后（因为可以指定每页条数，所以可以一点点的加返回数据量，当到了一个临界值以后，突然出现问题，比如30条的时候没事，31条突然就没数据了），从浏览器观察返回的response为空。在weblogic开了debug模式，发现后端一切正常没有任何错误，也确实查了数据库也确实返回了。后来为了验证这个问题，把同一个包又放到tomcat上跑，发现能返回数据量的临界值更小了，同一个包放在本地jetty上就没这个问题。所以我怀疑是不是各个应用服务器在处理跨域返回数据量时有一个默认值，可以配置的？我找了文档却没发现有这个设置。百思不得其解，卡了我好几个周了，求大神解惑！！！今天我又做了几个实验，这个限额大约是20k的样子！！                           2016年11月30日 14:36 | # | 引用                                                                                                                lili 说：                                                        大神，有没有cros跨域请求的具体实例呀？我在使用cros跨域上传文件过程中从后台返回的数据前台接收不到，status是0，急用，麻烦您了                           2016年12月13日 17:35 | # | 引用                                                                                                                DemoorBug 说：                                                        引用Silas的发言：提一点：做auth时，xhr.setRequestHeader，key 不能是 token 字符串。我就遇到了这种问题，angular 拦截器设置了  req.headers['token'] = ‘’；  跨域就无法通过预检测器，请问有什么方法么，我也设置了res.setHeader('Access-Control-Allow-Headers','token');但还是无法实现                           2016年12月22日 15:43 | # | 引用                                                                                                                夏笛 说：                                                        cors并不是所有浏览器都支持吧，opera mini就是一个例子，现在做这套策略还应该考虑降级问题                           2016年12月30日 14:50 | # | 引用                                                                                                                arkin 说：                                                        Access-Control-Max-Age 在chrome控制台注意有disabled cache的选项,不然会被坑,我调了很久也不生效,信好网上看到.提醒一下大家.                           2017年1月 4日 17:54 | # | 引用                                                                                                                和珅 说：                                                        Access-Control-Request-Method  这个方法是告诉服务端我将要用什么方法请求数据，而不是方法的罗列。补充withCredentials = true; 设置Access-Control-Allow-Credentials = true的同时Access-Control-Allow-Origin的值不能为“*”，必须设置一个完整的域，只允许一条。                           2017年1月 9日 10:02 | # | 引用                                                                                                                bsc2xp 说：                                                        引用cmxz的发言：关于Credentials，重要的不是会不会发送，而是cookie发送到服务端后如果response header中无Access-Control-Allow-Credentials: true，那么浏览器会报异常，js无法拿到跨域请求的response对象这么解释看得才明白，文章里说的没理解                           2017年2月 9日 09:21 | # | 引用                                                                                                                leaf 说：                                                        引用quay的发言：有些疑问：1）为啥看到一些公开的API貌似没有origin2）restful api、 web api 、cors 、web service 目前流行哪个做API呢3） cors IE10才可能，兼容性如何解决呢？1）应该是那些应用有一个后台服务器，后台服务器调用的API2）restful api 是 web api 中的一种吧     cors 只要浏览器 xhr 跨域请求都要面对的问题，和什么形式 api 无关     web service 是很早之前的技术，现在应该是不流行了  3）JSONP                           2017年2月21日 16:31 | # | 引用                                                                                                                茉莉 说：                                                        引用Sia的发言：有一个问题想请教一下，在淘宝登陆后，打开天猫，会发现也是已登录状态，这是怎么做的呢？自己感觉是用同一个数据库吧 起码是用户表 订单表 之类的 通用的会有关联                           2017年2月23日 18:19 | # | 引用                                                                                                                刘欣（Lx15） 说：                                                        阮老师您好，我测试了一下。。。。在前后端分离的情况下，前端发put的非简单请求，并不能够跨源，这是为什么呢？ 后端采用node 接收请求。 在前后端不分离的情况下，前端发put的非简单请求，是可以跨源的。                           2017年2月24日 11:43 | # | 引用                                                                                                                吴宏伟 说：                                                        引用杨铮的发言：asp.net web api 中的坑。web.config 中 remove name="OPTIONSVerbHandler" 需要去掉。还真碰到这个坑了。                           2017年2月24日 19:58 | # | 引用                                                                                                                Leesson 说：                                                        感谢，介绍的很详细。另外请问，如果返回头里包含两个Access-Control-Allow-Origin符合规范吗？比如返回头同时包含如下两个：Access-Control-Allow-Origin：www.origin.com  //(请求发出域名)Access-Control-Allow-Origin：*在实际中遇上过上述问题，后台代码和IIS分别为返回头添加了Access-Control-Allow-Origin。当请求发出域名和接收域名（后台）是同一域名时可正常得到结果，但不是统一域名时就会报跨域错误。阮老师能帮忙解释一下吗？谢谢                           2017年2月27日 00:23 | # | 引用                                                                                                                Ryan 说：                                                        看文章的说法，浏览器决定是否跨域，那么服务端呢？简单的跨域，浏览器带着cookie请求服务器，服务器设置false，则不接收cookie？事实上cookie已经加载到request里了。第二个问题，简单的跨域中，如果服务端部允许跨域，那么服务端是直接返回空还是按照正常的逻辑返回了数据，只是到浏览器的时候被浏览器给拦截了？                           2017年3月30日 23:31 | # | 引用                                                                                                                vic 说：                                                        @Ryan：肯定啊 都是浏览器，如果不是浏览器 就不存在这个问题 比如服务器端程序 想请求谁就请求谁 ，                            2017年3月31日 11:16 | # | 引用                                                                                                                ouyang 说：                                                        预检结果Response Headers      Allow:GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH      Content-Length:0      Date:Fri, 31 Mar 2017 06:12:56 GMTRequest Headers       Accept:*/*       Accept-Encoding:gzip, deflate, sdch       Accept-Language:zh-CN,zh;q=0.8       Access-Control-Request-Headers:authorization       Access-Control-Request-Method:POST       Connection:keep-alive       Host:10.220.17.121:8080       Origin:http://10.220.18.113:8020       Referer:http://10.220.18.113:8020/xb/wx/201703013/login.html       User-Agent:Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Mobile Safari/537.36      如何让浏览器通过Origin呢   怎么设置？                           2017年3月31日 14:20 | # | 引用                                                                                                                龙顺 说：                                                        我只能说，相见恨晚呐！看了几篇阮老师的博客下来，发现内容讲解都非常细致，很难找到比阮老师的更适合初学者的教程了。关于JSONP，“JSONP的优势在于支持老式浏览器，以及可以向不支持CORS的网站请求数据”。支持老式浏览器是确实是其优势，但像不支持CORS的网站请求数据，我觉得就不是它的优势了，因为后端代码还是得针对JSONP做出相应的调整（返回json字符串的部分需要用传过去的回调函数名包起来），也很麻烦。反而CORS的方式，只需要在后端代码的过滤器上加上相应的响应头就行了，来得更方便。                           2017年4月 7日 00:19 | # | 引用                                                                                                                gorden 说：                                                        阮老师，感谢您的文章。现在有一些不明白的地方希望跟你请教一下：服务器对于预检请求和实际请求是需要用不同的方法去拦截吗？还是这两个请求都是由同一个方法去处理的                           2017年4月12日 23:34 | # | 引用                                                                                                                赵启发 说：                                                        https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS这里找到答案了：“因为这是一个简单 GET 请求，所以浏览器不会对其发起“预检请求”。但是，如果服务器端的响应中未携带 Access-Control-Allow-Credentials: true ，浏览器将不会把响应内容返回给请求的发送者。”                           2017年5月 3日 16:16 | # | 引用                                                                                                                j.zong 说：                                                        阮老师，3.1节中，【如果Origin指定的源，不在许可范围内，服务器会返回一个正常的HTTP回应。浏览器发现，这个回应的头信息没有包含Access-Control-Allow-Origin字段】，这句话有误吧？如果Origin源不在指定的许可范围内，回应的头信息也会包含Access-Control-Allow-Origin字段吧，只是它的值与Origin源不匹配，就会执行onerror错误事件驱动程序                           2017年5月 3日 21:18 | # | 引用                                                                                                                龙海洋 说：                                                        一个post跨域请求在“预检”请求OPTIONS中Origin为什么会为null，并且会报错：Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access. The response had HTTP status code 401.OPTIONS请求http头部信息如下：Accept:*/*Accept-Encoding:gzip, deflate, sdch, brAccept-Language:zh-CN,zh;q=0.8Access-Control-Request-Headers:authorizationAccess-Control-Request-Method:POSTConnection:keep-aliveHost:chinapopin.comOrigin:nullUser-Agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.96 Safari/537.36                           2017年5月10日 10:08 | # | 引用                                                                                                                syd_2011 说：                                                        引用严泽玮的发言：ie8通过XDomainRequest能支持CORS，文中说要不低于ie10，难道我理解错了。xDomainRequest 只支持post,get 不给带cookie等等  大多数情况下等于没什么用                           2017年5月16日 19:11 | # | 引用                                                                                                                阿豪 说：                                                        厉害了  阮老师，收获很多                           2017年6月 1日 09:48 | # | 引用                                                                                                                阿辉 说：                                                        阮老师，这样看来，跨域始终都需要服务端支持才能实现对吗？ 并不只是纯粹前端设置就能成功的吗？                           2017年6月 3日 17:54 | # | 引用                                                                                                                夜的眼睛 说：                                                        真心厉害，还是老师讲的简单易懂，一点就通！                           2017年6月 7日 23:34 | # | 引用                                                                                                                贾越 说：                                                        没看懂  谁来教下我  前端和node 怎么设置？                           2017年6月13日 13:35 | # | 引用                                                                                                                谷雨 说：                                                        引用茉莉的发言：自己感觉是用同一个数据库吧 起码是用户表 订单表 之类的 通用的会有关联应该是通过CAS做的单点登录认证（SSO）                           2017年6月23日 11:34 | # | 引用                                                                                                                daoSs 说：                                                        怎么有这么好的文章，结合工作中的实践，让我对CORS有了非常清楚的认识。                           2017年6月28日 12:06 | # | 引用                                                                                                                ifu25 说：                                                        引用杨铮的发言：asp.net web api 中的坑。web.config 中 remove name="OPTIONSVerbHandler" 需要去掉。这真是绝世大坑！我搞了两天，查了无数资料，竟然有那么多网站说要把OPTIONSVerbHandler和WebDAV删除，事实上把OPTIONSVerbHandler删除了才会造成OPTIONS失败！难道是部分环境下会这样？总结一下我的解决方案(IIS10 + asp.net web api)：1、IIS中增加响应头Access-Control-Allow-Origin：*Access-Control-Allow-Headers：Content-Type2、web.config中把“&lt;remove name="OPTIONSVerbHandler" />”删掉仅此而已~                           2017年7月 5日 10:50 | # | 引用                                                                                                                ~~~~ 说：                                                        post请求变成了options，请问该怎么设置呢？                           2017年7月17日 11:47 | # | 引用                                                                                                                刘建 说：                                                        我按照上面配置的，怎么还报这个错误，求指教Refused to set unsafe header "Access-Control-Request-Method"                           2017年7月21日 18:03 | # | 引用                                                                                                                前端菜鸟 说：                                                        复杂请求Content-Type必须为application/json吗还是可以为其他的                           2017年7月21日 18:06 | # | 引用                                                                                                                weiwei 说：                                                        IE10以下怎么办                           2017年8月 3日 11:45 | # | 引用                                                                                                                xiongzhe 说：                                                        恍然大悟，学习了！                           2017年8月 4日 09:40 | # | 引用                                                                                                                王叶深 说：                                                        如果浏览器否定了"预检"请求，会返回一个正常的HTTP回应，但是没有任何CORS相关的头信息字段这里应该是 服务器否定了预检请求吧。请教下，如果服务器否定了预检请求，那应该返回什么呢？ 状态码应该是403还是200？是否继续往下执行程序？谢谢                           2017年8月 4日 15:29 | # | 引用                                                                                                                xhuanhuan 说：                                                        想请教阮大大关于cors跨域的安全问题，Access-Control-Allow-Origin限定了域名的情况下，还会有什么安全问题呢？                           2017年8月 5日 21:02 | # | 引用                                                                                                                nihao 说：                                                        ajax不就是用xmlhttprequest实现的吗 为何单拿出来ajax                           2017年8月20日 11:19 | # | 引用                                                                                                                伯格 说：                                                        不对啊！前一个文章里您是这么说的。“同源政策规定，AJAX请求只能发给同源的网址，否则就报错。”按您的说法，跨域了就直接报错了，怎么会发出去呢？而且我自己实验了一下，我们公司的接口都是可以跨域的，访问方法和平时发送ajax请求没区别。所以是不是所谓跨域不能请求ajax指的是，后端通过Access-Control-Allow-Origin来限制跨域请求，而不是浏览器限制你发送ajax跨域请求？                           2017年9月22日 17:37 | # | 引用                                                                                                                lant 说：                                                        cors简单请求不是说不能超过下面的字段么:AcceptAccept-LanguageContent-LanguageLast-Event-IDContent-Type：只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain第一个简单请求的例子中就有HostConnectionUser-Agent这些都不再上面的字段中啊, 怎么理解阮大神说的 不能超过如下字段                           2017年9月26日 15:08 | # | 引用                                                                                                                lz 说：                                                        老师啊, 我前端端口是8699，后台端口是8088,后台登录请求里面设置cookie是不是设置不了啊？为什么下次后台读取cookie的时候，读取不到cookie                           2017年11月 2日 15:57 | # | 引用                                                                                                                Ryze 说：                                                         干货充足，没有太多的废话，赞^32!                            2017年11月23日 14:59 | # | 引用                                                                                                                残心 说：                                                        阮老师您好：    我想咨询您个问题，当我进行跨域的post请求，这个请求为非简单请求的时候，我想要携带cookie，浏览器会做出一次预检请求，但是这次预检请求是并不携带cookie的，这就导致了服务端又新生成了一个cookie（然而这个cookie并用不上），请问一下是不是我哪里操作错误了还是其他什么情况~fetch("http://localhost:3000/login", {    method: "post",     mode: "cors",    credentials: "include",     headers: {'Content-Type': "application/json"}});同理使用jq的ajax也一样$.ajax({    url: 'http://localhost:3000/login',    type: 'post',    xhrFields: {        withCredentials: true    },    headers:{'Content-Type': "application/json"}});并且jq请求回来的cookies在控制台里面看不到，当再次请求的时候却不知道缘何携带上了上次返回设置的cookie。。。但是fetch的请求可以在控制台看到返回的设置的cookie。。。不知道问题出在哪里，烦请老师解答，不胜感激~                           2017年12月14日 14:46 | # | 引用                                                                                                                df 说：                                                        dfsd                           2017年12月21日 14:35 | # | 引用                                                                                                                hzj629206 说：                                                        @伯格：你用的浏览器已经支持CORS了吧。不支持CORS的浏览器应该是发不出去。                           2018年1月 5日 11:27 | # | 引用                                                                                                                Lx13 说：                                                        帮助挺大的，谢谢阮老师                           2018年1月19日 13:30 | # | 引用                                                                                                                许杰 说：                                                        @阮一峰，如果浏览器否定了"预检"请求，会返回一个正常的HTTP回应，但是没有任何CORS相关的头信息字段。这时，浏览器就会认定，服务器不同意预检请求，因此触发一个错误，被XMLHttpRequest对象的onerror回调函数捕获。控制台会打印出如下的报错信息。这里面有个错误吧，应该说服务器否定了“预检”请求，怎么变成浏览器了。                           2018年2月 6日 11:08 | # | 引用                                                                                                                HGW-XX 说：                                                        服务器是不会对什么预检查请求做否定的，仍然会正常200返回，只是一旦浏览器发现返回中无跨域许可的相关设置，就可在浏览器的console中报异常了，也就不会再发正式的请求了，所以是浏览器自己把自己给否定了                           2018年2月26日 20:33 | # | 引用                                                                                                                HGW-XX 说：                                                        引用久保与二弦琴的发言：您好，在测试这个问题的时候，发现即便服务器端不设置Access-Control-Allow-Origin头，服务器依然会返回数据，可以用fiddler抓取到，和设置头信息后的区别只是浏览器页面不显示数据而已。能否表明，CORS设置与否只是影响浏览器是否显示服务器返回的数据，而无法阻止服务器要不要返回数据? 我觉得您说的很对，好像就是这么一回事，我之前自己简单测试时也发现这个情况，所以我认为，跨域请求只不过是浏览器自己给自己划得底线和操守…，要真是它觉得有没有access-control-allow-origin也无所谓的话，所不定照样请求过去，也没有什么问题                           2018年2月26日 20:37 | # | 引用                                                                                                                HGW-XX 说：                                                        阮老师，您好，看了您的这篇文章，感觉跨域请求的整个来龙去脉，算是基本明白了，但是还有一个问题，是不是 简单请求的情况下，就算服务器返回的响应头中，没有access-control-allow-origin的设置，但后端的服务并不会受影响，后端仍然会针对“简单请求”提供服务，只不过是浏览器自己比较高分亮节，不去处理返回的数据，是这样的吗，那跨域请求岂不是对于后端来说，仍然不是很安全，   除非在 比如Spring的filter中将跨域的请求进行过滤才行？                           2018年2月26日 20:42 | # | 引用                                                                                                                刘曦光 说：                                                        在介绍简单请求和复杂请求的地方：Content-Language 是不是打错了？应该是 Content-Length                           2018年3月22日 10:05 | # | 引用                                                                                                                lindahuo 说：                                                        阮老师，关于您文章里面说的：“Access-Control-Allow-Credentials 的值表示是否允许发送 Cookie”，我在 MDN 中文版本里面没看到有这个意思啊，MDN 只是说：“它指定了当浏览器的 credentials 设置为 true 时是否允许浏览器读取 response 的内容，同时简单 GET 请求如果响应中不包含该字段，这个响应将被忽略掉”。                           2018年4月 3日 17:10 | # | 引用                                                                                                                Ak_allen 说：                                                        Access-Control-Expose-Headers 里面加了  Set-cookie 的白名单，不过客户端 ajax xhr.getResponseHeader*("")  获取到还是  null 怎么回事                           2018年4月 4日 07:57 | # | 引用                                                                                                                chj 说：                                                        阮老师你好，关于这个跨域我最近有个问题我电脑本机上用vue-cli的开发环境，去请求域名服务器的接口，我设置了Axios.defaults.withCredentials = true;后端是php代码if(isset($_SERVER["HTTP_ORIGIN"])) {    header('Access-Control-Allow-Origin:'.$_SERVER["HTTP_ORIGIN"]);  }header('Access-Control-Allow-Methods:OPTIONS, GET, POST');header('Access-Control-Allow-Headers:x-requested-with');header('Access-Control-Max-Age:86400');header('Access-Control-Allow-Credentials:true');但是我在chrome network 中查看request header 还是没有发现携带cookie关于这方面，我看了其他的文章有说设置domain 但是document.domain 又被禁止，document.cookie = "domain=xxx.com"（xxx.com 是我请求的接口的网站域名）依旧不行我在这些设置中有些混乱，我始终没有把我本地的cookie 携带过去，后端要接受cookie 在登录状态判断。请教阮老师。我是否哪里遗漏了，还是做错了？还需要什么配置吗？谢谢阮老师                           2018年4月14日 16:27 | # | 引用                                                                                                                周周 说：                                                        @甘训奏：这可能是在服务器没有提供对Options请求的处理，参考：Spring mvc解决跨域请求：Response to preflight request doesn't pass access control check                           2018年4月16日 09:52 | # | 引用                                                                                                                潘明杰 说：                                                        老师     我发送的请求时origin是null怎么解                           2018年4月17日 14:42 | # | 引用                                                                                                                柴全起 说：                                                        阮老师你好，我想问下，后端设置CORS了，但是还是报错，好像是浏览器拦截了，前端需要设置xhr.withCredentials = true就行了吗？                           2018年4月23日 12:02 | # | 引用                                                                                                                迪壳 说：                                                        阮老师,您好关于 Access-Control-Allow-Credentials 的有一部分不太理解有提到说  Access-Control-Allow-Credentials为true的时候才发送cookie但是这个时候不是已经接收到服务器的回应了吗? 这样的话第一次请求不是无法携带cookie吗?                            2018年7月11日 22:59 | # | 引用                                                                                                                ericxu1983 说：                                                        这篇文章写的不太好，找了一篇英文的tutorial,写的更好一些：https://www.html5rocks.com/en/tutorials/cors/                           2018年7月17日 10:33 | # | 引用                                                                                                                besthyhy 说：                                                        Spring Boot 一个 @CrossOrigin 就可以跨域访问了。 但是本地调试的时候，https://localhost:63343 的页面访问不通 https://localhost:8488的接口。有办法吗？感激不尽！                           2018年7月19日 00:37 | # | 引用                                                                                                                JavanLu 说：                                                        "If request method is not a case-sensitive match for any method in methods and is not a simple method, apply the cache and network error steps."  ----参见 https://www.w3.org/TR/cors/#preflight-request由于 GET | POST | HEAD  是简单方法，在通过预检请求后，即使 Access-Control-Allow-Methods 中没有返回 GET | POST | HEAD , 这三种类型的非简单请求仍然会成功。                           2018年7月26日 16:32 | # | 引用                                                                                                                小心鲨鱼 说：                                                        阮老师，我们公司后端验证登录系统，验证所有的请求的cookie，但是options请求没有携带cookie所以直接被重定向到了登录界面，所以option请求是否可以携带cookie吗？                           2018年8月 1日 10:15 | # | 引用                                                                                                                Michael 说：                                                        写的结构明确易读，思路很清晰，感觉以后搜索的时候要先看阮老师有没有相关的文章了。建议把下方 的评论折叠一下，看到进度条好长，差点被吓跑了。哈哈...                           2018年8月27日 10:09 | # | 引用                                                                                                                刘曦光 说：                                                        跨越方面也可以看看这文章:https://segmentfault.com/a/1190000011145364                           2018年9月18日 14:26 | # | 引用                                                                                                                陈宏伟 说：                                                        写的漂亮，迷糊了这么长时间，终于知道了原理                           2018年10月11日 16:05 | # | 引用                                                                                                                周振宇 说：                                                        cookie 可以跨域不可以跨域名，子域名也是可以共享顶级域名下的cookie的，response可以写入任意的domain，但是request无法将其他的域名下的cookie写入，document.cookie也是同样                           2018年10月15日 17:19 | # | 引用                                                                                                                baibai 说：                                                        @甘训奏: 我遇到了和你同样的问题，我是在火狐浏览器上解决了这个问题。chrome上有bug。                           2018年10月18日 14:21 | # | 引用                                                                                                                aaaa 说：                                                        options 请求返回302. 浏览器没跳转location。 可能是哪的原因。                           2018年10月25日 15:23 | # | 引用                                                                                                                茹俊巧 说：                                                        老师，您好关于预检那块，我有点迷惑。您文章中写道，“预检”用的方法是OPTIONS，一会又说道“PUT”，到底是哪种呢？                           2018年11月 2日 16:36 | # | 引用                                                                                                                TnTomato 说：                                                        更详细的介绍 https://www.html5rocks.com/en/tutorials/cors/                           2018年11月19日 11:06 | # | 引用                                                                                                                易水寒 说：                                                        关注你好久了，受益匪浅                           2018年11月21日 19:57 | # | 引用                                                                                                                彬彬 说：                                                        您好，看了您写的文章，有个小疑问，想问一下，就是按照您写的标准，发现有的请求不属于简单请求也不属于非简单请求。                           2018年11月29日 11:06 | # | 引用                                                                                                                tyx1703 说：                                                        阮老师，简单请求的条件不只是您列的两大条件，根据mdn的文档，还有两个条件也需要同时满足：1. 请求中的任意XMLHttpRequestUpload 对象均没有注册任何事件监听器；XMLHttpRequestUpload 对象可以使用 XMLHttpRequest.upload 属性访问。2. 请求中没有使用 ReadableStream 对象。https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS                           2018年11月29日 17:53 | # | 引用                                                                                                                刘旭伟 说：                                                        阮大神，我设置了全局跨域，但还是跨域不成功。可以确定代码没问题，就是不能跨域。您能解释一下这个问题吗？                           2018年11月30日 17:44 | # | 引用                                                                                                                蓦然木然 说：                                                        写得很详细，在网上百度了半天，零零碎碎的                           2018年11月30日 18:13 | # | 引用                                                                                                                赵 说：                                                        请问下能不能给options请求加上一个token之类得？                           2018年12月11日 18:21 | # | 引用                                                                                                                路过 说：                                                        '如果浏览器否定了"预检"请求，会返回一个正常的HTTP回应，但是没有任何CORS相关的头信息字段。'这句中的浏览器是不是应该是服务器否定了预检请求？                           2018年12月20日 22:48 | # | 引用                                                                                                                键盘猫 说：                                                        引用严泽玮的发言：ie8通过XDomainRequest能支持CORS，文中说要不低于ie10，难道我理解错了。确实是支持的，红宝书上有写。推测是阮老师为了简明地表述，没有特意写出XDR。                           2018年12月31日 16:15 | # | 引用                                                                                                                 patrick 说：                                                        读老师一篇文章真的胜读一本书                           2019年2月 9日 03:03 | # | 引用                                                                                                                zzqsmile 说：                                                        给个赞，讲的非常好                           2019年3月 1日 16:53 | # | 引用                                                                                                                我服慕容格 说：                                                        写的很好                           2019年3月 9日 19:35 | # | 引用                                                                                                                我服慕容格 说：                                                        引用cmxz的发言：关于Credentials，重要的不是会不会发送，而是cookie发送到服务端后如果response header中无Access-Control-Allow-Credentials: true，那么浏览器会报异常，js无法拿到跨域请求的response对象正解，其实这两个开关一个管服务器，一个管客户端，客户端fetch设了credentials设了include,就一定会发送目标网站的cookie,服务器如果credentials即使不设为ture,照样会返回正确内容（取决于服务器开发工程师），但有一点，如果你服务器不设为true,浏览器就认为你违反了规则，把服务器返回的内容屏蔽掉（虽然屏蔽掉了），这就会出现，返回码是200，但无正确内容收到的情况。                           2019年3月10日 17:55 | # | 引用                                                                                                                我服慕容格 说：                                                        引用Sia的发言：有一个问题想请教一下，在淘宝登陆后，打开天猫，会发现也是已登录状态，这是怎么做的呢？    因为登录的是淘宝，所以初次打开天猫时，是没有天猫的cookie的，但按照CORS的规则，浏览器不可能将淘宝的cookie发给天猫。    也有可能用的是无状态的jwt,猜的，没细                           2019年3月10日 20:02 | # | 引用                                                                                                                我服慕容格 说：                                                        @cxl253386709：依小仙来看，   一个是至少貌似当Access-Control-Allow-Credentials：指定为 "true"时，Access-Control-Allow-Origin：不能指定为*,必须指定为具体的域名。   二个是你后续出现的若干问题，是否与第一条有关？   三个是服务器确实有返回，日志也看到了，哪就是客户端实际上也收到了，甚至返回200，但就是不给你，浏览器在cors时，只要发现服务器返回的headers有一点不匹配cors规则,就干这事，而且还不给你原因（还给你返回个200）这回复过去好久了，如果层主还在，不防说说原因                           2019年3月11日 11:22 | # | 引用                                                                                                                潘晓瑜 说：                                                        不能接收到返回值是因为什么                           2019年3月29日 10:33 | # | 引用                                                                                                                Damon 说：                                                        总算找到解决这个问题的方法了                           2019年5月 6日 14:25 | # | 引用                                                                                                                二狗子 说：                                                        1.我的情况是跨域问题时报、时不报。有时可以正常访问，有时又会报:has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource。2.nginx有代理，java代码也有写过滤器。网上查的试了不少，情况依旧。 3.最早是有跨域问题，访问不到后端工程接口，加了过滤器（加 response.setHeader）后便可正常访问。4.最近又报此错，却也间或可正常访问。间或访问中突然又报错：502(Bad Gateway) ...个人甚为迷惑，求指点方向 ...                           2019年5月14日 10:40 | # | 引用                                                                                                                阿凡提 说：                                                        引用Sia的发言：有一个问题想请教一下，在淘宝登陆后，打开天猫，会发现也是已登录状态，这是怎么做的呢？这个应该是 Session的登录态共享                           2019年7月 4日 23:24 | # | 引用                                                                                                                阿凡提 说：                                                        引用aaaa的发言：options 请求返回302. 浏览器没跳转location。 可能是哪的原因。cookie没带到服务端把                           2019年7月 4日 23:29 | # | 引用                                                                                                                李某某 说：                                                        如果是application/json的get请求呢？算是非简单请求吗？会发送options预检请求吗？                           2019年8月 1日 16:39 | # | 引用                                                                                                                yin 说：                                                        引用李某某的发言：如果是application/json的get请求呢？算是非简单请求吗？会发送options预检请求吗？get 请求的content type 在服务端都只会读取 像是 application/x-www-form-urlencoded 的格式，你 也无法在get request 的 data body 加入json数据                           2019年8月10日 13:46 | # | 引用                                                                                                                小小幸 说：                                                        nginx解决复杂请求跨域的时候需加上 aweys 参数 ,      eg：add_header 'Access-Control-Allow-Origin' "$http_origin" always; 原因：As of Nginx 1.7.5, add_header supports an "always" parameter which            allows CORS to work if the backend returns 4xx or 5xx status code.参考资料：https://gist.github.com/Stanback/7145487                           2019年8月23日 11:14 | # | 引用                                                                                                                deping 说：                                                        这是我看到的最清晰的跨域请求说明，比MDN的还清晰。                           2019年9月16日 19:17 | # | 引用                                                                                                                赵铁柱 说：                                                        阮一峰老师您好，看了您的跨域文章以后我有一事不明，您说GET /cors HTTP/1.1Origin: http://api.bob.comHost: api.alice.comAccept-Language: en-USConnection: keep-aliveUser-Agent: Mozilla/5.0...这是一个简单请求，可是，Host头和Connection头并没有符合您说的第二条规则啊，为啥他还是一个简单请求呢？？？                           2019年9月25日 11:52 | # | 引用                                                                                                                NorunN 说：                                                        Access-Control-Allow-Origin它的值要么是请求时Origin字段的值，要么是一个*，表示接受任意域名的请求如果不设置为*，想支持多个域名改怎么办呢？                           2019年9月29日 15:39 | # | 引用                                                                                                                Tim 说：                                                        引用NorunN的发言：Access-Control-Allow-Origin它的值要么是请求时Origin字段的值，要么是一个*，表示接受任意域名的请求如果不设置为*，想支持多个域名改怎么办呢？maybe 支持正则吧？                           2019年11月 4日 14:41 | # | 引用                                                                                                                Andel 说：                                                        找了好多有关跨域的资料，还是阮一峰老师说得最明白最有条理，感谢！                           2019年11月23日 18:11 | # | 引用                                                                                                                张三 说：                                                        亲测在chrome浏览器中 Content-Type: application/json;的GET/POST请求不会发出预检请求，是不是application/json的请求也在简单请求之列呢？                           2019年12月16日 16:53 | # | 引用                                                                                                                温某某 说：                                                        受教了，感谢阮老师                           2019年12月23日 21:11 | # | 引用                                                                                                                Jon 说：                                                        引用赵铁柱的发言：阮一峰老师您好，看了您的跨域文章以后我有一事不明，您说GET /cors HTTP/1.1Origin: http://api.bob.comHost: api.alice.comAccept-Language: en-USConnection: keep-aliveUser-Agent: Mozilla/5.0...这是一个简单请求，可是，Host头和Connection头并没有符合您说的第二条规则啊，为啥他还是一个简单请求呢？？？这里得补充一下, 是你手!动!添加的header 要在安全headers 列表中.浏览器会自动添加一些header, 这些不会触发预检详情请看:https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Simple_requests                           2019年12月28日 04:03 | # | 引用                                                                                                                阿白 说：                                                        老师，我所有都配置好了，但是谷歌会返回302是什么情况                           2019年12月29日 18:48 | # | 引用                                                                                                                阿飞 说：                                                        服务器端如果不支持跨域，收到请求，比如写入表一条数据，是不是也会正常处理？只是返回数据没有allow信息，浏览器认为异常/失败了。                           2020年3月 4日 18:13 | # | 引用                                                                                                                Sage 说：                                                        重温经典，谢谢阮老师。                           2020年4月14日 15:12 | # | 引用                                                                                                                Always_July 说：                                                        引用NorunN的发言：Access-Control-Allow-Origin它的值要么是请求时Origin字段的值，要么是一个*，表示接受任意域名的请求如果不设置为*，想支持多个域名改怎么办呢？能不能后端判断根据Origin改变Access-Control-Allow-Origin                           2020年4月21日 18:13 | # | 引用                                                                                                                光影 说：                                                        阮一峰老师，CORS能针对  除了Http协议之间的通信  的其他协议进行跨域吗？跨域既然包括了协议的不同，那么CORS是否有针对这一块儿做处理呢？还是说只能针对http，而协议之间的跨域是通过其他方式实现的？                           2020年5月20日 20:17 | # | 引用                                                                                                                YX 说：                                                        补充一下，给xhr文件上传加了进度监听就会变成非简单请求https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Simple_requests                           2020年6月30日 17:47 | # | 引用                                                                                                                野原新之助 说：                                                        引用赵帅的发言： 阮老师想问你个问题，我目前也是在Cors跨域这块遇到了难题，1.我在复杂请求时，PUT，首先预检通过，可以看到status code:200状态码，2.然后第二次要做真实的修改操作，直接报500状态码，服务器内部错误，响应头里面没有Origin,Headers,Method这三项.请问这是什么情况呢？烦请阮老师帮忙看下。不胜感谢！预检通过不能只看状态码，要看是否有Access-Control-……字段，有无可能是这里的问题。                           2020年7月15日 10:49 | # | 引用                                                                                                                katherine 说：                                                        如果ResponseHeader中设置： X-Content-Type-Options: nosniff，那么即便是Access-Control-Allow-Origin：* 貌似也不能使用jsonp实现跨域请求，麻烦大神指教                           2020年8月 6日 10:19 | # | 引用                                                                                                                liufei 说：                                                        引用张三的发言：亲测在chrome浏览器中 Content-Type: application/json;的GET/POST请求不会发出预检请求，是不是application/json的请求也在简单请求之列呢？不是不会发 是network面板里面只能看到一个 如果看all里面能看到的 还有 这个跟chrome版本也有差异                           2020年9月 4日 17:23 | # | 引用                                                                                                                RickXu 说：                                                        讲的真是太棒了，简单明了，无废话，每个字都有意义。很少看到这么优秀的文章！                           2020年12月29日 17:37 | # | 引用                                                                                                                99 说：                                                        大牛，这里好像有个不严谨的地方：Access-Control-Max-AgeOPTIONS请求返回结果未通过校验，这个缓存时间不会生效                           2020年12月30日 11:37 | # | 引用                                                                                                                yuki070 说：                                                        我遇到一个问题，一个post的跨域请求，在不设置header的时候，后端能收到，加上header后，后端就收不到了，貌似在浏览器就被拦截了。const ajax = new XMLHttpRequest();ajax.open('post', 'http://localhost:8083/bigscreen/module/add', true);// ajax.setRequestHeader('X-Custom-Header', 'value');ajax.send();ajax.onreadystatechange = function() {  if (ajax.readyState === 4 && ajax.status === 200) {    console.log(ajax.responseText);  }};浏览器network里看到“Provisional headers are shown”这样一个提示                           2021年1月 5日 09:58 | # | 引用                                                                                                                鲁 说：                                                        非常感谢阮一峰老师                           2021年3月23日 15:52 | # | 引用                                                                                                                状态的状 说：                                                        我也不太理解这个同源策略，似乎只是浏览器的限制，服务器该做的都做了，只是浏览器阻止你拿到response。如果进行删更的请求，那该做的都做了，只是拿不到返回值而已。我是不是应该在服务端过滤一下origin，感觉似乎只是平添了麻烦。如果我已经做了token验证了，那还有对origin做验证的必要嘛。                           2021年6月16日 15:52 | # | 引用                                                                                                                wangwei 说：                                                        老师，请教一个关于跨域的问题：使用application/json之后，用Chrome可以请求服务器资源，但是在mac下面用Safair就始终报错。XMLHttpRequest cannot load http://yunprint.gmgrasp.com.cn/PrintApi/GetStyleInfo. Request header field Content-Type is not allowed by Access-Control-Allow-Headers.                           2021年8月26日 11:33 | # | 引用                                                                                                                lmlife2021 说：                                                        @OMEGA：阮兄说漏了，请求头应该还会包含浏览器自动添加的那些。比如你说的connection, 还有referer，User-Agent等等                           2021年9月 4日 16:13 | # | 引用                                                                                                                明志 说：                                                        百思不得其解的时候，就想到阮老师了。谢谢分享如果能把留言区折叠一下就更好了，一开始看到进度条好长，心理上有点被吓到。哈哈                           2021年12月 5日 01:19 | # | 引用                                                                                                                Joe 说：                                                        阮老师的文章，结构清晰，语言精炼，逻辑感强，非常精彩啊，跟着老师学到了很多东西                           2022年2月18日 12:15 | # | 引用                                                                                                                tnndworlds 说：                                                        Access-Control-Allow-Origin  0 表示什么呢。小红书的接口，有些云服务是可以访问，有些访问不了，猜测是因为域名引起的，*和具体的域名都知道什么意思，这个0就不理解了                           2022年2月22日 21:38 | # | 引用                                                                                                                fallorest 说：                                                        老师，请问移动端的webview有没有这个CORS的限制？                           2022年4月12日 15:21 | # | 引用                                                                                                                飞黄腾达 说：                                                        小阮有进步！                           2022年6月14日 15:38 | # | 引用                                                                                                                谷达 说：                                                        请问阮老师,现在有了比如axios的反向代理不是更好吗, 这两个用来干嘛  ? ?                           2022年7月22日 16:24 | # | 引用                                                                                                                萌新 说：                                                        感谢阮老师,因为要带Cookie单点登录重定向接口挤掉前面的用户，网络查了半天都是错的，来老师这里一看就成功了                           2023年7月26日 14:56 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e992e59a2cf45',t:'MTc0MzI0MzI0Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2016/04/cors.html
Node 应用的 Systemd 启动 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    Node 应用的 Systemd 启动 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：Systemd&nbsp;入门教下一篇：你的B计划在哪里？&nbsp;&nbsp;                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              Node 应用的 Systemd 启动                                                                                    作者： 阮一峰                                    日期： 2016年3月12日                                                                                                                                            前面的文章介绍了 Systemd 的操作命令和基本用法，今天给出一个实例，如何使用 Systemd 启动一个 Node 应用。                                                                                                                本文是独立的，不需要前面的教程作为预备知识。一、克隆代码首先，下载示例库。$ git clone https://github.com/ruanyf/node-systemd-demo.git$ cd node-systemd-demo示例脚本server.js非常简单，就是一个 HTTP 服务器。var http = require('http');var hostname = '0.0.0.0';var port = 5000;http.createServer(function(req, res) {  res.writeHead(200, {'Content-Type': 'text/plain'});  res.end('Hello World');}).listen(port, hostname, function () {  console.log('Server running at http://%s:%s/', hostname, port);});二、修改配置文件Systemd 启动上面这个脚本，需要一个配置文件node-server.service。这个文件的文件名可以随便取，但是后缀名必须是.service。[Unit]Description=node simple server[Service]ExecStart=[/path/to/node/executable] [path/to/node-systemd-demo]/server.jsRestart=alwaysUser=[yourUserName]Group=[yourUserGroup]Environment=PATH=/usr/bin:/usr/local/binEnvironment=NODE_ENV=productionWorkingDirectory=[/path/to/node-systemd-demo][Install]WantedBy=multi-user.target上面脚本里面，有五个地方出现了四个占位符。  [/path/to/node/executable]：node可执行文件的绝对路径[path/to/node-systemd-demo]：示例库的绝对路径[yourUserName]：你的用户名[yourUserGroup]：你的组名你需要将上面这四个占位符，改成自己电脑的设置。下面是一个已经改好的例子。[Unit]Description=node simple server[Service]ExecStart=/usr/bin/node /tmp/node-systemd-demo/server.jsRestart=alwaysUser=nobodyGroup=nobodyEnvironment=PATH=/usr/bin:/usr/local/binEnvironment=NODE_ENV=productionWorkingDirectory=/tmp/node-systemd-demo[Install]WantedBy=multi-user.target如果你不知道这几个占位符的值，下面的命令可以帮你找出来。# node executable path$ which node# your user name$ id -un# your group name$ id -gn三、配置文件的解释简单解释一下，上面的配置文件的几个参数。Unit区块的Description字段，是服务的简单描述。Service区块的字段含义如下。  ExecStart：启动命令Restart：如何重启。always表示如果进程退出，总是重启Environment：环境变量WorkingDirectory：工作目录Install区块的WantedBy字段指定，设为开机启动时，该服务所在的 Target 是multi-user.target。四、启动服务现在将配置文件拷贝到 Systemd 之中。$ sudo cp node-server.service /etc/systemd/system接着，就启动服务。# 重载配置文件$ sudo systemctl daemon-reload# 启动服务$ sudo systemctl start node-server访问 http://0.0.0.0:5000，应该看到网页显示"Hello World"。五、查看状态如果启动失败，或者想查看日志，就要执行下面的命令。# 查看状态$ sudo systemctl status node-server# 查看日志$ sudo journalctl -u node-server# 实时输出最新日志$ sudo journalctl --follow -u node-server六、重启服务和停止服务# 重启服务$ sudo systemctl restart node-server# 停止服务$ sudo systemctl stop node-server如果想设为开机启动，就要执行systemctl enable。$ sudo systemctl enable node-server七、Socket 激活一般情况下，学到这里，应该就够用了。如果你还想体验一下 Systemd 的强大功能，请接着往下读。我们知道，HTTP服务器启动在那里，终究是耗费资源的。那么能不能做到，只有有人访问时，才启动服务，否则就关闭？这在 Systemd 里面叫做"Socket 激活"。开发者可以指定 Socket 监听的端口，系统根据有没有收到请求，自动启动或关闭服务。不难想到，只要前面加一层负载均衡器，这就等同于实现了一个简单的云服务，即根据访问量，系统自动扩容或收缩。下面就是"Socket 激活"的Demo。八、安装依赖首先，请确认前面启动的 Node 服务已经被关闭了，5000 端口已经释放出来了。然后，打开启动脚本socket-server.js，你会发现多出了两个模块：systemd 和 autoquit。require('systemd');require('autoquit');var http = require('http');var server = http.createServer(function(req, res) {  res.writeHead(200, {'Content-Type': 'text/plain'});  res.end('Hello World');});server.autoQuit({ timeOut: 60 });server.listen('systemd');console.log('Server running at http://0.0.0.0:5000/');上面代码中，systemd模块用于添加"Socket 激活"，autoquit模块用于指定多少时间无人访问后，关闭 Node 服务，上面脚本是60秒。另外，还有一个journald模块，用于向 Systemd 日志添加内容，这个例子中没有使用。现在，安装依赖。$ npm install九、改写配置文件Socket 激活需要两个配置文件。一个是node-socket-server.socket。[Socket]ListenStream=5000[Install]WantedBy=sockets.target另一个是node-socket-server.service。[Unit]Description=node simple server (socket activation)[Service]ExecStart=[/path/to/node/executable] [path/to/node-systemd-demo]/socket-server.jsUser=[yourUserName]Group=[yourGroupName]Environment=PATH=/usr/bin:/usr/local/binEnvironment=NODE_ENV=productionWorkingDirectory=[/path/to/node-systemd-demo]上面这个文件需要改写占位符。可以看到，由于不是开机启动，配置文件里面没有Install区块；由于不需要重启，也没有Restart字段。改写后，将它们拷贝到 Systemd。$ sudo cp node-socket-server.socket /etc/systemd/system$ sudo cp node-socket-server.service /etc/systemd/system十、启动 Socket 激活然后，执行下面两个命令，启动 Socket 激活。$ sudo systemctl daemon-reload$ sudo systemctl start node-socket-server.socket这个时候，检查一下状态。$ sudo systemctl status node-socket-server.socket● node-socket-server.socket   Loaded: loaded (/etc/systemd/system/node-socket-server.socket; disabled)   Active: active (listening) since 2016-03-10 20:36:41 CST; 7s ago   Listen: [::]:5000 (Stream)$ sudo systemctl status node-socket-server.service● node-socket-server.service - node simple server (socket activation)      Loaded: loaded (/etc/systemd/system/node-socket-server.service; disabled)      Active: inactive (dead)可以看到，node-socket-server.socket是激活的（active），而node-socket-server.service没有（inactive）。这时访问 http://0.0.0.0:5000 ，会发现网页可以正常访问。然后，再检查一下状态。$ sudo systemctl status node-socket-server.socket● node-socket-server.socket   Loaded: loaded (/etc/systemd/system/node-socket-server.socket; disabled)   Active: active (running) since 2016-03-10 20:36:41 CST; 1min 20s ago   Listen: [::]:5000 (Stream)$ sudo systemctl status node-socket-server.service● node-socket-server.service - node simple server (socket activation)   Loaded: loaded (/etc/systemd/system/node-socket-server.service; disabled)   Active: active (running) since 2016-03-10 20:37:55 CST; 3min 11s ago Main PID: 1084 (node)   CGroup: /system.slice/node-socket-server.service           └─1084 node /home/ruanyf/project/node-systemd-demo/socket-server.js这时，socket和service都激活了。十一、停止服务此时，如果手动停止 HTTP 服务器，Systemd 会发出一个警告。$ sudo systemctl stop node-socket-server.serviceWarning: Stopping node-socket-server.service, but it can still be activated by:  node-socket-server.socket上面的警告表示，Socket 依然是激活的，因此服务随时可能被重启，所以还需要关闭 Socket 激活。$ sudo systemctl stop node-socket-server.socket十二、参考链接Ruben Vermeersch, Deploying Node.js with systemdMike MacCana, How to deploy your node app on Linux, 2016 edition（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2016年3月12日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（17条）                                                                                                    rambone 说：                                                        systemctl 命令在centos， ubuntu server，Mac OS X中都没有啊                           2016年3月12日 22:25 | # | 引用                                                                                                                SomeOne 说：                                                        引用rambone的发言：systemctl 命令在centos， ubuntu server，Mac OS X中都没有啊CentOS 7 系列开始用 systemd，所以 systemctl 也是从 CentOS 7 开始有。我从 5 系列开始用，以转到 7 非常不方便。但这个看起来是趋势。感谢博主分享经验。                           2016年3月13日 01:58 | # | 引用                                                                                                                Dreamlu 说：                                                        结合coreos的fleet来用非常棒。                           2016年3月13日 08:43 | # | 引用                                                                                                                Larry 说：                                                        赞！ 最近几篇文章写得好，清楚，简洁，例子到位。 可以投到digitalocean的tutorial，或者linux论坛                           2016年3月13日 08:53 | # | 引用                                                                                                                Andy Hu 说：                                                        引用rambone的发言：systemctl 命令在centos， ubuntu server，Mac OS X中都没有啊Arch linux                            2016年3月13日 16:37 | # | 引用                                                                                                                rambone 说：                                                        引用SomeOne的发言：CentOS 7 系列开始用 systemd，所以 systemctl 也是从 CentOS 7 开始有。我从 5 系列开始用，以转到 7 非常不方便。但这个看起来是趋势。感谢博主分享经验。哦 原来是centos7以后才有哦  后来我又测试了kali 有这些 所以我觉得是与Linux内核版本有关系 4.X没有问题                           2016年3月14日 13:41 | # | 引用                                                                                                                Atomic 说：                                                        假设我一个模块需要启动20s才能启动完成,没人来就关了,那第一次有人来的时候岂不是得等20s?                           2016年3月17日 09:39 | # | 引用                                                                                                                chuyik 说：                                                        为什么不用 PM2 呢？                           2016年4月 5日 17:11 | # | 引用                                                                                                                itself 说：                                                        引用rambone的发言：systemctl 命令在centos， ubuntu server，Mac OS X中都没有啊ubuntu15.10以后都改为systemd启动啦，所以都有了。                           2016年6月26日 20:20 | # | 引用                                                                                                                bwangel 说：                                                        刚刚使用systemd来管理supervisord，然后运行一直提示Sep 05 16:43:20 zvv2x systemd[1]: supervisord.service: Service hold-off time over, scheduling restart.Sep 05 16:43:20 zvv2x systemd[1]: Stopped supervisord service.Sep 05 16:43:20 zvv2x systemd[1]: Started supervisord service.后来才发现，supervisord是以daemon的方式启动的，systemd不能管理它，就报错了。然后把配置文件改了，就给搞定了！                           2016年9月 5日 16:53 | # | 引用                                                                                                                花承赞 说：                                                        文章写的很棒，不过关于开启自启程序和 install 与 systemctl enable 之间的命令解释的有点含糊，其实际上 systemctl enable unit... 只是会根据 unit 配置文件里 [INSTALL] 指定的配置，在相应的文件夹里创建一些 symlink 文件。                           2017年6月21日 18:09 | # | 引用                                                                                                                ngaiwe 说：                                                        请问老师有没有推荐 关于学习nodejs 我又js基础 ES6也很好 之前看的深入浅出看着看着就不动了 感觉效率低                           2017年11月 5日 08:45 | # | 引用                                                                                                                Bat3Q 说：                                                        非常感谢一直以来你的文章对我的引导，我已经入门了，谢谢！                           2018年1月25日 13:37 | # | 引用                                                                                                                包子 说：                                                        systemctl       show-environment #查看的变量，会有几个默认的。请问下这些变量从哪里来的，或某个文件。????                                  2018年12月19日 16:08 | # | 引用                                                                                                                Kav 说：                                                        感谢，对我们后来者快速进步帮助很大！                           2019年6月 3日 21:37 | # | 引用                                                                                                                碎茶几 说：                                                        引用Atomic的发言：假设我一个模块需要启动20s才能启动完成,没人来就关了,那第一次有人来的时候岂不是得等20s?我也是这么想的coreos那边的文档推荐用Systemd.socket启动docker……我的天且不说docker启动本身就不算快我有一个docker容器 映射了两百个端口按照docker的尿性怕不是访问一个链接要等半分钟（他会用iptables一条一条创端口映射……）                           2019年6月11日 00:54 | # | 引用                                                                                                                碎茶几 说：                                                        还有一点更搞笑加入是因为资源占用大而按需开启那么越是资源占用大的应用启动也越慢吧……                           2019年6月11日 01:04 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9caec91ccf45',t:'MTc0MzI0MzM4OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2016/03/node-systemd-tutorial.html
React Router 使用教程 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    React Router 使用教程 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：时间管理的七句话&nbsp;&nbsp;&nbsp;下一篇：要聊天，先付费&nbsp;&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              React Router 使用教程                                                                                    作者： 阮一峰                                    日期： 2016年5月25日                                                                                                                                            真正学会 React 是一个漫长的过程。                                                                                                                你会发现，它不是一个库，也不是一个框架，而是一个庞大的体系。想要发挥它的威力，整个技术栈都要配合它改造。你要学习一整套解决方案，从后端到前端，都是全新的做法。举例来说，React 不使用 HTML，而使用 JSX 。它打算抛弃 DOM，要求开发者不要使用任何 DOM 方法。它甚至还抛弃了 SQL ，自己发明了一套查询语言 GraphQL 。当然，这些你都可以不用，React 照样运行，但是就发挥不出它的最大威力。这样说吧，你只要用了 React，就会发现合理的选择就是，采用它的整个技术栈。本文介绍 React 体系的一个重要部分：路由库React-Router。它是官方维护的，事实上也是唯一可选的路由库。它通过管理 URL，实现组件的切换和状态的变化，开发复杂的应用几乎肯定会用到。本文针对初学者，尽量写得简洁易懂。预备知识是 React 的基本用法，可以参考我写的《React 入门实例教程》。另外，我没有准备示例库，因为官方的示例库非常棒，由浅入深，分成14步，每一步都有详细的代码解释。我强烈建议你先跟着做一遍，然后再看下面的API讲解。（[说明] 本文写作时，React-router 是 2.x 版，本文的内容只适合这个版本，与最新的 4.x 版不兼容。目前，官方同时维护 2.x 和 4.x 两个版本，所以前者依然可以用在项目中。2017年3月）一、基本用法React Router 安装命令如下。$ npm install -S react-router使用时，路由器Router就是React的一个组件。import { Router } from 'react-router';render(&lt;Router/>, document.getElementById('app'));Router组件本身只是一个容器，真正的路由要通过Route组件定义。import { Router, Route, hashHistory } from 'react-router';render((  &lt;Router history={hashHistory}>    &lt;Route path="/" component={App}/>  &lt;/Router>), document.getElementById('app'));上面代码中，用户访问根路由/（比如http://www.example.com/），组件APP就会加载到document.getElementById('app')。你可能还注意到，Router组件有一个参数history，它的值hashHistory表示，路由的切换由URL的hash变化决定，即URL的#部分发生变化。举例来说，用户访问http://www.example.com/，实际会看到的是http://www.example.com/#/。Route组件定义了URL路径与组件的对应关系。你可以同时使用多个Route组件。&lt;Router history={hashHistory}>  &lt;Route path="/" component={App}/>  &lt;Route path="/repos" component={Repos}/>  &lt;Route path="/about" component={About}/>&lt;/Router>上面代码中，用户访问/repos（比如http://localhost:8080/#/repos）时，加载Repos组件；访问/about（http://localhost:8080/#/about）时，加载About组件。二、嵌套路由Route组件还可以嵌套。&lt;Router history={hashHistory}>  &lt;Route path="/" component={App}>    &lt;Route path="/repos" component={Repos}/>    &lt;Route path="/about" component={About}/>  &lt;/Route>&lt;/Router>上面代码中，用户访问/repos时，会先加载App组件，然后在它的内部再加载Repos组件。&lt;App>  &lt;Repos/>&lt;/App>App组件要写成下面的样子。export default React.createClass({  render() {    return &lt;div>      {this.props.children}    &lt;/div>  }})上面代码中，App组件的this.props.children属性就是子组件。子路由也可以不写在Router组件里面，单独传入Router组件的routes属性。let routes = &lt;Route path="/" component={App}>  &lt;Route path="/repos" component={Repos}/>  &lt;Route path="/about" component={About}/>&lt;/Route>;&lt;Router routes={routes} history={browserHistory}/>三、 path 属性Route组件的path属性指定路由的匹配规则。这个属性是可以省略的，这样的话，不管路径是否匹配，总是会加载指定组件。请看下面的例子。&lt;Route path="inbox" component={Inbox}>   &lt;Route path="messages/:id" component={Message} />&lt;/Route>上面代码中，当用户访问/inbox/messages/:id时，会加载下面的组件。&lt;Inbox>  &lt;Message/>&lt;/Inbox>如果省略外层Route的path参数，写成下面的样子。&lt;Route component={Inbox}>  &lt;Route path="inbox/messages/:id" component={Message} />&lt;/Route>现在用户访问/inbox/messages/:id时，组件加载还是原来的样子。&lt;Inbox>  &lt;Message/>&lt;/Inbox>四、通配符path属性可以使用通配符。&lt;Route path="/hello/:name">// 匹配 /hello/michael// 匹配 /hello/ryan&lt;Route path="/hello(/:name)">// 匹配 /hello// 匹配 /hello/michael// 匹配 /hello/ryan&lt;Route path="/files/*.*">// 匹配 /files/hello.jpg// 匹配 /files/hello.html&lt;Route path="/files/*">// 匹配 /files/ // 匹配 /files/a// 匹配 /files/a/b&lt;Route path="/**/*.jpg">// 匹配 /files/hello.jpg// 匹配 /files/path/to/file.jpg通配符的规则如下。  （1）:paramName :paramName匹配URL的一个部分，直到遇到下一个/、?、#为止。这个路径参数可以通过this.props.params.paramName取出。（2）()()表示URL的这个部分是可选的。（3）* *匹配任意字符，直到模式里面的下一个字符为止。匹配方式是非贪婪模式。（4） **** 匹配任意字符，直到下一个/、?、#为止。匹配方式是贪婪模式。path属性也可以使用相对路径（不以/开头），匹配时就会相对于父组件的路径，可以参考上一节的例子。嵌套路由如果想摆脱这个规则，可以使用绝对路由。路由匹配规则是从上到下执行，一旦发现匹配，就不再其余的规则了。&lt;Route path="/comments" ... />&lt;Route path="/comments" ... />上面代码中，路径/comments同时匹配两个规则，第二个规则不会生效。 设置路径参数时，需要特别小心这一点。&lt;Router>  &lt;Route path="/:userName/:id" component={UserPage}/>  &lt;Route path="/about/me" component={About}/>&lt;/Router>上面代码中，用户访问/about/me时，不会触发第二个路由规则，因为它会匹配/:userName/:id这个规则。因此，带参数的路径一般要写在路由规则的底部。此外，URL的查询字符串/foo?bar=baz，可以用this.props.location.query.bar获取。五、IndexRoute 组件下面的例子，你会不会觉得有一点问题？&lt;Router>  &lt;Route path="/" component={App}>    &lt;Route path="accounts" component={Accounts}/>    &lt;Route path="statements" component={Statements}/>  &lt;/Route>&lt;/Router>上面代码中，访问根路径/，不会加载任何子组件。也就是说，App组件的this.props.children，这时是undefined。因此，通常会采用{this.props.children || &lt;Home/&gt;}这样的写法。这时，Home明明是Accounts和Statements的同级组件，却没有写在Route中。IndexRoute就是解决这个问题，显式指定Home是根路由的子组件，即指定默认情况下加载的子组件。你可以把IndexRoute想象成某个路径的index.html。&lt;Router>  &lt;Route path="/" component={App}>    &lt;IndexRoute component={Home}/>    &lt;Route path="accounts" component={Accounts}/>    &lt;Route path="statements" component={Statements}/>  &lt;/Route>&lt;/Router>现在，用户访问/的时候，加载的组件结构如下。&lt;App>  &lt;Home/>&lt;/App>这种组件结构就很清晰了：App只包含下级组件的共有元素，本身的展示内容则由Home组件定义。这样有利于代码分离，也有利于使用React Router提供的各种API。注意，IndexRoute组件没有路径参数path。六、Redirect 组件&lt;Redirect&gt;组件用于路由的跳转，即用户访问一个路由，会自动跳转到另一个路由。&lt;Route path="inbox" component={Inbox}>  {/* 从 /inbox/messages/:id 跳转到 /messages/:id */}  ＜Redirect from="messages/:id" to="/messages/:id" />&lt;/Route>现在访问/inbox/messages/5，会自动跳转到/messages/5。七、IndexRedirect 组件IndexRedirect组件用于访问根路由的时候，将用户重定向到某个子组件。&lt;Route path="/" component={App}>  ＜IndexRedirect to="/welcome" />  &lt;Route path="welcome" component={Welcome} />  &lt;Route path="about" component={About} />&lt;/Route>上面代码中，用户访问根路径时，将自动重定向到子组件welcome。八、LinkLink组件用于取代&lt;a&gt;元素，生成一个链接，允许用户点击后跳转到另一个路由。它基本上就是&lt;a&gt;元素的React 版本，可以接收Router的状态。render() {  return &lt;div>    &lt;ul role="nav">      &lt;li>&lt;Link to="/about">About&lt;/Link>&lt;/li>      &lt;li>&lt;Link to="/repos">Repos&lt;/Link>&lt;/li>    &lt;/ul>  &lt;/div>}如果希望当前的路由与其他路由有不同样式，这时可以使用Link组件的activeStyle属性。&lt;Link to="/about" activeStyle={{color: 'red'}}>About&lt;/Link>&lt;Link to="/repos" activeStyle={{color: 'red'}}>Repos&lt;/Link>上面代码中，当前页面的链接会红色显示。另一种做法是，使用activeClassName指定当前路由的Class。&lt;Link to="/about" activeClassName="active">About&lt;/Link>&lt;Link to="/repos" activeClassName="active">Repos&lt;/Link>上面代码中，当前页面的链接的class会包含active。在Router组件之外，导航到路由页面，可以使用浏览器的History API，像下面这样写。import { browserHistory } from 'react-router';browserHistory.push('/some/path');九、IndexLink如果链接到根路由/，不要使用Link组件，而要使用IndexLink组件。这是因为对于根路由来说，activeStyle和activeClassName会失效，或者说总是生效，因为/会匹配任何子路由。而IndexLink组件会使用路径的精确匹配。&lt;IndexLink to="/" activeClassName="active">  Home&lt;/IndexLink>上面代码中，根路由只会在精确匹配时，才具有activeClassName。另一种方法是使用Link组件的onlyActiveOnIndex属性，也能达到同样效果。&lt;Link to="/" activeClassName="active" onlyActiveOnIndex={true}>  Home&lt;/Link>实际上，IndexLink就是对Link组件的onlyActiveOnIndex属性的包装。十、histroy 属性Router组件的history属性，用来监听浏览器地址栏的变化，并将URL解析成一个地址对象，供 React Router 匹配。history属性，一共可以设置三种值。  browserHistoryhashHistorycreateMemoryHistory如果设为hashHistory，路由将通过URL的hash部分（#）切换，URL的形式类似example.com/#/some/path。import { hashHistory } from 'react-router'render(  &lt;Router history={hashHistory} routes={routes} />,  document.getElementById('app'))如果设为browserHistory，浏览器的路由就不再通过Hash完成了，而显示正常的路径example.com/some/path，背后调用的是浏览器的History API。import { browserHistory } from 'react-router'render(  &lt;Router history={browserHistory} routes={routes} />,  document.getElementById('app'))但是，这种情况需要对服务器改造。否则用户直接向服务器请求某个子路由，会显示网页找不到的404错误。如果开发服务器使用的是webpack-dev-server，加上--history-api-fallback参数就可以了。$ webpack-dev-server --inline --content-base . --history-api-fallbackcreateMemoryHistory主要用于服务器渲染。它创建一个内存中的history对象，不与浏览器URL互动。const history = createMemoryHistory(location)十一、表单处理Link组件用于正常的用户点击跳转，但是有时还需要表单跳转、点击按钮跳转等操作。这些情况怎么跟React Router对接呢？下面是一个表单。&lt;form onSubmit={this.handleSubmit}>  &lt;input type="text" placeholder="userName"/>  &lt;input type="text" placeholder="repo"/>  &lt;button type="submit">Go&lt;/button>&lt;/form>第一种方法是使用browserHistory.pushimport { browserHistory } from 'react-router'// ...  handleSubmit(event) {    event.preventDefault()    const userName = event.target.elements[0].value    const repo = event.target.elements[1].value    const path = `/repos/${userName}/${repo}`    browserHistory.push(path)  },第二种方法是使用context对象。export default React.createClass({  // ask for `router` from context  contextTypes: {    router: React.PropTypes.object  },  handleSubmit(event) {    // ...    this.context.router.push(path)  },})十二、路由的钩子每个路由都有Enter和Leave钩子，用户进入或离开该路由时触发。&lt;Route path="about" component={About} />＜Route path="inbox" component={Inbox}>  ＜Redirect from="messages/:id" to="/messages/:id" />&lt;/Route>上面的代码中，如果用户离开/messages/:id，进入/about时，会依次触发以下的钩子。  /messages/:id的onLeave/inbox的onLeave/about的onEnter下面是一个例子，使用onEnter钩子替代&lt;Redirect&gt;组件。&lt;Route path="inbox" component={Inbox}>  &lt;Route    path="messages/:id"    onEnter={      ({params}, replace) => replace(`/messages/${params.id}`)    }   />&lt;/Route>onEnter钩子还可以用来做认证。const requireAuth = (nextState, replace) => {    if (!auth.isAdmin()) {        // Redirect to Home page if not an Admin        replace({ pathname: '/' })    }}export const AdminRoutes = () => {  return (     &lt;Route path="/admin" component={Admin} onEnter={requireAuth} />  )}下面是一个高级应用，当用户离开一个路径的时候，跳出一个提示框，要求用户确认是否离开。const Home = withRouter(  React.createClass({    componentDidMount() {      this.props.router.setRouteLeaveHook(        this.props.route,         this.routerWillLeave      )    },    routerWillLeave(nextLocation) {      // 返回 false 会继续停留当前页面，      // 否则，返回一个字符串，会显示给用户，让其自己决定      if (!this.state.isSaved)        return '确认要离开？';    },  }))上面代码中，setRouteLeaveHook方法为Leave钩子指定routerWillLeave函数。该方法如果返回false，将阻止路由的切换，否则就返回一个字符串，提示用户决定是否要切换。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2016年5月25日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（126条）                                                                                                    tlk 说：                                                        非常不错，简洁、清楚，阮大侠的笔锋越来越高大上。                           2016年5月25日 19:53 | # | 引用                                                                                                                童奇 说：                                                        嵌套路由下这段代码有点小问题                           2016年5月26日 00:13 | # | 引用                                                                                                                阮一峰 说：                                                        @童奇：谢谢指出，改过缩进了。                           2016年5月26日 08:21 | # | 引用                                                                                                                胡子拉碴 说：                                                        6,7,12部分的代码转义有问题，                           2016年5月26日 09:05 | # | 引用                                                                                                                阮一峰 说：                                                        @胡子拉碴：解析引擎有点问题，暂时先用全角符号代替．                           2016年5月26日 09:33 | # | 引用                                                                                                                翁益栋 说：                                                        非常感谢老师的分享，受益匪浅~                           2016年5月26日 10:44 | # | 引用                                                                                                                硕硕 说：                                                        兼容性如何                           2016年5月26日 11:56 | # | 引用                                                                                                                Hejx 说：                                                        React 全家桶。 哈哈                           2016年5月26日 11:58 | # | 引用                                                                                                                小乌龟 说：                                                        React Router 版本更新的很快 老师目前讲解的是对哪个版本呢 在 2.4.0以上版本 ,js 点击事件 的路由跳转 变化很大呀                           2016年5月26日 13:40 | # | 引用                                                                                                                如理 说：                                                        到现在还不知道react的威力强大在哪里？ 而且感觉还更复杂，因为几乎要全部新学所有东西。可能没有接触过大数据量的场景，总之写了3，4个月了，只是感觉到它的复杂，在我看来其它框架遇到的问题，react，redux也不能完全解决，反而是增加了一种学习成本。最怀疑的，react这种火热还会持续多久？想问下阮老师，对于想写nodejs(API)的职业规划有何建议？另外，koa和expressjs哪个比较稳定？看了一下网络上对koa的介绍和评价，虽然有些(也许)是es未来趋势的新特性，但是我心底里比较抵触es的新特性(除非它们事实上已经成为标准，并且至少有2-3年的存活历史，而不需要再依赖polyfill)。expressjs看起来有些年头，而且大致看了下它的api也比较简单。但是犹豫的是，如果后续换单位，是不是行业内更多的是已经使用koa？或还是其它框架？谢谢！                           2016年5月26日 17:16 | # | 引用                                                                                                                neil 说：                                                        React 看起来要颠覆前端啊                           2016年5月27日 12:40 | # | 引用                                                                                                                eric 说：                                                        期待一下 redux                           2016年5月27日 14:42 | # | 引用                                                                                                                奕佚 说：                                                        您好，我想请教您作为一个前端菜鸟，应该怎样去学习呢？我一直想学点东西，但是每次在学习的过程中遇到一些陌生的框架或者库什么的，就想着又去学那个，所以每次都是半途而废，好纠结啊                           2016年5月27日 14:52 | # | 引用                                                                                                                linchen1987 说：                                                        引用奕佚的发言：您好，我想请教您作为一个前端菜鸟，应该怎样去学习呢？我一直想学点东西，但是每次在学习的过程中遇到一些陌生的框架或者库什么的，就想着又去学那个，所以每次都是半途而废，好纠结啊我建议你以“面向功能实现”的思路去学习。什么意思？就是学习的目的是实现功能，学习的目的不是学会某个技术。我写了一篇文章，希望对你有帮助：）  http://dwz.cn/3tbxyS                           2016年5月28日 23:10 | # | 引用                                                                                                                枯叶 说：                                                        一直很喜欢老师的文章，希望能写一个Redux的教程，以及React+React Router+Redux结合的教程。非常感谢！                           2016年5月30日 14:17 | # | 引用                                                                                                                阿力 说：                                                        进来学习的，同时给老师赞一个！                           2016年5月30日 23:47 | # | 引用                                                                                                                Turbo 说：                                                        一直追随阮老师的脚步。。                           2016年5月31日 10:29 | # | 引用                                                                                                                walker 说：                                                        react 还是 angular2....                           2016年6月 1日 15:00 | # | 引用                                                                                                                jonshen 说：                                                        在react的门口徘徊半年了，还没进去，( ▼-▼ )                           2016年6月 2日 11:22 | # | 引用                                                                                                                liko 说：                                                        apache服务器的.htaccess照着官方给的方案改，完全不起作用啊，搞得我只能用hashHistory，有没有遇到类似问题的朋友啊                           2016年6月 3日 23:25 | # | 引用                                                                                                                Mark 说：                                                        阮老师好，示例库第十一节，在Windows环境下使用SET NODE_ENV=production npm start 不起作用，老师有没有遇到这个问题？                           2016年6月 6日 11:53 | # | 引用                                                                                                                weny 说：                                                        最后一个“当用户离开一个路径的时候，跳出一个提示框”下边的代码写错了“this.props.router.setRouteLeaveHook” 应该是“this.context.router.setRouteLeaveHook”即props应该改为是context                           2016年6月 6日 17:02 | # | 引用                                                                                                                weny 说：                                                        引用Mark的发言：阮老师好，示例库第十一节，在Windows环境下使用SET NODE_ENV=production npm start 不起作用，老师有没有遇到这个问题？在window环境下命令窗口里应该如下使用：这个应该先执行 set node_env=production然后在执行 npm start而不是一整行一次执行。这样就起作用了，你可以试试                           2016年6月 6日 17:09 | # | 引用                                                                                                                Cccc 说：                                                        @如理What makes you feel React is nothing but more complicated? The most stand out is its performance, this is well know. But sides this, it's so easy to write, especially it comes up with other frameworks. Just one example, if you use React + Relay + GraphQL, it is declarative instead of imperative -- so it handles all the async rendering for you, make your application fast and easy to develop.                           2016年6月 7日 18:09 | # | 引用                                                                                                                May 说：                                                        谢谢阮老师的分享，又学到了新知识，重新过了遍react-router的官方DEMO，确实浅显易懂。很喜欢这一期的配图！                           2016年6月13日 16:01 | # | 引用                                                                                                                zhaoqize 说：                                                        阮老师 你是我这种野路子的信仰！                           2016年6月14日 11:15 | # | 引用                                                                                                                三牙西瓜 说：                                                        引用zhaoqize的发言：阮老师 你是我这种野路子的信仰！+1                           2016年6月16日 10:55 | # | 引用                                                                                                                经年 说：                                                        引用eric的发言：期待一下 redux期待redux                           2016年6月19日 22:46 | # | 引用                                                                                                                alex.mm 说：                                                        https://github.com/ReactJSTraining/history/blob/master/docs/BasenameSupport.md这部分也很重要，漏掉了                           2016年6月21日 17:37 | # | 引用                                                                                                                cary 说：                                                        引用liko的发言：apache服务器的.htaccess照着官方给的方案改，完全不起作用啊，搞得我只能用hashHistory，有没有遇到类似问题的朋友啊同样被这个问题困惑，nginx 上面配置不成功！只能退回hashHistory                           2016年7月 6日 14:00 | # | 引用                                                                                                                ManC 说：                                                        阮老师，请教下如何去除去是URL中的?_k参数？                           2016年7月 7日 05:50 | # | 引用                                                                                                                mcc 说：                                                        引用经年的发言：期待redux期待                           2016年8月 1日 15:35 | # | 引用                                                                                                                zx.wang 说：                                                        问一下老师，如果require.ensure异步加载js文件，客户端点击url显示ok，异步能加载进来，但是如果直接访问该地址就会出现错误，如果是同步加载，完全没问题。                           2016年8月15日 11:19 | # | 引用                                                                                                                Airma 说：                                                        刚入们小白学习react求解答：router的嵌套使用没有效果啊，  &lt;Route path="/" component={App}>    &lt;Route path="/demo" component={demo}/>  &lt;/Route>我定义了两个组件app和haha，让他们返回app和demo，然后我输入了/demo这个url，却没有渲染demo，只有一个app                           2016年8月19日 18:23 | # | 引用                                                                                                                丁继强 说：                                                        真心期待Redux！！！！！！！！                           2016年8月24日 16:26 | # | 引用                                                                                                                Tony 说：                                                        "当用户离开一个路径的时候，跳出一个提示框，要求用户确认是否离开"这个案例里面，this.props.router错误，应该是this.context.router                           2016年8月26日 15:31 | # | 引用                                                                                                                JD 说：                                                        @Airma:我出现了同样的问题，求问一下，百度没有找到方法                           2016年8月26日 17:37 | # | 引用                                                                                                                songzhj 说：                                                        引用Airma的发言：刚入们小白学习react求解答：router的嵌套使用没有效果啊，&lt;Route path="/" component={App}&gt;&lt;Route path="/demo" component={demo}/&gt;&lt;/Route&gt;我定义了两个组件app和haha，让他们返回app和demo，然后我输入了/demo这个url，却没有渲染demo，只有一个app嵌套里面的"/demo"应该是不需要"/"的,"path=demo"就可以了吧.                           2016年8月27日 12:30 | # | 引用                                                                                                                Ricky 说：                                                        大家使用 import {Router,Route,Link} from 'react-router';这种写法,在浏览器中打开难道没遇到 require not defined的报错消息吗?                           2016年8月29日 14:22 | # | 引用                                                                                                                edward 说：                                                        replace 钩子函数那  not a function 输出是 无定义                           2016年9月25日 18:18 | # | 引用                                                                                                                橙色阳光 说：                                                        还是阮司机的教程给力……关于在方法中处理跳转问题，死活没想到用HistoryAPI……                           2016年9月29日 09:38 | # | 引用                                                                                                                李涛 说：                                                        写的不错，言简意赅。学到了东西，比起那些讲废话的视频教程确实不错                           2016年10月 6日 20:36 | # | 引用                                                                                                                scc 说：                                                        很有用  看了几个 还是阮老师写的最明白                           2016年10月10日 16:23 | # | 引用                                                                                                                tumars 说：                                                        您好，使用 browserHistory 时碰到个问题，路由的跳转是匹配根目录而不是项目目录。例如目录为 localhost/login 正常，但目录为 http://localhost/path/login 就会报错了。可以通过 useRouterHistory 定义 router 的根目录，但这样岂不是打包好的项目只能放在指定的目录下才能运行，若是放在别处，路径仍然是错误的。难道这种需要多处放的项目只能使用 hashHistory 吗？                           2016年10月11日 10:09 | # | 引用                                                                                                                nice guy 说：                                                        关于教程中有一点没有说明清楚,当父Route下存在多个IndexRoute,只有最后的IndexRouter会生效                           2016年10月19日 09:05 | # | 引用                                                                                                                Modle_Sherlock 说：                                                        今天重新好好看了一遍,再做了一遍,感觉不错了终于                           2016年10月25日 11:54 | # | 引用                                                                                                                老汉 说：                                                        十二，路由的钩子例子中 /messages/:id的onLeave/inbox的onLeave/about的onEnter第二个应该是 "/messages 的 onLeave"                           2016年11月 4日 11:32 | # | 引用                                                                                                                走走婷婷 说：                                                        随处可见阮老师的教程，详细而又简洁，受益匪浅。上次逛豆瓣的时候竟然也看到了阮老师的文章，我真的是吃了一鲸！现在是万分膜拜了！                           2016年11月15日 15:27 | # | 引用                                                                                                                大亨 说：                                                        const requireAuth = (nextState, replace) => {    if (!auth.isAdmin()) {        // Redirect to Home page if not an Admin        replace({ pathname: '/' })    }}export const AdminRoutes = () => {  return (       )}请问里面的replace是自定义函数？                           2016年12月 4日 21:51 | # | 引用                                                                                                                chocking 说：                                                        hashHistory和browserHistory的区别还是不太明白，难道hashHistory的背后就不是调用浏览器的history api吗？ browserHistory需要服务器配合，那是不是说browserHistory就不是spa了？                           2016年12月 5日 19:04 | # | 引用                                                                                                                辣辣 说：                                                        引用ManC的发言：阮老师，请教下如何去除去是URL中的?_k参数？如果只是想去掉 ?_k=adseis 这样的字符串的话，可以使用外部的 history 模块。import { createHashHistory } from 'history';const appHistory = useRouterHistory(createHashHistory)({ queryKey: false });ReactDOM.render(  &lt;Router history={appHistory}>    {routes}  &lt;/Router>,  document.getElementById('app'));                           2016年12月 6日 16:42 | # | 引用                                                                                                                lihuihero 说：                                                        我有一个疑问 官方的示例上第14个例子 为什么通过 http://localhost:8080/ 无法测试了显示 Cannot GET /                           2016年12月15日 12:07 | # | 引用                                                                                                                lihuihero 说：                                                        引用lihuihero的发言：我有一个疑问 官方的示例上第14个例子 为什么通过 http://localhost:8080/ 无法测试了显示 Cannot GET /在window环境下命令窗口里应该如下使用： 这个应该先执行 set node_env=production 然后在执行 npm start 而不是一整行一次执行。这样就起作用了，你可以试试 我照着这个试来一次 没问题了 能看了。 这14和13的例子 是交大家怎么配合 EXPRESS设置路由是吗？                           2016年12月15日 12:14 | # | 引用                                                                                                                Eysa 说：                                                        我实在看不明白要这个router做什么用，我是asp.net mvc开发者，这无疑给页面又多了一个js文件，mvc的route已经很好了，要这个react router有嘛用？                           2016年12月19日 17:17 | # | 引用                                                                                                                刘彤 说：                                                        如果用Route嵌套是不是太麻烦，还要弄一个中间件设置props.children,大家有没有更简便的方式呢？                           2016年12月25日 21:27 | # | 引用                                                                                                                峰 说：                                                        path的/能加个随机数吗？加个随机数如何不影响页面？求解                           2017年1月 3日 12:36 | # | 引用                                                                                                                seadog 说：                                                        引用Airma的发言：刚入们小白学习react求解答：router的嵌套使用没有效果啊，&lt;Route path="/" component={App}&gt;&lt;Route path="/demo" component={demo}/&gt;&lt;/Route&gt;我定义了两个组件app和haha，让他们返回app和demo，然后我输入了/demo这个url，却没有渲染demo，只有一个app做了个实验，这种嵌套式一定要从主页点进去，单独/demo进入url会找不到路径。不知道是不是这个意思                           2017年1月10日 03:22 | # | 引用                                                                                                                346243440 说：                                                        引用奕佚的发言：您好，我想请教您作为一个前端菜鸟，应该怎样去学习呢？我一直想学点东西，但是每次在学习的过程中遇到一些陌生的框架或者库什么的，就想着又去学那个，所以每次都是半途而废，好纠结啊我个人觉得你这种做法也是对的，大致的了解下各个框架的入门，再选择一门自己喜欢和感兴趣的深入学习，作为一个同样是学习者的建议                           2017年1月12日 17:12 | # | 引用                                                                                                                格纹 说：                                                        不知道为啥很喜欢学react相关的技术，学了一坨。。。但就是没开发个像样的项目。。。。                           2017年1月16日 17:11 | # | 引用                                                                                                                D 说：                                                        PATH 属性部分：不管路径是否匹配，总是会加载指定组件。 这句不是很理解，从例子里面看不出来是解释这句话                           2017年1月20日 11:07 | # | 引用                                                                                                                webkws 说：                                                        引用Ricky的发言：大家使用 import {Router,Route,Link} from 'react-router';这种写法,在浏览器中打开难道没遇到 require not defined的报错消息吗?ES6                           2017年2月12日 22:12 | # | 引用                                                                                                                韩志万 说：                                                        有一块组件按需加载好像没讲到。                           2017年2月22日 17:11 | # | 引用                                                                                                                chongzi 说：                                                        引用Airma的发言：刚入们小白学习react求解答：router的嵌套使用没有效果啊，&lt;Route path="/" component={App}&gt;&lt;Route path="/demo" component={demo}/&gt;&lt;/Route&gt;我定义了两个组件app和haha，让他们返回app和demo，然后我输入了/demo这个url，却没有渲染demo，只有一个appcomponent={demo}返回的组件大写试试？如：Demo如果没记错的话react组件首字母需要大写                           2017年2月28日 09:24 | # | 引用                                                                                                                edward 说：                                                        动态路由问题export default (store) => ({  path: 'route/:id',  getComponent (nextState, cb) {    require.ensure([], (require) => {      const Route = require('./components/Route').default      cb(null, Route)    })  }})问：这种异步动态路由，是否比阮师 的写法更好一些呢？                           2017年2月28日 16:52 | # | 引用                                                                                                                zzwar2009 说：                                                        谢谢阮老师 你的文章对我帮助很大                           2017年3月 6日 23:27 | # | 引用                                                                                                                junhui 说：                                                        Link 使用要引入let Link = require('react-router').Link，没说明还不知道突然多一个Link是什么                           2017年3月 7日 16:50 | # | 引用                                                                                                                眷恋天空的驴 说：                                                        引用您在路由嵌套上面的文字：‘上面代码中，用户访问/repos时，会先加载App组件，然后在它的内部再加载Repos组件。’但是经过多次测试，路由访问是不会调用app这个组件的，不知道哪里有误                           2017年3月 9日 12:16 | # | 引用                                                                                                                眷恋天空的驴 说：                                                        还有一个问题： http://localhost:8080/#/   这个样子初始化的时候调用app组件是调用一次，但是在实际的开发中，一般的url http://localhost:8080/是不带后面/#这样子的情况下刷新页面，是会调用两次app组件的                           2017年3月 9日 12:21 | # | 引用                                                                                                                Nuono 说：                                                        感谢，很受用，官方现在更新了4.0很多都不一样了。                           2017年3月14日 18:34 | # | 引用                                                                                                                宁小姐的慢时光 说：                                                        您好，请问如果访问http://localhost:8080/时，默认显示的是/about路径下的内容，不是home下的内容，怎么实现                           2017年3月14日 20:13 | # | 引用                                                                                                                waka 说：                                                        react-router 4.0版本已没有 hashHistory 这个方法，需要用react-router 2.0版本                           2017年3月28日 14:07 | # | 引用                                                                                                                Ziv 说：                                                        browserHistory hashHistory 这些都不包含在router里面吧？                           2017年3月29日 11:38 | # | 引用                                                                                                                Neal 说：                                                        onEnter 那里，replace is not a function                           2017年3月29日 14:29 | # | 引用                                                                                                                loszer 说：                                                        建议老师在开头申明下react-router的版本，我用的时候已经v4了，有变化                           2017年3月30日 04:00 | # | 引用                                                                                                                Ziv 说：                                                        		我这边会报：Uncaught Error: A  may have only one child element                           2017年3月31日 14:59 | # | 引用                                                                                                                Ziv 说：                                                        引用Ziv的发言：		我这边会报：Uncaught Error: Amay have only one child element                           2017年3月31日 15:00 | # | 引用                                                                                                                Ziv 说：                                                        引用Ziv的发言：Router history={createBrowserHistory()}	Route path="/" component={Index}	Route path="/test2" component={Test2}Router（为了方便显示简写的）我这边会报：Uncaught Error: Amay have only one child element                           2017年3月31日 15:02 | # | 引用                                                                                                                Buglife 说：                                                        已经学习三周了，回头过来，老师的这句话感触最深。“你会发现，它不是一个库，也不是一个框架，而是一个庞大的体系。想要发挥它的威力，整个技术栈都要配合它改造。你要学习一整套解决方案，从后端到前端，都是全新的做法”                           2017年4月 5日 20:09 | # | 引用                                                                                                                唐 说：                                                        4.0.0是这样写的吗？我这样写为啥是错的？                           2017年4月 9日 17:00 | # | 引用                                                                                                                Eded.Wang 说：                                                        请问部署的时候，不能用 webpack-dev-server 了，通过 Nginx 作为 HTTP 服务器。这种情况，怎么才能“针对服务器改造”，让它支持 ‘createMemoryHistory’？                           2017年4月11日 02:48 | # | 引用                                                                                                                颜海镜 说：                                                        改变url，难道不能直接 location.href = 或者 location.hash = 吗！！！！！！                           2017年4月14日 16:58 | # | 引用                                                                                                                王志伟 说：                                                        你这个是不是已经过期了，现在有一个react-router-dom                           2017年5月11日 14:50 | # | 引用                                                                                                                kakeichen 说：                                                        你好，阮老师，第五模块：IndexRoute 组件，您讲的“上面代码中，访问根路径/，不会加载任何子组件。也就是说，App组件的this.props.children，这时是undefined”，为什么我能顺利的加载出来？我也没发现那段代码有什么特殊之处，除了子路由前面没有斜杠。                           2017年5月18日 10:15 | # | 引用                                                                                                                tianna 说：                                                        请教，react里面跳转外部链接的问题，如果想在APP里面点一个按钮跳转到一个外部页面，比如www.baidu.com，这个路由应该怎么写？我直接写的 window.location.href = url; 但是地址栏 变成这样了http://localhost:8989/#/www.baidu.com                           2017年5月24日 11:26 | # | 引用                                                                                                                pufei 说：                                                        引用webkws的发言：ES6用的是es6,语法，报错了，是不应该用es6的语法吗？                           2017年6月 2日 10:44 | # | 引用                                                                                                                li 说：                                                        阮老师，我们这个因为各种原因，需要react嵌入在jsp中，那redux框架还能用吗                           2017年6月19日 16:10 | # | 引用                                                                                                                阮一峰 说：                                                        @li：可以用。Redux 与后台语言无关。                           2017年6月19日 19:13 | # | 引用                                                                                                                Allen 说：                                                        @Airma：你看下App组件里面有没有加入{this.props.children}                           2017年6月22日 08:57 | # | 引用                                                                                                                王永 说：                                                        阮老师  react动态路由   各模块css重复问题怎么解决啊？                           2017年6月30日 11:05 | # | 引用                                                                                                                aris 说：                                                        browserHistory 服务器配置 链接失效了。                           2017年7月 5日 10:21 | # | 引用                                                                                                                cheer 说：                                                        引用tianna的发言：请教，react里面跳转外部链接的问题，如果想在APP里面点一个按钮跳转到一个外部页面，比如www.baidu.com，这个路由应该怎么写？我直接写的 window.location.href = url; 但是地址栏 变成这样了http://localhost:8989/#/www.baidu.com这个问题你解决了吗？                           2017年8月 2日 19:20 | # | 引用                                                                                                                邱吉煌 说：                                                        软老师，我在官网下载的react路由例子，我这边运行会报错，你那边能发我一个一例子，我研究了好久，但是在路由哪里报错                           2017年8月18日 09:51 | # | 引用                                                                                                                martin 说：                                                        想请教一下，在使用了routes参数传递给一个Router组件批量生成路由规则情况下，如何在路由匹配的组件中获取到react-router自带的match参数，试了好久我都没有成功                           2017年9月18日 20:25 | # | 引用                                                                                                                isaacYan 说：                                                        引用Airma的发言：刚入们小白学习react求解答：router的嵌套使用没有效果啊，&lt;Route path="/" component={App}&gt;&lt;Route path="/demo" component={demo}/&gt;&lt;/Route&gt;我定义了两个组件app和haha，让他们返回app和demo，然后我输入了/demo这个url，却没有渲染demo，只有一个app确认react-router-dom的版本是不是4.x以上了,4.x以上的版本嵌套的方式不能这样写.                           2017年10月20日 10:28 | # | 引用                                                                                                                何健 说：                                                        引用唐的发言：4.0.0是这样写的吗？我这样写为啥是错的？4.0版本已经改了，上面的是react-router2.0版本的4.0版本参考这个或上GitHub看 http://www.jianshu.com/p/27ee7df4ccc1                           2017年10月28日 14:39 | # | 引用                                                                                                                尹士玉 说：                                                        谢过阮一峰老师，一直看阮老师的开源内容，很好。                           2017年10月31日 15:20 | # | 引用                                                                                                                zergskj 说：                                                        阮老师，我不想打击您专研前端的积极性！但是我想说，React这一切的一切，缘起不都是因为html5规范考虑的不周全吗？我认为react领域里面有一些是http协议该考虑的问题，有一些是浏览器该考虑的问题！http和html标准协议的制定和更新，需要您这样深耕的大牛去影响！而不是倒逼前端去营造N多小技巧！莫等到革新性的浏览器开发推广出来，这一切的一切纷纷扰扰，统统变为0。这样的努力是不是有点浪费？                           2017年11月 9日 13:56 | # | 引用                                                                                                                JingC 说：                                                        “十、histroy 属性”的单词有拼写的小错误                           2017年11月28日 15:33 | # | 引用                                                                                                                C盘先生 说：                                                        服务器改造的链接无法打开？                           2018年1月 1日 11:46 | # | 引用                                                                                                                chjiyun 说：                                                        react-router V4 不支持onEnter和onLeave钩子函数了吧。例子要更新了。。。                           2018年1月16日 16:24 | # | 引用                                                                                                                老王 说：                                                        老师，我想请问一下，官方推荐bowserHistory，开发环境中用hashHistory会不会有什么问题？我们这儿项目马上开始了，我还在为选用路由而发愁。。。。。。。                           2018年1月18日 16:03 | # | 引用                                                                                                                ReactLW 说：                                                        请问老师，我在使用路由的时候，有一个组件我不需要重新渲染该怎么办？举个例子：（router用的是3.0.2版本）render() {        return (                                                                                                                                                )    }map对应的Route不想刷新怎么实现呢                           2018年2月 1日 15:13 | # | 引用                                                                                                                chjiyun 说：                                                        这个已经是老教程了，不适应现在的 4.x 新版本了，很多api被废弃了，看了半天 一脸懵，没用。建议直接看官方文档。                           2018年2月13日 19:24 | # | 引用                                                                                                                chjiyun 说：                                                        @ReactLW：你是想 避免刷新带来的性能问题吧，这个简单，你去看react的生命周期，有个方法 就是为这个问题而生的 。 建议 你把基础打好， 这都是 react 的 最基本的了。                           2018年2月13日 19:28 | # | 引用                                                                                                                青青 说：                                                        照着官方demo做到Lesson 11，遇到了报错，发现bundle.js 内容居然和index.html相同！本地代码完全照教程写的，不知道有没有人遇到相同的问题，想请问如何解决？（上一条留言由于一个标签，没显示全，我重写了一次）                           2018年5月 3日 14:52 | # | 引用                                                                                                                caterpiller 说：                                                        引用cheer的发言：这个问题你解决了吗？                           2018年5月 5日 13:54 | # | 引用                                                                                                                迷梦情空 说：                                                        大神可以讲解一下4.x的路由吗？对于新手来说，跟4.0以前的版本差距有点大，有点无从下手~                           2018年6月 6日 17:20 | # | 引用                                                                                                                yuuzhongbao 说：                                                        阮老师您好，我想将提示用户"确认离开吗"案部分代码放到全局该怎么用？                           2018年8月13日 10:32 | # | 引用                                                                                                                Jakeen 说：                                                        React-router页面刷新的时候，不是停留在当前页面，而是被跳回了首页这个需要怎么处理？                           2018年8月16日 14:28 | # | 引用                                                                                                                w.zeratul 说：                                                        @zergskj：都8102年了，是不是有的项目还得去兼容IE？你这是多虑了。。。                           2018年8月31日 16:52 | # | 引用                                                                                                                大名 说：                                                        没VUE表示给一个大大的差评！！！！！                           2018年12月21日 18:27 | # | 引用                                                                                                                zhoulujun 说：                                                        router4 希望改变还是蛮大，不过还是挪到了4                           2019年1月15日 16:17 | # | 引用                                                                                                                刘佳宇 说：                                                        引用迷梦情空的发言：大神可以讲解一下4.x的路由吗？对于新手来说，跟4.0以前的版本差距有点大，有点无从下手~                           2019年3月25日 23:51 | # | 引用                                                                                                                李天鹏 说：                                                        （/：id）这个路由无法匹配                           2019年5月 4日 15:32 | # | 引用                                                                                                                三9 说：                                                        阮老师，to={{pathname: '/new', query: {p: 3}}}这样跳转页面，地址栏URL里没有query的参数，但new页面里能获取到location.query.a;                           2019年5月16日 16:19 | # | 引用                                                                                                                baomer 说：                                                        表单处理的跳转没有一个能用的。                           2020年2月10日 16:11 | # | 引用                                                                                                                ss 说：                                                        现在来看，react 已经火爆全球了？                           2020年2月12日 14:25 | # | 引用                                                                                                                小草 说：                                                        也可以用react-router-pro啊，感觉更简单                           2020年3月18日 08:54 | # | 引用                                                                                                                社会你戴哥 说：                                                        不知道该怎么深入学react。。。好纠结                           2020年12月31日 16:23 | # | 引用                                                                                                                Jayleonc 说：                                                        毁灭吧，我累了，事实上我跟着官方示例走了一遍，我也不知道我干了什么。前面几个小项目还好，后面的跟着做也不能理解为什么这样？很多传值的地方不能够理解。在此之前我也学习了 react 的基础知识。我该怎么办？                           2021年4月26日 16:33 | # | 引用                                                                                                                lofayo 说：                                                        @大亨：replace是onEnter方法的参数，是Route设计好的                           2021年5月13日 17:20 | # | 引用                                                                                                                lofayo 说：                                                        @Jayleonc：别着急，慢慢学，只要在学，就有所得                           2021年5月13日 17:24 | # | 引用                                                                                                                fantilong 说：                                                        引用weny的发言：在window环境下命令窗口里应该如下使用：这个应该先执行 set node_env=production然后在执行 npm start而不是一整行一次执行。这样就起作用了，你可以试试set NODE_ENVE=XXX && npm XXX                           2021年12月16日 20:49 | # | 引用                                                                                                                larry 说：                                                        非常赞，组织清晰，重点突出。 之前用的是Vue全家桶，近期学习下React全家桶。 先看的《React Router 中文文档》，组织很混乱，重点不突出，看的很累。  还是大佬的博客清晰。                           2022年4月 6日 09:34 | # | 引用                                                                                                                shan 说：                                                        最新v6版本 本文已经过时                           2022年11月 6日 01:28 | # | 引用                                                                                                                gxuud 说：                                                        非常感谢，搜索了那么多资料就在这里找到想要的                           2023年2月10日 09:20 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9f20bd13cf45',t:'MTc0MzI0MzQ4OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2016/05/react_router.html
比特币入门教程 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    比特币入门教程 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：区块链入门教程&nbsp;&nbsp;&nbsp;&nbsp;下一篇：加密货币的本质&nbsp;&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              比特币入门教程                                                                                    作者： 阮一峰                                    日期： 2018年1月 4日                                                                                                                                            比特币（bitcoin）诞生于2008年的一篇论文。                                                                                                                一个署名为中本聪的人，提出了革命性的构想：让我们创造一种不受政府或其他任何人控制的货币！这个想法堪称疯狂：一串数字，背后没有任何资产支持，也没有任何人负责，你把它当作钱付给对方，怎么会有人愿意接受？但是，狂想居然变成了现实。随后的几年，在全世界无数爱好者的支持下，比特币网络运行起来了，越来越多的人和资本参与，星星之火，终成燎原。刚刚过去的2017年，比特币迎来了爆发式的增长，从年初的1000美元，最高涨到了2万美元，全世界都为之震动，上到政府，下到普通百姓都在关注。事实就是比特币已经并将继续改变世界。新闻媒体往往只关注它的火爆表现，忽视或者无法回答一些基本的问题。  比特币的原理是什么？为什么这个无人管理的体系可以成功运作？比特币交易的流程是怎么回事？它与区块链又是什么关系？下面，我尝试回答这些问题，希望帮助大家理解比特币。抛开技术细节，还是很容易解释的。有一点说明，本文只讨论技术问题，不涉及如何投资比特币，更不会预测价格走势。事实上，我也不知道，如果我知道怎么发财，可能就不会在这里写博客了。一、非对称加密首先，理解比特币，必须理解非对称加密。你可能听说过这个词，所谓非对称加密，其实很简单，就是加密和解密需要两把钥匙：一把公钥和一把私钥。公钥是公开的，任何人都可以获取。私钥是保密的，只有拥有者才能使用。他人使用你的公钥加密信息，然后发送给你，你用私钥解密，取出信息。反过来，你也可以用私钥加密信息，别人用你的公钥解开，从而证明这个信息确实是你发出的，且未被篡改，这叫做数字签名（更详细的介绍请看《什么是数字签名》）。现在请设想，如果公钥加密的不是普通的信息，而是加密了一笔钱，发送给你，这会怎样？首先，你能解开加密包，取出里面的钱，因为私钥在你手里。其次，别人偷不走这笔钱，因为他们没有你的私钥。因此，支付可以成功。这就是比特币（以及其他数字货币）的原理：非对称加密保证了支付的可靠性。由于支付的钱必须通过私钥取出，所以你是谁并不重要，重要的是谁拥有私钥。只有拥有了私钥，才能取出支付给你的钱。（事实上，真实的交易流程稍有不同，私钥保证的不是取出支付给你的钱，而是保证只有你能把这些属于你的钱支付出去，详见后文。）二、比特币钱包对于比特币来说，钱不是支付给个人的，而是支付给某一把私钥。这就是交易匿名性的根本原因，因为没有人知道，那些私钥背后的主人是谁。所以，比特币交易的第一件事，就是你必须拥有自己的公钥和私钥。你去网上那些比特币交易所开户，它们会让你首先生成一个比特币钱包（wallet）。这个钱包不是用来存放比特币，而是存放你的公钥和私钥。软件会帮你生成这两把钥匙，然后放在钱包里面。根据协议，公钥的长度是512位。这个长度不太方便传播，因此协议又规定，要为公钥生成一个160位的指纹。所谓指纹，就是一个比较短的、易于传播的哈希值。160位是二进制，写成十六进制，大约是26到35个字符，比如 1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2。这个字符串就叫做钱包的地址，它是唯一的，即每个钱包的地址肯定都是不一样的。你向别人收钱时，只要告诉对方你的钱包地址即可，对方向这个地址付款。由于你是这个地址的拥有者，所以你会收到这笔钱。由于你是否拥有某个钱包地址，是由私钥证明的（具体的证明方法稍后介绍），所以一定要保护好私钥。这是极其重要的，如果你的私钥被偷了，你的比特币也就等于没了，因为他人可以冒用你的身份了，把钱包里面的钱都转走。同样的，你向他人支付比特币，千万不能写错他人的钱包地址，否则你的比特币就支付到了另一个不同的人了。三、交易过程下面，我把整个流程串起来，看看比特币如何完成一笔交易。一笔交易就是一个地址的比特币，转移到另一个地址。由于比特币的交易记录全部都是公开的，哪个地址拥有多少比特币，都是可以查到的。因此，支付方是否拥有足够的比特币，完成这笔交易，这是可以轻易验证的。问题出在怎么防止其他人，冒用你的名义申报交易。举例来说，有人申报了一笔交易：地址 A 向地址 B 支付10个比特币。我怎么知道这个申报是真的，申报人就是地址 A 的主人？比特币协议规定，申报交易的时候，除了交易金额，转出比特币的一方还必须提供以下数据。  上一笔交易的 Hash（你从哪里得到这些比特币）本次交易双方的地址支付方的公钥支付方的私钥生成的数字签名验证这笔交易是否属实，需要三步。  第一步，找到上一笔交易，确认支付方的比特币来源。第二步，算出支付方公钥的指纹，确认与支付方的地址一致，从而保证公钥属实。第三步，使用公钥去解开数字签名，保证私钥属实。经过上面三步，就可以认定这笔交易是真实的。四、交易确认与区块链确认交易的真实性以后，交易还不算完成。交易数据必须写入数据库，才算成立，对方才能真正收到钱。比特币使用的是一种特殊的数据库，叫做区块链（blockchain），详细的介绍请看《区块链入门教程》。本文只讨论交易如何写入区块链。首先，所有的交易数据都会传送到矿工那里。矿工负责把这些交易写入区块链。根据比特币协议，一个区块的大小最大是 1MB，而一笔交易大概是500字节左右，因此一个区块最多可以包含2000多笔交易。矿工负责把这2000多笔交易打包在一起，组成一个区块，然后计算这个区块的哈希。计算哈希的过程叫做采矿，这需要大量的计算。矿工之间也在竞争，谁先算出哈希，谁就能第一个添加新区块进入区块链，从而享受这个区块的全部收益，而其他矿工将一无所获。一笔交易一旦写入了区块链，就无法反悔了。这里需要建立一个观念：比特币不存放在钱包或其他别的地方，而是只存在于区块链上面。区块链记载了你参与的每一笔交易，你得到过多少比特币，你又支付了多少比特币，因此可以算出来你拥有多少资产。五、矿工的收益交易的确认离不开矿工。为什么有人愿意做矿工呢？比特币协议规定，挖到新区块的矿工将获得奖励，一开始（2008年）是50个比特币，然后每4年减半，目前（2018年）是12.5个比特币。这也是比特币的供给增加机制，流通中新增的比特币都是这样诞生的。你可能看出来了，每4年奖励减半，由于比特币可以分割到小数点后八位，那么到了2140年，矿工将得不到任何奖励，比特币的数量也将停止增加。这时，矿工的收益就完全依靠交易手续费了。所谓交易手续费，就是矿工可以从每笔交易抽成，具体的金额由支付方自愿决定。你完全可以一毛不拔，一分钱也不给矿工，但是那样的话，你的交易就会没人处理，迟迟无法写入区块链，得到确认。矿工们总是优先处理手续费最高的交易。目前由于交易数量猛增，手续费已经水涨船高，一个区块2000多笔交易的手续费总额可以达到3～10个比特币。如果你的手续费给低了，很可能过了一个星期，交易还没确认。一个区块的奖励金12.5个比特币，再加上手续费，收益是相当可观的。按照目前的价格，可以达到100万～200万人民币。想想看，运气好的话，几分钟就能挖到一个区块，拿到这样一大笔钱，怪不得人们对挖矿趋之若鹜。六、区块的扩容《区块链入门教程》说过，比特币协议规定，平均10分钟诞生一个区块。区块的大小只有 1MB，最多只能包含2000多笔交易。也就是说，比特币网络每10分钟，最多只能处理2000多笔交易，换算一下，就是处理速度为3～5笔/秒。全世界的比特币交易这么多，可是区块链每秒最多只能处理5笔，这已经成为制约比特币发展的一个瓶颈。很早就有人呼吁，改革比特币协议，提升处理速度。这件事在2017年8月有了一点眉目，当时区块链发生了一次分叉，诞生了一个新协议，称为 Bitcoin Cash（简称 BCH）。这种新货币其他方面都与比特币一致，就是每个区块的大小从 1MB 增加到了 8MB，因此处理速度提升了8倍，手续费也低得多。该协议是对原有区块链的分叉，因此当时持有比特币的人，等于一人获赠了一份同样数量的 BCH。BCH 等于创造了一种新货币，还有人提议，原始比特币的区块大小提升到 2MB，这称为 SegWit2x 。这个建议原定于2017年11月实施，但是最后一刻由于缺乏共识，就被取消了，目前还在讨论中。七、点对点网络比特币是一个全世界的开放网络，只要你有服务器，就能加入这个网络，成为一个节点。每个节点都包含了整个区块链（目前大概 100多 GB），并且节点之间时刻不停地在同步信息。当你发生了一笔支付，你所在的节点就会把这笔交易告诉另一个节点，直至传遍整个网络。矿工从网上收集各种新发生的交易，将它们打包写入区块链。一旦写入成功，矿工所在节点的区块链，就成为最新版本，其他节点都会来复制新增的区块，保证全网的区块链都是一致的。最后，你所在的节点也拿到了最新的区块链，从而得知你早先的那笔交易，已经写在里面了，至此交易确认成功。八、还有一个问题写到这里，我就介绍完了比特币的基本知识，希望你已经明白了比特币是怎么回事。但是还有一个根本的问题，我没有回答：比特币的本质到底是什么？说到底，比特币只是区块链的一条记录，是凭空生成的，为什么可以当钱用？举例来说，矿工获得12.5个比特币的奖励，其实就是区块链有一个记录："xxx地址获得12.5个比特币"。正是这行记录，导致该矿工获得了大笔金钱。如果区块链突然增加了一条记录，记载你的地址获得了1000个比特币，你就真的会有1000个比特币。这到底是为什么？这篇文章已经够长了，这个问题就留到下次再谈，欢迎关注本系列的最后一篇文章《加密货币的本质》。九、参考链接How Bitcoin works , by Timothy B. LeeBitcoins the hard way: Using the raw Bitcoin protocol, by Ken Shirriff（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2018年1月 4日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（162条）                                                                                                    Jaxure 说：                                                        哈哈 最近阮老师集中研究这一块                           2018年1月 4日 08:59 | # | 引用                                                                                                                L.Rain 说：                                                        引用Jaxure的发言：哈哈 最近阮老师集中研究这一块阮老师要出手了，哈哈                           2018年1月 4日 09:25 | # | 引用                                                                                                                binary 说：                                                        "这个钱包不是用来存放比特币，而是存放你的公钥和私钥。软件会帮你生成这两把私钥，然后放在钱包里面。"应该是生成这两把密钥                           2018年1月 4日 09:34 | # | 引用                                                                                                                zyg 说：                                                        传说的去中心化呢～  到头来还是矿工中心化～ 算力决定一切 哈哈～                           2018年1月 4日 10:01 | # | 引用                                                                                                                温国兵 说：                                                        纠正一个错误“你可能看出来了，每 4 年奖励减半，那么到了 2140 年，矿工将得不到任何奖励，比特币的数量也将停止增加。这时，矿工的收益就完全依靠交易手续费了。”这里应该是 2040 年。                           2018年1月 4日 10:07 | # | 引用                                                                                                                机器猫电路改造 说：                                                        关于第八个问题,不知道阮老师后续文章会不会谈到"比特币的伦理"问题;比如比特币的出现对现阶段资源分配方式的影响?如何面对和传统货币一样会带来犯罪问题? 对资源分配方式的处理问题?另外,不知道阮老师,有没有机会谈一谈 World Community Grid,BOIN 等等这些分布计算? 很好奇,数字货币有没有可能和这些分布计算实现更科学的结合? 而不是像矿工们那样浪费资源.                           2018年1月 4日 10:21 | # | 引用                                                                                                                HiTimor 说：                                                        好好好，入门篇。                           2018年1月 4日 10:27 | # | 引用                                                                                                                Mike 说：                                                        比特币技术复杂、普通人不能很好的理解。比特币没有金融监管、容易产生金融犯罪。前段时间的黑客勒索无不采用比特币技术。所以个人并不看好这一块的技术。                           2018年1月 4日 10:29 | # | 引用                                                                                                                bravist 说：                                                        写的真是通俗易懂，读了好多比特币的文章，这个原理解释地道                           2018年1月 4日 10:35 | # | 引用                                                                                                                小白 说：                                                        有点疑惑，交易平台肯定需要维护 哪个比特币钱包是哪个用户的吧，而比特币钱包里包含公钥私钥，这样交易平台不就可以知道比特币是哪个用户的么                           2018年1月 4日 11:37 | # | 引用                                                                                                                TONYHEAD 说：                                                        有若干疑问:一个100GB的数据库就可以记录到比特币创立至今的所有交易往来?"2000笔交易的区块手续费是3-10个比特币",这个交易成本太高了,2000笔流水,大一点的小卖部都不止这个数,难不成按目前的交易成本, 比特币只适合做大额资金的交易?                           2018年1月 4日 11:59 | # | 引用                                                                                                                问天玄铁 说：                                                        比特币目前的很多问题（交易慢，账本大，算力集中）导致比特币一定不是数字货币的最终形态。我们不妨来想想更接近未来形态的数字货币协议和算法，就能让比特币变得不值钱，而且能让自己再次站在财富大门口。                           2018年1月 4日 14:13 | # | 引用                                                                                                                tc 说：                                                        感谢科普了，通俗易懂。不过有个疑问，“当矿工将得不到任何奖励，比特币的数量也将停止增加。这时，矿工的收益就完全依靠交易手续费了。”这样感觉货币流通会很受影响啊，不知道在后面当数字货币的文章中会不会说明                           2018年1月 4日 14:47 | # | 引用                                                                                                                张庆华 说：                                                        最近也在看这块，感觉非常有前途                           2018年1月 4日 14:56 | # | 引用                                                                                                                陈辉 说：                                                        还是阮老师写的通俗易懂，能否一直同步到微信公众号里面。                           2018年1月 4日 15:27 | # | 引用                                                                                                                杨高超 说：                                                        @TONYHEAD：这个应该这么理解，比特币的交易不是以一个比特币为最小单位的，他可以无穷分割下去，例如一次交易交易了0.000001个比特币。                           2018年1月 4日 15:31 | # | 引用                                                                                                                leter 说：                                                        如果我知道怎么发财，可能就不会在这里写博客了。说的很接地气。。哈哈                           2018年1月 4日 15:39 | # | 引用                                                                                                                没事扯扯蛋 说：                                                        谁能说明比特币怎样和实际金钱或实物挂钩的？？？如果不能挂钩，比特币就是个数字游戏，没有价值。如果挂钩了，那说明比特币背后还是有势力（中心）支持的，否则怎么可能风生水起？                           2018年1月 4日 16:08 | # | 引用                                                                                                                BitcoinFan 说：                                                        您最近有关注币圈么？感觉遗漏了很重要的东西：1.挖矿赚币只是为了激励矿工，这个不是关键。挖矿的本质是达到分布式共识的手段，或者说，就是随机选一个人来记账，防止作弊，这个才是关键。比特币安全的一个假设就是没有单个的人/组织能掌控50%以上的算力。比特币的共识规则规定，大家都认最长链，更准确地说，是积累工作量最多的链。矿工必须积极地接收别人挖到的新区块、在上面追加自己挖出的区块，并把自己挖出的区块积极广播出去，否则，他的链会被孤立，他就白干了。（可想而知，超过50%的算力，就不用鸟这些了）2.扩容之争吵了几年了，现在BTC的开发者不愿意提高这个1MB的限制，是因为区块扩大后，会加剧比特币的中心化，这样的话，最后我们还不如直接用支付宝、VISA这样的中心化服务。有人甚至认为比特币已经失去去中心化的本质，因为中国的大矿池已经垄断了算力，也就垄断了记账权。有了SegWit之后，支撑交易量堪比VISA的闪电网络，还有其他技术能减少区块占用。而且，还有RSK等侧链技术可以期待。Bitcoin Cash主要是中国矿工群体支持的，虽说未来扩大区块大小是不可避免的，但是Bitcoin Cash除了扩大区块大小，技术上并没有什么优势，它的宣传者还四处混淆视听，宣称只有自己才是真正的比特币。闪电网络比较复杂，软件开发了几年，最近才基本成型，还在测试中。不过，也确实不能指望它能解决所有问题，因为闪电网络是为微支付设计的，支付通道的容量是有限的，大额交易可能还是直接走主链交易比较方便。                           2018年1月 4日 16:37 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用tc的发言：感谢科普了，通俗易懂。不过有个疑问，“当矿工将得不到任何奖励，比特币的数量也将停止增加。这时，矿工的收益就完全依靠交易手续费了。”这样感觉货币流通会很受影响啊，不知道在后面当数字货币的文章中会不会说明有人说最后手续费会占到交易额的5%，也有人认为用户花钱养矿工是不值得的，既浪费电，又不能消除被矿工攻击的风险。不如直接换共识机制，把工作证明（PoW）换掉，换成权益证明（PoS），大体上是谁持币多谁更有记账权，相信持币人不会做伤害体系利益的事情，否则他自己的利益会大大受损。Peercoin算PoS的始祖，不过有学者指出它有漏洞，受到nothing at stake攻击的威胁；以太坊已经在测试PoS机制；还有Cardano，使用的是Ouroboros这个经过学术界同行评议的PoS机制。                           2018年1月 4日 16:46 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用TONYHEAD的发言：有若干疑问:一个100GB的数据库就可以记录到比特币创立至今的所有交易往来?"2000笔交易的区块手续费是3-10个比特币",这个交易成本太高了,2000笔流水,大一点的小卖部都不止这个数,难不成按目前的交易成本, 比特币只适合做大额资金的交易?现在已经有170GB了。您怀疑比特币的交易量极为有限——确实是这样！比特币的交易容量小到“可笑”的程度。按照10分钟1MB来算，其实只相当于每秒7笔交易。虽说可以把多笔交易拼成一个来节省空间，但这么做的效果是有限的。对于交易所从1个地址提币给N个人这种情况，把多笔交易拼起来确实可以显著地节省空间，但是，这些币最终还是要再被它们的主人花出去，这个时候仍然需要消耗主链空间。要理解具体情况，您可以去查一查比特币的交易格式，包括UTXO是什么。我也可以大概给您描述一下：比特币的交易，由“输入”和“输出”两部分组成。每一笔交易，都相当于把“输入”的币熔毁，重新铸造成“输出”中指定的金额。（其中输出金额需要小于等于输入，少的那部分作为付给矿工的手续费，计入coinbase交易）所以，每个比特币地址上的余额都可以看作是通过从2009年“创世”开始的所有交易记录推算出来的。“输入”部分包括数字签名（也就是“见证”部分），数据量一般比较大。虽然扩大区块大小就可以提高交易量，但这样只是线性扩容，不能指数级地提升容量。中国矿工群体和少数开发者认为，扩大区块容量并不会让比特币中心化，但是多数人（尤其是国外的社区）都不认同这种说法，目前排前几名的矿池已经把全网算力差不多都垄断了：https://btc.com/stats/pool。多数开发者认为小额交易不能用宝贵的主链空间完成，需要放在主链之外，比如闪电网络，还有RSK等侧链。还可以看看Bitcoin Core官方写的FAQ：https://bitcoincore.org/zh_CN/2015/12/21/%E7%B3%BB%E7%BB%9F%E6%89%A9%E5%B1%95%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94/                           2018年1月 4日 17:04 | # | 引用                                                                                                                ixx 说：                                                        引用小白的发言：有点疑惑，交易平台肯定需要维护 哪个比特币钱包是哪个用户的吧，而比特币钱包里包含公钥私钥，这样交易平台不就可以知道比特币是哪个用户的么交易平台提供一个钱包地址 你往里充钱并提供交易记录就可以了  跟你用银行转账类似  平台不会要所有人的钱包（要你也不会给的。。。）需要提币的时候 提供给平台你的钱包地址 就可以转到你的钱包里了                           2018年1月 4日 18:01 | # | 引用                                                                                                                ixx 说：                                                        引用没事扯扯蛋的发言：谁能说明比特币怎样和实际金钱或实物挂钩的？？？如果不能挂钩，比特币就是个数字游戏，没有价值。如果挂钩了，那说明比特币背后还是有势力（中心）支持的，否则怎么可能风生水起？最开始有一部分人出于各种目的（收藏，或是炒作），允许你买他们的东西使用比特币支付（最开始买个比萨要50比特币。。。。现在想想。。。）慢慢的，越来越多的人接受了他，才发展到现在，这东西不可做假且数量固定，就像限量版的乐高一样，越多的人支持，“收藏”越值钱                           2018年1月 4日 18:10 | # | 引用                                                                                                                林海草原 说：                                                        关于比特币，之前我还真没有了解过。前两天，一位博友的博客被挂马，被挂的是一个在线挖矿代码，每次打开博客都会被执行。我当时简单了解了一下，但是网上的文章晦涩。当今天看到阮老师的博文，我才真正知道挖矿是什么。挖矿能拿到如此高的奖励，难怪有些人会通过程序漏洞给别人的网站挂马来挖矿。                           2018年1月 4日 18:12 | # | 引用                                                                                                                jg 说：                                                        引用小白的发言：有点疑惑，交易平台肯定需要维护 哪个比特币钱包是哪个用户的吧，而比特币钱包里包含公钥私钥，这样交易平台不就可以知道比特币是哪个用户的么交易平台是知道的，有的平台还实名认证的。不放心，可以把从平台转移到自己的钱包就好了                           2018年1月 4日 18:50 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用小白的发言：有点疑惑，交易平台肯定需要维护 哪个比特币钱包是哪个用户的吧，而比特币钱包里包含公钥私钥，这样交易平台不就可以知道比特币是哪个用户的么交易平台相当于你把比特币转给他们，然后他们给你一个欠条。可以说中心化的交易所和比特币的理念是完全背道而驰的。交易所也确实是各种不靠谱，宣称“被盗”之类事情发生过好多次了，还有结合期货杠杆交易操纵价格、虚发假币之类黑历史。                           2018年1月 4日 19:21 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用林海草原的发言：关于比特币，之前我还真没有了解过。前两天，一位博友的博客被挂马，被挂的是一个在线挖矿代码，每次打开博客都会被执行。我当时简单了解了一下，但是网上的文章晦涩。当今天看到阮老师的博文，我才真正知道挖矿是什么。挖矿能拿到如此高的奖励，难怪有些人会通过程序漏洞给别人的网站挂马来挖矿。比特币早就不能用电脑（CPU或GPU）挖了，连FPGA都不行了，现在都是ASIC专用芯片挖矿。详细数据可以看这个：https://en.bitcoin.it/wiki/Mining_Hardware_Comparison                           2018年1月 4日 19:23 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用jg的发言：交易平台是知道的，有的平台还实名认证的。不放心，可以把从平台转移到自己的钱包就好了比特币的交易记录是一环扣一环，可以追溯的，而且完全公开（随便找个区块浏览器就可以方便地查，开一个比特币全节点也可以直接下载区块链数据）。如果不用混币之类的手段来切断追踪，从实名制交易所转出去还是可以被跟踪的。                           2018年1月 4日 19:26 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用林海草原的发言：关于比特币，之前我还真没有了解过。前两天，一位博友的博客被挂马，被挂的是一个在线挖矿代码，每次打开博客都会被执行。我当时简单了解了一下，但是网上的文章晦涩。当今天看到阮老师的博文，我才真正知道挖矿是什么。挖矿能拿到如此高的奖励，难怪有些人会通过程序漏洞给别人的网站挂马来挖矿。现在这些“挖矿木马”挖的都是Monero之类山寨币，它们换掉了比特币的双SHA256工作证明算法，换成对ASIC极不友好的CryptoNight等，这样CPU或GPU挖矿才有可能，否则就被ASIC的能效虐翻了，直接亏本出局。山寨币一般也都在技术上有创新和改进，比如Monero，已经全网启用RingCT，交易都是机密的，不像比特币那样全部公开透明、可追踪。                           2018年1月 4日 19:29 | # | 引用                                                                                                                ljt2k 说：                                                        对于比特币来说，钱不是支付给个人的，而是支付给某一把私钥。这里应该是支付给某一把公钥                           2018年1月 5日 14:07 | # | 引用                                                                                                                两只羊 说：                                                        货币的由来是人民生产出来充当流通的东西。这个是怎么来的，炒作来的。为什么能存在，值得思量的事情。                           2018年1月 5日 14:55 | # | 引用                                                                                                                麻三 说：                                                        老师，下一篇啥时候来啊                           2018年1月 5日 15:45 | # | 引用                                                                                                                区块链小白 说：                                                        如果因为战争，切断了所有出口网络，是不是就变成两条比特链了？                           2018年1月 5日 17:54 | # | 引用                                                                                                                H-u-a-n 说：                                                        写的确实简单易懂，阮老师，受教了，Thanks♪(･ω･)ﾉ                           2018年1月 6日 11:38 | # | 引用                                                                                                                Dong 说：                                                        有个疑问求解答：一块区块链只能存2000笔交易，2040年就挖不到新的区块链，但交易是继续增加的，那么区块链用完了怎么办呢？                           2018年1月 6日 11:47 | # | 引用                                                                                                                Ellie Ren 说：                                                        赞 以后可以follow 看你的博客了                           2018年1月 6日 11:55 | # | 引用                                                                                                                xunzhang 说：                                                        如果10分钟内写不满1MB记录，如何处理                           2018年1月 6日 15:12 | # | 引用                                                                                                                Asid 说：                                                        有那个比特币钱包能用的？搜了几个网让，还有ANDORID/IOS的APP，不敢用啊。怕有后门。                           2018年1月 6日 17:09 | # | 引用                                                                                                                方减 说：                                                        浅显易懂，非常好的科普入门文章！期待下一篇                           2018年1月 6日 20:30 | # | 引用                                                                                                                zero 说：                                                        引用小白的发言：有点疑惑，交易平台肯定需要维护 哪个比特币钱包是哪个用户的吧，而比特币钱包里包含公钥私钥，这样交易平台不就可以知道比特币是哪个用户的么交易所才是真正密钥的掌控者，用户实际上是不掌控密钥的。                           2018年1月 7日 02:09 | # | 引用                                                                                                                哈哈 说：                                                        引用jg的发言：交易平台是知道的，有的平台还实名认证的。不放心，可以把从平台转移到自己的钱包就好了这点倒是真的,哈哈哈,我做个这样的平台                           2018年1月 8日 09:58 | # | 引用                                                                                                                max210 说：                                                        期待下一篇                           2018年1月 8日 11:16 | # | 引用                                                                                                                吕海超 说：                                                        连着看完区块链和比特币，特别期待你写《数字货币的本质》，这几天每天都会登上来看一下有没有更新。。。                           2018年1月 8日 14:20 | # | 引用                                                                                                                杨峰 说：                                                        很好奇，比特币是怎么开始的？有这个想法是因为，采矿是产生比特币的“造血系统”，而造血的过程是写入交易记录，而最初是没有交易记录给人来写的。                           2018年1月 8日 15:50 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用Dong的发言：有个疑问求解答：一块区块链只能存2000笔交易，2040年就挖不到新的区块链，但交易是继续增加的，那么区块链用完了怎么办呢？你混淆了比特币发行和挖矿机制。比特币发行是以区块补贴的形式发放，四年一减半，2140年区块补贴才会归零，但十几年后区块补贴就接近归零了。但是，矿工还能收到手续费收入。只要矿工有收入，他们就会继续挖。而且，比特币的难度调整机制让它保持大约10分钟挖出一个区块，无论挖矿的算力是多还是少都是这样。挖矿的算力多了，难度就上升、出块（先加快再）放缓，反之难度下降、出块（先放缓再）加快。                           2018年1月 8日 19:05 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用xunzhang的发言：如果10分钟内写不满1MB记录，如何处理以前一直是写不满的，写满了才有拥堵问题。                           2018年1月 8日 19:06 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用杨峰的发言：很好奇，比特币是怎么开始的？有这个想法是因为，采矿是产生比特币的“造血系统”，而造血的过程是写入交易记录，而最初是没有交易记录给人来写的。没人用，矿工可以打空块。比特币最初就是中本聪一个人在那里挖。                           2018年1月 8日 21:15 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用Asid的发言：有那个比特币钱包能用的？搜了几个网让，还有ANDORID/IOS的APP，不敢用啊。怕有后门。比特币官网：https://bitcoin.org/zh_CN/按照去中心化的精神，比特币是没有官网的，这个网站的管理员是Cobra。一般用户推荐Electrum，最好结合硬件钱包，防止木马偷币。比太钱包也不错，有方便的冷热钱包选择。想折腾技术就装Bitcoin Core，不过这个是全节点，要下载一百多GB的区块链数据。顺便说一下，现在1M区块空间已经满了，手续费比较高，转账时最好启用RBF（勾选Replacable），这样万一转账卡着了，可以直接加手续费加速确认。                           2018年1月 8日 21:18 | # | 引用                                                                                                                BitcoinFan 说：                                                        SegWit2x的目的其实是把Core踢出去，而不是扩容。但实际上支持Core的人还是不少的，Core不愿意被“打脸”，这个2x还能有多少支持率呢……而且，实际上2x这个项目搞出来的btc1软件（从Core fork出来的）很挫，最后还爆出off-by-one这种低级bug，参与者大概本来就是同床异梦吧。                           2018年1月 9日 07:30 | # | 引用                                                                                                                Mark 说：                                                        引用BitcoinFan的发言：您最近有关注币圈么？感觉遗漏了很重要的东西：1.挖矿赚币只是为了激励矿工，这个不是关键。挖矿的本质是达到分布式共识的手段，或者说，就是随机选一个人来记账，防止作弊，这个才是关键。比特币安全的一个假设就是没有单个的人/组织能掌控50%以上的算力。比特币的共识规则规定，大家都认最长链，更准确地说，是积累工作量最多的链。矿工必须积极地接收别人挖到的新区块、在上面追加自己挖出的区块，并把自己挖出的区块积极广播出去，否则，他的链会被孤立，他就白干了。（可想而知，超过50%的算力，就不用鸟这些了）2.扩容之争吵了几年了，现在BTC的开发者不愿意提高这个1MB的限制，是因为区块扩大后，会加剧比特币的中心化，这样的话，最后我们还不如直接用支付宝、VISA这样的中心化服务。有人甚至认为比特币已经失去去中心化的本质，因为中国的大矿池已经垄断了算力，也就垄断了记账权。有了SegWit之后，支撑交易量堪比VISA的闪电网络，还有其他技术能减少区块占用。而且，还有RSK等侧链技术可以期待。Bitcoin Cash主要是中国矿工群体支持的，虽说未来扩大区块大小是不可避免的，但是Bitcoin Cash除了扩大区块大小，技术上并没有什么优势，它的宣传者还四处混淆视听，宣称只有自己才是真正的比特币。闪电网络比较复杂，软件开发了几年，最近才基本成型，还在测试中。不过，也确实不能指望它能解决所有问题，因为闪电网络是为微支付设计的，支付通道的容量是有限的，大额交易可能还是直接走主链交易比较方便。想问 BitcoinFan  一个问题，挖矿的成功与否是不是取决于计算机计算力的大小，假设有人的或者某个组织的计算机计算力非常强，那不代表每次的挖矿都是他们成功了？这不就有可能超过50%以上的算力了吗                           2018年1月 9日 11:35 | # | 引用                                                                                                                henry 说：                                                        交易所才是中心化的东西！我猜你在交易所买卖比特币，真正的比特币有可能是交易所帮你代持！就像互联网彩票一样！                           2018年1月 9日 11:42 | # | 引用                                                                                                                重本聪 说：                                                        看了一片文章 都是深入浅出的讲这个技术 能看懂一半吧 可是作为货币 货币啊 它的基础在哪 目前看就是谁的矿机多谁厉害啊 比特币个数是定的 所谓涨跌 都是炒出来的 这不是货币的基本价值啊 还有 这玩意不唯一 现在有起码数十种 加密货币 这肯定不算那些传销用货币  这些货币号称都是更牛逼的 更合理的 发明的人更吊的 说道发明人  这些中本聪就是因为聪明发明了这么一套理论？ 他定的各种协议 规矩大家就 必须遵守 就是因为互联网精神就是公平公正？这是不是太乌托邦了 那以后有没有大本聪 巨本聪 利用这些干坏事呢                           2018年1月 9日 11:48 | # | 引用                                                                                                                重本聪 说：                                                        引用Mark的发言：想问 BitcoinFan一个问题，挖矿的成功与否是不是取决于计算机计算力的大小，假设有人的或者某个组织的计算机计算力非常强，那不代表每次的挖矿都是他们成功了？这不就有可能超过50%以上的算力了吗有个机制 算出来的时间并不固定 如果一段时间内太多了 就会增加难度 太少了 就会减小 大概这么个意思  算力是基础 但不是一定就最先算出来  但矿机多 肯定没错 你看看网上那些一片矿机的照片                           2018年1月 9日 11:52 | # | 引用                                                                                                                sms 说：                                                        所以说，下个钱包app就分了一对key和一个地址？没有交易的话这个地址有效么？不怎么懂                           2018年1月 9日 14:47 | # | 引用                                                                                                                凡浩浩 说：                                                        关注的博客很久了，看了你很多文章，佩服您的才华，敬佩您的坚持，感谢您的分享，很想问您一个问题，您最初热爱文学，后来获得经济学博士学历，成为大学教授，现在又是计算机工程师，在每一次选择的时候，您迷茫过吗？什么才您的热爱，您未来还会选择做别的吗？                           2018年1月 9日 15:35 | # | 引用                                                                                                                小米 说：                                                        有一个地方不明白，需要请教博主。如果我是矿工，挖矿时在当前交易记录中擅自增加一条“我获得1000比特币”的记录，然后很幸运这块矿被我挖到，交易记录被记录和通报全网了。那是不是就能作弊了？                           2018年1月 9日 16:30 | # | 引用                                                                                                                王挺 说：                                                        引用BitcoinFan的发言：你混淆了比特币发行和挖矿机制。比特币发行是以区块补贴的形式发放，四年一减半，2140年区块补贴才会归零，但十几年后区块补贴就接近归零了。但是，矿工还能收到手续费收入。只要矿工有收入，他们就会继续挖。而且，比特币的难度调整机制让它保持大约10分钟挖出一个区块，无论挖矿的算力是多还是少都是这样。挖矿的算力多了，难度就上升、出块（先加快再）放缓，反之难度下降、出块（先放缓再）加快。我也有此疑问，但感觉这个回答没答到点上。交易记录是必须要附在新的区块里，再写入主区块链才能生效的。而2040年之后，已经没机会“算出”新的区块了，还怎么附加交易记录呢?                           2018年1月 9日 20:00 | # | 引用                                                                                                                小米 说：                                                        引用王挺的发言：我也有此疑问，但感觉这个回答没答到点上。交易记录是必须要附在新的区块里，再写入主区块链才能生效的。而2040年之后，已经没机会“算出”新的区块了，还怎么附加交易记录呢?你没有分清楚生成区块与取得比特币之间的区别。区块是永远可以生成的，只要对上一区块的头文件进行hash运算并符合难度要求即可。但生成区块后，能否得到比特币奖励，是不一定的，固定收益是逐年递减的。                           2018年1月10日 14:24 | # | 引用                                                                                                                davino 说：                                                        有几个疑问：1. 交易平台是不是本身自己就是矿工？2. 如果交易平台是矿工，在上面平台上用户的交易是实时的，但交易平台如果成功把记录放到链上，是不是等于你和用户没有进行任何操作？3. 火币现在能进行P2P的交易。如果火币没有挖到矿，不是等于买方白给钱了？                           2018年1月10日 16:10 | # | 引用                                                                                                                齐宁 说：                                                        我在想，中本聪拥有多少比特币，现在财富有多少了...                           2018年1月10日 16:54 | # | 引用                                                                                                                YANG 说：                                                        如果我说这东西是骗人的，会不会有人来教育我？区块链本质不谈，就说普通用户层面。1. 普通人使用比特币的最大理由是什么？2. 为什么要去挖矿？货币不是拿来用的么，为啥大部分人不去使用它。3. 根据文中所写，在极端情况下一笔交易可能不会被确认，或者很长时间才能被记录下来。人们使用这种东西图了个啥？4. 为什么要相信比特币组织，而不相信现有的货币发行组织？                           2018年1月11日 10:47 | # | 引用                                                                                                                FTY 说：                                                        个人认知太浅，无非是浪费世界资源。与权贵争，成王败寇而已。                           2018年1月11日 11:16 | # | 引用                                                                                                                张鹏 说：                                                        1，打包是谁做的？ 旷工如何判断打包没有造假？2，一个打包要2000条交易记录，如果当前一直不足2000条，打包会一直等待？3，全网同步区矿链，这个效率会不会很低？ 这很容易发生不一致问题。新的区块如何保证链到了最新的区块后面？                           2018年1月11日 15:44 | # | 引用                                                                                                                fogin 说：                                                        引用TONYHEAD的发言：有若干疑问:一个100GB的数据库就可以记录到比特币创立至今的所有交易往来?"2000笔交易的区块手续费是3-10个比特币",这个交易成本太高了,2000笔流水,大一点的小卖部都不止这个数,难不成按目前的交易成本, 比特币只适合做大额资金的交易?连大额资金交易这个场景也做不了， 你知道这个世界上每秒发生着多少笔大额交易么。。。                           2018年1月11日 16:59 | # | 引用                                                                                                                forget 说：                                                        引用小白的发言：有点疑惑，交易平台肯定需要维护 哪个比特币钱包是哪个用户的吧，而比特币钱包里包含公钥私钥，这样交易平台不就可以知道比特币是哪个用户的么可以这样理解：比特币是在全世界网络中交易的，而公钥和私钥是用比特币底层了一组加密算法产生的。我们想要参与其中就需要得到这组秘钥。这个交易平台（比如：比特币中国）就是帮我们来用这个加密算法产生这组秘钥的。谁都可以去要，然后平台就给你生成这对秘钥。中间应该不会记录你的任何信息。就好比：我是大街上的一个小贩，你是路人，你想买了东西了，我卖给你就是了，不需要你的任何信息。                           2018年1月12日 11:22 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用王挺的发言：我也有此疑问，但感觉这个回答没答到点上。交易记录是必须要附在新的区块里，再写入主区块链才能生效的。而2040年之后，已经没机会“算出”新的区块了，还怎么附加交易记录呢?新的比特币目前是通过每区块12.5BTC、四年一减半的区块补贴形式发放的（也就是从coinbase交易里“凭空生成”）。但是，挖新区块在技术上并不需要生成新的比特币。实际上，就在现在，矿工就可以选择不拿区块补贴（目前是每区块12.5BTC）——最近就有矿池出了Bug，涉事矿工不慎“弄丢”了12.5BTC：http://8btc.com/thread-121250-1-1.html对于矿工来说，有利益驱动，他们才会去挖矿。没了区块奖励，他们还可以收交易手续费，这个可以成为驱动他们挖矿的激励。但是，其实很多人都觉得这个设计不好，他们认为手续费必须占交易额的一个比例才能维持系统安全，这个比例低了，矿工作为“保安”就可能反过来“监守自盗”。而且，维持这个体系运转还要白白烧电。所以，现在还有人在研究PoS等新共识机制，比如以太坊的Casper、Cardano的Ouroboros，试图取代目前被比特币和以太坊使用的PoW共识机制（这个我也是拾人牙慧，各位感兴趣可以去知乎关注maxdeath这位大神）引用davino的发言：有几个疑问：1. 交易平台是不是本身自己就是矿工？2. 如果交易平台是矿工，在上面平台上用户的交易是实时的，但交易平台如果成功把记录放到链上，是不是等于你和用户没有进行任何操作？3. 火币现在能进行P2P的交易。如果火币没有挖到矿，不是等于买方白给钱了？1.交易平台相当于一个比特币用户。平台不需要是矿工，但也有矿业兼职开交易平台，比如ViaBTC，是个矿池，他们就开过交易所。2.没太理解你的意思。你想问交易所能不能赖账么？现在的交易所一般都是中心化的，而且好像大多没有第三方存管，这不就坑爹了——相当于你把比特币和人民币、美元等法币转给他，他给你一个欠条，他们赖账跑路你就GG了。然后，平台上的各种交易都和比特币区块链无关，直到你提币或充币。哪怕是ViaBTC这样的也不例外。3.P2P？你说的是OTC场外交易么？场外是把原来的集中竞价撮合去掉，大家手动发布交易信息、进行交易，平台只做信息交流和中间人担保。币一般是其他用户充的，不是平台挖的。而且这种场外交易确实不能完全保证货银对付，可能发生一方伪造法币支付凭据、忽悠对方放币等欺诈。                           2018年1月13日 00:53 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用张鹏的发言：1，打包是谁做的？ 旷工如何判断打包没有造假？2，一个打包要2000条交易记录，如果当前一直不足2000条，打包会一直等待？3，全网同步区矿链，这个效率会不会很低？ 这很容易发生不一致问题。新的区块如何保证链到了最新的区块后面？1.只有矿工有记账权：因为只有矿工有算力、能挖出满足全网的难度需求的新区块，所以只有他们能挖出合法的区块。2.不会，矿工可以打空块（只有一条给自己发奖励的coinbase交易）。区块满了反而会有问题——拥堵、手续费高涨。现在的区块大小上限是1MB，或者说是浮动的（因为SegWit已经激活，交易信息被分为两部分，其中“见证”这个部分字节数按照乘0.25计算）3.效率确实很低。不一致问题，挖矿就是解决这个问题的，挖矿是一种分布式共识机制，叫工作证明。大家只认最长链有效（准确地说是积累工作量最大的链）。                           2018年1月13日 00:57 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用张鹏的发言：1，打包是谁做的？ 旷工如何判断打包没有造假？2，一个打包要2000条交易记录，如果当前一直不足2000条，打包会一直等待？3，全网同步区矿链，这个效率会不会很低？ 这很容易发生不一致问题。新的区块如何保证链到了最新的区块后面？比特币的交易记录是一环扣一环的。如果一个新节点要严格验证的话，需要从2009年的创世区块开始验证（不断地更新UTXO集合，也就是删掉“已经被原主人花掉的币”，加入“有了新主人的币”）。但是，这样跑一遍验证，只能防止抢劫比特币、无端凭空生成比特币，不能阻止双重支付。每条交易都会被广播到整个网络。交易包含数字签名，节点也会维持一个UTXO集合，可以验证交易是否有效，强制花别人的币、花无中生有的币都是无效交易，会被丢弃。矿工会把验证过的交易加到要挖的区块里，如果hash值碰出来了，挖到了有效的区块，他们就会立刻把这个新区块广播出去，让大家检查、承认。                           2018年1月13日 01:10 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用forget的发言：可以这样理解：比特币是在全世界网络中交易的，而公钥和私钥是用比特币底层了一组加密算法产生的。我们想要参与其中就需要得到这组秘钥。这个交易平台（比如：比特币中国）就是帮我们来用这个加密算法产生这组秘钥的。谁都可以去要，然后平台就给你生成这对秘钥。中间应该不会记录你的任何信息。就好比：我是大街上的一个小贩，你是路人，你想买了东西了，我卖给你就是了，不需要你的任何信息。你的描述是错的。密钥是任何人都可以生成的。比特币用了ECDSA这个非对称加密算法，它被用来确定一个币的控制权/所有权——只有掌握私钥的人才能花对应地址上的币。这个和交易平台完全没关系，交易平台只是为了方便比特币法币（如人民币/美元）或比特币山寨币的交易而存在的，只有集中竞价撮合的交易所才能产生足够的流动性和市场深度——有了交易所，一秒钟你就可以卖掉/买入1.5BTC，币很多的话还能挂冰山委托慢慢买/卖，如果没有交易所，你就需要自己去场外交易平台甚至是微信群等地方，手动挂单、喊单、吃单，一大意还会被骗。可以说交易所在比特币系统里也只是个用户而已。                           2018年1月13日 01:18 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用张鹏的发言：1，打包是谁做的？ 旷工如何判断打包没有造假？2，一个打包要2000条交易记录，如果当前一直不足2000条，打包会一直等待？3，全网同步区矿链，这个效率会不会很低？ 这很容易发生不一致问题。新的区块如何保证链到了最新的区块后面？补充一下，花“已经花掉的币”也是无效交易。至于双重支付，需要有很大的算力（51%攻击）才能做到，原理是用大算力挖一条更长的链，在这条链里，原先转给A的币被转给了B。有了超过50%的算力，只要坚持时间够长就一定能成功；如果没有那么多算力，也有一定概率能成功，但确认数越多，成功概率越低。51%攻击能产生的实质威胁主要就是双重支付，除此之外还有审查交易（换句话说就是冻结指定的地址）等手段。                           2018年1月13日 01:22 | # | 引用                                                                                                                BitcoinFan 说：                                                        @YANG：这个就是信仰问题了，是信政府这个中央权威，还是信比特币这套分布式共识机制呢？没法说得通啦。有人就认为比特币最后会像“世界语”一样半死不活。要说骗局的话，拉高出货就可以看作是欺诈，无论是股市还是币市，这种现象都存在。                           2018年1月13日 01:28 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用小米的发言：有一个地方不明白，需要请教博主。如果我是矿工，挖矿时在当前交易记录中擅自增加一条“我获得1000比特币”的记录，然后很幸运这块矿被我挖到，交易记录被记录和通报全网了。那是不是就能作弊了？你这么做，挖出的区块就是非法的。只要别的节点（无论是矿工的全节点，还是不挖矿的全节点）接收到区块进行检查就会发现新生成的币量超过共识规则规定的区块奖励，然后就会拒绝承认这个区块。                           2018年1月13日 01:30 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用Mark的发言：想问 BitcoinFan一个问题，挖矿的成功与否是不是取决于计算机计算力的大小，假设有人的或者某个组织的计算机计算力非常强，那不代表每次的挖矿都是他们成功了？这不就有可能超过50%以上的算力了吗没有人掌握超过50%的算力是比特币安全的前提。如果有人掌握的算力超过50%，他就可以不用鸟别的节点挖出的区块，然后就可以进行51%攻击——比如回滚交易记录，或者审查交易（冻结任意比特币地址）。但即使是这样，他也可能会顾忌攻击行为是否会让比特币失去价值（然后他的矿机和币就都作废了），所以即使有人手里有超过50%的算力也未必会实行51%攻击。                           2018年1月13日 01:35 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用温国兵的发言：纠正一个错误“你可能看出来了，每 4 年奖励减半，那么到了 2140 年，矿工将得不到任何奖励，比特币的数量也将停止增加。这时，矿工的收益就完全依靠交易手续费了。”这里应该是 2040 年。博主没错，就是2140年。但是，四年一减半还是很快的，再减半几次，区块补贴就已经接近归零了。                           2018年1月13日 01:40 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用davino的发言：有几个疑问：1. 交易平台是不是本身自己就是矿工？2. 如果交易平台是矿工，在上面平台上用户的交易是实时的，但交易平台如果成功把记录放到链上，是不是等于你和用户没有进行任何操作？3. 火币现在能进行P2P的交易。如果火币没有挖到矿，不是等于买方白给钱了？前面的回帖好像没显示出来，不知道是不是博主要审核……交易平台只相当于一个比特币用户，往难听了说，就是你把币转给他们，他们给你一个欠条。也有ViaBTC这样矿业兼职开交易所的，即使是这样，性质仍然不变。                           2018年1月13日 01:43 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用sms的发言：所以说，下个钱包app就分了一对key和一个地址？没有交易的话这个地址有效么？不怎么懂密钥是任何人都可以生成的，必须随机生成，否则别人就可以猜出来，这样就不安全了。比特币用了ECDSA这个非对称加密算法，打个比方，就是认章不认人，章（密钥）其实有机器就能刻（任何人都可以用电脑生成，甚至可以用骰子来生成），只有你手里有章（私钥），能给账单盖章（数字签名），其他人手里都有完整账本，如果你想花无中生有的钱、花之前已经被花掉的钱、花别人的钱，都是无效的。私钥可以推算出公钥，公钥经过两次哈希运算，再加上校验值、经过Base58编码就得到地址。反推在目前是不可能的，除非ECDSA、RIMEPD160、SHA256算法被破解（哈希算法本来就是不可逆的，即使“破解”，也不能由哈希值“恢复原状”，只是能找到碰撞值而已，不过目前找到碰撞也足够花别人地址上的钱了）。现在的钱包一般都是HD的，也就是分层确定性钱包，由一个随机种子就可以推算出几乎无穷无尽的私钥，种子还可以表示为一串单词（密语），这样备份/恢复钱包就方便了，而且可以每次使用比特币都换一个地址。                           2018年1月13日 01:58 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用sms的发言：所以说，下个钱包app就分了一对key和一个地址？没有交易的话这个地址有效么？不怎么懂没用过的地址也是有效的。博主对比特币地址的描述有误：比特币地址不是用十六进制表示公钥的哈希，而是用Base58编码表示公钥的哈希+一段校验值。用那段校验值就可以知道地址有没有错。甚至还有找不到对应私钥的“烧币地址”（Proof of Burn），转进去的币就无法被转出来，等于被销毁了，这种地址同样是有效的。比如：合约币CounterParty提出的1CounterpartyXXXXXXXXXXXXXXXUWLpVr。生成这种地址也不难，先写出Base58地址，内容可以任意，然后算出对应的二进制数据（Base58解码），再计算对应的校验值，加到后面，然后重新Base58编码，就可以得到这种“烧币地址”。                           2018年1月13日 02:17 | # | 引用                                                                                                                BitcoinFan 说：                                                        @YANG：比特币的优点在于无国界、（伪）匿名、快速（相对电汇等传统服务）、安全等。价格波动大也确实是个问题，不过也不是完全没办法，比如用期货交易对冲（不过目前期货交易平台也是中心化的，甚至有平台亲自下海操纵市场等黑历史，而且，平台肯定要收交易手续费）。挖矿是达成分布式共识的手段，这样才能防止双重支付。也有人觉得挖矿不好，达成共识慢、吞吐量有限、浪费能源、可能“监守自盗”，就开始想办法改进，所以现在也有其他共识机制，比如以太坊的Casper、Cardano的Ouroboros，都是PoS共识机制；还有比特股的DPoS等。                           2018年1月13日 02:47 | # | 引用                                                                                                                walker 说：                                                        问两个问题啊:1, 目前每个节点大小约为100G, 也就是说选择加入这个网络的话, 初始是要"同步"100G 的内容到硬盘上对吧?2, 没有确认的交易, 是以什么形式传遍全网的? 从文中的描述, 好像是"纯请求, 不持久化", 那么文中又描述了有的交易因为手续费低, 可能几周都没有确认, 那么可以推断出任何交易其实都是持久化了的(并且严格遵循区域链的原因, 保证了不可篡改), 并不是单纯靠"即时"的网络请求, 所以一个比特币节点严格意义上是有确认的和多如牛毛未确认的"数据库"构成? 这样的话, 目前总量100G 的大小, 其实饱含了即时全网所有未确认的交易数据, 这个理解对么?                           2018年1月15日 01:51 | # | 引用                                                                                                                Leo 说：                                                        引用小白的发言：有点疑惑，交易平台肯定需要维护 哪个比特币钱包是哪个用户的吧，而比特币钱包里包含公钥私钥，这样交易平台不就可以知道比特币是哪个用户的么有道理啊                           2018年1月15日 11:09 | # | 引用                                                                                                                rstevens 说：                                                        首先赞一下阮老师的文章！不过还是有很多细节的地方有疑惑，例如"首先，所有的交易数据都会传送到矿工那里。矿工负责把这些交易写入区块链。根据比特币协议，一个区块的大小最大是 1MB，而一笔交易大概是500字节左右，因此一个区块最多可以包含2000多笔交易。矿工负责把这2000多笔交易打包在一起，组成一个区块，然后计算这个区块的 Hash。"1、 交易数据是怎么传到矿工那的？ 是发给所有矿工么？2、 矿工自己来决定把多少个交易合并到一个区块中么？这些细节，如果有实现代码可以看到就好了。阮老师知道有哪些开源的代码可以学习么？                           2018年1月15日 16:41 | # | 引用                                                                                                                ty 说：                                                        所有的交易数据都会传送到矿工那里。矿工负责把这些交易写入区块链。根据比特币协议，一个区块的大小最大是 1MB，而一笔交易大概是500字节左右，因此一个区块最多可以包含2000多笔交易。相请教第一个块区是怎么来的？没有交易矿工就没办法写入块区，不写入块区就得不到比特币。实在想不通，求指教。                           2018年1月15日 21:34 | # | 引用                                                                                                                Alex 说：                                                        其实，任何东西想成为货币，就是一个信心，当然还有方便性。要是人们都认为这东西能当钱使，那它就值钱了。就像一般等价物的诞生一样，只不过现在的技术让这个过程简化快捷了很多。这发行起来岂不就是通货膨胀啊！！！首先就让这显卡贵到姥姥家去了。                           2018年1月16日 17:14 | # | 引用                                                                                                                yaro 说：                                                        每个区块的容量随着时间的增长会越来越大么，不会爆掉么？                           2018年1月17日 17:03 | # | 引用                                                                                                                BitcoinFan 说：                                                        @walker：1.现在已经冲着200GB去了。如果要完整从头验证一遍，需要把这么多区块链数据全部下载一遍。全节点也支持修剪模式（prune），但就我自己的经验，修剪模式会带来一些不便，比如不能rescan（导入私钥的时候就需要rescan来显示出正确的转账记录和余额）。以后可能有backward syncing，也就是从最近的区块倒着往回同步，而且还要同步UTXO集合（相当于余额数据）。2.不对。一百多GB是2009年比特币诞生至今的所有已确认交易。中间有不少孤块/分叉都被丢弃了，还有很多零确认因为被双花/手续费太低等原因也被丢弃了。每个比特币节点都会连接到附近的节点（不过连接数默认是受限的），一个人广播一笔交易后，会一传十十传百，直到传遍整个网络。零确认交易是保存在内存池里的，这些交易只是等待着矿工把它打包进链，是不算数的（比如，已有一笔零确认交易，但是矿池在新挖出的区块中，把另一笔与之冲突的“双重支付”交易打包进去了，那么大家都承认区块链里的那个交易有效，零确认交易无效）。不过，现在大矿池基本垄断了算力，而且都遵守Opt-in RBF的规则，所以一般的零确认交易在几天之内还是不能双花的（也就是“卡着确认不了”），因为RBF现在还不是默认启用，但未来会改成默认启用。                           2018年1月19日 16:03 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用ty的发言：所有的交易数据都会传送到矿工那里。矿工负责把这些交易写入区块链。根据比特币协议，一个区块的大小最大是 1MB，而一笔交易大概是500字节左右，因此一个区块最多可以包含2000多笔交易。相请教第一个块区是怎么来的？没有交易矿工就没办法写入块区，不写入块区就得不到比特币。实在想不通，求指教。第一个区块就是创世区块（genesis block），只有一笔“凭空”生成50BTC的coinbase交易（也就是区块补贴），内容算是中本聪随便写的。就是这个：https://btc.com/000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f点开coinbase交易，就可以看到著名的The Times 03/Jan/2009 Chancellor on brink of second bailout for banks了：https://btc.com/4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b                           2018年1月19日 16:07 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用yaro的发言：每个区块的容量随着时间的增长会越来越大么，不会爆掉么？原来是一个区块最大1MB（矿工还可以自己设置更低的上限），但是直到最近这个上限才被填满，然后，矿工优先打包手续费高的交易，手续费不够高的，就在内存池里排队等着。即使是鼓吹超大区块的Bitcoin Cash，矿工们现在也没敢把这个限制完全拿掉，目前的上限是8MB，前一阵子BCH发生了粉尘攻击（有人发帖说是“压力测试”），可以看到有些矿池甚至还保留着1MB的限制。去年软分叉SegWit已经激活了，引入了一种新的交易格式（和老格式并存），这种格式把交易数据分成两块，一块是资金往来和数额，另一块是用数字签名证明交易有效的“见证”；对见证部分，计算字节数时要少算四分之三（给了折扣），这样就等于允许区块大小超过1MB。SegWit格式的交易使用率越高，区块就可以扩到越大。目前SW使用率只有10%。根据估计，这样扩容最大可以达到2MB左右。（4MB是不可能达到的，因为非见证部分字节数不会是零）未来BTC应该还会有硬分叉，可能要扩大区块，不过近期是不会有了。目前还有一些方法能减少交易字节数，比如压缩公钥、batching等。以后还会有Schnorr签名等技术。                           2018年1月19日 16:22 | # | 引用                                                                                                                BitcoinFan 说：                                                        @Alex：现在比特币的概念还被很多人抵触，多数人还是宁愿相信国家政权，而不是分布式共识。政府也是，不少都对比特币不友好，像我国不就是这样，只是把比特币定位为合法的虚拟商品，不承认它是货币，而且把交易所都关了，连矿场都要赶出去……而且比特币-法币“汇率”波动很大，市场投机性很强，这也是个本质上的问题。比特币还面临着扩容问题，区块大了就趋向于中心化，闪电网络现在还没准备好。还有，就是比特币不存在账户密码、密码忘记找回、资金冻结这种概念，算是“认密钥不认人”的，丢失被盗都是责任自负的。比特币早就不能用显卡挖了，连莱特币都不行了，只能用ASIC矿机挖，否则是纯浪费电、耗费显卡寿命。现在用显卡挖的是其他加密货币，比如以太币（ETH，以太坊Ethereum平台上用的代币，其实人人都可以轻易在以太坊上发行自己的ERC20代币）、门罗币（XMR，Monero）、零币（ZEC，Zcash）等等。                           2018年1月19日 16:32 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用没事扯扯蛋的发言：谁能说明比特币怎样和实际金钱或实物挂钩的？？？如果不能挂钩，比特币就是个数字游戏，没有价值。如果挂钩了，那说明比特币背后还是有势力（中心）支持的，否则怎么可能风生水起？这个都是老生常谈的问题了。有价值的东西未必是“实物”，比如大数据，或者……玩游戏氪金；黄金就是没有人担保背书的，但它仍然有价值。所以，现在有人想让比特币成为“数字黄金”……                           2018年1月19日 16:46 | # | 引用                                                                                                                nonehat 说：                                                        纠正小错误：每笔交易的大小约为250B左右，也就是说1个区块可以包含 1 * 1024 * 1024 / 250 笔交易，而挖出一个区块约10分钟。所以每秒的交易量： 1*1024*1024 / 600 = 6.9。 也就是人们常说的不超过7笔。                           2018年1月19日 22:25 | # | 引用                                                                                                                lies 说：                                                        假如算力能垄断比特币的交易权，那这个就是集权中心化了，因为假如算力越分散，那么想要垄断的成本就越低，51%对政府来说，想要达到并不难，什么时候政府管不住了，自己这么一折腾，是不是比特币就该没了                           2018年1月21日 10:04 | # | 引用                                                                                                                anor 说：                                                        引用Dong的发言：一块区块链只能存2000笔交易，2040年就挖不到新的区块链，但交易是继续增加的，那么区块链用完了怎么办呢？区块链不会用完吧？只是用来奖励的比特币可能就没有了，到那时矿工只能靠手续费获得奖励了。                           2018年1月25日 16:37 | # | 引用                                                                                                                风君子-神游 说：                                                        关于交易，按照文章里面所说，没交易一次是不是相当于生成了一个新的区块，因为会生成一个新的hash，那这个交易所产生的区块，和矿工新挖出来的区块有什么区别，其次，交易是通过矿工去填写数据的，那矿工会不会恶意的去写数据，例如，把新交易的比特币写自己钱包里面                           2018年1月26日 14:24 | # | 引用                                                                                                                ade 说：                                                        引用Mike的发言：比特币技术复杂、普通人不能很好的理解。比特币没有金融监管、容易产生金融犯罪。前段时间的黑客勒索无不采用比特币技术。所以个人并不看好这一块的技术。比特币只是一种货币形式，RMB也是一种货币形式，如果敲诈勒索犯罪用RMB,那我们不是？？                           2018年1月26日 16:46 | # | 引用                                                                                                                ALLEN 说：                                                        区块链 和 比特币交易大概理解了。 但是作为交易者怎么获利。这一点是不是类似股票说，在比特币网上用现金（真实货币）交易购买虚拟比特币，然后等着升值再出售。                           2018年1月29日 16:05 | # | 引用                                                                                                                wjzsuperman 说：                                                        是不是新增一个区块，就代表新增一个比特币？                           2018年1月30日 10:08 | # | 引用                                                                                                                胡吃喝 说：                                                        引用wjzsuperman的发言：是不是新增一个区块，就代表新增一个比特币？最开始，新增一个区块，增加50个比特币，后来新增一个区块，增加25个，再后来就是12.5个                           2018年2月 2日 20:32 | # | 引用                                                                                                                胡吃喝 说：                                                        引用anor的发言：区块链不会用完吧？只是用来奖励的比特币可能就没有了，到那时矿工只能靠手续费获得奖励了。区块链用不完，比特币倒是会用完，也就是再也挖不出来了。                           2018年2月 2日 20:33 | # | 引用                                                                                                                郭海峰 说：                                                        原文：目前由于交易数量猛增，手续费已经水涨船高，一个区块2000多笔交易的手续费总额可以达到3～10个比特币。如果你的手续费给低了，很可能过了一个星期，交易还没确认。请教：如果一个区块的2000比交易中有没有确认的，那这个区块怎么确认呢？不是一个小时就可以确认了吗？另外，如果一笔交易在确认过程中但还没没有支付成功，这些比特币是否可能再次支付给其它方，而因为第二次交易所在的区块被确认导致第二次交易成功，第一次交易失败呢？                           2018年2月 3日 21:11 | # | 引用                                                                                                                夜上 说：                                                        引用Dong的发言：有个疑问求解答：一块区块链只能存2000笔交易，2040年就挖不到新的区块链，但交易是继续增加的，那么区块链用完了怎么办呢？新开区块没有奖励了而已，并不是不开新的                           2018年2月 5日 11:47 | # | 引用                                                                                                                cqcmdwym 说：                                                        你也可以用私钥加密信息，别人用你的公钥解开，从而证明这个信息确实是你发出的你好，阮老师，这样是不是不安全，人家有公钥就能解开？                           2018年2月 7日 07:45 | # | 引用                                                                                                                airomyas 说：                                                        引用王挺的发言：我也有此疑问，但感觉这个回答没答到点上。交易记录是必须要附在新的区块里，再写入主区块链才能生效的。而2040年之后，已经没机会“算出”新的区块了，还怎么附加交易记录呢?区块永远可以增加，区块链的长度并没有限制。只是矿工取得记账权的时候，系统没有给矿工比特币来奖励了。                           2018年2月12日 09:53 | # | 引用                                                                                                                airomyas 说：                                                        引用cqcmdwym的发言：你也可以用私钥加密信息，别人用你的公钥解开，从而证明这个信息确实是你发出的你好，阮老师，这样是不是不安全，人家有公钥就能解开？这个叫数字签名，目的是为了证明这条用私钥签名的消息的确是你发出的（因为别人没有你的私钥），那么怎么证明呢？就是这条消息能够用你发布的公钥解开，这就说明消息是你发的，因为用别人的公钥不可能揭开你的私钥签名的消息。这种情况下，不是为了保密，而是为了验证身份。                           2018年2月12日 10:28 | # | 引用                                                                                                                天空 说：                                                        一开始错了，是欧美各大银行以及金融机构的一个需求，最后是一个中本聪的人或者组织造出一个比特比的产品来，本身不是中本聪的想法，它是需求的实现者                           2018年2月13日 14:52 | # | 引用                                                                                                                路人甲 说：                                                        怎么全是小白？                           2018年2月14日 01:10 | # | 引用                                                                                                                老宽 说：                                                        区块链记录着完整的账本，而比特币本质是希望解决去中心化的问题。1M的块大小引起交易堵塞的问题我能理解，通过扩容等技术手段肯定能解决的，只是扩多少的问题了。但是这个只是解决交易速度的问题啊？但是，将来积累的账本数据肯定越来越多啊，那岂不是意味着每个安装了比特币钱包的客户端软件都得同步这些账本信息呢，比如现在账本数据如果几百G能理解不是问题，但是将来账本数据累积了总会很大啊，这个问题怎么能搞定啊？                           2018年2月17日 00:22 | # | 引用                                                                                                                谦修 说：                                                        引用binary的发言："这个钱包不是用来存放比特币，而是存放你的公钥和私钥。软件会帮你生成这两把私钥，然后放在钱包里面。"应该是生成这两把密钥可以理解为，一个是银行卡号，一个是密码吗。。前者对应公钥，后者是私钥！                           2018年2月23日 15:28 | # | 引用                                                                                                                纪钟磊 说：                                                        您好，我想问一个问题。就是张三有10个比特币，同时向另外两个他自己的私钥(s1,s2)分别支付10个比特币。把支付给s1的交易让旷工1处理。支付给s2的交易让旷工2处理。恰巧旷工1和旷工2出处理的达到的分支数也都是大于6并且相同的。那不是这个时候张三就把10个比特币分别成功支付给了自己的两个私钥，他本身拥有的10个bitcoin就变成了20个？解答一下我的疑惑吧，谢谢！                           2018年2月24日 14:42 | # | 引用                                                                                                                 zcqshine 说：                                                        引用TONYHEAD的发言：有若干疑问:一个100GB的数据库就可以记录到比特币创立至今的所有交易往来?"2000笔交易的区块手续费是3-10个比特币",这个交易成本太高了,2000笔流水,大一点的小卖部都不止这个数,难不成按目前的交易成本, 比特币只适合做大额资金的交易?比特币的价格现在已经够大额了...哈哈                           2018年2月24日 16:30 | # | 引用                                                                                                                btcoin小白 说：                                                        区块是不是可以是0-2000条交易记录（包含是0条交易记录），我在想比特币诞生时应该是还没有交易的吧，这个时候区块里面应该是没有交易记录的吧？                           2018年2月26日 23:22 | # | 引用                                                                                                                xmokdjs 说：                                                        引用温国兵的发言：纠正一个错误“你可能看出来了，每 4 年奖励减半，那么到了 2140 年，矿工将得不到任何奖励，比特币的数量也将停止增加。这时，矿工的收益就完全依靠交易手续费了。”这里应该是 2040 年。一尺之棰，日取其半，万世不竭。——《庄子·天下》                           2018年2月27日 11:50 | # | 引用                                                                                                                戴祎程 说：                                                        我想问一下阮老师，如果矿工没有收集全交易记录，或者故意写错了交易记录，从而生成了最新的区块，后续的矿工怎么发现他记录的有问题？                           2018年2月28日 16:42 | # | 引用                                                                                                                DannyPei 说：                                                        我想问个问题，矿工们从网络上收集各种交易请求，组包并计算hash，当计算出的hash不满足要求时，是会更换或重新收集网络上的各种交易请求然后重新打包计算hash，直到所计算出的hash满足要求吗？（因为如果不更换组包的交易内容的话，计算出的hash还是会和原来的一样）这样的话作为一个交易请求的提出方，所提出的交易请求能否被认可、何时被认可都是完全未知的，这样将难以满足货币日常流通的基本需求。不知道是否是这样，求阮老师和各位老师解答。                           2018年3月 1日 15:22 | # | 引用                                                                                                                DannyPei 说：                                                        引用纪钟磊的发言：您好，我想问一个问题。就是张三有10个比特币，同时向另外两个他自己的私钥(s1,s2)分别支付10个比特币。把支付给s1的交易让旷工1处理。支付给s2的交易让旷工2处理。恰巧旷工1和旷工2出处理的达到的分支数也都是大于6并且相同的。那不是这个时候张三就把10个比特币分别成功支付给了自己的两个私钥，他本身拥有的10个bitcoin就变成了20个？解答一下我的疑惑吧，谢谢！不会，矿工1和矿工2同时计算出符合要求区块链，并且两个分支又同时达到6个链的长度，这是不可能发生的                           2018年3月 1日 15:23 | # | 引用                                                                                                                alex 说：                                                        有个地方没明白。假如说矿工A抢到了这块区块。然后广播出去。大家承认了以后。这块区块的HASH值就定了。然后再在这块区块中输入"A挖到了这块区块 获得12.5个比特币"。那这个输入信息不是会导致这块区块的HASH值变了么?                           2018年3月 2日 17:13 | # | 引用                                                                                                                Aspi1in 说：                                                        “事实上，我也不知道，如果我知道怎么发财，可能就不会在这里写博客了。”扎心了老铁~                           2018年3月 2日 19:17 | # | 引用                                                                                                                gelvshige 说：                                                        引用Aspi1in的发言：“事实上，我也不知道，如果我知道怎么发财，可能就不会在这里写博客了。”扎心了老铁~坦白的很可爱！                           2018年3月 2日 19:22 | # | 引用                                                                                                                peakandyuri 说：                                                        我其实有一个疑问，比特币是没有中心节点的，如果我要加入矿工的行列，我怎么才能知道其它节点并和它们交换数据。                           2018年3月 5日 14:31 | # | 引用                                                                                                                xuewuchen 说：                                                        其实我觉得这里最大的问题就是，所有的资源都浪费在无意义的计算上面了。如果这些算力真的可以一起计算，是不是能够解决很多计算上面的难题呢                           2018年3月 7日 09:14 | # | 引用                                                                                                                zbw 说：                                                        引用没事扯扯蛋的发言：谁能说明比特币怎样和实际金钱或实物挂钩的？？？如果不能挂钩，比特币就是个数字游戏，没有价值。如果挂钩了，那说明比特币背后还是有势力（中心）支持的，否则怎么可能风生水起？你可以把它当做一件物品，一个东西，这个东西只要有人愿意花钱去买，那就能与真实货币挂钩                           2018年3月 9日 15:01 | # | 引用                                                                                                                csha 说：                                                        引用zyg的发言：传说的去中心化呢～到头来还是矿工中心化～ 算力决定一切 哈哈～你把去中心化这个概念理解错了                           2018年3月13日 19:05 | # | 引用                                                                                                                中本葱 说：                                                        引用王挺的发言：我也有此疑问，但感觉这个回答没答到点上。交易记录是必须要附在新的区块里，再写入主区块链才能生效的。而2040年之后，已经没机会“算出”新的区块了，还怎么附加交易记录呢?有区块啊，只是这些区块不会新生成比特币而已                           2018年3月18日 11:27 | # | 引用                                                                                                                沈小扬 说：                                                        请教，矿工记录交易记录生成新的区块，从而得到奖励的比特币。这个奖励本身的交易又是谁来记录呐？有没有区块链来保存？                           2018年3月19日 13:10 | # | 引用                                                                                                                Satan 说：                                                        160位是二进制，写成十六进制，大约是26到35个字符这个是怎么算的？                           2018年3月19日 13:13 | # | 引用                                                                                                                Bicong Wang 说：                                                        引用杨峰的发言：很好奇，比特币是怎么开始的？有这个想法是因为，采矿是产生比特币的“造血系统”，而造血的过程是写入交易记录，而最初是没有交易记录给人来写的。阮老师没有细讲挖矿，实际上挖矿的要求是造出一个哈希值小于xx的区块，这个跟交易是否存在没有必然关系。而随着区块的产生，比特币会被制造出来。                           2018年3月19日 19:04 | # | 引用                                                                                                                ieayoio 说：                                                        引用小米的发言：有一个地方不明白，需要请教博主。如果我是矿工，挖矿时在当前交易记录中擅自增加一条“我获得1000比特币”的记录，然后很幸运这块矿被我挖到，交易记录被记录和通报全网了。那是不是就能作弊了？不知道你的问题解决了没，我觉得“我获得1000比特币”的这条记录不能凭空的产生，它必须是“xxx向你转账了1000比特币”才能达到你获得比特币的目的，而这个动作需要有向你转账的人的数字签名作为凭证                           2018年3月20日 17:31 | # | 引用                                                                                                                ieayoio 说：                                                        所谓交易手续费，就是矿工可以从每笔交易抽成，具体的金额由支付方自愿决定。你完全可以一毛不拔，一分钱也不给矿工，但是那样的话，你的交易就会没人处理，迟迟无法写入区块链，得到确认。矿工们总是优先处理手续费最高的交易。这里我有个疑问，是不是说等到矿工挖到新的区块没有奖励的时候，如果支付不付手续费，是不是说有可能交易永远无法写入区块链，这岂不是有钱花不出去了吗，所以只能追加手续费来完成交易吧？而且手续费少了也很有可能迟迟完成不了交易                           2018年3月20日 17:40 | # | 引用                                                                                                                悟空 说：                                                        现在比特币的区块有多高了啊？                           2018年4月 2日 21:05 | # | 引用                                                                                                                mall 说：                                                        有几点疑问：1 公钥和私钥都是软件生成的，如何保证软件平台不会私自保存用户的私钥？2 区块链本身的机制只承认最长新增链（block），那么最终会对导致每个block都只包含最简单的信息（空block或者只包含一笔交易的block），因为你等到2000笔交易凑齐的时候再开始打包计算，可能别人已经算出来的了。这样推演下去最终区块链里每个块只会包含一笔交易，1M的大小根本就用不完。为什么还会出现提议将block size增加 ？望哪位大侠能指教一下？谢谢                           2018年4月 9日 08:57 | # | 引用                                                                                                                崔文远 说：                                                        私钥的保存用什么方式最安全？                           2018年4月11日 20:34 | # | 引用                                                                                                                帅锅 说：                                                        越看越带劲，真的十分感谢作者这么辛苦写的文章呀！已经能理解很多很多了，感激                           2018年4月19日 16:10 | # | 引用                                                                                                                shilion 说：                                                        引用Satan的发言：160位是二进制，写成十六进制，大约是26到35个字符这个是怎么算的？这个是十六进制和2进制的转换了。就像我们的十进制，冯10进1，十六进制是冯16进1，有0-9，A-F组成。                           2018年4月19日 22:17 | # | 引用                                                                                                                没有 说：                                                        引用Mike的发言：比特币技术复杂、普通人不能很好的理解。比特币没有金融监管、容易产生金融犯罪。前段时间的黑客勒索无不采用比特币技术。所以个人并不看好这一块的技术。你不看好的原因我却感觉是比特币火的真正原因，不接受黑暗并不代表黑暗不存在                           2018年4月28日 17:52 | # | 引用                                                                                                                chen 说：                                                        想请问一下：比特币第一个区块Block #0是相当于初始化创建的，记录的交易一个新闻报纸的标题。产生50个比特币的奖励（这50个比特币好像不能被使用）。那第二个区块Block #1它的交易记录是什么呢（是否是用比特币交易呢）？这些交易的手续费所需的比特币从何处来呢？                           2018年5月 2日 18:11 | # | 引用                                                                                                                梦元 说：                                                        “我获得1000比特币”的这条记录不能凭空的产生，btc不会凭空产生，它产生的唯一渠道是旷工算出合规hash值后获得的奖励，而且会有专门的标识记录这笔btc的产生，以及它产生的条件。首先“我获得1000比特币”这条记录不会添加进去，因为这条记录不合规范至少是“xxx转给xx多少btc”或者是“xx算出了新的合规hash获得XX个btc的奖励”，其次即使你想办法强行添到了数据库，请求同步数据时，其它节点也会算出你这笔凭空产生的记录是非法，拒绝同步你的数据。每一笔交易都必须具备 （from， to， value，fee ） ，而且每一笔交易应该都会有from方进行数字签名，避免旷工把转账给to方的5个btc改成了10个                            2018年5月 3日 18:46 | # | 引用                                                                                                                晨晨 说：                                                        我就想知道怎么开户 交易                           2018年5月11日 22:53 | # | 引用                                                                                                                虾米 说：                                                        虽然在币圈工作几年了，但是每次需要给小白讲解btc的时候都不知从何讲起。以后我可以让他们来看峰哥的文章。                           2018年5月17日 18:45 | # | 引用                                                                                                                虾米 说：                                                        引用梦元的发言：“我获得1000比特币”的这条记录不能凭空的产生，btc不会凭空产生，它产生的唯一渠道是旷工算出合规hash值后获得的奖励，而且会有专门的标识记录这笔btc的产生，以及它产生的条件。首先“我获得1000比特币”这条记录不会添加进去，因为这条记录不合规范至少是“xxx转给xx多少btc”或者是“xx算出了新的合规hash获得XX个btc的奖励”，其次即使你想办法强行添到了数据库，请求同步数据时，其它节点也会算出你这笔凭空产生的记录是非法，拒绝同步你的数据。每一笔交易都必须具备 （from， to， value，fee ） ，而且每一笔交易应该都会有from方进行数字签名，避免旷工把转账给to方的5个btc改成了10个 峰哥应该是想表达对 btc 的价值思考                           2018年5月17日 18:47 | # | 引用                                                                                                                浅蓝 说：                                                        引用小白的发言：有点疑惑，交易平台肯定需要维护 哪个比特币钱包是哪个用户的吧，而比特币钱包里包含公钥私钥，这样交易平台不就可以知道比特币是哪个用户的么只需管理用户对应的钱包地址就行，不需要知道具体的公钥私钥，就好比支付宝管理用户的账号，但是不知道你的密码也能使交易正常完成                           2018年5月18日 13:07 | # | 引用                                                                                                                卫道者 说：                                                        引用Mike的发言：比特币技术复杂、普通人不能很好的理解。比特币没有金融监管、容易产生金融犯罪。前段时间的黑客勒索无不采用比特币技术。所以个人并不看好这一块的技术。比特币勒索与比特币无关，只是通过比特币来收钱。                           2018年7月13日 13:54 | # | 引用                                                                                                                Tiger.xu 说：                                                        每个节点都包含了整个区块链（目前大概 100多 GB），并且节点之间时刻不停地在同步信息。------目前100多GB，后面随着时间推移，这个区块链是否会非常之大。而且100多GB的数据在这么多节点中复制，会不会造成网络堵塞？                           2018年7月15日 19:22 | # | 引用                                                                                                                haiker 说：                                                        为什么交易数据要包含双方的地址呢，既然交易数据中已经包含了公钥，而交易的支付方地址就是公钥计算hash得到，只提供公钥，私钥签名和接受方的地址和上次交易的hash不行吗？                           2018年10月 7日 10:43 | # | 引用                                                                                                                张淼 说：                                                        嗯 讲的很清楚                           2018年12月21日 11:31 | # | 引用                                                                                                                风一样的男子 说：                                                        老师,您好,我正在探究比特币的源码,现在有一块没弄清楚,就是同步机制.我想知道比特币的同步时机除了节点启动时,还有其他时机吗?特别时在处理孤块上,加入第k个区块在广播给A节点时丢了,那么对于A节点是采取怎样的措施来获得这个区块的呢?希望老师不吝赐教                           2018年12月31日 12:08 | # | 引用                                                                                                                哈哈 说：                                                        很不错呢，通俗易懂。                           2019年4月 9日 20:07 | # | 引用                                                                                                                代富贵 说：                                                        突然发现一个问题，有人（以为为例）炒币好几年了，说啥币都多少听说过，但是突然被问到到底什么是区块链，什么是加密货币的时候，还是一脸蒙。                           2019年5月27日 17:02 | # | 引用                                                                                                                柚子 说：                                                        引用温国兵的发言：纠正一个错误“你可能看出来了，每 4 年奖励减半，那么到了 2140 年，矿工将得不到任何奖励，比特币的数量也将停止增加。这时，矿工的收益就完全依靠交易手续费了。”这里应该是 2040 年。每四年减半，要乘以4兄弟，就是2140年咯                           2019年6月 1日 12:57 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用haiker的发言：为什么交易数据要包含双方的地址呢，既然交易数据中已经包含了公钥，而交易的支付方地址就是公钥计算hash得到，只提供公钥，私钥签名和接受方的地址和上次交易的hash不行吗？交易数据其实压根就没有包含“地址”。地址只在应用层（钱包软件）里存在，在底层（区块链数据里）并不存在。交易数据包含的是“输入”和“输出”。每一项“输出”都含有金额和“锁定脚本”。就好像开宝箱一样，你必须有密码，或者钥匙（取决于这个宝箱最初是怎么制作的）才能打开，打开后想干啥就全部由你做主了。一般情况下，锁定脚本的内容基本上就是公钥的哈希，外加一点点脚本操作码，地址只是把公钥的哈希加上校验码，再用Base58编码了一下而已。加上校验码可以防止打错字，用Base58编码可以方便人类阅读。每一项“输入”都要声明被“解锁”的是具体哪一笔钱，用上一笔交易的哈希（txid）和输出序号指定。同时还要拿出“解锁脚本”，一般就是公钥、数字签名，以及一点点脚本操作码。                           2019年9月 6日 22:18 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用haiker的发言：为什么交易数据要包含双方的地址呢，既然交易数据中已经包含了公钥，而交易的支付方地址就是公钥计算hash得到，只提供公钥，私钥签名和接受方的地址和上次交易的hash不行吗？更正一下，地址里不止包含公钥哈希和校验码，还有一个版本号。实际上这还只是最简单的P2PKH地址，除此之外还有3开头的P2SH地址（含有脚本哈希而不是公钥哈希），以及bc1开头的P2WPKH、P2WSH地址（原生隔离见证地址，功能和P2PKH和P2SH类似）。P2SH地址可以设置更复杂的脚本，也就是设定更复杂细致的解锁条件。一般它用于多重签名。除了多重签名，还可以“封装”隔离见证脚本，因为bc1开头的原生隔离见证地址很多地方还不兼容，封装成3开头的地址，就能保持兼容了（代价是交易略大，手续费略贵）。对bc1开头的原生隔离见证地址来说，编码不再使用中本聪设计的Base58，而是使用重新设计的Bech32，只包含小写字母，但也可以全部转换成大写字母来表示（这样可以让二维码更小更“轻便”）。这样更方便在电话中口述这种用途。                           2019年9月 6日 22:27 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用haiker的发言：为什么交易数据要包含双方的地址呢，既然交易数据中已经包含了公钥，而交易的支付方地址就是公钥计算hash得到，只提供公钥，私钥签名和接受方的地址和上次交易的hash不行吗？比特币很多时候都是反直觉的……就比如“3开头的P2SH地址可以封装隔离见证”，可能会让很多人产生一种误解：“3开头的地址和bc1开头的地址往往使用同一个公钥”——实际上很多时候并不是这样，因为一般HD钱包都遵守BIP44/49/84规范，生成不同类型的地址时，使用的私钥也不一样；只有少数钱包，比如Bitcoin Core，在一些特殊情况下（老版本的addwitnessaddress，以及importprivkey/importpubkey导入单个私钥/公钥）是这么做的。                           2019年9月 6日 22:32 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用Tiger.xu的发言：每个节点都包含了整个区块链（目前大概 100多 GB），并且节点之间时刻不停地在同步信息。------目前100多GB，后面随着时间推移，这个区块链是否会非常之大。而且100多GB的数据在这么多节点中复制，会不会造成网络堵塞？确实是越攒越大的……有些比特币开发者反对增大区块，就是出于“历史区块增长的速度已经超过技术进步速度”这种理由。网络堵塞，现在看还不至于，因为跑全节点的比特币用户算是少数（很多人只是在交易所里炒一炒，或者就只是用一下轻量级钱包而不是全节点钱包），而且只有一开始要下载那么多，后面只需要不断跟进就可以了，并不需要一遍遍地从头下载。                           2019年9月 6日 22:36 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用alex的发言：有个地方没明白。假如说矿工A抢到了这块区块。然后广播出去。大家承认了以后。这块区块的HASH值就定了。然后再在这块区块中输入"A挖到了这块区块 获得12.5个比特币"。那这个输入信息不是会导致这块区块的HASH值变了么?实际上当然是先把区块里的各种数据填好、把交易都打包进去，再发给矿机、让矿机去暴力试错凑hash值啊。矿机只需要拿到区块头、coinbase交易等很少的信息就可以进行挖矿了，并不需要拿到完整的区块。                           2019年9月 6日 22:42 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用老宽的发言：区块链记录着完整的账本，而比特币本质是希望解决去中心化的问题。1M的块大小引起交易堵塞的问题我能理解，通过扩容等技术手段肯定能解决的，只是扩多少的问题了。但是这个只是解决交易速度的问题啊？但是，将来积累的账本数据肯定越来越多啊，那岂不是意味着每个安装了比特币钱包的客户端软件都得同步这些账本信息呢，比如现在账本数据如果几百G能理解不是问题，但是将来账本数据累积了总会很大啊，这个问题怎么能搞定啊？交易确认速度这个问题争议比较大。主流认可的办法是开发闪电网络，放弃原有的零确认交易。少数派的办法是用avalanche预共识加固零确认。还有侧链，以前经常提，现在已经有了liquid、rsk这些，却很冷清，几乎没人用。而且也有adam back等大佬认为侧链并不能从根本上解决扩容问题。区块越攒越多的问题，也有争议。有人坚持全节点必须把所有区块都下载验证一遍（启用修剪，也只是一边下载新的一边删旧的，并不是不下载旧的），有人就认为这么做太浪费，可以妥协一下，直接从最近的状态开始，跳过历史（也就是utxo commitment、assumeutxo之类的）。以前对这个问题还提出一个解决方法，就是“欺诈证明”，也就是让轻量级客户端随机挑一部分进行验证，“众目睽睽”之下，总能发现猫腻。但是后来这个基本上是弃坑了，理由是如果有恶意矿工挖违反规则的链，那他完全可以把有猫腻的部分藏着不发出来，轻量级客户端拿它没办法，没办法证明这里缺了一块（而不只是网速卡了）。引用DannyPei的发言：我想问个问题，矿工们从网络上收集各种交易请求，组包并计算hash，当计算出的hash不满足要求时，是会更换或重新收集网络上的各种交易请求然后重新打包计算hash，直到所计算出的hash满足要求吗？（因为如果不更换组包的交易内容的话，计算出的hash还是会和原来的一样）这样的话作为一个交易请求的提出方，所提出的交易请求能否被认可、何时被认可都是完全未知的，这样将难以满足货币日常流通的基本需求。不知道是否是这样，求阮老师和各位老师解答。区块头里有个nonce值，矿机一般是先修改nonce值。nonce值用完了，还可以稍微改一下时间戳，让时间戳前后稍微变动一下。除了时间戳，还有coinbase交易，可以用作extranonce，这里面的空间就大了，但是每次修改extranonce的计算成本都比较大，所以这一般是放到最后尝试。还有像asicboost这样有争议的办法，（分显式和隐式两种，隐式asicboost里面有提到交换交易顺序，是多种办法中的一种），显式asicboost是修改nversion，争议相对较小。                           2019年9月 6日 22:55 | # | 引用                                                                                                                李晓铭 说：                                                        请问博主，矿工们如何收集交易请求啊？我有一个交易，如何发给矿工呢？这个过程，需要一个中心转发吗？矿工们之间如何联系呢？就像bt技术一样，最终离不开一个中心来发布种子和登记提供bt服务的ip地址，比特币和区块链能完全脱离一个中心吗？                           2019年12月18日 17:38 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用李晓铭的发言：请问博主，矿工们如何收集交易请求啊？我有一个交易，如何发给矿工呢？这个过程，需要一个中心转发吗？矿工们之间如何联系呢？就像bt技术一样，最终离不开一个中心来发布种子和登记提供bt服务的ip地址，比特币和区块链能完全脱离一个中心吗？比特币有一套P2P协议啊，简单说就是一传十、十传百。BT不也是有完全去中心化的DHT么，DHT是不需要Tracker服务器的。不过，比特币的节点软件里确实有硬编码写进几个“种子节点”，一开始不知道其他节点的IP时，就可以向这些“种子节点”查询（这个查询用的是DNS协议，所以叫DNS seeding）。如果从其他途径来发现其他节点，比如手动添加、从已经连接上的其他节点查询等等，那DNS seeding就不是必要的。这个话题细说的话就不简单了。比如“节点”具体指什么呢？要是去阅读中本聪最初的介绍和发言，就会发现他默认“矿工即节点、节点即矿工”。现在的话，“节点”（负责验证交易）和“矿工”（负责穷举哈希来“挖矿”）已经自然而然地分离了。矿工自己并不会运行节点，他们会把矿机的算力输出给矿池，让矿池的“节点”（或者说是“全节点”full node）负责产生区块。很多“全节点”背后也是没有算力的，只能监视网络，不能出块。现在的比特币核心开发者大多认为用户需要跑全节点，因为全节点可以独立、完整地验证区块链账本的内容。如果是SPV轻量级钱包的话，因为没有对交易内容进行验证，所以，理论上，即便是矿工打破了比特币的规则，比如凭空造100万币，那SPV也是无法识别的。但是，全节点很笨重，很显然并不适合一般用户；而且有人认为“按照中本聪原本的设计，就不需要普通用户去跑全节点”，比特币的社区可以说也因为这个分歧而分裂了，反对“普通人应该跑全节点”的人很多转而去支持BCH（然后BCH又分裂成ABC和SV两个币……）。比特币核心开发者则会指出中本聪很早以前就消失了，在他消失之前，他也并没有把SPV轻量级钱包设计完善，因为缺失了“警报机制”来提醒SPV不要去跟随违反规则的区块链账本。                           2020年1月 4日 02:06 | # | 引用                                                                                                                BitcoinFan 说：                                                        还有，矿池之间可能未必是走比特币自身的P2P网络，他们可能还会走更快的FIBRE、Falcon等更加中心化、但也更快的网络，这样可以避免自己因为网络通信不畅（没有及时收到最新区块，或者没有及时把自己新挖出的区块广播出去）而挖出废块。                           2020年1月 4日 02:11 | # | 引用                                                                                                                JAK 说：                                                        用核心钱包交易是不是每次交易都会生成一个新的地址，且钱包内所有的比特币都会转移到新的钱包内，接收了比特币是不是也是一样，所有的比特币包括不是交易所得的比特币都会自动到一个新的找零地址里去？                           2020年3月31日 12:15 | # | 引用                                                                                                                BCG 说：                                                        引用温国兵的发言：纠正一个错误“你可能看出来了，每 4 年奖励减半，那么到了 2140 年，矿工将得不到任何奖励，比特币的数量也将停止增加。这时，矿工的收益就完全依靠交易手续费了。”这里应该是 2040 年。就是2140年，不是2040.                           2020年4月30日 12:07 | # | 引用                                                                                                                BitcoinFan 说：                                                        引用JAK的发言：用核心钱包交易是不是每次交易都会生成一个新的地址，且钱包内所有的比特币都会转移到新的钱包内，接收了比特币是不是也是一样，所有的比特币包括不是交易所得的比特币都会自动到一个新的找零地址里去？避免重复使用同一个地址，这个是中本聪的白皮书里提到的。这是一种很鸡肋的、聊胜于无的隐私保护措施。每次收款时都用新的收款地址，结合每次转出时都用新的找零地址，双管齐下，理想情况下就分不清哪个地址是回到原主人手里的找零，然后就无法进一步追查资金去向，从而保护隐私。实际上有不少情况会泄露“哪个地址是找零”这个信息；甚至还有不少轻量级钱包是直接上传xpub主公钥的，钱包服务商直接就知道哪些地址背后是同一个主人了。（而且Bitcoin Core虽然是HD钱包，但是用的是很蛋疼的hardened derivation，压根就没有xpub主公钥——这个情况可能在未来版本会有所改革，开发者现在正在做descriptor wallet）每次转出，并不是会把所有币都转移到新的找零地址上。这要看你转出的金额大不大，以及你的钱包如何“选币”，选择花掉哪些UTXO。一般情况下钱包是只选择差不多够用的UTXO（所以这也会造成交易里的找零输出项金额较小，可以被猜测分辨出来；但是如果选了太多UTXO，也要注意，把不同地址上的币同时花出去本身也是隐私信息泄露，因为这样透露了这些地址背后实际上是属于同一个主人）。                           2020年10月 2日 01:56 | # | 引用                                                                                                                undefined 说：                                                        挖到新区块的矿工可以获得比特币奖励，奖励的数量逐年递减，这个机制可以修改吗？谁来决定呢                           2022年4月15日 11:56 | # | 引用                                                                                                                sutungpo 说：                                                        请教下在第三部分交易流程中：转出比特币的一方提供的数据中的数字签名是不是也保证了交易金额的属实？否则交易的金额在申报提交过程中存在被篡改的可能性？                           2022年8月15日 14:54 | # | 引用                                                                                                                我在2023看世界 说：                                                        2023年再看这篇文章，确实受益匪浅                           2023年5月12日 21:43 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e998d5deccf45',t:'MTc0MzI0MzI2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2018/01/bitcoin-tutorial.html
汇编语言入门教程 - 阮一峰的网络日志    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    汇编语言入门教程 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：加密货币的本质&nbsp;&nbsp;&nbsp;&nbsp;下一篇：Docker&nbsp;入门教程                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              汇编语言入门教程                                                                                    作者： 阮一峰                                    日期： 2018年1月21日                                                                                                                                            学习编程其实就是学高级语言，即那些为人类设计的计算机语言。                                                                                                                但是，计算机不理解高级语言，必须通过编译器转成二进制代码，才能运行。学会高级语言，并不等于理解计算机实际的运行步骤。计算机真正能够理解的是低级语言，它专门用来控制硬件。汇编语言就是低级语言，直接描述/控制 CPU 的运行。如果你想了解 CPU 到底干了些什么，以及代码的运行步骤，就一定要学习汇编语言。汇编语言不容易学习，就连简明扼要的介绍都很难找到。下面我尝试写一篇最好懂的汇编语言教程，解释 CPU 如何执行代码。一、汇编语言是什么？我们知道，CPU 只负责计算，本身不具备智能。你输入一条指令（instruction），它就运行一次，然后停下来，等待下一条指令。这些指令都是二进制的，称为操作码（opcode），比如加法指令就是00000011。编译器的作用，就是将高级语言写好的程序，翻译成一条条操作码。对于人类来说，二进制程序是不可读的，根本看不出来机器干了什么。为了解决可读性的问题，以及偶尔的编辑需求，就诞生了汇编语言。汇编语言是二进制指令的文本形式，与指令是一一对应的关系。比如，加法指令00000011写成汇编语言就是 ADD。只要还原成二进制，汇编语言就可以被 CPU 直接执行，所以它是最底层的低级语言。二、来历最早的时候，编写程序就是手写二进制指令，然后通过各种开关输入计算机，比如要做加法了，就按一下加法开关。后来，发明了纸带打孔机，通过在纸带上打孔，将二进制指令自动输入计算机。为了解决二进制指令的可读性问题，工程师将那些指令写成了八进制。二进制转八进制是轻而易举的，但是八进制的可读性也不行。很自然地，最后还是用文字表达，加法指令写成 ADD。内存地址也不再直接引用，而是用标签表示。这样的话，就多出一个步骤，要把这些文字指令翻译成二进制，这个步骤就称为 assembling，完成这个步骤的程序就叫做 assembler。它处理的文本，自然就叫做 aseembly code。标准化以后，称为 assembly language，缩写为 asm，中文译为汇编语言。每一种 CPU 的机器指令都是不一样的，因此对应的汇编语言也不一样。本文介绍的是目前最常见的 x86 汇编语言，即 Intel 公司的 CPU 使用的那一种。三、寄存器学习汇编语言，首先必须了解两个知识点：寄存器和内存模型。先来看寄存器。CPU 本身只负责运算，不负责储存数据。数据一般都储存在内存之中，CPU 要用的时候就去内存读写数据。但是，CPU 的运算速度远高于内存的读写速度，为了避免被拖慢，CPU 都自带一级缓存和二级缓存。基本上，CPU 缓存可以看作是读写速度较快的内存。但是，CPU 缓存还是不够快，另外数据在缓存里面的地址是不固定的，CPU 每次读写都要寻址也会拖慢速度。因此，除了缓存之外，CPU 还自带了寄存器（register），用来储存最常用的数据。也就是说，那些最频繁读写的数据（比如循环变量），都会放在寄存器里面，CPU 优先读写寄存器，再由寄存器跟内存交换数据。寄存器不依靠地址区分数据，而依靠名称。每一个寄存器都有自己的名称，我们告诉 CPU 去具体的哪一个寄存器拿数据，这样的速度是最快的。有人比喻寄存器是 CPU 的零级缓存。四、寄存器的种类早期的 x86 CPU 只有8个寄存器，而且每个都有不同的用途。现在的寄存器已经有100多个了，都变成通用寄存器，不特别指定用途了，但是早期寄存器的名字都被保存了下来。  EAXEBXECXEDXEDIESIEBPESP上面这8个寄存器之中，前面七个都是通用的。ESP 寄存器有特定用途，保存当前 Stack 的地址（详见下一节）。我们常常看到 32位 CPU、64位 CPU 这样的名称，其实指的就是寄存器的大小。32 位 CPU 的寄存器大小就是4个字节。五、内存模型：Heap寄存器只能存放很少量的数据，大多数时候，CPU 要指挥寄存器，直接跟内存交换数据。所以，除了寄存器，还必须了解内存怎么储存数据。程序运行的时候，操作系统会给它分配一段内存，用来储存程序和运行产生的数据。这段内存有起始地址和结束地址，比如从0x1000到0x8000，起始地址是较小的那个地址，结束地址是较大的那个地址。程序运行过程中，对于动态的内存占用请求（比如新建对象，或者使用malloc命令），系统就会从预先分配好的那段内存之中，划出一部分给用户，具体规则是从起始地址开始划分（实际上，起始地址会有一段静态数据，这里忽略）。举例来说，用户要求得到10个字节内存，那么从起始地址0x1000开始给他分配，一直分配到地址0x100A，如果再要求得到22个字节，那么就分配到0x1020。这种因为用户主动请求而划分出来的内存区域，叫做 Heap（堆）。它由起始地址开始，从低位（地址）向高位（地址）增长。Heap 的一个重要特点就是不会自动消失，必须手动释放，或者由垃圾回收机制来回收。六、内存模型：Stack除了 Heap 以外，其他的内存占用叫做 Stack（栈）。简单说，Stack 是由于函数运行而临时占用的内存区域。请看下面的例子。int main() {   int a = 2;   int b = 3;}上面代码中，系统开始执行main函数时，会为它在内存里面建立一个帧（frame），所有main的内部变量（比如a和b）都保存在这个帧里面。main函数执行结束后，该帧就会被回收，释放所有的内部变量，不再占用空间。如果函数内部调用了其他函数，会发生什么情况？int main() {   int a = 2;   int b = 3;   return add_a_and_b(a, b);}上面代码中，main函数内部调用了add_a_and_b函数。执行到这一行的时候，系统也会为add_a_and_b新建一个帧，用来储存它的内部变量。也就是说，此时同时存在两个帧：main和add_a_and_b。一般来说，调用栈有多少层，就有多少帧。等到add_a_and_b运行结束，它的帧就会被回收，系统会回到函数main刚才中断执行的地方，继续往下执行。通过这种机制，就实现了函数的层层调用，并且每一层都能使用自己的本地变量。所有的帧都存放在 Stack，由于帧是一层层叠加的，所以 Stack 叫做栈。生成新的帧，叫做"入栈"，英文是 push；栈的回收叫做"出栈"，英文是 pop。Stack 的特点就是，最晚入栈的帧最早出栈（因为最内层的函数调用，最先结束运行），这就叫做"后进先出"的数据结构。每一次函数执行结束，就自动释放一个帧，所有函数执行结束，整个 Stack 就都释放了。Stack 是由内存区域的结束地址开始，从高位（地址）向低位（地址）分配。比如，内存区域的结束地址是0x8000，第一帧假定是16字节，那么下一次分配的地址就会从0x7FF0开始；第二帧假定需要64字节，那么地址就会移动到0x7FB0。七、CPU 指令7.1 一个实例了解寄存器和内存模型以后，就可以来看汇编语言到底是什么了。下面是一个简单的程序example.c。int add_a_and_b(int a, int b) {   return a + b;}int main() {   return add_a_and_b(2, 3);}gcc 将这个程序转成汇编语言。$ gcc -S example.c上面的命令执行以后，会生成一个文本文件example.s，里面就是汇编语言，包含了几十行指令。这么说吧，一个高级语言的简单操作，底层可能由几个，甚至几十个 CPU 指令构成。CPU 依次执行这些指令，完成这一步操作。example.s经过简化以后，大概是下面的样子。_add_a_and_b:   push   %ebx   mov    %eax, [%esp+8]    mov    %ebx, [%esp+12]   add    %eax, %ebx    pop    %ebx    ret  _main:   push   3   push   2   call   _add_a_and_b    add    %esp, 8   ret可以看到，原程序的两个函数add_a_and_b和main，对应两个标签_add_a_and_b和_main。每个标签里面是该函数所转成的 CPU 运行流程。每一行就是 CPU 执行的一次操作。它又分成两部分，就以其中一行为例。push   %ebx这一行里面，push是 CPU 指令，%ebx是该指令要用到的运算子。一个 CPU 指令可以有零个到多个运算子。下面我就一行一行讲解这个汇编程序，建议读者最好把这个程序，在另一个窗口拷贝一份，省得阅读的时候再把页面滚动上来。7.2 push 指令根据约定，程序从_main标签开始执行，这时会在 Stack 上为main建立一个帧，并将 Stack 所指向的地址，写入 ESP 寄存器。后面如果有数据要写入main这个帧，就会写在 ESP 寄存器所保存的地址。然后，开始执行第一行代码。push   3push指令用于将运算子放入 Stack，这里就是将3写入main这个帧。虽然看上去很简单，push指令其实有一个前置操作。它会先取出 ESP 寄存器里面的地址，将其减去4个字节，然后将新地址写入 ESP 寄存器。使用减法是因为 Stack 从高位向低位发展，4个字节则是因为3的类型是int，占用4个字节。得到新地址以后， 3 就会写入这个地址开始的四个字节。push   2第二行也是一样，push指令将2写入main这个帧，位置紧贴着前面写入的3。这时，ESP 寄存器会再减去 4个字节（累计减去8）。7.3 call 指令第三行的call指令用来调用函数。call   _add_a_and_b上面的代码表示调用add_a_and_b函数。这时，程序就会去找_add_a_and_b标签，并为该函数建立一个新的帧。下面就开始执行_add_a_and_b的代码。push   %ebx这一行表示将 EBX 寄存器里面的值，写入_add_a_and_b这个帧。这是因为后面要用到这个寄存器，就先把里面的值取出来，用完后再写回去。这时，push指令会再将 ESP 寄存器里面的地址减去4个字节（累计减去12）。7.4 mov 指令mov指令用于将一个值写入某个寄存器。mov    %eax, [%esp+8] 这一行代码表示，先将 ESP 寄存器里面的地址加上8个字节，得到一个新的地址，然后按照这个地址在 Stack 取出数据。根据前面的步骤，可以推算出这里取出的是2，再将2写入 EAX 寄存器。下一行代码也是干同样的事情。mov    %ebx, [%esp+12] 上面的代码将 ESP 寄存器的值加12个字节，再按照这个地址在 Stack 取出数据，这次取出的是3，将其写入 EBX 寄存器。7.5 add 指令add指令用于将两个运算子相加，并将结果写入第一个运算子。add    %eax, %ebx上面的代码将 EAX 寄存器的值（即2）加上 EBX 寄存器的值（即3），得到结果5，再将这个结果写入第一个运算子 EAX 寄存器。7.6 pop 指令pop指令用于取出 Stack 最近一个写入的值（即最低位地址的值），并将这个值写入运算子指定的位置。pop    %ebx上面的代码表示，取出 Stack 最近写入的值（即 EBX 寄存器的原始值），再将这个值写回 EBX 寄存器（因为加法已经做完了，EBX 寄存器用不到了）。注意，pop指令还会将 ESP 寄存器里面的地址加4，即回收4个字节。7.7 ret 指令ret指令用于终止当前函数的执行，将运行权交还给上层函数。也就是，当前函数的帧将被回收。ret可以看到，该指令没有运算子。随着add_a_and_b函数终止执行，系统就回到刚才main函数中断的地方，继续往下执行。add    %esp, 8 上面的代码表示，将 ESP 寄存器里面的地址，手动加上8个字节，再写回 ESP 寄存器。这是因为 ESP 寄存器的是 Stack 的写入开始地址，前面的pop操作已经回收了4个字节，这里再回收8个字节，等于全部回收。ret最后，main函数运行结束，ret指令退出程序执行。八、参考链接Introduction to reverse engineering and Assembly, by Youness Alaouix86 Assembly Guide, by University of Virginia Computer Science（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2018年1月21日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（140条）                                                                                                    zhiyang 说：                                                        以前在学校的时候看过王爽的汇编语言第二版，那个时候还是很喜欢一些偏底层的东西的，计算机原理等书。现在接触到高级语言之后就全忘了。。。                           2018年1月21日 19:40 | # | 引用                                                                                                                zeon 说：                                                        阮老师JS的闭包是不是在栈中的内存占用不回收呢？会一直占用？还是说闭包的空间是v8申请的椎的空间？                           2018年1月21日 20:25 | # | 引用                                                                                                                kailin’ 说：                                                        平时接触不到这些细节，但非常喜欢这方面的知识，恳请阮老师推荐一些这方面的权威书籍。；）                           2018年1月21日 22:23 | # | 引用                                                                                                                匿名 说：                                                        感谢分享                           2018年1月22日 02:09 | # | 引用                                                                                                                jimmy 说：                                                        为什么我们用到EBX就push EBX，而用到EAX却没push EAX呢？                           2018年1月22日 08:01 | # | 引用                                                                                                                阮一峰 说：                                                        @jimmy我的理解是 EAX 属于最频繁使用的通用寄存器，所以约定没有必要保留它的值。                           2018年1月22日 09:36 | # | 引用                                                                                                                阮一峰 说：                                                        @kailin：参考链接里面，我已经提供了两篇文章。@zeon：是的，闭包属于 Stack 里面的帧不回收，详见 https://blog.sessionstack.com/how-javascript-works-memory-management-how-to-handle-4-common-memory-leaks-3f28b94cfbec                           2018年1月22日 09:38 | # | 引用                                                                                                                Not 说：                                                        基本的点都讲到了，但不是计算机专业的读者估计还是会有点懵，建议结合下内存总线和硬件指令的电路原理。                           2018年1月22日 09:41 | # | 引用                                                                                                                guge 说：                                                        关注阮大有一阵时间了，从来没留过言，刚好最近在重新看王爽的《汇编语言》，没想到阮大最近发布了这篇文章，必须手动来赞了！                           2018年1月22日 10:17 | # | 引用                                                                                                                阮老师小迷弟 说：                                                        阮老师牛逼！阮老师，这个汇编语言现在市场上一般企业这方面人的需求不大吧？                           2018年1月22日 10:31 | # | 引用                                                                                                                张春星 说：                                                        == 它会先取出 ESP 寄存器里面的地址，将其减去4个字节，然后将新地址写入 ESP 寄存器。使用减法是因为 Stack 从高位向低位发展，4个字节则是因为3的类型是int，占用4个字节。得到新地址以后， 3 就会写入这个地址开始的四个字节。==这个地方不懂啊                           2018年1月22日 10:58 | # | 引用                                                                                                                bluestonechina 说：                                                        引用jimmy的发言：为什么我们用到EBX就push EBX，而用到EAX却没push EAX呢？EAX用于保存返回值，这个值肯定会被覆盖，所以需要调用着保存。rbx,rbp,r12-r15是被调用着保存寄存器，如果被调用着需要使用，就需要压入stack中。其他寄存器是调用者保存寄存器，调用者如果需要调用前后这些值保持一致，则需要自己保存起来                           2018年1月22日 11:41 | # | 引用                                                                                                                lybvinci 说：                                                        可以看看 小甲鱼的汇编教程视频                           2018年1月22日 12:04 | # | 引用                                                                                                                lnyas 说：                                                        intel格式的汇编寄存器之前不用加%吧                           2018年1月22日 12:41 | # | 引用                                                                                                                spark 说：                                                        	.section	__TEXT,__text,regular,pure_instructions	.macosx_version_min 10, 13	.globl	_add_a_b	.p2align	4, 0x90_add_a_b:                               ## @add_a_b	.cfi_startproc## BB#0:	pushq	%rbpLcfi0:	.cfi_def_cfa_offset 16Lcfi1:	.cfi_offset %rbp, -16	movq	%rsp, %rbpLcfi2:	.cfi_def_cfa_register %rbp	movl	%edi, -4(%rbp)	movl	%esi, -8(%rbp)	movl	-4(%rbp), %esi	addl	-8(%rbp), %esi	movl	%esi, %eax	popq	%rbp	retq	.cfi_endproc	.globl	_main	.p2align	4, 0x90_main:                                  ## @main	.cfi_startproc## BB#0:	pushq	%rbpLcfi3:	.cfi_def_cfa_offset 16Lcfi4:	.cfi_offset %rbp, -16	movq	%rsp, %rbpLcfi5:	.cfi_def_cfa_register %rbp	subq	$16, %rsp	movl	$1, %edi	movl	$2, %esi	movl	$0, -4(%rbp)	callq	_add_a_b	addq	$16, %rsp	popq	%rbp	retq	.cfi_endproc                           2018年1月22日 13:24 | # | 引用                                                                                                                xxxx 说：                                                        引用阮老师小迷弟的发言：阮老师牛逼！阮老师，这个汇编语言现在市场上一般企业这方面人的需求不大吧？一般开发中确实用不到，也很少有人会用到汇编去做开发。但是如果你不了解汇编，就没有办法真正了解Java虚拟机中的各种概念。只有真正学习过汇编的人，才能真正理解各种概念                           2018年1月22日 15:27 | # | 引用                                                                                                                YY 说：                                                        引用xxxx的发言：一般开发中确实用不到，也很少有人会用到汇编去做开发。但是如果你不了解汇编，就没有办法真正了解Java虚拟机中的各种概念。只有真正学习过汇编的人，才能真正理解各种概念不用理解JAVA虚拟机的概念。造汽车的人，无需了解钢铁是如何炼成的。很多技术是层叠的，做顶层业务的，是需也不太可能将所有底层技术进行追溯学习的。                           2018年1月22日 16:41 | # | 引用                                                                                                                白菜 说：                                                        0xFFFF0010(_main+16)这里指的是为_add_a_and_b建立的帧吗？也是占4个字节吗？那_main+16又是指什么？                           2018年1月22日 17:41 | # | 引用                                                                                                                Timothy 说：                                                        一个汇编指令对应的机器码不一定只有一个。比如，汇编器会根据mov后面的操作数将mov翻译成不同的机器码。以前一直想不明白，后来终于在依照51单片机手册用C写模拟器时弄明白了。同时也知道了寄存器A、AX、EAX、RAX。个人还是觉得看看CMU的CSAPP对计算机入门很有帮助，不论平时工作是做哪方面的开发：JS，PHP，Python，Bash，Java，C-like（如果书里的入门内容都不会，估计也做不了C-like开发）。                           2018年1月22日 18:22 | # | 引用                                                                                                                ixx 说：                                                        当初学汇编，被指令搞的头晕眼花的，习惯了又发现还有32位64位的坑。。                           2018年1月22日 18:37 | # | 引用                                                                                                                Raymond Cheng 说：                                                        看完阮老師的文章另我想起很久以前做出版時經常出現 postscript 錯誤 stack overflow,萬分感謝阮老師分享，另我了解底層技術！                           2018年1月22日 23:02 | # | 引用                                                                                                                rednax 说：                                                        为什么一提汇编就要上x86的汇编呢……x86汇编很麻烦的……比如我一开始用的汇编就是PS2的CPU（EE）的MIPS汇编，觉得真是简单清晰啊……                           2018年1月23日 05:49 | # | 引用                                                                                                                mess 说：                                                        全部忘记了，就像失忆一样。                           2018年1月23日 09:33 | # | 引用                                                                                                                学了个江 说：                                                        引用阮老师小迷弟的发言：阮老师牛逼！阮老师，这个汇编语言现在市场上一般企业这方面人的需求不大吧？基础扎实了，什么高级语言搞不定！                           2018年1月23日 09:34 | # | 引用                                                                                                                立猛 说：                                                        intel 格式汇编没有% AT&T 汇编有% 但是格式和intel 相反                           2018年1月23日 20:09 | # | 引用                                                                                                                szpzs 说：                                                        通俗易懂。阮老师带我们轻松复习了一遍丢掉好久的知识。:-)                           2018年1月24日 08:18 | # | 引用                                                                                                                Victor 说：                                                        讲解生动，十分感人，Heap和Stack百度搜过N多次，这是第一次看到结合‘堆’、‘栈’语义的简单解释，非常好，以后应该都能记住了。赞 赞 赞                           2018年1月24日 09:49 | # | 引用                                                                                                                zhanghang 说：                                                        计算机组成原理...今年刚考完...汗                           2018年1月24日 12:52 | # | 引用                                                                                                                阮老师的小粉丝 说：                                                        我请教一个问题，如文中所述：比如，内存区域的结束地址是0x8000，第一帧假定是16字节，那么下一次分配的地址就会从0x7FF0开始；第二帧假定需要64字节，那么地址就会移动到0x7FB0。我想知道是怎样分配每一帧的大小呢，比如_add_a_and_b:，我该怎样知道分配多少内存给这一帧呢？                           2018年1月25日 09:59 | # | 引用                                                                                                                oreak 说：                                                        AT&T 汇编,感觉更舒服,而且目前unix linux 系列支撑                           2018年1月25日 14:51 | # | 引用                                                                                                                gle 说：                                                        引用阮老师的小粉丝的发言：我请教一个问题，如文中所述：比如，内存区域的结束地址是0x8000，第一帧假定是16字节，那么下一次分配的地址就会从0x7FF0开始；第二帧假定需要64字节，那么地址就会移动到0x7FB0。我想知道是怎样分配每一帧的大小呢，比如_add_a_and_b:，我该怎样知道分配多少内存给这一帧呢？C语言的数据类型都有大小。编译器可以根据函数内定义的所有局部变量（其实真实情况更复杂一些，还有static，const等修饰符会影响），一次性“分配”出相应数量的内存（就是将sp的值减去相应的大小）。函数返回时，会先清理掉自己的局部变量（用leave把bp恢复到sp），再将sp所指地址的内容恢复到bp，然后ret。阮老文章里的例子过于简单，有些指令没用上。P.S.汇编指令也是会分成几个步骤执行（所谓的指令周期，机器周期，时钟周期），所以如果有说错或不清楚的地方，勿喷，多包涵。                           2018年1月25日 15:21 | # | 引用                                                                                                                alexsaurora 说：                                                        请教您一个问题，Heap是先进先出的吗？我在StackOverflow上看到的是Heap没有一个明确的顶，所以它可以随时进入和出去。                           2018年1月25日 15:42 | # | 引用                                                                                                                gle 说：                                                        引用alexsaurora的发言：请教您一个问题，Heap是先进先出的吗？我在StackOverflow上看到的是Heap没有一个明确的顶，所以它可以随时进入和出去。堆栈，堆栈，堆是堆，栈是栈。（信号是信号，信号量是信号量，一个是signal，一个是semaphore。回想起了好些迷惑的术语翻译）=======进程中heap跟在data区域的后面（请参考任何一个进程的maps）。heap所占用的内存是C库调用brk系统调用向操作系统（暂时不考虑Windows）申请的（详细内容可以man brk家族的文档），操作系统只是维护brk的位置，C库会负责管理申请到的内存。以前debug segfault时，看过Android的malloc实现，其实就是Doug Lea的dlmalloc（wiki有详细介绍，Android源码也可以随便看）。dlmalloc会根据程序的需求将操作系统给的连续内存分成内存块，每个块的头部保存着大小、是否已分配等信息。块是内存对齐的，相邻块是紧挨着的（因此，可以合并）。当代码调用malloc时，malloc会查找满足需求的块，如果找不到，就会再次调用brk向操作系统申请。当代码调用free时，free会更新块头部的信息，可能还会把相邻的空闲块合并，组成更大的块。实际情况比描述的要复杂，并且也有其他实现方式。dlmalloc的数据结构和扩展分区的结构很类似。从第一个块开始捋，顺藤摸瓜，就可以遍历所有块。我嘴比较笨，描述不清楚，网上有很多形象的图片可以看。                           2018年1月25日 18:22 | # | 引用                                                                                                                Yummy 说：                                                        感谢分享,学过微机原理,没用上                           2018年1月26日 17:17 | # | 引用                                                                                                                小调用 说：                                                        引用zeon的发言：阮老师JS的闭包是不是在栈中的内存占用不回收呢？会一直占用？还是说闭包的空间是v8申请的椎的空间？JS里的闭包，都是在堆中申请的，由GC管理，不是这里的栈，“JS栈”与汇编或C语言中的栈是两个概念。汇编栈不存在GC，由函数调用与返回来自动更新SP指针实现的。JS函数与这儿的函数是两种东西。                           2018年1月28日 17:49 | # | 引用                                                                                                                邹振忠 说：                                                        忘的差不多了。                           2018年1月29日 12:19 | # | 引用                                                                                                                _4NK4 说：                                                        这一句话是错误的：“32 位 CPU 的寄存器大小就是4个字节”。32位CPU容量是可拓展的，可修正为32位CPU的的最大寻址范围是4G。                           2018年1月30日 09:41 | # | 引用                                                                                                                业余草 说：                                                        阮老师好像有10天的时间没更新文章了！                           2018年1月31日 10:21 | # | 引用                                                                                                                张宇 说：                                                        阮老师，您好，我是将在今年毕业的一名大学生，对前端很感兴趣，希望你能给我学习前端的建议的大概方向书籍网站资源等。我看过了你的JavaScript标准参考教程，觉得写得很通俗易懂。希望您能看到，等待您的宝贵建议。                           2018年2月 1日 16:26 | # | 引用                                                                                                                monster 说：                                                        想知道这个留言系统                           2018年2月 2日 09:46 | # | 引用                                                                                                                Geomatic 说：                                                        引用jimmy的发言：为什么我们用到EBX就push EBX，而用到EAX却没push EAX呢？好久没看汇编，忘得差不多了。好像是eax里面一般保存的是返回值，所以执行过程中ebx寄存器需要先把内容压栈，使用完恢复，eax则不用，因为最终的返回值就在里面。                           2018年2月 2日 18:11 | # | 引用                                                                                                                Geomatic 说：                                                        引用张春星的发言：== 它会先取出 ESP 寄存器里面的地址，将其减去4个字节，然后将新地址写入 ESP 寄存器。使用减法是因为 Stack 从高位向低位发展，4个字节则是因为3的类型是int，占用4个字节。得到新地址以后， 3 就会写入这个地址开始的四个字节。==这个地方不懂啊ESP始终指向栈顶，栈从高地址向低地址增长，push 2,push 3分别把两个参数压入栈中，此时的栈顶的指针因为压入两个4字节的Int类型，指向初始地址减8的内存单元，然后函数调用返回后，add esp,8就是直接设置esp指向的位置，进行加8操作后，栈顶指针回到函数调用前的位置，这个叫栈平衡，然后好像是intel，还是windowis，他们的编译器规定函数调用，由调用者恢复栈平衡，所以最后是main函数部分做加8这个操作。                           2018年2月 2日 18:18 | # | 引用                                                                                                                王念一 说：                                                        那，printf 那种的函数会被编译成什么呢？                           2018年2月 4日 23:18 | # | 引用                                                                                                                hjs 说：                                                        引用zeon的发言：阮老师JS的闭包是不是在栈中的内存占用不回收呢？会一直占用？还是说闭包的空间是v8申请的椎的空间？建议了解浏览器内存回收机制。闭包是因为一直保持引用关系，所以不会被回收                           2018年2月 5日 09:38 | # | 引用                                                                                                                Aaron 说：                                                        阮老师的文章很赞                           2018年2月 6日 17:15 | # | 引用                                                                                                                烽火 说：                                                        引用zhanghang的发言：计算机组成原理...今年刚考完...汗你好，可能理解力不够。我还是没看懂的一点是，汇编语言只是二进制的文本形式，那最后计算机是直接识别运行这个汇编代码吗？感觉还差一步，就是汇编语言 -> 机器码                           2018年2月 6日 17:54 | # | 引用                                                                                                                王刚 说：                                                        为啥称呼为x86                           2018年2月 7日 21:51 | # | 引用                                                                                                                Silen 说：                                                        mov    %eax, [%esp+8] mov    %ebx, [%esp+12]怎么感觉应该是mov    %eax, [%esp+4] mov    %ebx, [%esp+8]                           2018年2月 8日 01:24 | # | 引用                                                                                                                rus 说：                                                         引用Silen的发言： mov%eax, [%esp+8] mov%ebx, [%esp+12] 怎么感觉应该是 mov%eax, [%esp+4] mov%ebx, [%esp+8]  同问，比较疑惑，如果push写入栈时是从低位开始写，那读取应该也是从低位开始读吧？那地址应该是 [%esp+4]（取到2）， [%esp+8]（取到3） 这样吧？                           2018年2月 8日 17:57 | # | 引用                                                                                                                GD 说：                                                        引用rus的发言： 同问，比较疑惑，如果push写入栈时是从低位开始写，那读取应该也是从低位开始读吧？那地址应该是 [%esp+4]（取到2）， [%esp+8]（取到3） 这样吧？%ebx 占了4个字节2    本身占了4个字节读取数据时得返回到数据开始的位置是这样吧？                           2018年2月 8日 23:43 | # | 引用                                                                                                                小情 说：                                                        阮大写的很好,非计算机专业的我也能理解,很缺乏这方面知识,看完学会了很多,感谢.                           2018年2月11日 00:18 | # | 引用                                                                                                                amenzai 说：                                                        阮大佬写的东西总是那么通俗易懂在这不光学到了知识，平常写文章的思路也清晰了-.-                           2018年2月27日 13:30 | # | 引用                                                                                                                Alex 说：                                                        大神量子计算机的底层语言方面的能来一篇么。                           2018年3月 4日 09:41 | # | 引用                                                                                                                v 说：                                                        "得到结果5，再将这个结果写入第一个运算子 EAX 寄存器"结果是如何返回的呢?阮老师。感觉EBX寄存器被临时拿来用恢复原样，但EAX寄存器存的固定的是内存全部回收后返回值么？                           2018年3月 8日 11:25 | # | 引用                                                                                                                William_ch 说：                                                        引用GD的发言：%ebx 占了4个字节2本身占了4个字节读取数据时得返回到数据开始的位置是这样吧？[%esp]--> %ebx [%esp+4] --> call 语句的下一条指令的地址[%esp+8] --> 第一个参数[%esp+12] --> 第二个参数正是因为[%esp+4] 是call 语句的下一条指令地址，才会有Stack OverFlow。                           2018年3月 8日 17:13 | # | 引用                                                                                                                ssw 说：                                                        期待下一讲。百度一大堆教程，没几个看得懂的，而且头疼。阮老师这一讲精彩，期待更多内容                           2018年3月10日 20:47 | # | 引用                                                                                                                牛强 说：                                                        引用kailin’的发言：平时接触不到这些细节，但非常喜欢这方面的知识，恳请阮老师推荐一些这方面的权威书籍。；）https://item.jd.com/12006637.html 可以看这本书                           2018年3月14日 12:02 | # | 引用                                                                                                                Loop 说：                                                        阮老师，我正在学汇编，突然看到这篇文章让我对汇编又有了更深的理解。但是我发现老师你文中的汇编代码是 Intel 风格和 AT&T 风格的混用体                           2018年3月19日 15:32 | # | 引用                                                                                                                a14907 说：                                                        同问，mov%eax, [%esp+8] mov%ebx, [%esp+12]为什么不是mov%eax, [%esp+4] mov%ebx, [%esp+8]                           2018年3月27日 16:39 | # | 引用                                                                                                                Leon 说：                                                        看了很多文章都不太通透，当然现在还是不太通透，但比过去好太多了，老师的讲解的很细致，非常感谢。                           2018年3月27日 20:54 | # | 引用                                                                                                                韩世锋 说：                                                        楼主写的太好了，简单易懂，高人。                           2018年3月29日 10:16 | # | 引用                                                                                                                迪伦 说：                                                        举例来说，用户要求得到10个字节内存，那么从起始地址0x1000开始给他分配，一直分配到地址0x100A，如果再要求得到22个字节，那么就分配到0x1020这里没看懂，22个字节不是应该分配到0x1016吗？，我感觉32个字节才应该是0x1020                           2018年3月30日 01:18 | # | 引用                                                                                                                迪伦 说：                                                        六、内存模型：Stack这里也不太懂后进先出，main和add_a_and_b，我觉得后进栈的应该是add_a and b,那么先出的也应该是它，但是从图看感觉是main先完成的，然后再进行的add_a and b,这里就很懵了，希望大哥们指点迷津                           2018年3月30日 01:34 | # | 引用                                                                                                                呆 说：                                                        写的很不错                           2018年4月 8日 19:59 | # | 引用                                                                                                                Eric Cui 说：                                                        引用William_ch的发言：[%esp]--&gt; %ebx [%esp+4] --&gt; call 语句的下一条指令的地址[%esp+8] --&gt; 第一个参数[%esp+12] --&gt; 第二个参数正是因为[%esp+4] 是call 语句的下一条指令地址，才会有Stack OverFlow。我理解其实应该是因为+4的位置放了一条函数指针，也就是返回main函数的入口，指针存放的是地址，大小4字节，所以数据2和3对应的是+8和+12，不知道这样理解是否正确，还请指正，谢谢~                           2018年4月12日 10:08 | # | 引用                                                                                                                shine 说：                                                        有点疑问：   push   %ebx   mov    %eax, [%esp+8]    mov    %ebx, [%esp+12]这里ebx存的是什么？是push esp的那两个参数吗？那在函数_add_a_and_b下   mov    %eax, [%esp+8] 和     mov    %ebx, [%esp+12] 为什么不是减少地址而是加？                           2018年4月13日 12:18 | # | 引用                                                                                                                Lee 说：                                                        引用shine的发言：有点疑问： push %ebx mov%eax, [%esp+8]  mov%ebx, [%esp+12]这里ebx存的是什么？是push esp的那两个参数吗？那在函数_add_a_and_b下 mov%eax, [%esp+8] 和 mov%ebx, [%esp+12] 为什么不是减少地址而是加？ebx原来保存的数据先取出来，防止原数据被覆盖；加是因为栈区是从高位地址开始分配，esp当前保存的总是低地址                           2018年4月25日 11:31 | # | 引用                                                                                                                嘉汇 说：                                                        关于+4 +8的，我觉得其实其中还有一块存放着上一个函数的return地址（32位地址占4个） 所以是+8去取参数2的开头地址。                            2018年5月 6日 22:10 | # | 引用                                                                                                                mnikn 说：                                                        请教一下这些图片是用什么软件画出来的？                           2018年5月30日 15:44 | # | 引用                                                                                                                易 说：                                                        阮老师讲的很通俗易懂，思路清晰，我一个计算机原理小白都看的一知半解的了，希望以后有更多这样的文章                           2018年6月 1日 16:58 | # | 引用                                                                                                                阿宝 说：                                                        从零学汇编，只有会这方面的人才懂得我这份热情                           2018年6月11日 13:12 | # | 引用                                                                                                                Singu 说：                                                        引用阮一峰的发言：@jimmy我的理解是 EAX 属于最频繁使用的通用寄存器，所以约定没有必要保留它的值。哈哈，我觉得是因为程序中的return，假设把原程序修改一下，改成:   int add_a_and_b(int a, int b) {      return a + b;   }   int main() {      return add_a_and_b(2, 3) + 3; // 修改此处代码   }那么，在_add_a_and_b函数返回时，就不需要再从内存中取出结果了，直接把后面累加的3存到EBX中，然后执行add    %eax, %ebx即可。这样就少了一次从内存中取出数据的操作(可能还有存入内存的操作)。                           2018年6月11日 17:58 | # | 引用                                                                                                                Singu 说：                                                        第一个问题：    为什么Stack要设计成从高位到低位？    这样做，每次向Stack内执行push的时候，ESP都要执行减法操作，这样性能难道比"从低位到高     位，每次执行加法操作"更好？    还是说，因为为了读取数据的时候执行加法( [%esp+8] )而做出的优化？第二个问题：    计算机是怎么知道3存在0x0000到0x0004之间，2存在0x0005到0x0008之间？    毕竟ESP只是记住了当前Stack所存储的数据的最低位地址！    难道是写死在程序里的？就像例子中的       mov    %eax, [%esp+8]        mov    %ebx, [%esp+12]   一样，程序已经写死了偏移量？如果我的问题描述不够明确，您可以通过邮箱联系我，这两个问题我很想知道                           2018年6月11日 18:19 | # | 引用                                                                                                                王天脑 说：                                                        讲得真好！ 不过，语句讲得太少了。                           2018年6月21日 16:17 | # | 引用                                                                                                                webxiaohua 说：                                                        棒，看了很多讲解汇编原理的，大都晦涩难懂，唯有这篇看了以后令人茅塞顿开                           2018年7月19日 00:43 | # | 引用                                                                                                                kimika 说：                                                        我想请问一下为什么我的GCC编译出来的汇编指令全是movl popq 以及.cfi_startproc之类的很复杂的指令，与老师的大不相同？                           2018年7月21日 00:11 | # | 引用                                                                                                                xxx 说：                                                        引用kimika的发言：我想请问一下为什么我的GCC编译出来的汇编指令全是movl popq 以及.cfi_startproc之类的很复杂的指令，与老师的大不相同？因为你用的是64位的（q代表以4字节为单位操作），必需在gcc后面加个“-m32”                           2018年7月24日 23:46 | # | 引用                                                                                                                wyf 说：                                                        原来留言不可以超过1200字……我只好分开发了……（↑↑↑上面的xxx其实也是我……）只能说阮老师简化得太多了，我表示很遗憾……那我尽量讲清楚吧开始写这个已经半夜了……如果以上有错误其实很正常，请立即指出但要多多包涵。引用Singu的发言：第一个问题：为什么Stack要设计成从高位到低位？这样做，每次向Stack内执行push的时候，ESP都要执行减法操作，这样性能难道比"从低位到高 位，每次执行加法操作"更好？还是说，因为为了读取数据的时候执行加法( [%esp+8] )而做出的优化？第二个问题：计算机是怎么知道3存在0x0000到0x0004之间，2存在0x0005到0x0008之间？毕竟ESP只是记住了当前Stack所存储的数据的最低位地址！难道是写死在程序里的？就像例子中的 mov%eax, [%esp+8]  mov%ebx, [%esp+12] 一样，程序已经写死了偏移量？如果我的问题描述不够明确，您可以通过邮箱联系我，这两个问题我很想知道这两个问题被问了很多遍啊……我想解决它……能一起提出这两个问题的人很厉害啊，因为这两个问题是相互关联的！！！                           2018年7月25日 01:30 | # | 引用                                                                                                                wyf 说：                                                        以32位x86为例：信息1. call [addr]等价于push %eip加jmp [addr]，无非%eip是不能直接操作的（就是说push %eip是无效指令）	（注：%eip是存储下一条指令地址的寄存器）信息2. push [data]等价于sub sizeof(data),%esp加mov [data],[%esp]，也就是说，在push时%esp只能减小，这是历史遗留问题……（你要自己设计cpu当然可以定义为增加）信息3. ret（无参）等价于pop %eip（有跳转效果，因为直接修改%eip相当于跳转，jmp指令内部原理就是修改%eip）信息4. 对于现代32位x86，正确（完整且没经过优化的）函数应该大概长这样：// gcc -S test.cpp -o test.s -m32 （64位机器一定要加-m32，指定使用32位）void foo(int,int);int test() {	int a = 3;	int b = 2;	foo(2,3);	foo(a,b);	return 999;}（注：这是真实的gcc输出）（详见下一条）                           2018年7月25日 01:30 | # | 引用                                                                                                                wyf 说：                                                        __Z4testv:（使用一般调用协议，详情请查询“ABI”，有历史遗留问题)	pushl	%ebp（保存调用者设置的%ebp）	movl	%esp, %ebp（保存调用者设置的%esp）		（注意：调用者的%esp被保存%ebp里，以上两句指令可以缩写为enter，这是另一个指令）		（从此以后%ebp成为栈空间寻址的基准，因此%ebp全称为（扩展）基址指针寄存器）		（问：根据信息1和2，在%ebp - 4上的是什么东西？）			（答：返回地址）		（问：那么在%ebp - 8上的是什么东西？）			（答：保存的%esp）		（问：那么，在%ebp上的是什么东西？）			（答：不知道~这个地址原则上不可以访问，它属于调用者的栈空间）		（问：那么%ebp - 12呢？）			（答：变量a，见下）	subl	$40, %esp（为call预留%esp，也就是栈空间，共计40字节，由编译器计算得）		（这个40很复杂，用于保存局部变量、传出的参数等，不展开，因为这个由编译器决定）		（40字节不是都被使用了，因为我们并没有开优化，你能否计算出有多少字节没被使用？）			（答：有16字节被浪费了，16=40-8-sizeof(a)-sizeof(b)-sizeof(传出参数消耗的栈)，详情见下）	movl	$3, -12(%ebp)（预留了就可以使用这种方法保存变量，这个相当于int a = 3）	movl	$2, -16(%ebp)（相当于int b = 2，具体地址由编译器分配）（还没完，见下一条）                           2018年7月25日 01:31 | # | 引用                                                                                                                wyf 说：                                                        	movl	$3, 4(%esp)（这里还是被编译器优化过了，相当于push %eax，见信息2，mov比push快，无非栈空间必需够大）		（注：别忘了esp=ebp-40）	movl	$2, (%esp)（所以这两句话相当于先push $3，再push $2）	call	__Z3fooii（干一点其他事情，不用管栈空间变量，因为栈空间比%esp地址高，被保护）	movl	-16(%ebp), %eax（先从栈空间加载数据到%eax寄存器）	movl	%eax, 4(%esp)（再把%eax里的数据转入%esp，因为mov指令一次只能操作一个单位的内存）		（拓展：局部变量的赋值如果不开优化也是类似这么写的）	movl	-12(%ebp), %eax	movl	%eax, (%esp)	call	__Z3fooii	movl	$999, %eax （设置返回值，返回值存在%eax里，历史遗留问题）	leave （恢复调用者的%ebp和%esp，这句指令也有另一种写法，大家可以思考一下）	ret （真正的返回，思考：根据信息3，为什么这样用是安全的，栈不是被动过了吗？）ps: 是不是觉得编译器超强大（我还没开优化呢……）ps: 软件底层概念超多，极耗脑力，还有极多历史遗留问题，这种问题真的很难一次性给答案……我已经尽力了，打字打的我累死                           2018年7月25日 01:32 | # | 引用                                                                                                                wyf 说：                                                        其实我觉得阮老师对汇编的掌握也不够多（或许只是文章篇幅太短？）同学们别问了……（阮老师要再想写这方面的文章，讲真的可以联系我）（我发的东西格式是不是出了点问题……）                           2018年7月25日 01:38 | # | 引用                                                                                                                芮佳蕾 说：                                                        有一个疑问，esp寄存器中存放的函数的地址是起始地址和结束地址还是只是结束地址呢?不好意思哦，可能问题有点白痴。                           2018年8月 5日 23:49 | # | 引用                                                                                                                齐军 说：                                                        引用Singu的发言：第一个问题：为什么Stack要设计成从高位到低位？这样做，每次向Stack内执行push的时候，ESP都要执行减法操作，这样性能难道比"从低位到高 位，每次执行加法操作"更好？还是说，因为为了读取数据的时候执行加法( [%esp+8] )而做出的优化？第二个问题：计算机是怎么知道3存在0x0000到0x0004之间，2存在0x0005到0x0008之间？毕竟ESP只是记住了当前Stack所存储的数据的最低位地址！难道是写死在程序里的？就像例子中的 mov%eax, [%esp+8]  mov%ebx, [%esp+12] 一样，程序已经写死了偏移量？如果我的问题描述不够明确，您可以通过邮箱联系我，这两个问题我很想知道第一个问题, 因为heap从低到高分配性能高,stack只能从高到低喽,地址两头往中间拱,空间利用率高啊第二个问题, 什么偏移量,什么写死,32位系统,除8,就是4啊个人理解,欢迎拍                           2018年9月20日 11:20 | # | 引用                                                                                                                0x9093 说：                                                        写得真好，期待第二课                           2018年9月21日 17:04 | # | 引用                                                                                                                Andy 说：                                                        确实学到知识了，谢谢~                           2018年9月30日 10:17 | # | 引用                                                                                                                Dennis 说：                                                        引用齐军的发言：第二个问题, 什么偏移量,什么写死,32位系统,除8,就是4啊第二个问题，我觉得是编译器写死的                           2018年10月 9日 13:50 | # | 引用                                                                                                                28 说：                                                        太感谢了，前段时间想学汇编，看朱邦复老先生的《组合语言的艺术》，看不太懂，他还推荐《ZEN of Assembly Language》                           2018年10月16日 19:39 | # | 引用                                                                                                                PDF 说：                                                        引用阮一峰的发言：@jimmy我的理解是 EAX 属于最频繁使用的通用寄存器，所以约定没有必要保留它的值。南大的《计算机系统基础》上说，每个指令集体系有一个约定，规定哪些寄存器是调用者保存，哪些寄存器由被调用者来保存                           2018年10月23日 14:29 | # | 引用                                                                                                                hazdzz 说：                                                        「帧」的英文叫什么？segment?                           2018年12月12日 23:08 | # | 引用                                                                                                                龙强 说：                                                        高级语言学的不少，但是对内存、CPU对程序的执行还是不了解，所以，看看汇编确实受益匪浅，感谢！！！                           2018年12月27日 18:54 | # | 引用                                                                                                                cindy_liao 说：                                                        引用Silen的发言：mov%eax, [%esp+8] mov%ebx, [%esp+12]怎么感觉应该是mov%eax, [%esp+4] mov%ebx, [%esp+8]第一天看汇编，看了阮老师提供的英文链接，在调用函数“ _add_a_and_b"时，首先会在stack中保存main函数中下一条指令“ add    %esp, 8”的地址,距离“_main”有4条指令，所以是“_main+4*4”即“_main+16”。此时ESP 寄存器会再减去 4个字节（累计减去12）。然后再执行子函数中的“push   %ebx”这时，push指令会再将 ESP 寄存器里面的地址减去4个字节（累计减去16）。所以感觉阮老师在文中此处的解释应该有误（原文解释此时累计减去12）。所以mov%eax, [%esp+8]  对应数据“2”mov%ebx, [%esp+12] 对应数据“3”                           2019年1月22日 17:35 | # | 引用                                                                                                                radmanxu 说：                                                        引用立猛的发言：intel 格式汇编没有% AT&amp;T 汇编有% 但是格式和intel 相反是的，阮老师的这篇文章写的有问题。                           2019年2月24日 17:13 | # | 引用                                                                                                                龙龙 说：                                                        我觉得通过汇编来深刻理解高级语言的原理不是最大的作用,最大的作用应该就是反汇编写外挂了....,要学写外挂,汇编是第一个要掌握的东西                           2019年2月25日 10:10 | # | 引用                                                                                                                Xiao 说：                                                        引用hazdzz的发言：「帧」的英文叫什么？segment?frame吧                           2019年2月26日 18:46 | # | 引用                                                                                                                f 说：                                                        这样的话，就多出一个步骤，要把这些文字指令翻译成二进制，这个步骤就称为 assembling，完成这个步骤的程序就叫做 assembler。它处理的文本，自然就叫做 aseembly code。标准化以后，称为 assembly language，缩写为 asm，中文译为汇编语言。单词拼错了 第三个 assembly code   error -> aseembly.                           2019年3月25日 16:46 | # | 引用                                                                                                                陈汉轩 说：                                                        个人感觉原文有一处的错误：【原文】“这一行表示将 EBX 寄存器里面的值，写入_add_a_and_b这个帧。这是因为后面要用到这个寄存器，就先把里面的值取出来，用完后再写回去。这时，push指令会再将 ESP 寄存器里面的地址减去4个字节（累计减去12）。”【修正为】应该是累计减去16因为call指令是默认有压栈操作的，还会占用4个字节（假设是32位操作系统）【说明】本人目前正在学习深入理解计算机系统（原书第3版，中文版，机械工业出版社），看了博主的文章，感觉很清晰，但是与本书的P150面有出入，书上说明了：“call指令的效果是将返回地址入栈，并跳转到被调用过程的起始处”博主的图是对的，压栈3，2之后又call指令的压栈，但可能是笔误的原因，最后在调用add函数之后再进行压栈%ebp操作时，偏移量应该是4*4=16，希望博主能够修改一下                           2019年4月18日 00:02 | # | 引用                                                                                                                Mononoke 说：                                                        还是看英文链接的文章比较清楚，7.3中 “这时，push指令会再将 ESP 寄存器里面的地址减去4个字节（累计减去12）。”这里应该写错了，在call _add_a_and_b时，会把main函数中call的下一条指令“add %esp, 8”的地址写到stack去，ESP减去4字节。之后跳转到_add_a_and_b函数，执行"push %ebx"时，ESP再次减去4字节，累计是减去16字节。                           2019年5月 9日 10:10 | # | 引用                                                                                                                不知明的网友 说：                                                        7.5 add 指令add指令用于将两个运算子相加，并将结果写入第一个运算子。add    %eax, %ebx上面的代码将 EAX 寄存器的值（即2）加上 EBX 寄存器的值（即3），得到结果5，再将这个结果写入第一个运算子 EAX 寄存器。这里是不是写错了，应该是写入到 运算子 EBX 寄存器                           2019年5月19日 19:15 | # | 引用                                                                                                                曾 说：                                                        谢谢沅老师，您的知识分享永远是最通俗易懂，而且最详细明白的！！！看过你老各个不同领域语言的各个文章，其它人写的总是要么不够详细，要么就很多细节没介绍到，总是看的不明不白！谢谢您！                           2019年8月19日 10:23 | # | 引用                                                                                                                feixin 说：                                                        引用阮一峰的发言：@jimmy我的理解是 EAX 属于最频繁使用的通用寄存器，所以约定没有必要保留它的值。有一个 “调用规约” 可以了解一下，调用规约是程序员需要遵守的关于函数调用顺序的约定。                           2019年8月26日 18:41 | # | 引用                                                                                                                seed 说：                                                        引用不知明的网友的发言：7.5 add 指令add指令用于将两个运算子相加，并将结果写入第一个运算子。add%eax, %ebx上面的代码将 EAX 寄存器的值（即2）加上 EBX 寄存器的值（即3），得到结果5，再将这个结果写入第一个运算子 EAX 寄存器。这里是不是写错了，应该是写入到 运算子 EBX 寄存器看规范 如果是intel格式的，add ax,bx 意思是ax=ax+bx；如果是at&t的 意思是 bx=ax+bx                           2019年8月28日 14:53 | # | 引用                                                                                                                lul 说：                                                        了解汇编语言并不是为了用汇编语言去怎么编程，而是为了了解计算机编译器的优化过程，或者从基层了解某些C++或者Java某些语言的实现原理。举一个例子：编译器有一个循环展开的过程，想了解循环展开必须得看汇编代码；还有C++里面的指针和引用的区别，如果从汇编语言去看，就会发现指针和引用在大多数情况下是同一个东西，引用只是指针的语法糖而已。C++之所以提出引用这个概念，就是为了避免指针满天飞。汇编语言的学习是为了更好的了解语言、更好的优化代码。                           2019年9月 6日 14:01 | # | 引用                                                                                                                NoobCoder 说：                                                        大学学微机原理学的是CortexM3，里面涉及到了汇编，但是当时老师讲的像天书一般，所以最后没学会。后来在学习，工作种频繁遇到堆栈等概念，但是去搜，搜出来的又不是讲的那么明白，这次终于在这里弄懂了堆栈的概念了。十分感谢                           2019年9月 9日 00:47 | # | 引用                                                                                                                k4er 说：                                                        引用迪伦的发言：举例来说，用户要求得到10个字节内存，那么从起始地址0x1000开始给他分配，一直分配到地址0x100A，如果再要求得到22个字节，那么就分配到0x1020这里没看懂，22个字节不是应该分配到0x1016吗？，我感觉32个字节才应该是0x1020这里应该是笔误，确实是 32 才对                           2019年10月28日 17:15 | # | 引用                                                                                                                Linus 说：                                                        引用张春星的发言：== 它会先取出 ESP 寄存器里面的地址，将其减去4个字节，然后将新地址写入 ESP 寄存器。使用减法是因为 Stack 从高位向低位发展，4个字节则是因为3的类型是int，占用4个字节。得到新地址以后， 3 就会写入这个地址开始的四个字节。==这个地方不懂啊你不明白是这里表述有歧义。前面表述都很准确，意思就是ESP原来指向栈的某个地址，现在将这个地址取出，减去4个字节，再存回ESP，相当于释放了栈的4个字节。“得到新地址以后， 3 就会写入这个地址开始的四个字节”这句表述不准确，让人很容易理解成“得到新地址以后”自动使得“3写入刚才释放的4个字节”。其实是得到了新地址，我们再手动把3写入刚才释放的这四个字节。这是分来的两步。以上是我的理解。                           2019年12月 3日 14:28 | # | 引用                                                                                                                cc 说：                                                        example.s经过简化以后，大概是下面的样子。大佬，能不能别简化，简化的内容差别太大了，是怎么简化的？                           2019年12月17日 17:06 | # | 引用                                                                                                                cc 说：                                                        _add_a_and_b:   push   %ebx   mov    %eax, [%esp+8]    mov    %ebx, [%esp+12]   add    %eax, %ebx    pop    %ebx    ret  上面的代码，eax没有取出原来的值就直接写进去，不会有问题吗？                           2019年12月18日 10:45 | # | 引用                                                                                                                cc 说：                                                        add    %eax, %ebxeax的值和ebx的值相加，得到的值写入eax，那么原来eax的值怎么办？会被覆盖吗？后面再要用到原来eax的值的时候怎么办？                           2019年12月18日 14:22 | # | 引用                                                                                                                NoLenJ 说：                                                        C# Emit IL 构建动态程序，应该是汇编语言语法                           2019年12月28日 16:32 | # | 引用                                                                                                                dics 说：                                                        在windows上用nasm写示例程序，总是跑不出正确结果。然而，把函数内esp那俩地址偏移量改一下就有正确结果了:extern _printfglobal _mainsection .data_fmt: db "%d", 0Ah, 0section .text_add:    mov eax, dword [esp + 4]    mov ebx, dword [esp + 8]    add eax, ebx    ret_main:    push 4    push 5    call _add    add esp, 8    push eax    push _fmt    call _printf    add esp, 8    ret大概是不同的系统的调用方式也不同?                           2020年2月19日 21:11 | # | 引用                                                                                                                杨小瀷 说：                                                        阮老师，这汇编例子是Intel和AT&T的结合体！！！换那个汇编器都通不了啊……                           2020年2月26日 18:40 | # | 引用                                                                                                                任兴 说：                                                        AT&T的源操作数，目的操作数的顺序，和Intel是相反的                           2020年3月 3日 10:02 | # | 引用                                                                                                                大名 说：                                                        汇编语言就可以被 CPU 直接执行? 机器语言才可以                           2020年4月13日 21:56 | # | 引用                                                                                                                赶快把 说：                                                        完全看懂了，啦啦啦                           2020年4月28日 20:58 | # | 引用                                                                                                                王艳红 说：                                                        强，内容通俗易懂，感谢分享                           2020年5月18日 15:14 | # | 引用                                                                                                                狮子舞 说：                                                        "通过这种机制，就实现了函数的层层调用，并且每一层都能使用自己的本地变量。"=>请教下，如何在每一层访问到自己的本地变量呢？ 这个时候的本地变量和该函数在栈上的分布是怎么样的呢？谢谢！                           2020年6月17日 11:57 | # | 引用                                                                                                                xiniao 说：                                                        上面的是AT&T汇编，文章当成Intel汇编讲了                           2020年9月 7日 14:10 | # | 引用                                                                                                                MyC 说：                                                        阮大这篇文章，好凌乱啊！C代码使用 gcc 的 gas 给翻译成汇编代码后，默认应该是 AT&T 语法格式，即便是最新版 gas 已经支持加 -masm=intel 参数翻译成 Intel 语法格式，确不会翻译成这种 Intel和AT&T的结合体！！！阮大您重新整理一下吧，我也懵圈了！                           2020年11月24日 21:01 | # | 引用                                                                                                                越行勤 说：                                                        谢谢老师，太感谢您了，我最近也在学习汇编，我将你的博客转载到了我的博客上了，但是也加入了我些许理解，感谢老师                           2020年12月 6日 20:46 | # | 引用                                                                                                                gigglesun 说：                                                        “我们常常看到 32位 CPU、64位 CPU 这样的名称，其实指的就是寄存器的大小”这样表述不太严谨：X 位的CPU应该是指：1. 运算器一次可以处理x位的数据2. 寄存器的最大宽度为x位3. 寄存器与运算器之间的通路宽度为x位                           2020年12月 6日 22:17 | # | 引用                                                                                                                shau 说：                                                        一直使用高级语言，对底层原理模糊不清，看了这篇文章，通俗易懂，完全可以使用汇编上手一些简单的程序，后面会持续关注阮老师的文章。                           2021年2月22日 17:36 | # | 引用                                                                                                                阮一峰nb 说：                                                        对底层知识一窍不通，刚入了门，确实通俗易懂，谢谢                           2021年2月22日 22:54 | # | 引用                                                                                                                youyuxiansen 说：                                                        想说，多线程情况下，eax被另一个程序占了，怎么办？                           2021年4月22日 16:01 | # | 引用                                                                                                                q3 说：                                                        光靠两个寄存器，如何实现下面这个算术int a = 2int b = 3int c = 4int d = 5return a * b + c * d + a * c                           2021年7月23日 16:36 | # | 引用                                                                                                                ZL 说：                                                        @a14907：esp+4存的是函数返回地址，调用call指令时自动入栈的数据，也就是call语句的下一条指令地址                           2021年8月16日 15:14 | # | 引用                                                                                                                Sulfuric-Acid1024 说：                                                        我有个问题，为啥我把一个程序用g++编译成.s汇编文件后的文件很短，但是编译程序出来的exe却有好几MB？如果我用g++编译汇编文件，也是好几MB                           2021年8月27日 17:28 | # | 引用                                                                                                                月光照在酒瓶上 说：                                                        希望写篇汇编设计模式的文章，这个我看了下，几乎整个网络都没人写，其中一个主要问题就是怎么使用寄存器，现在寄存器这么多，传统汇编教材几乎都不涉及这些，总感觉在寄存器使用上，没找到最佳实践                           2021年10月15日 14:21 | # | 引用                                                                                                                张博奇 说：                                                        这里是否有点问题？这时，push指令会再将 ESP 寄存器里面的地址减去4个字节（累计减去12）。既然已经累计减去12，那这里再%esp+8不应该是3吗？mov    %eax, [%esp+8]                            2021年12月 4日 11:48 | # | 引用                                                                                                                Colin 说：                                                        引用YY的发言：不用理解JAVA虚拟机的概念。造汽车的人，无需了解钢铁是如何炼成的。很多技术是层叠的，做顶层业务的，是需也不太可能将所有底层技术进行追溯学习的。這應該就是東尼史塔克跟一般工程師的差別精進自我的工程師連新元素煉成都會                           2021年12月20日 12:21 | # | 引用                                                                                                                Heart 说：                                                        深入浅出，讲得真好，谢谢老师~                           2022年3月20日 14:03 | # | 引用                                                                                                                高中在读生 说：                                                        引用Not的发言：基本的点都讲到了，但不是计算机专业的读者估计还是会有点懵，建议结合下内存总线和硬件指令的电路原理。还好，我不是计算机专业的，还是能看懂，反正电脑这玩意就是懂得都懂                           2022年12月11日 17:49 | # | 引用                                                                                                                Jeffery@SLC 说：                                                        引用Not的发言：基本的点都讲到了，但不是计算机专业的读者估计还是会有点懵，建议结合下内存总线和硬件指令的电路原理。参考下面这个blog内容，基于x86-64架构，AT&T语法，写得很详细。                           2023年1月26日 07:50 | # | 引用                                                                                                                ite 说：                                                        引用阮一峰的发言：@jimmy我的理解是 EAX 属于最频繁使用的通用寄存器，所以约定没有必要保留它的值。调用约定将寄存器分为两部分：保留寄存器 和 临时寄存器 。eax是保留寄存器，而ebx是临时寄存器在 x86_64 架构下，C调用约定指定了这些寄存器分类：保留寄存器：rbp, rbx, rsp, r12, r13, r14, r15	临时寄存器：rax, rcx, rdx, rsi, rdi, r8, r9, r10, r11                           2023年2月23日 10:49 | # | 引用                                                                                                                ssrs 说：                                                        引用jimmy的发言：为什么我们用到EBX就push EBX，而用到EAX却没push EAX呢？因为里面有需要的值，得暂时保存下                           2023年4月23日 12:57 | # | 引用                                                                                                                nshnhsnsnhshnhnshsn 说：                                                        AT&T与Intel语法不一样！                           2023年8月30日 21:43 | # | 引用                                                                                                                demon90s 说：                                                        这盘文章对 call 指令和 ret 指令的描述稍有简陋，个人感觉没有讲明白。call 指令其实也会修改 esp 寄存器，也就是会将 call 指令的下一条指令的地址入栈，之后跳转到执行函数。ret 指令会弹出栈顶上的4个字节（也就是 call 指令入栈的地址），然后跳转到此地址的指令开始执行。这部分工作也就是文章所说的“该函数建立一个新的帧”和“函数的帧将被回收”。                           2023年9月 6日 17:56 | # | 引用                                                                                                                阿旭 说：                                                        老师:请问在32位FreeBSD上如何汇编和链接AT&T汇编语言，谢谢！                           2024年7月 5日 16:18 | # | 引用                                                                                                                sesmof 说：                                                        讲的清晰易懂                           2024年10月28日 23:24 | # | 引用                                                                                                                s0ing 说：                                                        引用阮一峰的发言：@jimmy我的理解是 EAX 属于最频繁使用的通用寄存器，所以约定没有必要保留它的值。可以理解为这个函数就是为了给eax赋值吧 不然这个方法就没有意义了                           2025年3月13日 14:43 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9c437c28cf45',t:'MTc0MzI0MzM3Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2018/01/assembly-language-primer.html
根域名的知识 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    根域名的知识 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：每周分享第&nbsp;3&nbsp;期&nbsp;&nbsp;下一篇：每周分享第&nbsp;4&nbsp;期&nbsp;&nbsp;                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              根域名的知识                                                                                    作者： 阮一峰                                    日期： 2018年5月 9日                                                                                                                                            域名是互联网的基础设施，只要上网就会用到。                                                                                                                它还是一门利润丰厚的生意，所有域名每年都必须交注册费，这是很大的一笔钱。这些钱交到了哪里？到底谁控制域名的价格？为什么有的域名注册费很贵，有的便宜？......今天，我就来谈谈这些与根域名（root domain）相关的知识。一、ICANN全世界域名的最高管理机构，是一个叫做 ICANN （Internet Corporation for Assigned Names and Numbers）的组织。它的总部在美国加州。它原来是美国商务部下面的一个非盈利机构，所以有人说，美国政府控制了全世界的域名，这种说法是有根据的。2016年，美国政府宣布，ICANN 不再隶属于商务部，成为一个自我管理的独立机构。但是可想而知，美国政府依然对它有绝对影响。ICANN 负责管理全世界域名系统的运作。它的一项主要工作，就是规定顶级域名（top level domain，简写为 TLD）。二、TLD所谓顶级域名（TLD），就是最高层级的域名。简单说，就是网址的最后一个部分。比如，网址www.example.com的顶级域名就是.com。ICANN 就负责规定，哪些字符串可以当作顶级域名。截至2015年7月，顶级域名共有1058个。它们可以分成两类。一类是一般性顶级域名（gTLD），比如.com、.net、.edu、.org、.xxx等等，共有700多个。另一类是国别顶级域名（ccTLD），代表不同的国家和地区，比如.cn（中国）、.io（英属印度洋领地）、.cc（ 科科斯群岛）、.tv（图瓦卢）等，共有300多个。三、顶级域名托管商ICANN 自己不会去管理这些顶级域名，因为根本管不过来。想想看，顶级域名有1000多个，每个顶级域名下面都有许多批发商，如果每个都要管，就太麻烦了。ICANN 的政策是，每个顶级域名都找一个托管商，该域名的所有事项都由托管商负责。ICANN 只与托管商联系，这样管理起来就容易多了。举例来说，.cn域名的托管商就是中国互联网络信息中心（CNNIC），它决定了.cn域名的各种政策。目前，世界最大的顶级域名托管商是美国的 Verisign 公司。四、VerisignVerisign 是一家商业公司，总部在美国维吉尼亚州。它托管了.com、.net 、.name、.gov这四个一般性顶级域名，以及.cc和.tv这两个国别顶级域名。另外，.edu和.jobs的后台管理工作，也外包给了它。它对.com和.net的独家垄断是历史形成的。最早的时候， Network Solutions 公司接受美国国家科学基金会的委托，管理顶级域名。2000年，Verisign 收购了这家公司，继承了域名业务。2003年，Verisign 卖掉了域名注册业务，只保留顶级域名管理。也就是说，它只做域名批发，不做域名零售了。2010年，Verisign 又把网站安全和加密证书业务卖给了 Symantec 公司。后者又在2017年把这项业务卖给了 DigiCert。五、ICANN 与 Verisign 打官司按理说，Verisign 是 ICANN 最大的托管商，两家的关系应该很好才对。事实却是它们的关系很差，甚至还打过官司。原因在于，ICANN 是政府支持的非盈利机构，不以盈利为目标，而 Verisign 是一家商业公司，追求利润最大化，每年必须交大量的托管费给前者。两家的矛盾就源于此。2003年，Verisign 推出了一项新业务 Site Finder，用户访问没有注册过的.com或.net域名，都会被导向 Verisign 的网站。这意味着，它事实上拥有了所有没有注册过的.com和.net域名。 几天之内，Verisign 就挤入了全世界的前10大网站。ICANN 要求 Verisign 立刻停止该业务，否则将终止域名托管合同。Verisign 屈服了，停止了这项业务，但是接着就把 ICANN 告上了法庭，要求法庭厘请两者之间的合同，ICANN 到底有没有权力干涉它的业务。2006年底，它们达成了庭外和解。ICANN 同意延长 Verisign 的顶级域名托管合同，并且同意 Verisign 向消费者收取的单个域名注册费的上限，从6美元提高到了7.85美元。这个费用标准，一直沿用到了今天，你去注册一个.com或.net域名，所交的钱有0.18美元是 ICANN 收取的管理费，7.85美元是 Verisign 收取的托管费，其余的钱就是域名零售商的费用。如果一个.com或.net域名售价10美元，ICANN 和 Verisign 合计拿走8.03美元。后来，Verisign 的顶级域名托管合同又延长过两次，当前合同要到2024年才会到期。表面上看，ICANN 让 Verisign 获得了巨额垄断利润。（曾经有公司提出，只要让它来托管.com域名，单个域名的托管费，可以降低到每年1美元。）但是实际上，ICANN 通过另一种方式在发挥市场的力量，那就是它不断提高顶级域名的数量和品种。如果你觉得.com域名太贵，你完全可以申请其他的顶级域名，有 1000多个顶级域名任你选择。六、根域名由于 ICANN 管理着所有的顶级域名，所以它是最高一级的域名节点，被称为根域名（root domain）。在有些场合，www.example.com被写成www.example.com.，即最后还会多出一个点。这个点就是根域名。理论上，所有域名查询都必须先查询根域名，因为只有根域名才能告诉你，某个顶级域名由哪台服务器管理。事实上也确实如此，ICANN 维护着一张列表，里面记载着顶级域名和对应的托管商。比如，我要访问www.example.com，就必须先询问 ICANN 的根域名列表，它会告诉我.com域名由 Verisign 托管，我必须去找 Verisign，它会告诉我example.com服务器在哪里。再比如，我要访问abc.xyz，也必须先去询问根域名列表，它会告诉我.xyz域名由 CentralNic 公司托管。根域名列表还记载，.google由谷歌公司托管，.apple由苹果公司托管等等。由于根域名列表很少变化，大多数 DNS 服务商都会提供它的缓存，所以根域名的查询事实上不是那么频繁。七、DNS 根区根域名列表的正式名称是 DNS 根区（DNS root zone），ICANN 官网可以查看这个根区文件。该文件保存所有顶级域名的托管信息，所以非常大，超过2MB。举例来说，顶级域名.com可以查到13个域名服务器。com.            172800  IN  NS  a.gtld-servers.net.com.            172800  IN  NS  b.gtld-servers.net.com.            172800  IN  NS  c.gtld-servers.net.com.            172800  IN  NS  d.gtld-servers.net.com.            172800  IN  NS  e.gtld-servers.net.com.            172800  IN  NS  f.gtld-servers.net.com.            172800  IN  NS  g.gtld-servers.net.com.            172800  IN  NS  h.gtld-servers.net.com.            172800  IN  NS  i.gtld-servers.net.com.            172800  IN  NS  j.gtld-servers.net.com.            172800  IN  NS  k.gtld-servers.net.com.            172800  IN  NS  l.gtld-servers.net.com.            172800  IN  NS  m.gtld-servers.net.也就是说，.com域名的解析结果，可以到这个13个服务器的任一台查询。细心的读者可能发现，这些服务器本身也是使用域名（比如a.gtld-servers.net.）标识，那么还得去查询它们指向的服务器，这样很容易造成循环查询。因此，DNS 根区还会同时提供这些服务器的 IP 地址（IPv4 和 IPv6）。a.gtld-servers.net. 172800  IN  A   192.5.6.30a.gtld-servers.net. 172800  IN  AAAA    2001:503:a83e:0:0:0:2:30b.gtld-servers.net. 172800  IN  A   192.33.14.30b.gtld-servers.net. 172800  IN  AAAA    2001:503:231d:0:0:0:2:30c.gtld-servers.net. 172800  IN  A   192.26.92.30c.gtld-servers.net. 172800  IN  AAAA    2001:503:83eb:0:0:0:0:30... ...八、根域名服务器保存 DNS 根区文件的服务器，就叫做 DNS 根域名服务器（root name server）。由于早期的 DNS 查询结果是一个512字节的 UDP 数据包。这个包最多可以容纳13个服务器的地址，因此就规定全世界有13个根域名服务器，编号从a.root-servers.net一直到m.root-servers.net。这13台根域名服务器由12个组织独立运营。其中，Verisign 公司管理两台根域名服务器：A 和 J。每家公司为了保证根域名服务器的可用性，会部署多个节点，比如单单 Verisign 一家公司就部署了104台根域名服务器（2016年1月数据）。所以，根域名服务器其实不止13台。据统计，截止2016年1月，全世界共有 517 台根域名服务器。你可以在 http://root-servers.org 这个网站查到所有根域名服务器的信息。根域名服务器虽然有域名，但是最少必须知道一台的 IP 地址，否则就会陷入循环查询。一般来说，本机都保存一份根域名服务器的 IP 地址的缓存，叫做 name.cache 文件。 A.ROOT-SERVERS.NET.   3600000 A 198.41.0.4A.ROOT-SERVERS.NET.   3600000 AAAA 2001:503:ba3e :: 2:30B.ROOT-SERVERS.NET.   3600000 A 199.9.14.201B.ROOT-SERVERS.NET.   3600000 AAAA 2001:500:200 :: bC.ROOT-SERVERS.NET.   3600000 A 192.33.4.12C.ROOT-SERVERS.NET.   3600000 AAAA 2001:500:2 :: c... ...这个文件记录了13台根域名服务器的 IP 地址。九、参考链接What actually happens when you buy a domain name?, by TaimurICANN, by WikipediaVerisign, by WikipediaDNS root zone, by WikipediaRoot Name Server, by Wikipedia（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2018年5月 9日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（33条）                                                                                                    pityonline 说：                                                        第五段：「要求法庭理请两者之间的合同」，应该是「理清」。                           2018年5月 9日 08:54 | # | 引用                                                                                                                standin000 说：                                                        请问org域名是谁托管了？                           2018年5月 9日 09:09 | # | 引用                                                                                                                w4n9hu1 说：                                                        那那些值钱域名的溢价都被零售商拿走了吗？                           2018年5月 9日 09:09 | # | 引用                                                                                                                huiben 说：                                                        原来这是今天才刚刚发表的啊，很通俗易懂的文字，学习了。                           2018年5月 9日 09:28 | # | 引用                                                                                                                Nina 说：                                                        引用pityonline的发言：第五段：「要求法庭理请两者之间的合同」，应该是「理清」。应该是厘清吧，哈哈哈哈                           2018年5月 9日 10:11 | # | 引用                                                                                                                樊志阳 说：                                                        引用standin000的发言：请问org域名是谁托管了？由Public Interest Registry托管                           2018年5月 9日 10:15 | # | 引用                                                                                                                ixx 说：                                                        ...结束的好突然 感觉你是读了一半，后边没有了吗？                           2018年5月 9日 11:45 | # | 引用                                                                                                                duzengrass 说：                                                        强行结束，                           2018年5月 9日 12:26 | # | 引用                                                                                                                sheldon 说：                                                        那我们在dnspod配置了.com域名解析后，他是记录在Verisign公司的dns服务器里的吗                           2018年5月 9日 16:36 | # | 引用                                                                                                                微leng 说：                                                        那么ip又是怎样的分发机制呢                           2018年5月 9日 21:15 | # | 引用                                                                                                                William 说：                                                        引用sheldon的发言：那我们在dnspod配置了.com域名解析后，他是记录在Verisign公司的dns服务器里的吗Verisign会记录你的二级域名是在dnspod这里注册的，三级域名的请求就会转到dnspod这里来解析                           2018年5月 9日 21:30 | # | 引用                                                                                                                但丁 说：                                                        引用pityonline的发言：第五段：「要求法庭理请两者之间的合同」，应该是「理清」。应该是厘清                           2018年5月10日 12:00 | # | 引用                                                                                                                bbw 说：                                                        现在域名还是com比较受欢迎啊，其他个性后缀在域名交易市场都是白菜价。                           2018年5月10日 16:11 | # | 引用                                                                                                                小牧c 说：                                                        主机请求-->本地域名服务器-->根域名服务器-->本地域名服务器-->顶级域名服务器-->本地域名服务器-->权威域名服务器-->本地域名服务器-->ip                           2018年5月10日 23:00 | # | 引用                                                                                                                smallpig 说：                                                        问下最近谷歌的.app的域名感觉日后会有价值呗？                           2018年5月11日 00:01 | # | 引用                                                                                                                Orange 说：                                                        谁知道app.app这个域名可以买多少钱?..                           2018年5月11日 17:07 | # | 引用                                                                                                                Solar 说：                                                        域名解釋過程圖表How Public DNS Workshttps://www.verisign.com/en_US/security-services/public-dns/index.xhtml                           2018年5月15日 17:19 | # | 引用                                                                                                                小喜 说：                                                        恢复了，来支持一下阮老师。                           2018年5月16日 09:32 | # | 引用                                                                                                                Rouzip 说：                                                        恢复了，支持一下！                           2018年5月16日 09:52 | # | 引用                                                                                                                一醉 说：                                                        支持下～ 恢复了～                           2018年5月16日 16:21 | # | 引用                                                                                                                kingcc 说：                                                        滋磁                           2018年5月16日 22:03 | # | 引用                                                                                                                falost 说：                                                        终于恢复了                           2018年5月17日 10:47 | # | 引用                                                                                                                Huas Leung 说：                                                        学习了 看来以后注册顶级域名尽量去Verisign 这样就能省去花在域名中间零售商的一些钱 感谢阮老师！                           2018年5月18日 11:14 | # | 引用                                                                                                                业余草 说：                                                        .com 域名还是很贵的，并且是每年都要缴费。.cn 在国内，安全性还是有保障的，重要的是它更便宜！                           2018年5月18日 12:26 | # | 引用                                                                                                                大漠穷秋 说：                                                        看起来已恢复，支持一下阮老师！                           2018年5月18日 17:36 | # | 引用                                                                                                                何森康 说：                                                        看起来已恢复，支持一下阮老师！                           2018年5月18日 18:01 | # | 引用                                                                                                                BridgeLi 说：                                                        有一种戛然而止的感觉，结束的好突然                           2018年5月30日 11:33 | # | 引用                                                                                                                yicheng 说：                                                        頂級域名不只代表國家和地區。Even ALIPAY and Baidu have their own TLD.                           2018年5月31日 10:33 | # | 引用                                                                                                                liser 说：                                                        看阮大的文章学到了很多。                           2018年6月 3日 11:47 | # | 引用                                                                                                                孙磊 说：                                                        学到很多东西                           2018年6月 5日 01:02 | # | 引用                                                                                                                Andy 说：                                                        引用业余草的发言：.com 域名还是很贵的，并且是每年都要缴费。.cn 在国内，安全性还是有保障的，重要的是它更便宜！.cn应该是不安全才对嘛，毕竟墙就在那里                           2018年6月14日 15:32 | # | 引用                                                                                                                shentar 说：                                                        第一年注册的时候很便宜，后面续费越来越贵，直到放弃为止。已经做过好几次301重定向加变更域名了。                           2018年6月21日 21:23 | # | 引用                                                                                                                墨鱼 说：                                                        引用业余草的发言：.com 域名还是很贵的，并且是每年都要缴费。.cn 在国内，安全性还是有保障的，重要的是它更便宜！.cn我记得好像企业注册时才会用到，正常没有人用的吧。                           2018年11月14日 09:43 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9e880f16cf45',t:'MTc0MzI0MzQ2NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2018/05/root-domain.html
JavaScript 内存泄漏教程 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    JavaScript 内存泄漏教程 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：Emoji&nbsp;简介&nbsp;&nbsp;&nbsp;下一篇：熵：宇宙的终极规则&nbsp;&nbsp;                                                                                分类：                                                                                    JavaScript                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              JavaScript 内存泄漏教程                                                                                    作者： 阮一峰                                    日期： 2017年4月16日                                                                                                                                            一、什么是内存泄漏？程序的运行需要内存。只要程序提出要求，操作系统或者运行时（runtime）就必须供给内存。                                                                                                                对于持续运行的服务进程（daemon），必须及时释放不再用到的内存。否则，内存占用越来越高，轻则影响系统性能，重则导致进程崩溃。不再用到的内存，没有及时释放，就叫做内存泄漏（memory leak）。有些语言（比如 C 语言）必须手动释放内存，程序员负责内存管理。char * buffer;buffer = (char*) malloc(42);// Do something with bufferfree(buffer);上面是 C 语言代码，malloc方法用来申请内存，使用完毕之后，必须自己用free方法释放内存。这很麻烦，所以大多数语言提供自动内存管理，减轻程序员的负担，这被称为"垃圾回收机制"（garbage collector）。二、垃圾回收机制垃圾回收机制怎么知道，哪些内存不再需要呢？最常使用的方法叫做"引用计数"（reference counting）：语言引擎有一张"引用表"，保存了内存里面所有的资源（通常是各种值）的引用次数。如果一个值的引用次数是0，就表示这个值不再用到了，因此可以将这块内存释放。上图中，左下角的两个值，没有任何引用，所以可以释放。如果一个值不再需要了，引用数却不为0，垃圾回收机制无法释放这块内存，从而导致内存泄漏。const arr = [1, 2, 3, 4];console.log('hello world');上面代码中，数组[1, 2, 3, 4]是一个值，会占用内存。变量arr是仅有的对这个值的引用，因此引用次数为1。尽管后面的代码没有用到arr，它还是会持续占用内存。如果增加一行代码，解除arr对[1, 2, 3, 4]引用，这块内存就可以被垃圾回收机制释放了。let arr = [1, 2, 3, 4];console.log('hello world');arr = null;上面代码中，arr重置为null，就解除了对[1, 2, 3, 4]的引用，引用次数变成了0，内存就可以释放出来了。因此，并不是说有了垃圾回收机制，程序员就轻松了。你还是需要关注内存占用：那些很占空间的值，一旦不再用到，你必须检查是否还存在对它们的引用。如果是的话，就必须手动解除引用。三、内存泄漏的识别方法怎样可以观察到内存泄漏呢？经验法则是，如果连续五次垃圾回收之后，内存占用一次比一次大，就有内存泄漏。这就要求实时查看内存占用。3.1 浏览器Chrome 浏览器查看内存占用，按照以下步骤操作。  打开开发者工具，选择 Timeline 面板在顶部的Capture字段里面勾选 Memory点击左上角的录制按钮。在页面上进行各种操作，模拟用户的使用情况。一段时间后，点击对话框的 stop 按钮，面板上就会显示这段时间的内存占用情况。如果内存占用基本平稳，接近水平，就说明不存在内存泄漏。反之，就是内存泄漏了。3.2 命令行命令行可以使用 Node 提供的process.memoryUsage方法。console.log(process.memoryUsage());// { rss: 27709440,//  heapTotal: 5685248,//  heapUsed: 3449392,//  external: 8772 }process.memoryUsage返回一个对象，包含了 Node 进程的内存占用信息。该对象包含四个字段，单位是字节，含义如下。  rss（resident set size）：所有内存占用，包括指令区和堆栈。heapTotal："堆"占用的内存，包括用到的和没用到的。heapUsed：用到的堆的部分。external： V8 引擎内部的 C++ 对象占用的内存。判断内存泄漏，以heapUsed字段为准。四、WeakMap前面说过，及时清除引用非常重要。但是，你不可能记得那么多，有时候一疏忽就忘了，所以才有那么多内存泄漏。最好能有一种方法，在新建引用的时候就声明，哪些引用必须手动清除，哪些引用可以忽略不计，当其他引用消失以后，垃圾回收机制就可以释放内存。这样就能大大减轻程序员的负担，你只要清除主要引用就可以了。ES6 考虑到了这一点，推出了两种新的数据结构：WeakSet 和 WeakMap。它们对于值的引用都是不计入垃圾回收机制的，所以名字里面才会有一个"Weak"，表示这是弱引用。下面以 WeakMap 为例，看看它是怎么解决内存泄漏的。const wm = new WeakMap();const element = document.getElementById('example');wm.set(element, 'some information');wm.get(element) // "some information"上面代码中，先新建一个 Weakmap 实例。然后，将一个 DOM 节点作为键名存入该实例，并将一些附加信息作为键值，一起存放在 WeakMap 里面。这时，WeakMap 里面对element的引用就是弱引用，不会被计入垃圾回收机制。也就是说，DOM 节点对象的引用计数是1，而不是2。这时，一旦消除对该节点的引用，它占用的内存就会被垃圾回收机制释放。Weakmap 保存的这个键值对，也会自动消失。基本上，如果你要往对象上添加数据，又不想干扰垃圾回收机制，就可以使用 WeakMap。五、WeakMap 示例WeakMap 的例子很难演示，因为无法观察它里面的引用会自动消失。此时，其他引用都解除了，已经没有引用指向 WeakMap 的键名了，导致无法证实那个键名是不是存在。我一直想不出办法，直到有一天贺师俊老师提示，如果引用所指向的值占用特别多的内存，就可以通过process.memoryUsage方法看出来。根据这个思路，网友 vtxf 补充了下面的例子。首先，打开 Node 命令行。$ node --expose-gc上面代码中，--expose-gc参数表示允许手动执行垃圾回收机制。然后，执行下面的代码。// 手动执行一次垃圾回收，保证获取的内存使用状态准确> global.gc(); undefined// 查看内存占用的初始状态，heapUsed 为 4M 左右> process.memoryUsage(); { rss: 21106688,  heapTotal: 7376896,  heapUsed: 4153936,  external: 9059 }> let wm = new WeakMap();undefined> let b = new Object();undefined> global.gc();undefined// 此时，heapUsed 仍然为 4M 左右> process.memoryUsage(); { rss: 20537344,  heapTotal: 9474048,  heapUsed: 3967272,  external: 8993 }// 在 WeakMap 中添加一个键值对，// 键名为对象 b，键值为一个 5*1024*1024 的数组  > wm.set(b, new Array(5*1024*1024));WeakMap {}// 手动执行一次垃圾回收> global.gc();undefined// 此时，heapUsed 为 45M 左右> process.memoryUsage(); { rss: 62652416,  heapTotal: 51437568,  heapUsed: 45911664,  external: 8951 }// 解除对象 b 的引用  > b = null;null// 再次执行垃圾回收> global.gc();undefined// 解除 b 的引用以后，heapUsed 变回 4M 左右// 说明 WeakMap 中的那个长度为 5*1024*1024 的数组被销毁了> process.memoryUsage(); { rss: 20639744,  heapTotal: 8425472,  heapUsed: 3979792,  external: 8956 }上面代码中，只要外部的引用消失，WeakMap 内部的引用，就会自动被垃圾回收清除。由此可见，有了它的帮助，解决内存泄漏就会简单很多。六、参考链接Simple Guide to Finding a JavaScript Memory Leak in Node.jsUnderstanding Garbage Collection and hunting Memory Leaks in Node.jsDebugging Memory Leaks in Node.js ApplicationsHow JavaScript works: memory management（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2017年4月16日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2024.10.10: 后面试时代与 AI 刷题                                                         一、引言七月的时候，我写了一篇文章《AI 编程助手测评：GitHub Copilot vs 豆包 MarsCode》，推荐了后者。                            2022.10.25: 羊了个羊，如何自己实现（暨"码上掘金"编程挑战赛介绍）                                                           [海报] 稀土掘金正在面向全国举办"首届编程挑战赛"，这是展示自己作品的好机会，详情见文后。                            2022.05.05: 打包工具 rollup.js 入门教程                                                         rollup.js 是一个 JavaScript 打包工具。本文介绍它的基本用法。                            2021.09.29: JavaScript 侦测手机浏览器的五种方法                                                         有时候，前端网页需要知道，用户使用的是手机浏览器还是桌面浏览器。                            广告（购买广告位）云手机                                                              留言（46条）                                                                                                    AngryCat 说：                                                        受益匪浅                           2017年4月16日 21:11 | # | 引用                                                                                                                小麦 说：                                                        我觉得memory leak还是翻译成内存泄漏比较好，泄露更多的指不想被别人知道的事情被人知道了。                           2017年4月16日 21:52 | # | 引用                                                                                                                vajoy 说：                                                        b 不能用const定义，不然后面没法 b=null                           2017年4月16日 23:09 | # | 引用                                                                                                                maiff 说：                                                        node基于v8垃圾回收并不是引用计数那么简单。                           2017年4月16日 23:39 | # | 引用                                                                                                                Micooz Lee 说：                                                        在js中，循环引用会造成内存泄漏吗？比如：window.m = a; a = b; b = c; c = a; abc是三角恋关系，如果解除m对a的引用，abc的引用计数都为1，那abc会被回收掉吗。先前看过有关Node.js垃圾回收的文章，垃圾回收会stop the world，并且从树的root节点开始遍历，触及不到的变量就会被回收，这一点似乎和引用计数有些不一样，js对于循环引用的情况又是如何解决的？                           2017年4月17日 00:03 | # | 引用                                                                                                                deathtoJS 说：                                                        这些带垃圾回收的语言实际上是让内存管理变得更复杂了，还不如C和C++简单高效直观，更不要提性能上的差距。所谓减轻程序员的负担实际上是让他们更难写出好的代码...                           2017年4月17日 04:05 | # | 引用                                                                                                                阮一峰 说：                                                        @小麦：谢谢指出，已经改过来了。我的拼音输入法里面，泄露排在泄漏前面，汗死。@vajoy：谢谢指出，已经改过来了。原来例子写的是 var，我习惯性改成 const 了。                           2017年4月17日 06:40 | # | 引用                                                                                                                Viky 说：                                                        但如何保证清除外部引用后，垃圾回收立马进行呢？因为也有可能是清除引用后立马又进行 `get` 操作，此时会不会有可能垃圾回收还没来得及完成。                           2017年4月17日 08:27 | # | 引用                                                                                                                业余草 说：                                                        由于字符串、对象和数组没有固定大小，所有当他们的大小已知时，才能对他们进行动态的存储分配。JavaScript程序每次创建字符串、数组或对象时，解释器都必须分配内存来存储那个实体。只要像这样动态地分配了内存，最终都要释放这些内存以便他们能够被再用，否则，JavaScript的解释器将会消耗完系统中所有可用的内存，造成系统崩溃。                           2017年4月18日 09:57 | # | 引用                                                                                                                CODE大全 说：                                                        现在各大浏览器通常用采用的垃圾回收有两种方法：标记清除、引用计数。                           2017年4月18日 09:59 | # | 引用                                                                                                                dou4cc 说：                                                        防内存泄漏最重要的是了解V8如何处理闭包                           2017年4月20日 18:26 | # | 引用                                                                                                                雨停 说：                                                        引用雨停的发言：其实主要的是“标记清除”，只有老版本的IE才用“引用记数”。因为引用记数会有循环引用的情况，容易导致内存泄露                           2017年4月21日 12:42 | # | 引用                                                                                                                liuz 说：                                                        阮老师const a = [1, 2, 3,4];a = null;此处的 const 也不妥吧。                           2017年4月22日 08:53 | # | 引用                                                                                                                文豪 说：                                                        赞一个，很有用                           2017年4月22日 13:36 | # | 引用                                                                                                                叫我美女 说：                                                        还是渣渣。。好多都没有听懂。感慨                           2017年4月23日 18:42 | # | 引用                                                                                                                陈卓 说：                                                        阮大神，收下我的膝盖！                           2017年4月24日 18:29 | # | 引用                                                                                                                anno 说：                                                        阮老师，你的代码在上面验证WeakMap的时候，其中有一段是const b = new Object(); 后面又对b 进行赋值, 我感觉很惊恐，我有去翻了您写的es6入门里面关于const命令，我也反复读了您写的，因为我自己按照您的例子操作，发现在const这里b = null 是会报错的。您看是您写错了，还是我理解错了呢？很感谢使用es6语法，现在大部分例子还是es5的。                           2017年4月26日 17:44 | # | 引用                                                                                                                阮一峰 说：                                                        @liuz，@anno：谢谢指出，已经改正。                           2017年4月26日 23:03 | # | 引用                                                                                                                DcYe 说：                                                        为什么给b加了一个5MB的数组，内存使用一下多了40MB？                           2017年4月27日 09:38 | # | 引用                                                                                                                ThomasHuke 说：                                                        引用liuz的发言：阮老师const a = [1, 2, 3,4];a = null;此处的 const 也不妥吧。 const 无法改变指针的指向。                           2017年4月28日 20:04 | # | 引用                                                                                                                sagittarius-rev 说：                                                        let arr = [1, 2, 3, 4];console.log('hello world');arr = null;这段代码作为范例来说是不妥的，因为没有考虑函数的问题。虽然理论上来说，不使用的变量需要清除，但在 js 的实际编程中大部分情况下不应当这样手动清除，而且一般的编程规范也不会建议这么做。变量如果定义在函数内部，当函数运行完成后，这些内部变量就会完成它的生命周期，能够被垃圾回收，没有必要做手动清除。变量如果定义在全局，那就不是需不需要清除的问题，而是首先要考虑有没有必要把变量定义在全局的问题。将临时变量定义在全局，这是需要纠正的一个不良习惯，纠正这种习惯的重要性要远远高于清除全局临时变量值的行为。函数执行完毕后内部变量的值依然会被保留，这种情况当然也可能出现，也就是遇到了常说的“闭包”。对于闭包来说，并不是外层函数的所有变量都会被保留，引擎会进行优化，仅保留会在内层函数中引用的外层变量。那么问题就来了：既然形成闭包后，内层函数会用到的外层变量才会被保留，这样会被留下来继续保留引用的变量，就代表这些变量是有用的，为什么要清除它们呢？此外，对于在闭包内层函数中它自身定义的局部作用域的变量，这些局部变量一般情况下仍然是会完成其生命周期、被自动回收的。总结来说：应尽量避免定义全局的临时变量，而函数内部仅涉及到本级作用域的变量（不会被闭包保留引用的）无需手动清除。对于全局公共变量、以及闭包内引用变量来说，仅在变量确实使用完毕、值不再需要保留时，才需要手动清除变量的值。对于浏览器来说，还需要考虑 DOM 元素的情况。如果某个变量（以及对象类型变量上的属性、元素）保留了对于 DOM 元素的引用，包括引用本页的元素或同源的 iframe 内的元素等情况，当该元素在页面上被删除时，对于它的引用很可能还被保留在变量内，这样就会造成内存泄露。这视乎目标 DOM 元素是否易变的问题，不可一概而论，是复杂单页应用尤其要考虑的问题。对于易变的 DOM 元素，除了做一个公共的释放引用的方法外，也可以考虑不在变量上缓存对于 DOM 元素的引用、宁可牺牲一点点性能、每次都进行查询（现查现用）。这方面的平衡点需要根据实际情况来选择。                           2017年4月29日 10:23 | # | 引用                                                                                                                sagittarius-rev 说：                                                        原文对于 WeakSet 和 WeakMap 的描述有点问题：“它们对于值的引用都是不计入垃圾回收机制的”。这里的“值”是不是应该改为“键”？Map 体现为键/值对（ Set 则是键值一体）， WeakMap 只有对于键的引用是弱引用，对于其中值的引用则是强引用。当然，这段原文中所提到的“值”与“键/值对”中的“值”很可能不是指同一个概念，所以也不能说它是完全错误的，但毕竟表述不严谨，可能引起误解。或许原文换一种表述方式会更妥当些，例如“在 WeakSet 的值和 WeakMap 的键上对于对象的引用都是弱引用，都是不计入垃圾回收机制的”。                           2017年4月29日 10:25 | # | 引用                                                                                                                明天 说：                                                        收获很大                           2017年5月 9日 15:46 | # | 引用                                                                                                                LeonWuV 说：                                                        表示没看懂，数组的var的变量最后要让它等于null，才能释放内存，那么在weakmap里面，也const了一个b，最后释放也是让b等于null，才能释放内存，那么weakmap作用是啥？让代码更加复杂让人看不懂吗？我是初学者，说的不对的地方望指正，谢谢！                           2017年5月 9日 18:27 | # | 引用                                                                                                                拭目以待 说：                                                        WeakMap 没有使用过， 我所考虑的是在项目中有哪些地方适宜使用，或哪些地方不便使用。如果有个相关的开源项目供参考下就好了                           2017年5月21日 09:48 | # | 引用                                                                                                                周家 说：                                                        javascript怎么获取chrome浏览器devtools中的network下的preview里的数据                           2017年5月25日 14:57 | # | 引用                                                                                                                赵强胜 说：                                                        想看点权威的例子跑来这里，然后看完感觉缺了一部分，就是常见的js内存泄漏的类型、原理，再如何去避免和解决它。应该在二、三节间加这个。                           2017年6月 9日 09:34 | # | 引用                                                                                                                soranokaze 说：                                                        引用Micooz Lee的发言：在js中，循环引用会造成内存泄漏吗？比如：window.m = a; a = b; b = c; c = a; abc是三角恋关系，如果解除m对a的引用，abc的引用计数都为1，那abc会被回收掉吗。先前看过有关Node.js垃圾回收的文章，垃圾回收会stop the world，并且从树的root节点开始遍历，触及不到的变量就会被回收，这一点似乎和引用计数有些不一样，js对于循环引用的情况又是如何解决的？就我所理解的计算机的内存数据都有两个属性：地址、值a = b 实际并不应该叫 “a引用了b”，说准确点应该是叫“a引用了b对应的值”，你可以理解为：b 的值为 X，那么 a = b 就是“a引用了X”。所以你的 window.m = a; a = b; b = c; c = a; 的代码意思应该是“window.m , a , b , c 都引用了X”，X 引用计数为 4 。解除 window.m 的引用后 X 引用计数为 3 ，以此类推。用你的话说就是，不存在abc三角恋关系，而是abc三个都统一暗恋着X，称为“引用计数”的属性也只有实际占用内存“值”的 X 才拥有，abc包括window.m这些“变量名/地址”本身是没有这个属性的（说精确点其实也是有的，见下面“值拷贝”）可能有些语言里或情况下 等号 = 是默认的“值拷贝”，而不是上面对应的“地址拷贝”（当然，把“地址”也理解为一种“值”的话也是可以的，这样就叫“地址”的“值拷贝”），总之在这种“值拷贝”情况下，那么abc各自引用了一个值，比如 a引用了X1，b引用了X2，c引用了X3（在值的大小上X1等于X2等于X3，但是它们三个在内存里又是相互独立的，三胞胎？）然后引用计数怎么算你懂了                           2017年6月24日 11:27 | # | 引用                                                                                                                soranokaze 说：                                                        引用soranokaze的发言：就我所理解的计算机的内存数据都有两个属性：地址、值a = b 实际并不应该叫 “a引用了b”，说准确点应该是叫“a引用了b对应的值”，你可以理解为：b 的值为 X，那么 a = b 就是“a引用了X”。所以你的 window.m = a; a = b; b = c; c = a; 的代码意思应该是“window.m , a , b , c 都引用了X”，X 引用计数为 4 。解除 window.m 的引用后 X 引用计数为 3 ，以此类推。用你的话说就是，不存在abc三角恋关系，而是abc三个都统一暗恋着X，称为“引用计数”的属性也只有实际占用内存“值”的 X 才拥有，abc包括window.m这些“变量名/地址”本身是没有这个属性的（说精确点其实也是有的，见下面“值拷贝”）可能有些语言里或情况下 等号 = 是默认的“值拷贝”，而不是上面对应的“地址拷贝”（当然，把“地址”也理解为一种“值”的话也是可以的，这样就叫“地址”的“值拷贝”），总之在这种“值拷贝”情况下，那么abc各自引用了一个值，比如 a引用了X1，b引用了X2，c引用了X3（在值的大小上X1等于X2等于X3，但是它们三个在内存里又是相互独立的，三胞胎？）然后引用计数怎么算你懂了自我纠正一下，我举的例子对应的代码应该是这样的  window.m = a; b = a; c = b; a = c;跟原先 Micooz Lee 的代码例子有些出入，但想表达的意思是一致的。原先的代码 window.m = a; a = b; b = c; c = a; 这里重新按我的理解解释一下：介于“window.m = a; a = b; b = c;”这三句，那么变量a，b，c肯定都会各自有个初始值（如果没有那么可以理解为初始值为空值），假设a初始值对应内存值A；b对应B；c对应C，那么之前的代码执行完后的情况是 window.m指向A，a指向B，b指向C，c指向B，所以这里其实也没有循环引用的问题，当window.m接触引用后，内存值A可以被回收（如果没有另外没提到的变量引用A的话）。内存值B由变量a和c引用，计数为2。内存值C有变量b引用，计数为1。                           2017年6月27日 15:51 | # | 引用                                                                                                                soranokaze 说：                                                        补充一下 循环引用的例子 ^_^例1：    v = {}    v.p = v例2：    x = {}, y = {}    x.p = y, y.p = x... ...                           2017年7月15日 10:17 | # | 引用                                                                                                                张三 说：                                                        javascript不是具有自动垃圾回收机制么，为啥还要手工清除                           2017年7月26日 09:42 | # | 引用                                                                                                                阿斯达 说：                                                        为神马我的Chrome开发工具里没有timeline这一项                           2017年9月 8日 21:08 | # | 引用                                                                                                                陶留军 说：                                                        引用阿斯达的发言：为神马我的Chrome开发工具里没有timeline这一项Performance面板，勾选Memory                           2017年9月12日 16:36 | # | 引用                                                                                                                lucas 说：                                                        感觉看完了评论才算是看完了这篇文章, 阮老师的文章, 果然影响力够大.大家看完文章, 一定要看评论中 @sagittarius-rev 的评论部分, 这样才能和实际使用中结合的更紧密.                           2017年9月19日 11:48 | # | 引用                                                                                                                阿集 说：                                                        引用Micooz Lee的发言：在js中，循环引用会造成内存泄漏吗？比如：window.m = a; a = b; b = c; c = a; abc是三角恋关系，如果解除m对a的引用，abc的引用计数都为1，那abc会被回收掉吗。先前看过有关Node.js垃圾回收的文章，垃圾回收会stop the world，并且从树的root节点开始遍历，触及不到的变量就会被回收，这一点似乎和引用计数有些不一样，js对于循环引用的情况又是如何解决的？现在js的gc用的是标记清除算法，标记清除算法循环引用不会造成内存泄露。两个对象被创建，并互相引用，形成了一个循环。它们被调用之后不会离开函数作用域，所以它们已经没有用了，可以被回收了。```function f(){  var o = {};  var o2 = {};  o.a = o2; // o 引用 o2  o2.a = o; // o2 引用 o  return "azerty";}f();```来源 https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management                           2017年11月 1日 16:32 | # | 引用                                                                                                                刘冠睿 说：                                                        你好，阮老师，我是这样子测试的，先获取初始内存，差不多为4M，先var c = new Array(5*1024*1024),然后看见内存为45M左右，然后我让c = null，然后执行global.gc(),然后发现内存一样可以清除，是不是只要引用指向null，内存就可以被回收，那么例子里面并没有特别突出weakMap的作用。                           2018年2月23日 10:13 | # | 引用                                                                                                                刘冠睿 说：                                                        再看一次例子，我发现我有点理解错误，但是我又试了一次var d = new Object();d.f= new Array(5*1024*1024);内存变为46M，但是我让d.f = null; 然后内存又变为4M;所以还是不能理解weakMap。                           2018年2月23日 10:30 | # | 引用                                                                                                                珍小小 说：                                                        引用刘冠睿的发言：再看一次例子，我发现我有点理解错误，但是我又试了一次var d = new Object();d.f= new Array(5*1024*1024);内存变为46M，但是我让d.f = null; 然后内存又变为4M;所以还是不能理解weakMap。可以试着把文中let wm = new WeakMap();换成 let wm = new Map(); 再看看let b = null后的内存就知道了，WeakMap的作用是垃圾回收机制不记录计数，我理解的是，WeakMap：‘我偷偷用的别人的，别人被垃圾回收了，我也就没了’，Map： ‘我复制了别人的，别人被回收了我还可以继续用’                           2018年4月11日 16:32 | # | 引用                                                                                                                红心地瓜 说：                                                        现在js内核一般是用"Mark-and-Sweep"算法，而不是Reference-counting，因为后者解决不了循环引用的问题                           2018年5月 4日 14:48 | # | 引用                                                                                                                111 说：                                                        最有一个WeakMap有些多余了。 不用WeakMap一样能体现出 b=null 时 调用gc清理内容成功了。                           2018年8月20日 14:21 | # | 引用                                                                                                                11 说：                                                        知道了weakSet的作用了                           2019年2月27日 16:09 | # | 引用                                                                                                                ouzuyu 说：                                                        我不太明白，现在不是都使用标记法回收垃圾了吗？为什么es6还要出 WeakMap WeakSet 这种呢？                           2019年4月15日 22:07 | # | 引用                                                                                                                小葱 说：                                                        const定义的复杂数据类型的值是可以修改的啊，所以这里数组也是可以的啊                           2019年6月30日 21:46 | # | 引用                                                                                                                小葱 说：                                                        哦哦，看了一下，应该const定义的数据是无法修改的，但是里面的值是可以改的，比如一个数组，const arr=[1,2,3,4],arr[3]=5//[1,2,3,5].所以const arr = [1, 2, 3, 4];arr = null;这才是不合适的                           2019年6月30日 22:18 | # | 引用                                                                                                                JH 说：                                                        chrome devTools 里可以很容易观察到 WeakMap 的弱引用, Performance 面板里有触发 GC 的按钮, 如果键值不再被任何变量引用, 触发 GC 之后可以观察到 WakeMap 中相应的数据被清除                           2019年11月15日 11:19 | # | 引用                                                                                                                Sh 说：                                                        2025年来学2017的知识                           2025年2月 8日 16:33 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9a701f0bcf45',t:'MTc0MzI0MzI5Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2017/04/memory-leak.html
一个人的旅程 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    一个人的旅程 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：《罗马假日》电影剧本节下一篇：两本拉里.埃里森的传记                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              一个人的旅程                                                                                    作者： 阮一峰                                    日期： 2005年8月 1日                                                                                                                                            昨晚重看了《千与千寻》，有很多别样的心情。                                                                                                                我也不多说了，随手截了几张图片，请大家一起来感受一下吧。1.2.3.4.5.6.7.8.9.（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2005年8月 1日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（7条）                                                                                                    mudflower 说：                                                        真美丽!                           2005年8月 2日 02:20 | # | 引用                                                                                                                tower2 说：                                                        重点谈两个事件：第一个就是千寻在高楼上俯瞰周围，发现都是海，这种孤立的包围的感觉许多人都有体会，遥远的世界都无法探索，只能遥遥地望望，“人被抛入这个世界”的体会很深；而第二个则是千寻坐火车的那段，可以说，这段给人有各种各样的感觉，许多美感随之涌出，甚至给人无法感受的地步，每次看这段，都有新的体会。火车代表着新的旅行，终于摆脱了孤立和停滞的感觉，在音乐和窗外的风景中，世界如此美好地表现在你面前，但是同时，你（而不是千寻）会有更深的感觉，大家都是过客，在这里匆匆一聚，又走向更遥远的地方，你无法了解的地方，也许你一辈子都不知道的地方。在遥远的风景里，房子里住着谁呢？在那个停靠的站点，那个小孩（以影子为代表形式）究竟是什么呢？他有什么故事呢？ 一切一切都是给人无限的色彩，《千与千寻》的美感极大程度上就在这里释放出来。还有很多潜意识的很多东西，个人经历不一样，则有不同的体会。这就是经典作品的特征。卡尔维诺关于经典作品的其中一个定义也许能用在这里，“经典作品是一些产生某种特殊影响的书，它们要么自己以遗忘的方式给我们的想像力打下印记，要么乔装成个人或集体的无意识隐藏在深层记忆中。”只需要把书改成电影就行了。                           2005年8月20日 21:03 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        你的分析太精辟了！我最喜欢的正是这两段。成长、寻找、孤独和坚持，这些主题在这两段中被完全展开了。                           2005年8月20日 23:17 | # | 引用                                                                                                                tower2 说：                                                        呵呵~不知道你是否是一个宫崎骏的FAN~这个连接是我对《千与千寻》的一个小评论，上面那段是评论中的一部分，有兴趣可以去看看：）http://www.totoroclub.net/forum/dispbbs.asp?boardID=25&ID=827&page=1                           2005年8月21日 16:35 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        你的评论写得不错啊！既有抒情又有很好的分析。                           2005年8月22日 08:43 | # | 引用                                                                                                                夏日痴 说：                                                        《千与千寻》是我和小表妹一起看的，起初只以为是哄小孩子的，其实不然，末了自己感动不已，我想我就是从此爱上了宫崎骏，爱上了动画的。它就像一个梦，梦里有不安，有惊吓，有荒诞，也有一丝丝的苦涩......                           2006年12月 7日 14:36 | # | 引用                                                                                                                qiu 说：                                                        你的是否在淮海东路上的小学？                           2007年1月18日 09:57 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9aaffac6cf45',t:'MTc0MzI0MzMwNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2005/08/post_132.html
《罗马假日》电影剧本节选 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    《罗马假日》电影剧本节选 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：卡尔维诺《近视眼的故事下一篇：一个人的旅程&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                分类：                                                                                    散文                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              《罗马假日》电影剧本节选                                                                                    作者： 阮一峰                                    日期： 2005年7月28日                                                                                                                                            昨天半夜，我一个人在看《罗马假日》的DVD。                                                                                                                看到电影中两人分别的那一段，感到很伤感，深深被影片打动。在乔的公寓里，公主问他"你喜欢这种单身汉的生活，每顿饭都要到外面去吃？"，乔回答说："人生不可能样样如意。"（life isn't always what one likes.）最后告别时，公主说："我不知道如何告别，想不出说什么。"（I don't know how to say goodbye. I can't think of any words.）乔一声叹息："算了。"（Don't try.）看得我心潮难平啊。我从网上找到了电影剧本（英文），翻译了几段。=================================一（乔和公主摇摇晃晃从河里走上岸，全身都湿了。乔把公主护到一个大石头上，两人坐了下来。她浑身都在发抖，乔上上下下摩擦着她的手臂。）乔：你怎么样？公主：很好。你呢？乔：嗯，很好！（他们一起大声笑了出来，足足有好几分钟。他看着她。）乔：我说，你知道吗，你刚才那几下真厉害。公主：你也不差啊......（她突然不说了，注视着他的眼睛。他慢慢向前探出身子，吻了她----长长的、投入的一吻。然后，她们长时间的互相注视。）乔（沉默了一会）：我......我想我们最好去找找欧文的车，离开这里。（他们站起身来，匆匆离开。）二（乔走进他的公寓，脱下外套，关上门。屋子里收音机开着，正在播放柔和的钢琴曲，接着是播音员的声音："在音乐之后，将开始播报新闻。"）（在浴室里，公主穿着睡袍，正在照镜子，把头发理好。）（她走出浴室，把门带上，站在一旁。乔正在倒酒，）乔（微笑着）：你的衣服都破了吧？公主：没有。它们过一会就会干了。乔：你穿我的衣服很合适啊，你应该多穿穿。公主：好像是的。（乔笑了起来。）乔（递给她一杯酒）：我想喝点酒会感觉好一点。公主：我可以煮点东西吗？乔：这里没有厨房，没法煮。我总是在外面吃的。公主：你喜欢这样？乔：人生不可能样样都如意啊......（停顿了一会）是吗？公主：对，没错。（公主坐下来。）乔：你累了？公主：有一点。乔：你奔波一天了。公主：多美好的一天啊。（她朝着乔微笑。这时，收音机里播音员的声音响了起来。）播音员：现在我们用英语和意大利语播报一条特别新闻报道。（公主站了起来，走到收音机旁。乔没动，背对着她。）播音员：安公主在其欧洲亲善旅行接近结束的时候，突然在罗马生病，迄今还没有进一步的消息。有传闻说，她的病情非常严重。这已经在她祖国的人民中引起了焦虑和不安。（播音员开始用意大利语重复这条新闻。公主把收音机关了。）公主：新闻可以等到明天再听。乔：当然。公主（走向他）：我可以再要一点酒吗？（他给她又倒了一些。）公主：真遗憾，我不能准备我们的晚饭了。乔（看着公主喝酒）：你在学校里学过烹饪？公主：嗯，我是个好厨师；我可以靠这谋生的。我还会缝纫，打扫房间，熨衣服.....这些事我都学过，我只是没机会......（慢慢的，转过身去）为别人做这些。乔：这样的话，看来我得搬到有厨房的地方去。公主（转过身看着他，伤心的说）：对。（他们互相注视对方。然后公主的眼睛垂下来，把杯子里剩下的酒一饮而尽。）公主（抑制住悲伤，呜咽的说）：我......现在得走了。（她站着不动，乔看着她。然后，她扑到他的怀里，靠着他的肩膀痛哭起来。）乔（安慰她）：安雅......我有......我有一些事要告诉你。公主：别，请什么也不要说。（她看着他，亲吻他。）（他们久久的拥抱。）公主（低着头说）：我必须换衣服走了。（公主走向浴室。乔没有转身看她，感到非常伤心。他默默的拿起外衣，然后穿上。）三（乔开着车送公主，他们都很严肃，谁也没说话。）公主（看着前方）：请在下一个路口停下来。乔：好的。（他慢慢停下车，向前倾斜了一下身子。他看见大使馆的大门在大街的另一头隐约可见。）乔：这儿？公主（看着窗外）：对。（她又低下头，就是不看他。）公主：我现在必须离开你了。我会走到那个街角，然后转弯。（她看着车窗外。）你待在车里，然后开走。答应我不要目送我离开。你只管开走，不要管我.......我也会这样的。乔（严肃的）：好的。公主（强忍泪水）：我不知道怎么说再见。我什么也说不出来。乔：那就别说了。（他们互相看着。她一下扑到他的胸前，让他的双手将她紧紧抱住。他们深情的接吻，久久不愿结束。她靠着他的肩头痛哭。然后，他们抱得不那么紧了。公主看看车窗外的大街，接着又转身继续看着他。两人都努力保持着微笑，然后公主垂下了眼睛，知道离别是不可避免的。她松开他，打开车门走了出去，沿着大街向另一头走去，一直没有回头。走着走着，她跑了起来。乔看着她消失在街角的转弯处，大街上又变得空荡荡了，他很想去把她追回来。但是过了一会，他把头转开，目光又变得忧郁了。接着他发动引擎，把车开了回去。）（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2005年7月28日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2020.01.08: 如何写一份有效的技术简历？                                                         现在找工作的程序员很多，都需要写简历。                            2019.11.11: 杨安泽的总统竞选                                                         2020美国总统参选人有一个44岁的华人，名叫杨安泽（Andrew Yang）。                            2019.08.26: 任正非管理思想                                                         前一段日子，网上出现了一个仓库，收集了华为公司创始人任正非的讲话稿，从1994年直到2018年，一共400多篇。                            2019.01.17: 罗杰·克劳利的作品读后感                                                         最近两个月，我一直在读英国历史学家罗杰·克劳利（Roger Crowley）的作品。                            广告（购买广告位）云手机                                                              留言（5条）                                                                                                    zuihou 说：                                                        我喜欢着电影我们要努力                           2006年8月18日 21:49 | # | 引用                                                                                                                彭真 说：                                                        我也很喜欢《罗马假日》，是奥黛利.赫本的崇拜者                           2006年8月27日 10:58 | # | 引用                                                                                                                robin 说：                                                        我也很喜欢,可惜没有找到剧本...........渴望中~                           2007年4月29日 22:07 | # | 引用                                                                                                                行者道生 说：                                                        很喜欢这些老电影 尤其黑白片的 对白。甚至声音。 这才是电影本身的魅力所在。呵呵。无论是爱情片还是喜剧片还是西部片。07-09曾特意搜索下载了看。                           2010年1月27日 10:37 | # | 引用                                                                                                                PeraLiu 说：                                                        “我现在必须要离开你了。我将要走到那拐角，然后转弯。你呆在车里把车开走，答应我不要看着我走过那个转弯，只要把车开走离开我就像我离开你一样”。喜欢这句。                           2014年4月28日 20:58 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9ac84ad2cf45',t:'MTc0MzI0MzMxMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2005/07/post_131.html
异或运算 XOR 教程 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    异或运算 XOR 教程 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：科技爱好者周刊（第&nbsp;1下一篇：科技爱好者周刊（第&nbsp;1                                                                                分类：                                                                                    理解计算机                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              异或运算 XOR 教程                                                                                    作者： 阮一峰                                    日期： 2021年1月27日                                                                                                                                            大家比较熟悉的逻辑运算，主要是"与运算"（AND）和"或运算"（OR），还有一种"异或运算"（XOR），也非常重要。                                                                                                                本文介绍异或运算的含义和应用。一、含义XOR 是 exclusive OR 的缩写。英语的 exclusive 意思是"专有的，独有的"，可以理解为 XOR 是更单纯的 OR 运算。我们知道，OR 运算的运算子有两种情况，计算结果为true。（1）一个为 true，另一个为 false;（2）两个都为 true。上面两种情况，有时候需要明确区分，所以引入了 XOR。XOR 排除了第二种情况，只有第一种情况（一个运算子为true，另一个为false）才会返回 true，所以可以看成是更单纯的 OR 运算。也就是说， XOR 主要用来判断两个值是否不同。XOR 一般使用插入符号（caret）^表示。如果约定0 为 false，1 为 true，那么 XOR 的运算真值表如下。0 ^ 0 = 00 ^ 1 = 11 ^ 0 = 11 ^ 1 = 0二、运算定律XOR 运算有以下的运算定律。由于非常简单，这里就省略证明了。（1）一个值与自身的运算，总是为 false。x ^ x = 0（2）一个值与 0 的运算，总是等于其本身。x ^ 0 = x（3）可交换性 x ^ y = y ^ x（4）结合性x ^ (y ^ z) = (x ^ y) ^ z三、应用根据上面的这些运算定律，可以得到异或运算的很多重要应用。3.1 简化计算多个值的异或运算，可以根据运算定律进行简化。a ^ b ^ c ^ a ^ b= a ^ a ^ b ^ b ^ c= 0 ^ 0 ^ c= c3.2 交换值两个变量连续进行三次异或运算，可以互相交换值。假设两个变量是x和y，各自的值是a和b。下面就是x和y进行三次异或运算，注释部分是每次运算后两个变量的值。x = x ^ y // (a ^ b, b)y = x ^ y // (a ^ b, a ^ b ^ b) => (a ^ b, a)x = x ^ y // (a ^ b ^ a, a) => (b, a)这是两个变量交换值的最快方法，不需要任何额外的空间。3.3 加密异或运算可以用于加密。第一步，明文（text）与密钥（key）进行异或运算，可以得到密文（cipherText）。text ^ key = cipherText第二步，密文与密钥再次进行异或运算，就可以还原成明文。cipherText ^ key = text原理很简单，如果明文是 x，密钥是 y，那么 x 连续与 y 进行两次异或运算，得到自身。(x ^ y) ^ y= x ^ (y ^ y)= x ^ 0= x3.4 数据备份异或运算可以用于数据备份。文件 x 和文件 y 进行异或运算，产生一个备份文件 z。x ^ y = z以后，无论是文件 x 或文件 y 损坏，只要不是两个原始文件同时损坏，就能根据另一个文件和备份文件，进行还原。x ^ z= x ^ (x ^ y) = (x ^ x) ^ y= 0 ^ y= y上面的例子是 y 损坏，x 和 z 进行异或运算，就能得到 y。四、一道面试题一些面试的算法题，也能使用异或运算快速求解。请看下面这道题。  一个数组包含 n-1 个成员，这些成员是 1 到 n 之间的整数，且没有重复，请找出缺少的那个数字。最快的解答方法，就是把所有数组成员（A[0] 一直到 A[n-2]）与 1 到 n 的整数全部放在一起，进行异或运算。A[0] ^ A[1] ^ ... ^ A[n-2] ^ 1 ^ 2 ^ ... ^ n上面这个式子中，每个数组成员都会出现两次，相同的值进行异或运算就会得到 0。只有缺少的那个数字出现一次，所以最后得到的就是这个值。你可能想到了，加法也可以解这道题。1 + 2 +  ... + n - A[0] - A[1] - ... - A[n-2]但是，加法的速度没有异或运算快，而且需要额外的空间。如果数字比较大，还有溢出的可能。下面是一道类似的题目，大家可以作为练习。  一个数组包含 n+1 个成员，这些成员是 1 到 n 之间的整数。只有一个成员出现了两次，其他成员都只出现一次，请找出重复出现的那个数字。五、参考链接That XOR Trick（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2021年1月27日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2022.08.02: DNS 查询原理详解                                                         通过 DNS 查询，得到域名的 IP 地址，才能访问网站。                            2022.06.03: 字节序探析：大端与小端的比较                                                         今天谈谈一个重要的计算机概念，大家可能都听说过它，但是很少深究，那就是字节序（Endianness）。                            2022.02.04: 万兆家庭网络的时代                                                         最近，我想将家里的网络设备，都升级到千兆。                            2021.12.07: 为什么 Web3 与区块链有关                                                         互联网迄今有两个阶段：Web 1.0 和 Web 2.0。                            广告（购买广告位）云手机                                                              留言（40条）                                                                                                    mguy 说：                                                        请问在浏览器测试 1 ^ 2的值是3,是什么原因啊                           2021年1月27日 10:16 | # | 引用                                                                                                                mguy 说：                                                        引用mguy的发言：请问在浏览器测试 1 ^ 2的值是3,是什么原因啊明白了,二进制...                           2021年1月27日 10:18 | # | 引用                                                                                                                woodong 说：                                                        请问一下，为什么是 A[n-2]？ 不是A[n-1] ？ n-2 好像算出来的结果不对。                           2021年1月27日 10:41 | # | 引用                                                                                                                woodong 说：                                                        引用woodong的发言：请问一下，为什么是 A[n-2]？ 不是A[n-1] ？ n-2 好像算出来的结果不对。明白了，因为缺少一个数                           2021年1月27日 10:51 | # | 引用                                                                                                                saheibe 说：                                                        用异或加密  ，有2个原文和对应的加密结果就可以反推出密钥。                           2021年1月27日 12:48 | # | 引用                                                                                                                王大炮 说：                                                        写得好，非常好                           2021年1月27日 14:00 | # | 引用                                                                                                                MAXIM 说：                                                        引用saheibe的发言：用异或加密，有2个原文和对应的加密结果就可以反推出密钥。怎么反推?                           2021年1月27日 16:26 | # | 引用                                                                                                                emon100 说：                                                        异或交换最省空间，但不一定正确。如下是一段会出问题的C语言代码，出问题的原因是交换时a,b指针指向同一个变量v    int v=1;    int *a=&v,*b=&v;    (*a)=(*a)^(*b);    (*b)=(*a)^(*b);    (*a)=(*a)^(*b);    printf("%d",v);// 0使用普通方法交换时并不会出问题    int v=1;    int *a=&v,*b=&v;     int tmp;    tmp = *a;    *a = *b;    *b = tmp;    printf("%d",v);// 1                           2021年1月27日 17:44 | # | 引用                                                                                                                andy 说：                                                        贴上 力扣上缺失的数字题目 https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/                           2021年1月27日 21:55 | # | 引用                                                                                                                Rivalsa 说：                                                        引用saheibe的发言：用异或加密，有2个原文和对应的加密结果就可以反推出密钥。我怎么感觉一个原文和加密结果就能算出密钥呢？                           2021年1月28日 08:11 | # | 引用                                                                                                                江月 说：                                                        请问大家，'a1' ^ 'a2' == 0 是什么原因？                           2021年1月28日 09:36 | # | 引用                                                                                                                何必 说：                                                        看到老师分享链接的文章也很有意思 翻译&补充了一下 有兴趣的小伙伴可以看看呀 https://juejin.cn/post/6922667752972894221/                           2021年1月28日 12:53 | # | 引用                                                                                                                郭帅 说：                                                        最后一道题目的答案：先把这 N + 1 个数字全部 XOR，得到的值再和 1 到 N 都 XOR 一下，最终结果就是重复的数。（因为它出现了三次，未抵消；其他数都只出现了两次，抵消。）                           2021年1月28日 20:50 | # | 引用                                                                                                                mfk 说：                                                        那个例子和答案不对。例如：1，2，3，4中我少了4，你 1^2^3=0，根本就不是正确的答案。你给的答案是“有很多数字每个出现2次，只有一个数字只出现了1次，请找出只出现1次的那个数字”这个题的。                           2021年1月29日 09:31 | # | 引用                                                                                                                Rigyoku 说：                                                        解法写的是1^2^3^1^2^3^4  和你后面说的应该是一个意思 没问题                           2021年1月29日 16:38 | # | 引用                                                                                                                Dove 说：                                                        使用异或交换两个数字虽然不需要一个额外变量，但是并不能带来性能的提升。（可以从编译后的汇编码中求证）而且这种写法容易导致一种问题，就是 swap(&a, &a) 这种调用会导致a变为0，因此不推荐使用。另外”加法的速度没有异或运算快，而且需要额外的空间”这句话不一定正确。现代计算机中加法和异或运算是一样快的，都只要一个cpu时钟周期。不过处于对溢出的考虑，加法相对不可靠。                           2021年2月 1日 13:15 | # | 引用                                                                                                                ksy 说：                                                        点赞，之前老是感觉异或有些懵，感觉就差一点理解，现在真的是一点就透啊;                           2021年2月 2日 11:11 | # | 引用                                                                                                                Locust 说：                                                        @emon100：这个是两个值的交换，你这个是因为引入了第三个值v，而且跟指针和引用有关系                            2021年2月 8日 11:07 | # | 引用                                                                                                                齐仁 说：                                                        'a'^'b'在js中为什么不是将字符串转为二进制后进行异或运算？是有什么隐情在里面吗？                           2021年3月 2日 15:26 | # | 引用                                                                                                                胡糊糊 说：                                                        最后那道练习的解法应该是把所有数组成员（A[0] 一直到 A[n]）与 1 到 n 的整数全部放在一起，进行异或运算。这样重复的那个数字应该会出现3次，异或计算以后只剩下一次，得到这个数字。编程初学者，不知道解的对不对，望赐教。                           2021年3月 5日 22:05 | # | 引用                                                                                                                乱敲代码 说：                                                        真的是想什么，阮大发什么。最近正在看这块的知识                           2021年4月22日 15:35 | # | 引用                                                                                                                hf 说：                                                        哈哈哈，牛批哦！一直没仔仔细细看XOR的用法分析，今天看到了，很有意思。                           2021年6月23日 14:29 | # | 引用                                                                                                                草色青青 说：                                                        引用Rivalsa的发言：我怎么感觉一个原文和加密结果就能算出密钥呢？用全是1的明文去异或加密得到的加密结果就是秘钥的反，再求反就得到了密文^(1^cipherkey)                           2021年10月 5日 15:03 | # | 引用                                                                                                                梅子奕 说：                                                        引用mguy的发言：请问在浏览器测试 1 ^ 2的值是3,是什么原因啊请问咋用浏览器测试异或？                           2021年11月 2日 16:34 | # | 引用                                                                                                                K 说：                                                        引用梅子奕的发言：请问咋用浏览器测试异或？就f12在控制台console输出就行了啊                           2021年11月 9日 13:56 | # | 引用                                                                                                                edte 说：                                                        最后一题和给的例子是一样的，重复的直接异或为 0，然后 0^x=x，所以和缺失一个数字是一样的。直接与 1.2.3...n 异或即可。                           2021年11月15日 10:41 | # | 引用                                                                                                                阳络 说：                                                        3.4 数据备份。数据备份直接生成x的copy不就好了么？没明白为什么要异或成z进行备份？（奥卡姆剃刀原理，如无必要勿增实体）                           2021年12月13日 06:47 | # | 引用                                                                                                                bgfist 说：                                                        引用Rivalsa的发言：我怎么感觉一个原文和加密结果就能算出密钥呢？问题是都加密了，怎么还能得到原文呢                           2022年1月 8日 17:29 | # | 引用                                                                                                                liweizheng 说：                                                        @mfk：这俩本来就是一个问题啊，是你的解法不对，要把所有数都^起来。                           2022年1月20日 14:59 | # | 引用                                                                                                                liweizheng 说：                                                        引用bgfist的发言：问题是都加密了，怎么还能得到原文呢这是异或的性质啊                           2022年1月20日 15:01 | # | 引用                                                                                                                Kyle_Jehring 说：                                                        @emon100：这种情况是因为在一个地址空间中对自身做异或，因此肯定会出问题结局方案就是在交换之前判断一下a、b指针是否指向同一片地址空间if(a == b) return;按照原文的说法X、Y是两个变量，默认在栈中分配了两个地址，因此原文没问题                           2022年6月26日 12:13 | # | 引用                                                                                                                butui 说：                                                        引用阳络的发言：3.4 数据备份。数据备份直接生成x的copy不就好了么？没明白为什么要异或成z进行备份？（奥卡姆剃刀原理，如无必要勿增实体）因为是备份两个文件                           2022年7月14日 09:35 | # | 引用                                                                                                                缪子龙 说：                                                        写的很好,有两点我记录一下:1. 使用异或做加密算法是对称加密,目前使用不是太多,容易被黑客破解2. 查缺失或者多出来一个数字的问题,可以使用快排后用二分法,速度更快 时间复杂度为O(2log(n)) 一般比O(n)要快的                           2022年10月15日 09:26 | # | 引用                                                                                                                Jeffery@SLC 说：                                                        @缪子龙：我感觉你说的快排然后二分查找的时间复杂度不太对，外层循环不用考虑么？                           2022年12月 5日 07:20 | # | 引用                                                                                                                Jeffery@SLC 说：                                                        例子是leetcode 268. Missing Number，今天刚刚做到，异或确实是最佳的了。                           2023年3月 1日 12:52 | # | 引用                                                                                                                dw 说：                                                        引用mfk的发言：那个例子和答案不对。例如：1，2，3，4中我少了4，你 1^2^3=0，根本就不是正确的答案。你给的答案是“有很多数字每个出现2次，只有一个数字只出现了1次，请找出只出现1次的那个数字”这个题的。前面的例子要将1……n也都放进去。0001B^0010B^0011B^0001B^0010B^0011B^0100B=0100B=4                           2023年10月31日 20:14 | # | 引用                                                                                                                徐 说：                                                        我觉得XOR理解为“存在差异的OR” 可能更好理解一些                           2024年9月 9日 19:15 | # | 引用                                                                                                                阮二峰 说：                                                        我不太明白異或這個運算跟『或』有什麼關係，其實就只是『異』吧？                           2024年10月12日 11:15 | # | 引用                                                                                                                阮二峰 说：                                                        引用徐的发言：我觉得XOR理解为“存在差异的OR” 可能更好理解一些还是不太好理解，因为就是“存在差异”，后面的“的OR”可以去掉                           2024年10月12日 11:17 | # | 引用                                                                                                                许大仙 说：                                                        异或，就是找茬（很多游戏中，两个类似的图片，让你找出图片中的不同点）。在数学上，异或就是差集！！！                           2024年11月15日 16:02 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9be85a42cf45',t:'MTc0MzI0MzM1Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2021/01/_xor.html
2003年的网络照片（转载） - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    2003年的网络照片（转载） - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：&quot;超级碗&q下一篇：我也爱Firebird                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              2003年的网络照片（转载）                                                                                    作者： 阮一峰                                    日期： 2004年2月 6日                                                                                                                                            这是在网上看到的，我什么也不说了，让照片自己来发言吧。                                                                                                                2003年的网络照片1. 2.（作者：安鹤杰， 拍摄于内蒙古赤峰市新华街菜市场）塞外的春天乍暖还寒。4月的一个早晨，天空飘洒着纷纷扬扬的雪花。一个中年男子的菜摊车上坐着一个小男孩，孩子用给菜保温的被子围着，父亲不时用手给儿子掖掖被子。作者说："在阴暗的背景和漫天飞舞的雪花的衬托下，儿子稚嫩红润的小脸与父亲饱经沧桑的脸形成对比，父子俩面对生活的艰辛相依为命，特别是父亲使劲发出叫卖声时，脸部表情感人力度之大，使人看后心灵为之震颤。3.这就是生活在贫困山区的父子，他们一生别无所求。只求有一块属于自己的土地。也许一辈子他们都不知道外面的世界是什么样子。他们没上过楼梯，没打过"的士"，没进过电影院，可就是朴实勤劳的人们一代代的供养着我们。皇天厚土无以回报。爱他们吧，至少在感情上尊重他们。否则我们还谈什么人性？4.哭泣的老人城管走后,哭泣的卖红薯老人。这个在街上卖红薯老人的三轮车链条被城管人员剪断，前轮钢丝被城管踩断。城管干完就走了，他靠着墙哭泣。好心的路人纷纷向老人施出援手，大家帮他把钱收到怀里。中国人是很好面子的，这个草民也有面子。他现在不能要面子了，老泪纵横，必是伤心到了绝地。因为，他得吃饭，他是个老人，所以他做不了民工，他也没力气去偷抢，他是个男人，所以他当不了妓女，卖不了淫，他也得活呀！！！你不让他卖东西也许是对的，那你给他指条活路呀！关注社会最贫困人群的生计问题，是到了非解决不可的时侯了。5.再看看我们伟大的城管矛盾的激化在于两方面：生计和规则。城管殴打无辜人员，使之致残是对的吗？难道不该受到法律的制裁吗？我们只是个下下草民，没有什么说话的份量以给这些受不平对待的人一个公道，但只希望能引起广大朋友的关注。6.王致中17岁, 在贵州以背煤为生。一筐煤40公斤，从煤坑向上爬100米，然後再走1000米山路，挣1元人民币...试想一下：让木子美背一筐煤（只20公斤），从煤坑向上爬50米，再走500米她还能有那么大的性欲？7.当代矿工每次都有冲动。现在的社会，对于许多白领而言，是一个享乐主义的社会。仿佛纪律、严谨、敬业、吃苦这些东西，都已经完全过时。仿佛只有瞬间快乐才是人生的最高追求。仿佛孝顺、奉献、牺牲、宽容都是愚蠢。仿佛美貌、气质是可以超越家庭利益的东西，所以有些所谓才貌双全的美女一心要嫁给老外，以此享受一种高品位的生活！仿佛财富、知识是可以用来超越公司利益的东西，所以有些人高级白领无所用心，不思进取，还美其名曰：注重生命质量！我完全支持，人可以追求自己更高的生活质量，但是，我更加坚信，只有能够为社会创造价值，为家庭创造价值，为朋友创造价值的人，他们的人生才是有价值的，本质上自私的人，他们的生命终将是苍白的！8.真的纤夫！（那有几多爱？） 天府的脊梁我想，没有什么可以打动我了，除非涉及到我和我的家人。但是我错了。今天朋友发来一些图片，有些看过，有些没有。但是当如此之多的图片摆在面前的时候，那种强烈的的视觉冲击和久违的震撼深深的打动了我，我感到自己的心那种深深的痛9.同在一片天空下这就是那张在网上广泛流传，引起了无数争议的照片。我想，这张照片最大的现实意义不在于它揭示了社会巨大的贫富反差，更让人揪心的还在于－－当这两个孩子长大之后，我们又该用什么来保证他们所代表的两个阶层的和睦相处？10.拾荒者（母亲是这样老去的）当我们肆意挥霍着自己的青春和金钱，当我们在风花雪月里无病呻吟的时候，当我们还在论坛里争论会不会在意自己的爱人是否是处女，当我们在闲暇的时候高呼无聊的时候，有谁想起了他们呢？11.母亲12.父亲的怀抱----他们看到了什么？是光明吗？是希望吗？要完全消灭贫穷那是不可能的，可是也没有一个人是生下来就必定要去承受这种生存方式，所以我觉得最重要的是应该给每一个人以机会，改变自身环境的机会，能够离开无知，贫穷的境遇。13.生活的旋律14.暖气？想不通的是，阳光灿烂的今天，还竟有这么多的悲凉？15.我的家，我的车，我的工作室关注弱势群体16.同病相怜----到底是谁在帮助穷人？1、不公平来源于社会体制和制度。2、授人以鱼不如授人以渔。3、解决贫富差距的一种途径是改变受教育机会的不公平!17.给点吃的吧中国农业、农村、农民的话题，当然了我们都生活在城市中，在享受着城市提供的公共服务，但不要忘了中国是世界上为数不多的，还在向农民收税的国家之一！GDP的增长是以不给八亿农民提供公益服务、不提供最低生活保障、不用发退休工资.....甚至没有医疗保障，为代价的！我呆的地方不是中国最贫穷的县，但是每天都能遇到为了医疗费用方弃治疗的患者（我是医生）；每逢到了春节、学生开学、收农业税时，服毒患者骤增，问原因各不相同，但归结其根本总是一句"唉，经济不行么！"18.我好饿人民的贫究不是一二日所能解决的,我们国家所能做的就是在全国形成一股强大的势力来反贪污,只有这样才能真正解决我国现在所面临的形势严重的贪污问题,而只是用几个有数的贪官来摆摆场是不够的.19.太饿，偷了一块面包结果......20.北京贫困人家中国现在的贫富差距是值得一提贫困的人们难道就不值得大家的关注吗？我们可是社会主义国制里的公民人人平等~~而同在一片天空中~为何所受到的待遇却如此让人难以置疑？难道这是我们希望的小康？新世纪的经济我们现在得高度重视这些社会低层人士不然社会将会失去平衡~~~当我看完这张照片后我的心已酸~泪以掉，为什么因为我是中国人~还算有点同情心~~但在很多方面我显得是心有而力不足这些是需要中国人民政府的重视才会得以缓和的~21.辛苦了一天我虽是个老粗，我衣不蔽体、食不果腹，我的秋裤早就没有松紧带了，上面还有许多"通气孔"，现在正查钞票的手指上布满老茧，可我不欠谁的。每当深夜回家，看到破窗内隐隐亮光，知道亲人在等我，幸福之感盈溢。每当带回一点点最廉价的小礼物，看见孩子欢呼雀跃，那是何等的快乐！我不会说什么文邹邹的词，但我知道，我真的不羡慕你，我可怜你。22.上海之春...........很对人把这当作笑料，可是有谁反思过现实。23.午睡这个世界本来就是这么现实的若是要感慨,那值得感慨的也就太多了但,终究谁也做不了谁的救世主如果我们每个人都能做到&quot;行之心之所安&quot;也就足够了.24.家25.做饭这每一张都能给人深深的震撼.但是如果诸位只是现在才发现中国存在着这样的一面,那么我建议大家到图书馆去查一查有关近代中国的图片,那些真正令人惨不忍睹的图片.全世界都承认中国现在处在一个高速发展期,农民境况的彻底改善取决于全国的发展和正确的农业政策.我想更重要的问题是:我们自己能够做些什么?26.下雪了各位悲痛、悲愤、怜悯、悲悯、震动、触动等等。。。。。。都是因为各位做在房间里，有电脑，还能上网，刚吃过饭，或者边上网边吃着零食。。。。呵呵，说不定在搞网恋，看美女。。。说不定您窗外就有人在忍受饥饿，寒冷，对于明天怎么活，还不是很清楚。满脑想的是，今晚在哪睡，到哪能弄点吃的。。。。。相信这些您窗户外边的人要是看了以上照片，就不会悲痛、悲愤、怜悯、悲悯、震动、触动等等了。。。顶多看了那幅尸体照片，27.各大论坛骂声最高的图请问，你的历史良心在哪里？？？！！！28.雨人29.雨中曲我们现在生活的社会在飞速发展，社会物质财富越来越富足，我们、我们后代生活的越来越轻松。我们把人类从在与大自然几千年的斗争里，只用了二三百年就解放出来，却感受到前所未有的虚无与空虚，于是我们扔掉以前所有的价值观，试图改变自己的生活方式与行为模式来寻找和建立新的存在与意义；可是在我们、我们的后代的生命历程中，能留下些感触和印迹的人和事越来越少；我们生活在信息垃圾里我只是想告诉大家：只有经历了生活中的苦难，或真正理解了别人生活的苦难，才能更深入认识到生命本质的意义，和自我的存在，掌握正确的生活方式。30.贫苦的盲人夫妇其实生活原本就很残酷！我们对一些事情可以相帮，但是绝大多的时候我们是在漠然的观看。人性是最好的注解-同在一片蓝天之下的我们仅仅是漠视着比我们痛苦的人的生活，虽然我们一直在急呼帮帮他们，但是真正帮助他们的又有些谁呢？我们需要反思！难道人性中的善就真的那么难以表达吗？ 人之初，性本善！？ 但是善良的人又有几个？？？今天的你我或许会帮助他们，但那只是偶尔的相助，更多是时间我们又在做些什么？？ 伤害，无尽的伤害！ 不管你是一种怜悯还是一种悲哀。 这个社会给予我们的都很公平吗？ 不！ 在很多是时间，社会给予我们的并不公平。我们一直在抱怨着，愤恨着。但是看看他们。他们给我们心灵上的震撼，给我们一种从来没有过的冲击。让我们怎么去想呢~？？？31.我只想要回我一年的工钱而已每个人对苦难的理解并不相同，其实这些物质生活已得到极大满足的人还不是很可怜，万恶之源的金钱给你们带来了什么？神经衰弱，高血脂，肥胖的走不动路的硕体，担忧财产，夫妻隔膜，孩子缺少爱心，空虚的灵魂，盲目的自大，脆弱的自尊。。。。。32.英雄探亲 （记录类金牌奖 袁学军 ）男儿一跪仍英雄！张良善永远不会忘记1992年。那年10月，他即将分娩的妻子何桂丽患感冒住进了医院。当时，要拉上山的油罐已准备好，次日一早就出发。车到狮泉河，留守处把电话打到分区，说张良善爱人第二次住院，即将分娩，是难产，挺危险的。他驾着汽车在高原飞驰，大车要5天才能走完的路，他用了1天1夜就赶完了。到叶城时，孩子已经夭折，妻子也因大出血生命垂危。他在医院守了15天，在妻子弥留之际，他含泪问爱人还有什么话要说，爱人只是摇摇头，好半天，才流着泪说，以后跑山上的路，要慢一些。他悲痛欲绝地埋葬了妻子，然后去买了两袋水泥、一些沙石，要亲手给妻子立个墓碑。墓碑做好了，还没刻完碑文，他得知营里要往阿里送一批战备物资。张良善主动请战，他说，我要用这种方式表达对爱人的悼念之情。他又一次战胜了阿里。从山上下来后，他在妻子的墓碑上刻下了碑文。33.我就这样存在在这个世界，站在那里，走过那里，冷眼旁观着周围的与我无关的人与事，偶尔开一些与人无碍无益的玩笑。 或许这个也需要我们思考些什么......34.一老教授手举木牌独自上街游行----抗议中国教育收费"任何学校都不能以学生为赚钱的对象。没有哪个国家把学生作为商品和财源来榨取的。"我们敬佩老年人的勇气！现在，学校真的成了赚钱的机器，大学每年学费是前几年我上大学时好几倍。可是，学生的质量提高了吗？又有多少人能够不借债把大学念下来呢？那没钱的农民的后代呢？难道农民的后代永远就是农民吗？！！！谁也不能忘了这个......35.曹会龙，八岁，贵州省峨嘎村小学学生他最宝贵的："一个布书包" 　原因：他没有回答，只是微笑。会龙没有布书包----为了拍照他向同学借来一个。他自己的书包是一个四百克洗衣粉塑料包装袋。曹会龙的一天：六时起床，吃早饭，八月至二月吃粟米或三月至七月吃薯仔(小孩一般一顿吃十个薯仔，成年女性十五至二十个，成年男性二、三十个)，做家务，回到只有一个课室的学校，午饭吃粟米或薯仔，照料家里的两条牛、三头猪和十八只鸡(他对家里有甚么了如指掌)，跟小朋友追逐或玩其它游戏，八点晚饭吃粟米或薯仔，偶尔还有红豆，然后上床睡觉。你觉得会龙留长头发像女孩子吗？当地的一个传统是小孩不会剪头发，直至家里经济条件稳定，小孩的幸福有了保证。在峨嘎村有好多貌似女孩的孩子36.21世纪的希望下面几张照片让我构想起了很多的事情~特别是一些贫困山区里的失学儿童、退伍老军人、残疾人等~~他们的生活是如此的艰辛而~~~~~不想再说啦37.教室38.校舍，宿舍39.我想读书40.那天，我们可以读书了，我们高兴了，爷爷却哭了41.农家子弟的午餐（全日制教育的写照）42.在这里，我们的孩子，我们的未来，却只能在这样晴天四面风，雨天八方水的教室里苦苦求学......43.最震撼的呐喊44.无怨无悔的老师45.这是中国教育制度的悲哀，我希望每一个中国人都能够看到这些照片，来唤醒亿万中国人的人性，发挥我们智慧的本质，来救助这些人，这些上帝对待不公平的无辜人！中国人有时侯太过做作了，总是把不好的东西掩盖、领导一次次视察又有用吗？46.安徽省临泉县城关镇刘老家村11岁的刘小环为了能上学，每天去给一家窑厂背砖坯，她每次背16块，重40公斤，走140米，只得3分3厘工钱。47.为了救学生，这位老师的人生停止在这里48.某女明星在这里做秀卖烤肉串，结果她烤出来的还带着焦糊味的五串烤肉串被一个老板以17888元的天价买走，而这位老板买下肉串后，随手就递给了旁边的一个小孩。49.弱女子横尸街头全街人冷漠坐视,慨叹人性的丧失！对于那些已经丧失人性的烧杀抢夺的人,我们国家应该严格执法,一判处死刑,反正这样的人已经对国家,对别人已经没有什么用处,中国有的是人,不是吗? 图片上软弱女子横尸街头的镜头使我感概万千,我是个没有见过小愉没有见过死人的女子,我不能想象这个世界竟是如些的肮脏.真心的希望我们的国家执法再强硬一些.50.伊拉克并未给他带来快乐！老了！！！51.3月27日，在伊拉克巴士拉城外，一名伊拉克女孩惊恐地注视背枪的美军士兵。伊拉克战争是2003年国际社会最重大的事件之一。战争给这个古老国度带来深重苦难......52.非典婚礼今年4/5月份的这场疫病，在北京本来是可以避免的。。。它给我们国家带来了很多不必要的损失53.杨利伟！我们飞上去了.第三个载人航天国家.中国(China)54.饿55.转文字:路边见要饭大叔，与孙席地而卧。恻隐之心，询问何故？大叔见俺拿相机，慌忙起身，掏出"中华人民共和国公安部制的居民户口簿"说："俺有证件，不要，不要"。俺说：别怕，俺不报告。　　 与其交谈得知，大叔名叫郑占士，安徽临泉县迎仙乡人氏。43年生人。67-70年当过兵，后复员返乡，娶妻生二子一女。不想，大儿病死，儿媳妇改嫁，老婆又疯了，一子一女外出，只留爷孙相依为命，家里几亩田养不活，一亩麦子收160元，80元要上缴，种子化肥等要60元，几乎辛苦一年没有什么收入。无奈爷孙南下讨饭，天当被，地当床，走那算那。大叔与小孩那无助的目光，深深地刺痛了俺久已麻木的人性。不知怎么俺想起了白居易的《卖碳翁》,那个"可怜身上衣正单,心忧碳贱愿天寒"的人...，那个时候外出也有证件吗？看着大叔手里紧紧捏的居民户口簿，俺的眼眶湿润了，给小孩一点钱赶快离开了。俺们的农民真的苦56.电子科大捡破烂的老教授......这个人曾经是电子科大的一个教授说明：这个老人每天都在学校里穿行，拾垃圾桶里的破烂，开始不知道他是谁，十分厌恶他，可是当我听了我师哥的讲述后，彻底的转变了。他是科大的教授，文革受到迫害，十分的惨。平反后却对国家没有一句怨言，现在把每个月工资全捐给了希望工程，自己捡破烂为生，不仅这样，如果每月有多余的钱也全捐了出去。多么高尚的老人！！！！！！他如果享受起来，比很多的人都好，她的儿子女儿全在国外，每月都给他寄很多钱，他却全捐了出去，这样的老人难道不值得大家尊敬吗？57.乞儿58.这一幕，城市中生活的你有没有目睹过？你的心灵曾为此震撼过嘛？59.大学校园里靠吃垃圾活着的小孩他母亲最多25岁，在大学篮球场上捡矿泉水瓶来养活他。这小家伙的父亲我倒没见过注意他身上的线。每天他都被栓在电话亭旁。他母亲在篮球上劳动（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2004年2月 6日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（49条）                                                                                                    pin 说：                                                        贫 穷 二字的份量……                           2004年2月 7日 10:48 | # | 引用                                                                                                                曹星驰 说：                                                        我不想多说，我想我会尽我有限的能力来改变一些事实，但首先我会改变我自己。                           2004年3月 7日 14:32 | # | 引用                                                                                                                kaimoer 说：                                                        被所有的光拒绝后黑暗便开始显现威胁着进入一切容器然后成为永远不再改变的固体该记住的忘记了该忘记的记住了只有光会记下这所有的一切让生命有新的轮回所以请善待身边所有所有的人不论贫富永远的用真心去关爱他们                           2004年4月 3日 21:45 | # | 引用                                                                                                                xue 说：                                                        看了这些图片,不知道该说什么好,这就是贫穷!!!!!心里压的好难受!对于我们这些有着安乐生活的人来讲,他们的痛苦我们永远无法体会,从这里看到了中国的现状,发展再快,发达程度再高,解决不了三农问题,什么都是废话!!!悲哀啊!差距!                           2004年4月 9日 00:20 | # | 引用                                                                                                                XeeQee 说：                                                        麻木的玩偶~精致的象牙塔~我们就是这些遭受苦难人们的骨肉同胞啊~!我们就是这个国家承载希望的人啊~!可是我们居然麻木至此~我们的悲哀?~~他们的悲哀?~~我祖国的悲哀?~无语了~~我知道不可能扭转什么~我知道我改变不了什么但我知道~~从此我将不再是麻木的玩偶~                           2004年4月 9日 00:36 | # | 引用                                                                                                                孟昊 说：                                                        我是中文系的学生,最大的愿望是毕业后成为一名记者,做一名报道真实的记者,把这些都说出来,唤起大家的人性.我痛恨那些所谓的规则,那些维护"规则"的刽子手,难道你不曾贫穷过吗?那些中年人有几个没受过苦挨过饿?人怎么会变成这样呢?我思考,是什么改变了他们,我不要也被改变.希望你们也不要                           2004年4月 9日 21:26 | # | 引用                                                                                                                无花蔷薇 说：                                                        有一句歌词——“是你变了么”。是谁在变？我不否认，自己也曾在乞丐身边溜走，不敢抬头，因为好多人说，他们是假的，他们比你富有。有时也会“施舍”点什么，觉得，如果他已经在伸手，起码在精神上，他已经是一个“弱者”了！可是，真正的穷人，就这样被假乞丐“陷害”了！可笑么？生活的逻辑是——骗人与被骗。谁是心灵上的上帝，谁是行动上的基督，有时，这两者的举动也是假的。这个时代，我们该信什么？格外、无比的崇敬，献给电子科大的老教授！！！                           2004年4月21日 20:43 | # | 引用                                                                                                                傻的可以 说：                                                        我是农村的，许多事情我也见过。   许多都是由于知识的问题。许多都是无能的腐败的官员的问题，有的农民没饭吃，可乡上的官员却拿饼干喂猪，打死了人，还是室外监刑，人还照样风光。其实许许多多贪官都在农村，贪污的不一定就比市长的少！                           2004年5月15日 06:59 | # | 引用                                                                                                                弱者 说：                                                        我不清楚国家有什么法律赋予城管有如此大的权利，他们可以不经过任何法律程序就可以处理公民的财物，可以随意销毁一切，不管你是年轻的，还是比他奶奶还老的人，只要他想，你就无法躲过。他们藐视宪法，随意剥夺你的人身自由、你的人格尊严、更不用说你的那一丁点的但却是你的全部财产。在他们的眼里没有国家的法律、他们就是法律！                           2004年5月16日 22:47 | # | 引用                                                                                                                冰凌 说：                                                        说什么呢？我很难过，我看着这些却什么也不能做．　我从小的愿望就是将来长大尽自己最大的努力去帮助　那些生活在饥饿边缘的人们，我在乡村生活过，知道　很苦，我现在加陪学习，为的是以后作自己喜欢的工作，　去帮助那些被社会所冷落的人．　爱心，爱心真的很重要；善良，善良真的很需要；　钱能干什么呀，拿那么多的钱能干什么呀，　来也空空，去也空空，　最终什么也没有，又何必贪恋一个钱字呢？　请伸出你的手来，哪怕是一点点，　请交出你的心来，收起你的冷漠，哪怕一点点，　每个人都拿出一点点，社会会改变很多的．．．．．．                           2004年5月22日 13:41 | # | 引用                                                                                                                侯江 说：                                                        对于很多类似的事情 我们在同情的 背后能做点什么呢我们个人的力量也仅仅是解决他们一顿饭的事情 他们需要的是社会政府的帮助 我期待着   我们期待着。。。。。看过后内心的震撼 内心的痛苦  是每一个有良知的人的表现我们能做到的是 把握我们所有的条件 走好我们的路 不要再有遗憾 不要再有辛酸 不要再有痛苦 不要再有泪水 不要再有。。。我此时 哽咽了 不知道该说什么 能说什么 我把网页保存在我的电脑里了 我会用它来当作我的一个警示一个动力 每当我打开电脑工作，学习，娱乐的时候我会看到它 想到它 我就知道我该做什么 怎么做愿天下所有的人能幸福美满和谐！！！！！                           2004年5月25日 03:24 | # | 引用                                                                                                                li 说：                                                        去年我们单位资助了一名小学生，首次资助了200元，学校老师建议让学生把钱交给家长，并一再叮嘱此钱用于日后交学费，这样也可减轻家长的负担，但是直到有一次学校收取几十元的学杂费，此学生的家长来到学校问是谁资助他的孩子的，希望再资助一次，帮忙替交这次的学费。老师就问那200元呢，家长说交房租了.....。哎....，我们该怎么办？我们本想去学生家里看看的，看看是否能适当的解决以下他家里的困难，但是我们面对这样的家长（他们确实困难）如此的思维....，我们没有了思维....。                           2004年5月27日 17:25 | # | 引用                                                                                                                HONIA 说：                                                        这个社会的不公平和不公正岂止这些！！我们每一个生活在安逸生活中的人都应该思考怎样才能避免这种情况的再现。而不是那样无动于衷的观看和漠视！我们的茫然只能使他们永久的处在水生火热当中。这样违背我们的良心。                           2004年6月17日 19:17 | # | 引用                                                                                                                侯江 说：                                                        只要人人都献出一点爱世界将变成美好的人间                           2004年6月22日 11:26 | # | 引用                                                                                                                陆杨 说：                                                        世界上本来不公平的 事情就很多很多 ，我们能怎么办？我们  又能做点什么了 ？我们谁都有罪，很深的罪孽 ……                           2004年6月27日 12:15 | # | 引用                                                                                                                我本善良 说：                                                        这就是所谓的社会主义中国吗 ?这就是所谓的小康社会吗?如果是的话,我就不理解了.中国的强大,还认重而 道远                           2004年6月29日 20:06 | # | 引用                                                                                                                安猪 说：                                                        看完了整个网站，收获很大。最震动的这个帖子。的确，我们需要做许多许多，才有可能使这个世界有一点点的改变，即便如此，也只是可能而已。但是，这不能成为我们不作为的理由。我想，每个人都应该问问自己：我能为这个世界做些什么？即便现在不问，也不能逃避在归去之日，在天堂或者地狱的门前，被相同的问题所质询、所审核、所判决。而那时，你的灵魂将没有任何可以回避的余地。                           2004年7月 1日 03:16 | # | 引用                                                                                                                钻石尘 说：                                                        照片是一种记录时间的工具...看过君以上照片 !!!!震撼 没话说了!!! 在我们身边时时刻刻都在发生一些事情 只要每个人都能仔细观察回发现我们的心灵原来每时每刻都在[被]震撼着!!!  有几句话是古人留下的:   菩提本无树,明镜亦非台.本是无一物,何处染尘埃?   我想在后面加几句 于是道:  尘埃即落地,无心赏乱息.清明笑夕恋.静盼楠来祭......                           2004年8月 5日 14:57 | # | 引用                                                                                                                鲨鱼AAA 说：                                                        这就是具有中国“特色”的社会主义吗:???                           2004年8月15日 23:04 | # | 引用                                                                                                                肖肖 说：                                                        说多了都是故事 多做些实事 帮帮别人 从自我做起 从现在开始 比起照片中那些灵魂高尚的人 才发觉自己原本不配做人 至少不是一个合格的人 停一下自己匆忙的步伐 关注一下周围的生活吧                           2004年9月 1日 19:30 | # | 引用                                                                                                                温翔峰 说：                                                        什么是贫穷？什么是无助？这就是。为了将来，我们能做什么？                           2004年9月22日 19:34 | # | 引用                                                                                                                changhe 说：                                                        这就是我们伟大的祖国吗？？我忍不住自己的眼泪，虽然我曾经以为自己已经无泪了。冷漠的自我，这是我们所要的吗？？有几个人可以象那两位伟大的老人那样牺牲？？？？我们还能怎样自问？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？                           2004年9月28日 11:21 | # | 引用                                                                                                                changhe 说：                                                        我们能做的并不多，但是我们可以改变自己的生活。只要一个动作，就能改变许多。。。。。我不知道那些照片中的人物看到这样的自己会有怎样的感受。但如果我是那个坐着的女孩，我一辈子都将无法抬头面对自己。                           2004年9月28日 11:26 | # | 引用                                                                                                                changhe 说：                                                        我也是一个为学费而苦的农村孩子。曾经以为自己很悲惨，但我至少生活的下去。在那么多人寄希望于教育时。教育却扼杀了更多的人。希望这社会倒退20年。！！！！！！！！！！！！！！！！！！                           2004年9月28日 11:31 | # | 引用                                                                                                                小小鸟 说：                                                        这样的图片光让我们老百姓看有什么用？得想办法让我们的公仆们也看一下啊！                           2004年11月15日 22:24 | # | 引用                                                                                                                我不怕 说：                                                        看了这些图片与各位大虾的“肺腑之言”后我已经没什么话说了！！！！   因为在这里讲多了也意思！！！！！我知道这是在论坛里的不讲就什么都不是！所以要讲！！！！但大家都只会在这里“放屁”放完屁了—没了！过了！舒服了！一出门就遇见一个要饭的“他运气太好了”一定赚！不用我说了，大家都知道！    但过了几天，遇到了像上图的那些真正可怜的人的时候，谁又会去真正的施舍他们点什么呢！！！！！哎！！！！这就是人性！！！！！可悲！可奋！但又很可怜的人性！！！！！                           2005年1月22日 22:04 | # | 引用                                                                                                                我不怕 说：                                                        在这里还要感谢一锋！！！！谢谢                           2005年1月22日 22:06 | # | 引用                                                                                                                秋水 说：                                                        这是我们的祖国吗？我也是生活在农村的，但我真的不知道我们国家还有这样的平穷的地方和孩子，我看得都要哭了，我是一个在校大学生，我们过的是怎么的生活啊！                           2005年5月22日 07:23 | # | 引用                                                                                                                bobo1010 说：                                                        该说的大家都说了!格外、无比的崇敬，献给电子科大的老教授！！！                           2006年8月22日 15:30 | # | 引用                                                                                                                意义 说：                                                        我说以后我会去支教，我的一个大学同学回答说你想去就能去吗？谁让你去啊？还说他们家乡因为支教而让一些教师下岗。支教就是抢人的饭碗啊。他说。他的话让我很压抑。我不知道这个社会是怎么了。但是我知道很多人都被社会给同化了，有理想的人、善良、正义的想法遭到嘲讽和无情的评论，似乎那是幼稚可笑的事情。而自私才是他们所欣赏的，财富才是他们所梦寐以求的。这多么可怕，善良的人生存那么难，善良的人想做点事情那么难，善良的人要保持善良是那么的难，唯金啊唯金，如果我们的政府只是主张个人创业，所有人都自顾自个，那么干脆大家回到原始社会得了，还要这个政府干什么？                           2006年11月 5日 01:29 | # | 引用                                                                                                                尔辽温丁 说：                                                        和拥有资本、技术、资金者相比，除了拥有自己之外一无所有的劳动者，能够出卖的就只有劳动力，甚至有时候能够出卖的还包括尊严，健康和生命                           2006年11月 6日 10:29 | # | 引用                                                                                                                rainstar 说：                                                        引用changhe的发言： 我们能做的并不多，但是我们可以改变自己的生活。只要一个动作，就能改变许多。。。。。我不知道那些照片中的人物看到这样的自己会有怎样的感受。但如果我是那个坐着的女孩，我一辈子都将无法抬头面对自己。不同意。那个抱着的孩子不小了，至少不是婴儿吧，经常碰到人为了一个座位把精力旺盛的坐不住的孩子抱在手上来博取同情，比较起来更BS这种行为。你真的认为这样大的孩子站着乘车该照顾么？反正我遇到这类情况是不会让座的！                           2007年1月14日 18:22 | # | 引用                                                                                                                321 说：                                                        。。。。。。。。。。。。。。最后一张照片让我怀疑所有照片的真实性因为那张照片就是在我读的大学拍的恰好就在我以前住的宿舍的旁边那小孩儿并不是以拣垃圾吃为生的                           2007年7月10日 10:59 | # | 引用                                                                                                                sunshine 说：                                                        还好楼上发出了不同的声音，“一致同意”不如看cctv新闻联播算了。另外题目有点大，“2003中国催泪弹照片特辑”应该更准确。                           2008年6月14日 12:33 | # | 引用                                                                                                                maimai 说：                                                        "want go to school"  ------  一直暗暗希望不是那个英语老师的错,而是孩子自己记错了                           2008年6月21日 11:33 | # | 引用                                                                                                                花自开自落 说：                                                        看哭了。谢谢Ruan Yi Feng,虽然不认识你。                           2008年7月19日 15:01 | # | 引用                                                                                                                田志中 说：                                                        先斩后奏用了 您此帖的照片 不会 怪我吧  谢谢                           2008年8月25日 09:54 | # | 引用                                                                                                                湛蓝 说：                                                        看到我要疯了！！！现实，我日！也太不公平，太不公平了！越弱小越欺负，那些城管有没有良心啊！我知道世界上总有阳光照不到的地方，可是也太多了吧！心里难受，下机。                           2008年10月18日 00:17 | # | 引用                                                                                                                Christina--Ji 说：                                                        富人过的很奢侈穷人过的很卑微什么时候可以看到那些可爱的人们不再为生计而发愁？只能无能为力地流泪着······                           2008年11月17日 16:46 | # | 引用                                                                                                                虞雯 说：                                                        这篇的题目应该是“叫我如何爱这个国家？”超出我们范围的事，叫我该如何是好？我能给乞丐多少钱？能让富人不去花那么多钱追求女星？                           2009年1月 4日 18:38 | # | 引用                                                                                                                人生过客 说：                                                          人类的人性呢···？改革开放改革成这个样子了吗··  老百姓跟着共产党走是对的吗··？同样是人为什么又这么大的差距呢··？                           2009年2月 1日 13:32 | # | 引用                                                                                                                恒沙若闻 说：                                                        也许现在看完了并不能真实地为别人做点什么，但我们应该在心中记住，还有很多人需要帮助。当我们有能力的时候，一定要做一些力所能及的事情。                           2009年2月 1日 16:04 | # | 引用                                                                                                                Timesand 说：                                                        阮兄，你拥有一颗可贵的正直善良的心，在你的网志里，我们时时感受到一种正义的呐喊。很感动。谢谢你，                           2009年8月14日 14:17 | # | 引用                                                                                                                Jimbo 说：                                                        找到一种感觉叫血脉喷张，眼眸一颗闪亮叫感动。                           2010年8月17日 11:39 | # | 引用                                                                                                                回去 说：                                                        了解了许多作为一个90后不知的事情，看来不是那么美好！                           2016年1月21日 11:20 | # | 引用                                                                                                                无名氏 说：                                                        感触很深                           2016年8月25日 14:02 | # | 引用                                                                                                                刘毅 说：                                                        虽已过13年，但并无消失的可能。谁都应该去反思。                           2017年3月 9日 13:41 | # | 引用                                                                                                                Bella 说：                                                        感觉文章中对照片的评论有很强的主观性。                           2017年8月18日 11:02 | # | 引用                                                                                                                Jason 说：                                                        引用孟昊的发言：我是中文系的学生,最大的愿望是毕业后成为一名记者,做一名报道真实的记者,把这些都说出来,唤起大家的人性.我痛恨那些所谓的规则,那些维护"规则"的刽子手,难道你不曾贫穷过吗?那些中年人有几个没受过苦挨过饿?人怎么会变成这样呢?我思考,是什么改变了他们,我不要也被改变.希望你们也不要今天了，你变了吗                           2024年9月11日 17:25 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9c14ddf6cf45',t:'MTc0MzI0MzM2NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2004/02/2003_1.html
&quot;超级碗&quot;广告在线收看 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    &quot;超级碗&quot;广告在线收看 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：Google的应用（第下一篇：2003年的网络照片（                                                ⇐&nbsp;&nbsp;⇒                                                              "超级碗"广告在线收看                                                                                    作者： 阮一峰                                    日期： 2004年2月 6日                                                                                                                                            北京时间2月2日，第三十八届美式橄榄球超级碗在休斯敦雷里恩体育馆开赛，这是美国一年中收视率最高的节目，它插播的广告也是收费最贵的。只有精心制作，巨额投资的广告才会在这个场合亮相。                                                                                                                根据新浪上的新闻，30秒的广告代价是225万美元。所有广告的播放费的总和在1.3亿美元以上。下面就让我们在线收看所有的"超级碗"广告吧。共有两个网址可使用：1、iFilm:http://www.ifilm.com/?sctn=collections&pg=superbowl20042、USAToday:http://www.usatoday.com/sports/football/front-admeter.htm  根据《今日美国》报的在线调查，最受欢迎的是Anheuser-Busch 公司以小狗为主角的幽默啤酒广告。下面是所有广告的简介，及其排名。            10         most popular              Company      Description      Score              Bud Light      Owners demonstrate how their         dogs fetch Bud Light.                        9.04                            Pepsi      Bears find food and an empty Pepsi cooler in a         cabin.                        8.88                            Budweiser      Donkey dreams of being a         Clydesdale.                        8.83                            Bud Light      A romantic sleigh ride goes amiss.                        8.62                            Frito-Lay      Grandma and Grandpa fight over a         bag of Lay's.                        8.50                            7Up      Rolling slam-dunk contest.                        8.45                            Bud Light      Dale Earnhardt Jr. returns         lipstick.                        8.34                            Budweiser      Referee tunes out coach angry over call.                        8.18                            Bud Light      Cedric gets an unexpected spa         treatment.                        8.07                            Nextel      Dale Earnhardt Jr. scores TD in racer.                        7.89                            The         rest              Bud Light      A man's pet monkey makes a move         on date.                        7.85                            Chevrolet      Kids eat soap for uttering expletive at sight of         new Chevy pickup.                        7.73                            Sierra Mist      Man and dog jump from apartment         into ice water pitchers.                        7.58                            America Online      Mikey makes an Evel Knievel jump.                        7.52                            Pepsi      Pepsi, waitress help restore         man's faith in love. Spike Lee directs.                        7.45                            Pepsi      Young Jimi Hendrix chooses Pepsi over Coke.                        7.45                            Charmin      P&amp;G's bear switches Charmin         for football player's towel.                        7.41                            Sierra Mist      Bagpiper in parade cools off in a creative way.                        7.32                            Anheuser-Busch      Tim McGraw for a designated         driver message.                        7.30                            America Online      Mikey goes back in time.                        7.10                            Visa      U.S. Olympic women's volleyball         team plays in snow.                        7.05                            Chevrolet      Tall athletes appear small in new Aveo.                        7.04                            Walt Disney Studios      Trailer for The Ladykillers.                        6.97                            Anheuser-Busch      Responsibility message for ID.                        6.92                            Warner Bros.      Trailer for Troy.                        6.92                            MasterCard      Homer Simpson adds crude humor to         &quot;priceless&quot; ad.                        6.88                            Dodge      DaimlerChrysler's new spot for         2005 Magnum.                        6.87                            Cadillac      Cadillac SRX                        6.81                            America Online      Mikey makes an Evel Knievel         jump. (replay)                        6.79                            Sony Pictures      Trailer for 50 First Dates.                        6.75                            Staples      Office workers trade pastries         for office supplies.                        6.68                            Warner Bros.      Trailer for Starsky &amp; Hutch.                        6.68                            Cadillac      Four Caddy models leave behind         turbulent path.                        6.63                            Office of National Drug Control Policy      Peers, parents try to stop drug users through         &quot;Early Intervention.&quot;                        6.63                            NFL One      Ad promotes volunteerism.                        6.53                            Walt Disney Studios      Trailer for Miracle.                        6.52                            America Online      Mikey gets launched.                        6.47                            Philip Morris      Smoking-prevention ad.                        6.44                            Mitsubishi      New spot for launch of 2004         Galant.                        6.40                            Microsoft      Helping kids achieve potential.                        6.38                            Sony Pictures      Trailer for Secret Window.                        6.38                            Honda      Pilot owner raised by wolves.                        6.35                            Walt Disney Studios      Trailer for Hidalgo.                        6.34                            Gillette      Black-and-white images show men enjoying life.                        6.21                            FedEx      Alien office worker tricks boss.                        6.16                            Walt Disney Studios      Trailer for The Alamo.                        6.16                            Levitra      Mike Ditka promotes Bayer and         GlaxoSmithKline's new ED drug.                        5.99                            Cadillac      Cadillac SRX. (replay)                        5.98                            Pepsi      Pepsi, iTunes show kids         prosecuted for unauthorized music downloads.                        5.90                            IBM      Muhammad Ali tells kid to shake up the world.                        5.85                            Universal Studios      Trailer for Van Helsing.                        5.85                            Expedia      A husband and wife plan a trip to New York City.                        5.84                            H&amp;R Block      Puzzled taxpayers seek financial         advice from Willie Nelson doll.                        5.78                            Monster      Boss and applicant get ready for interview.                        5.73                            American Legacy      Scientist outlines the         &quot;safety&quot; of phony shards of glass company.                        5.70                            5         least popular              Monster      Sleepy workers get ready for jobs.                        5.69                            AIG Insurance      Insurance game plan for life.                        5.30                            Cialis      Eli Lilly shows romantic scenes with couples.                        5.29                            Schick      Quattro's &quot;Power of         Four.&quot;                        5.16                            Levitra      Ditka again in shortened &quot;challenge&quot; ad.                        4.08                                                                                                                            文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2004年2月 6日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章广告（购买广告位）云手机                                                                      我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9d58da4bcf45',t:'MTc0MzI0MzQxNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2004/02/post_32.html
我也爱Firebird浏览器 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    我也爱Firebird浏览器 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：2003年的网络照片（下一篇：中国Web信息博物馆&nbsp;                                                                                分类：                                                                                    杂物间                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              我也爱Firebird浏览器                                                                                    作者： 阮一峰                                    日期： 2004年2月 7日                                                                                                                                            只有用过才知道Firebird有多好，比IE强多了，我是越用越喜欢。                                                                                                                下面是Firebird开发者的一篇访谈。最喜欢里面的这段话："我是这样一种人，我很少会对招摇的东西留下印象，更多是对可用性感兴趣，大体上，我更喜欢与我的系统结合得更好的朴素的主题。"哈哈，我也是这样的人。======================================Neowin采访Firebird开发者Ben Goodger（转载）原文来源：Playin' with ITMozilla Firebird是来自Mozilla小组最新浏览器的商标。采访中Ben Goodger作为该浏览器的开发负责人，阐述了有关浏览器的独特观点。问：首先，感谢你来跟neowin对话！你何不先谈谈你自己，以及你在Mozilla.org中的角色。答：我叫Ben Goodger，我是Mozilla Firebird的开发负责人，我为Mozillla基金会工作。我的工作主要就是帮助完成Firebird 1.0。问：能不能向我们简单描述一下Mozilla Firebird的情况和历史？答：就像你们知道的，Mozilla由Netscape创建于1998年，当时是希望以某种方式寻求帮助，以便打造下一代浏览器。这一工作的结果就是Mozilla 1.x套件（开发者称之为"Seamonkey"），它构成了Netscape 6和7系列的产品基础。在这段时间中我是Navigator项目组的工程师，并且有不少人为那些产品做了大量工作。对于很多的决策都是让用户界面被关注，我们中的一些人感到不满，决策的做出是因为假定的商业事实。在Navigator和XPToolkit项目组中的一些成员有一种感觉，能够做一个更好的浏览器，这个浏览器关注真正的用户而不是特殊兴趣，一个可以体现大量市场要求的浏览器。Dave Hyatt和我2001年中期在这方面有了一个不成功的开始，我们用C#开发了一个嵌入Gecko引擎的Windows版浏览器，名为Manticore，但它没什么动静就失败了。2002年，Blake Ross、David Hyatt、Joe Hewitt和Pierre Chanial开始做一个新的XUL浏览器，叫做Phoenix，力图解决某些问题，但开始还是做了大量基于老的Seamonkey产品进行前期编码的工作，以使事情能轻松一点。到2002年下半年，Phoenix 0.5已经足够好，我把它作为一个默认浏览器使用。到此时，我已经不再在AOL的浏览器产品部门工作，但当这个项目开始出现与Manticore注定相似的命运的时候，我与此项目已经关系密切。一个全新的主题，一些用户界面的有意义的新变化，以及一个饱受争议的新名字----Firebird，我们在2003年5月发布了0.6版。这个发行版真正让这个项目变得知名，不只是因为有争议的命名，还因为它是如此的好，有更多卖点。经过这个夏天，我们在0.7发行版上增加了更多的改进，最终在2003年10月发布。那以后，我们又开始忙于0.8版，这个版本的发布已经非常非常近了。问：在Firebird中你最喜欢哪个特性？答：我现在真的再也不能使用任何其他的浏览器，因为集成了Google搜索栏，只要一个Ctrl+K，就可以在页面上查找你搜索的文本；卡片式浏览；阻拦弹出窗口；以及自动下载（一个带给Windows用户Mac风格的文件自动下载到你的桌面的特性）。问：你能不能给个理由，为什么Internet Explorer用户应该转换到Firebird？答：很多特性我已经描述过了。就算给IE增加了阻拦弹出窗口和Google搜索栏的插件，你还是不能进行卡片式浏览，也不能查找你输入的文本（只要开始输入文本，浏览器就会跳到页面上第一个匹配位置），没有改进的文件下载，很多很多。我们的用户界面看上去很简单，但却高度可定制，尤其是跟Mozilla 1.x产品相比，我们试图确切掌握IE用户的实际需求是什么，并让迁移变得很简单。问：一些用户还是会被Firebird吓住，因为他们担心页面不能被"正确"显示，而用IE则可以。你对此怎么看？答：这当然取决于你在访问什么页面。网上有一定数量的站点是专为微软技术设计的，一个典型例子是MSDN。需要专门启动IE去浏览一个站点的事情并不常见，我想在正确显示专有网页方面，我们比任何其他的非IE浏览器做得更好。问：Firebird按其本性是一个"紧凑的"浏览器，通过"扩展"添加功能。你有什么特别喜欢的，或者有哪些扩展在你看来是精华？答：我并不大量使用扩展，一般而言我也不考虑任何"精华"。我们是一个紧凑的浏览器，但我们不是一个"小"浏览器，从这个意义上说，我们故意去掉了很多人不需要的特性。我们试图把浏览器的默认安装做成各种特性的最佳设置并适用于每个人。当然有特殊兴趣的人可以自由定制他们的浏览器扩展以适合他们的使用习惯。有能力的下载者可以找到许多可下载扩展可以简化不同的操作，就像我自己的Magpie（这是我给我自己写的）以及来自其他人的扩展如DownloadSort和DownloadStatusbar。Web开发者可以找到能简化他们许多工作的扩展，如设定浏览窗口大小以适应不同的分辨率、HTML检查，等等。基本上惟一的目的就是让Firebird适应你的需求。问：Firebird最主要的特色之一就是高度可换肤，你个人使用什么主题？借这个话题再问一下，你发现有很多老的主题不兼容新版本的Firebird吗？答：我用默认主题。我是这样一种人，我很少会对招摇的东西留下印象，更多是对可用性感兴趣，大体上，我更喜欢与我的系统结合得更好的朴素的主题。但这只是个人的喜好。我们提供几乎任何应用的高度可修改和最易于理解的主题引擎，所以人们可以拿出极其眩目的材料。至于旧主题的不兼容，或者它们的作者可以对这些主题进行升级，或者别人可以自愿地加以解决。在Firebird 0.9中，我们会加入新的功能，防止旧的主题和扩展妨碍浏览器的启动或引起其他问题。问：有没有什么特别令人兴奋的新特性会出现在下面几个新版本（0.8，0.9）中？答：有，我刚刚说的有关扩展和主题的功能就是很大的一部分工作，它将使扩展的作者更容易创建并分发不可抗拒的插件。我们还会加入一个功能，使从其他浏览器移植设置变得更简单。除此之外，在1.0之前不会有太多重大的新特性。0.9暂时列出的"已完成特性"就是一个艰巨的bug修复任务，并努力地进一步简化并改善用户界面，在这期间我并不期望有更多重大的新特性。问：你能告诉我们你在这条路上遇到过的问题吗，比如说Mozilla Firebird的命名以及"商标图片"的确定？它们在何种程度上拖延了这个项目？答：命名问题是一个不合时宜的难题。我们还没有做完我们的商标的元素，到目前为止更多的注意力已经放到了工程上，但在有效地推进产品方面仍有大量的事要做。希望未来会有更多的时间放到这方面。问：最后，告诉我们在Firebird上你还有什么秘密武器。答：关于1.0版以后还会发生什么我们也不知道，有对A或者B的改进版本的讨论，但我们还没有制定出一个策略或任何类似的计划。至于不远的将来----比如接下来的6个月----中心将是把可靠的1.0版送出门。我们相信2004年将会是潮流开始改变，我们拿回市场份额的一年。问：非常感谢Ben跟我们说的这些话，祝你在接下来的几个版本中好运，并希望未来某个时间我们再来聊一聊。Posted by Mr magoo on 23 January 2004Source: neowin&nbsp;Download: Firebird for Windows, Linux, and Mac.&nbsp;View: Mozilla Firebird&nbsp;View: Mozillazine.org, Mozilla News and Communities&nbsp;View: Discuss this Article in the Forums                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2004年2月 7日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2014.01.31: 浙江温州的鲸鲨屠宰场                                                         除夕夜，我收到英国摄影师Alex Hofford的邮件，他想让我帮忙曝光一件事。                            2012.01.01: 2011年的两首歌                                                         去年（再过一个小时，就是前年）的12月14日，迈克尔·杰克逊的遗作专辑发行了。                            2011.12.27: iDaily的诞生                                                         1.我知道沈一鸣（网名"且听枫吟"、lancelot23），是因为他的网站"Leica中文摄影杂志"。那时是2006年。                            2011.11.24: 珠海印象                                                         过去一周，我在珠海旅行。                            广告（购买广告位）云手机                                                              留言（7条）                                                                                                    kanno 说：                                                        我用的是myie，也是很不错的浏览器好像和这里所说的bird颇有异曲同工之乐处/也推荐使用哦                           2004年2月 8日 21:08 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        MyIE用的是IE的内核，实质上等于是IE的一个Skin，而Firebird则是一个全新的浏览器，推荐你一定要去下载。只有用了以后，才知道微软的技术一点也不高明。                           2004年2月 8日 22:17 | # | 引用                                                                                                                Margin 说：                                                        FIREBIRD ?没用过，倒是在一直在用firefox上黄色网站。因为我身边的人几乎不知道还可以用IE之外的东西上网，装上firefox后那些家伙用我的电脑时从来没点过，上黄网别别人发现的几率下降非常之多。firefox上网确实比ie快，尤其是国外的黄色网站。但是大多数网站ie跟firefox的差别我本人是可以忽略的，直接导致我只有上黄色网站时才用firefox的另一个原因就是还有很多网页的设计是只支持Ie内核，firefox即使用上插件在显示这些网页时还是怪怪的。                           2007年9月25日 19:56 | # | 引用                                                                                                                四野 说：                                                        楼上的很幽默 幽默的很下流 O(∩_∩)O                           2009年1月23日 14:46 | # | 引用                                                                                                                Dianso 说：                                                        这就是FIREFOX吧                           2011年1月 9日 01:43 | # | 引用                                                                                                                我是小王王 说：                                                        哈哈，多少年了。。。firebird原来是firefox的前身哈。                           2012年3月23日 11:07 | # | 引用                                                                                                                狡猾的狐狸 说：                                                        2020年的人用Firebird前来考古                           2020年9月27日 19:36 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9e347e4fcf45',t:'MTc0MzI0MzQ1Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2004/02/firebird.html
程荣的美术作品 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    程荣的美术作品 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：一条新闻及其评论&nbsp;&nbsp;&nbsp;下一篇：两个永恒之间的布尔斯廷                                                                                分类：                                                                                    剪贴板                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              程荣的美术作品                                                                                    作者： 阮一峰                                    日期： 2004年3月 5日                                                                                                                                            下面是程荣的一个Flash动画作品。                                                                                                                他是美国的一个数字艺术家，我很喜欢他的风格，大家看了就知道了。文件比较大，有1.5M，请耐心等待。上面是一个广告，是程荣为CompUSA公司的数字生活中心做宣传的。程荣的英文名是Ron Chan，个人网站是  http://www.ronchan.com ,这段动画就是从网站上下载的。我再来转贴几张他的作品吧。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2004年3月 5日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2018.12.09: 腾讯的历史                                                         今天，我读到一篇英语文章，向美国读者介绍腾讯公司的历史。                            2013.11.03: 柯文哲《生死的智慧》                                                         三天前，柯文哲医师在今年Ted Taipei的演讲《生死的智慧》，放上了Youtube。                            2013.02.19: 玉门人家照相馆                                                         今天，我参观了第九届上海双年展。                            2012.08.21: 斑头雁守护日记（转载）                                                         前几天，我在网上看到一个环保志愿者的《斑头雁守护日记》，很受感染。                            广告（购买广告位）云手机                                                              留言（3条）                                                                                                    pin 说：                                                        图片：剪贴状，艳丽，亮。这是我的第一视觉感。PS：去年看的电影《猫鼠游戏》（原名“CATCH ME IF YOU CAN”）的开头也是动画，十分喜欢那样简洁干净又不失幽默的黑白风格。                           2004年3月 5日 16:00 | # | 引用                                                                                                                ylzhou 说：                                                        波谱的制作而已！很漂亮所以很失败的东西！不能成其为严肃的东西！很“小资”的毕加索皮毛，磨掉了艺术的锋芒填充的是鲜红的商业气息！只能作为宣传海报之类的抢眼的具有感官引力的东西！                           2004年3月 5日 21:34 | # | 引用                                                                                                                Ruan YiFeng 说：                                                        艺术有很多种的，不是每幅画都含有思想的，有些作品存在只是因为悦目。这原本就是张贴画，是应用美术，用毕加索的标准去衡量是不是有点不合适？                           2004年3月 7日 00:22 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9e1f6817cf45',t:'MTc0MzI0MzQ0OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2004/03/post_47.html
分类：文学爱好者 - 阮一峰的网络日志    Trae 国内版出来了，真的好用吗？年初一月份，我就看到新闻，字节面向海外发布了一款 AI IDE，叫做 Trae。...阮一峰2025-03-03T16:00:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);    分类：文学爱好者 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                      分类： 文学爱好者 （共36篇文章）                                                          2010年              痛（诗歌）（[email&#160;protected]）                      2009年            格非《师大忆旧》（转贴）（[email&#160;protected]）                      2008年            翻译家方平去世了（[email&#160;protected]）                马原《白卵石海滩》（[email&#160;protected]）                戴望舒《洛尔迦诗抄》（[email&#160;protected]）                多情只有春庭月，犹为离人照落花（[email&#160;protected]）                迷宫和一本无限的书（[email&#160;protected]）                      2007年            莎士比亚名言选（[email&#160;protected]）                洛尔迦《哑孩子》（[email&#160;protected]）                张承志《北方的河》（[email&#160;protected]）                佛的境界（转贴）（[email&#160;protected]）                泰戈尔摘录（[email&#160;protected]）                卡尔维诺中文站留言板（[email&#160;protected]）                      2006年            安·兰德《阿特拉斯耸耸肩》（[email&#160;protected]）                爱默生的超验主义文学（[email&#160;protected]）                《我的名字是红》中的土耳其彩绘（[email&#160;protected]）                舍伍德·安德森的《小镇畸人》（Winesburg, Ohio）（[email&#160;protected]）                《午夜的孩子》中文版开始连载了！（[email&#160;protected]）                余华的《兄弟》：杰作还是垃圾？（[email&#160;protected]）                [小说]蓝天（转贴）（[email&#160;protected]）                [小说] 花，电话，姑娘（[email&#160;protected]）                一只蟑螂的诗（[email&#160;protected]）                但愿我和他一样，也有自焚的渴求（[email&#160;protected]）                小说是写给女人看的（[email&#160;protected]）                查拉《正面与反面》（[email&#160;protected]）                弗吉尼亚·伍尔夫《达洛卫夫人》（Mrs. Dalloway）（[email&#160;protected]）                斯万的爱情（[email&#160;protected]）                一堂天文课（When I heard the Learn'd Astronomer）（[email&#160;protected]）                《日瓦戈医生》的结尾（Doctor Zhivago）（[email&#160;protected]）                书评：《达尔文的阴谋》（The Darwin Conspiracy）（[email&#160;protected]）                奥威尔的两任妻子（The Women in Orwell's Life: Eileen and Sonia）（[email&#160;protected]）                安得促席，说彼平生（[email&#160;protected]）                宋玉《九辩》（文白对照）（[email&#160;protected]）                福克纳的繁复（[email&#160;protected]）                      2005年            Del James的《Without You》（[email&#160;protected]）                      2004年            蒋捷《客舟听雨》（[email&#160;protected]）                                                                      分类                散文（159）                                          观点与感想（195）                                          算法与数学（32）                                          开发者手册（223）                                          理解计算机（63）                                          JavaScript（100）                                          计算机行业历史（39）                                          周刊（342）                                          创业（58）                                          译文集（46）                                          科技爱好者（149）                                          文学爱好者（36）                                          英语爱好者（66）                                          剪贴板（162）                                          笔记本（179）                                          杂物间（288）                                          Joel谈软件（14）                                          USENET（7）                                                                                                       Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9ce50feacf45',t:'MTc0MzI0MzM5OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/literature/index.html
科技爱好者周刊（第 238 期）：停止寻找的最佳时间 - 阮一峰的网络日志    Vim 配置入门Vim 是最重要的编辑器之一，主要有下面几个优点。...阮一峰2018-09-16T09:32:56+08:00-->body {  background-color: #f5f5d5;}#container::before {  display: block;  width: 100%;  padding: 10px;  background: rgba(0,0,0,0.1);  text-align: center;  content: "本站显示不正常，可能因为您使用了广告拦截器。";}function loadjscssfile(filename, filetype){    if (filetype=="js"){ //if filename is a external JavaScript file        var fileref=document.createElement('script')        fileref.setAttribute("type","text/javascript")        fileref.setAttribute("src", filename)    }    else if (filetype=="css"){ //if filename is an external CSS file        var fileref=document.createElement("link")        fileref.setAttribute("rel", "stylesheet")        fileref.setAttribute("type", "text/css")        fileref.setAttribute("href", filename)    }    if (typeof fileref!="undefined")        document.getElementsByTagName("head")[0].appendChild(fileref)}//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");function checker() {  if (/mobile|android/i.test(navigator.userAgent)) return;   window.comments && window.comments.setAttribute("style", "!important");  // var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');  var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');  var isAdblocker = (typeof adblock === 'undefined');  if (    /*isAdblocker || */    (img && window.getComputedStyle(img).display === 'none') ||    (img && window.getComputedStyle(img.parentElement).display === 'none')  ){    var sponsor = document.querySelector('#main-content');    var prompt = document.createElement('div');    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';    prompt.innerHTML = '您使用了广告拦截器，导致本站内容无法显示。请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。';    sponsor.parentNode.replaceChild(prompt, sponsor);    // document.querySelector('#main-content').innerHTML = '';  }}setTimeout(checker, 1000);                    科技爱好者周刊（第 238 期）：停止寻找的最佳时间 - 阮一峰的网络日志if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');/*window.addEventListener('load', function(event) {  setTimeout(function () {    hab('#sup-post-2');    hab('#cre-inner');  }, 1000);});*/                                                阮一峰的网络日志  » 首页 » 档案                                                                                                                                                          上一篇：科技爱好者周刊（第&nbsp;2下一篇：科技爱好者周刊（第&nbsp;2                                                                                分类：                                                                                    周刊                                                                                                                            ⇐&nbsp;&nbsp;⇒                                                              科技爱好者周刊（第 238 期）：停止寻找的最佳时间                                                                                    作者： 阮一峰                                    日期： 2023年1月 6日                                                                                                                                            这里记录每周值得分享的科技内容，周五发布。                                                                                                                封面图去年年底，一具巨大的霸王龙化石骨架，紧急取消拍卖。因为有人投诉，它的头骨跟现存的一个标本实在太像了，高度怀疑是伪造的。为了巨额的金钱，这么大型的化石居然都能伪造。（via）本周话题：停止寻找的最佳时间最近，我读了一本算法书，作者是美国科普作家布赖恩·克里斯蒂安（Brian Christian）。英文书名叫做《Algorithms to Live By》（生活中的算法）。我读的是中译本，书名译成《算法之美》（中信出版社，2018）。说实话，这个书名有点误导。我以为讲的是编程算法，其实是生活中的数学知识。这本书的优点是，面向普通读者，偏重于文字解释和举例，比较通俗。缺点恰恰也是这个，因为没有任何公式和代码，不可能对算法有透彻的理解。好多地方我都被卡住了，想不明白怎么推理（可能是翻译的问题）。但是，它确实讲了很多有趣的数学知识。今天我想分享它的第一章 《最佳停止时间》：什么时候可以停止寻找？日常生活有很多"寻找-决策过程"，如果考察所有选项，要花费很长时间，可能还会错失机会，后面遇到的未必有前面的好。能否确定一个时间点，到了某个阶段就停下来，不再寻找了，这时找到合适候选人的概率最大？这在数学上称为"秘书问题"。某公司招聘一名秘书，有100名候选人，依次面试。每面试完一个人，就必须立刻决定是否录取。也就是说，不能面试完所有人，再回过头决定录取哪一个，一旦放弃当前候选人，就只有从后面的面试者中选择。这个设定是合理的，象征我们在生活中遇到的各种机会。机会来临时，转瞬即逝，必须立刻决定是否抓住它，错过就是错过了。你在三个月前放弃了一个机会，不可能三个月后再捡起来。大家可以想一想，这时应该面试多少人？如果录用得太早，可能错过后面更好的候选人；如果录用得太晚，可能错误放走前面的合格人选。数学家对这个问题，已经有了充分的讨论。经过计算，成功概率最大的方法，叫做"1/e 法则"。e 是自然对数的底数，约等于2.718，那么 1/e 就约等于37%，所以它又称"37%法则"。"37%法则"的意思就是，寻找阶段进行到37%就要停止。 100个应聘者，先面试前37个，此后的面试只要遇到一个更优秀的，就立刻录取，不再继续面试了。换句话说，前37个面试者无论多么优秀，都不会录取，他们只是用来确定录取的标准。如果最合适的候选者偏偏在前面37%里面，那就只能错过了，作为"寻找阶段"不得不付出的成本。最终录取的将是不如前面候选人的次优选择。这个法则很实用，日常生活中，只要符合"寻找-决策过程"的场景，都可以适用37%法则。（1）相亲时，假定有10个相亲对象，那么前3～4个可以作为寻找阶段，后面只要遇到一个比前面更好的人，就可以同意了。（2）租房时，假定有一个月的找房子时间，那么30天的37﹪也就是11天。在找了11天之后，你就要出手了。只要发现比先前更令人心动的房子，就不要犹豫，马上租下来。（3）读书时，假定这本书有100页，如果读了37页，还没有发现感兴趣的内容，那就可以放弃了。（4）一个10集的电视剧，第4集是最佳弃剧时间。（5）一个10分钟的视频，看了3分42秒，如果还是觉得不好看，就可以关掉了。（6）一个年轻人想在18岁到24岁，一共7年时间里找到人生方向，确定未来想做什么。那么，他有2.59年（7 * 0.37）的时间自由尝试。也就是说，到了大三下学期就应该初步定下自己的方向，后面除非遇到更有吸引力的事情，否则就不应该转换事业方向。科技动态1、识别深度伪造越来越多的视频是 AI 工具伪造的（deepfake），效果十分逼真，用户根本分辨不出。英特尔公司宣布了一个叫做 FakeCatcher 的软件，号称可以查出某个视频是否为深度伪造，准确度高达96%。它的原理是识别视频人物皮肤的静脉血液流动。如果是真人，血液时刻在体内循环，皮肤上的静脉就会有周期性的深浅变化，深度伪造的人就没有。2、无人机急救浙江大学发明了一种无人机急救系统。病人突然遭遇外伤或者心脏疾病，身边找不到其他人，这时无人机就可以紧急向病人空投药物。空投药物带有自助注射系统，只要接触到皮肤表面，弹簧可以释放出足够的能量，使得微针头插入皮肤给药。不过，如果病人能够自己报告方位、拿到无人机药物并注射，这说明身体状况没有那么紧急，这个系统的实用性看上去很低啊。3、三峰日微软公司的 Office365 团队，统计了各家公司远程网上办公的数据，发现在家办公每天有三个高峰时段。第一个高峰是上午10点到11点，第二个是下午2点到3点，第三个是晚上10点到11点。这三段时间的办公活动最频繁。传统的办公室上班没有第三个高峰，这是不是提示老板，如果推行远程办公，可以下午早点下班，然后睡觉前补一个小时？4、3000安培充电两家瑞士公司发明了一个快速充电系统，充电电压为 1250V，电流高达3000安培，可以大大加快汽车充电时间。这么大的电流，电线必须做得很粗，才不会过热。它的充电头的尺寸之大，超乎你的想象。里面有四股铜线，每个都是碗口大小。文章1、如何修建抗震的房屋？（中文）这是一个建筑学博士的科普演讲，大楼应该怎么建造，才不会在地震中倒塌？2、为什么 calloc() 存在？（英文）C 语言分配内存空间有两个方法：malloc() 和 calloc()。一般认为，前者完全可以替代后者，那么为什么要设计后者？3、BeOS 系统的故事（英文）1996年，苹果公司频临破产，决定收购一个外部系统，作为自己的操作系统。当时有两个候选者：BeOS 和 NeXT，都是苹果前员工创建的。最终苹果选择了 NeXT，但是 BeOS 也没完全死，演变成了现在的开源系统 Haiku，还在开发中。4、为什么 Git 如此难用？（英文）本文分析 Git 复杂性的几个来源。5、Pandas 加载数据的方法和技巧（英文）Pandas 是 Python 语言的数据分析工具库，本文介绍这个库加载不同数据源的方法和技巧。6、像写 CSS 一样写 SVG（英文）作者介绍他发明的一种新工具，可以改变 SVG 的写法，让手写 SVG 变得像写 CSS 一样。7、如何实现蓝绿发布（英文）作者介绍如何在个人网站实现"蓝绿发布"。他有两台服务器，一台是生产服务器，另一台是备用服务器，总是发布到备用服务器，然后把流量切过去。8、Node.js 如何查看内存泄漏（英文）这篇长文有一个部分，详细介绍了 Node.js 查看内存占用的几种方法。工具1、Bolt.css一个极简的 CSS 框架，不使用 class，只修饰 HTML 原生元素。2、zlib 搜索器一个 z-library 的搜索器，需要本地起服务，然后你就能在本地搜索 z-library 了，参考 Demo1、Demo2。3、Auth.js这原来是 Next.js 的授权模块，最近改成了通用模块。它用来提供 Web 的登录服务，内置了很多身份验证服务。4、Mind FM一个背景音乐 iOS App，集成了 LoFi、脑波、古典乐、白噪音等。（@ddiiiik 投稿）5、sapic一个开源图床，需要自己架设，支持将图片存储到本地、又拍云、七牛云、阿里云、腾讯云、GitHub、Gitee(码云)、S3等。（@staugur 投稿）6、steganographyC++ 写的图像加密命令，可以把一个 zip 压缩包嵌入 PNG 图像，完全看不出异样。JSON 可视化JSON 是网络数据的常用格式，但它是机读格式，不容易编辑和阅读。网上有很多 JSON 可视化工具，大大便利了 JSON 编辑和阅读。1、JSON Visualization这个工具可以把 JSON 数据渲染成表格。2、JSON Viewer这个工具可以分层展示 JSON 数据。3、jq playjq 是 JSON 数据的查询工具，类似于 JSON 的 SQL 查询。这个链接是 jq 实验场，可以粘贴你的数据，然后在网页上执行各种 jq 命令，查询结果。4、JsonT.run一个国产的 JSON 在线编辑查看工具。（@bimohxh 投稿）资源1、Systemd 示例教程这个网站通过许多例子，教你如何写 Systemd 配置文件，还可以在线运行你自己的 Systemd 配置文件，查看效果。2、世界前100万名网站谷歌公司根据 Chrome 浏览器的数据，公开了世界前100万名网站排名。链接里的仓库提供这个名单的下载（CSV 文件）。不过，因为 Chrome 浏览器在中国受限，它的中文网站排名不准。3、微软墓地这个网站收集了所有被微软公司关闭的自家产品。4、MacOS 的 zsh 教程（英文）zsh 已经替代 Bash，成为 Mac 电脑的默认 Shell。这是针对 MacOS 的 zsh 系列教程，一共8个部分。图片1、凹镜大楼2012年，伦敦市中心完工了一座大楼。这座玻璃幕墙大楼，顶部比底部宽，并且表面有一些向内收缩。当它完工以后，人们才发现，晴天出太阳时，这栋楼会变成一个凹面镜。它会聚焦阳光，反射在楼下的大街上。停在焦点区域的汽车，塑料部件会因为高温而融化。经过测量，焦点的温度可以达到72度。有人甚至拿出鸡蛋，演示焦点处可以煎鸡蛋。最后，大楼的开发商赔偿了所有损失，在焦点处安装了永久遮阳伞。文摘1、心理否认以下内容摘自《崩溃：社会如何选择成败兴旺》（上海译文出版社，2008年），作者是美国生物学家贾雷德·戴蒙德，他也是名著《枪炮、病菌与钢铁》的作者。一个狭窄的河谷建造了一座巨型水坝，有人对下游居民进行问卷调查，询问他们是否担心水坝倒塌。让人意外的是，住在水坝下游几英里的居民竟然是最担心水坝倒塌的人群，而住在水坝正下方的居民却一点都不担心。原因是正下方的居民产生了"心理否认"。这些居民每天一抬头就看到水坝，如果担心它会倒塌，从早到晚提心吊胆，那简直没办法过日子。保持镇定的惟一方法，就是从心底里否认水坝可能会倒塌这一事实。非理性地拒绝解决已经察觉的问题，这在心理学上叫做"心理否认"。 这个名词原本用于个人心理学，现在也扩展到社会文化。如果有件事情让你深感痛苦，你可能就会潜意识地压制或否认这种感觉，以免引起痛苦，尽管这实际上可能带来灾难性的后果。言论1、拍电影时，最重要的是你知道你想用电影表达什么。很多导演追求使用高科技拍电影，但对于他们真正想要表达的内容，却只有一个非常模糊的概念。人们其实非常欣赏那些制作技术并不先进、但知道自己想说什么的电影。-- 宫崎骏2、我共事过的一些最具创造力和才华的人是大学辍学生。他们之所以辍学，大多是因为厌倦了缓慢的教学和浪费的时间，自己选择离开离开。我们公司曾经流传一个笑话。如果你需要在半年到一年内做好一个产品，那就找一个有足够经历的大学辍学生来完成这项工作。如果你不需要做实际产品，并且有四年的时间，那就请一个拥有博士学位的人。-- Hacker News 读者3、银河系中有 10^11 颗恒星。这是一个巨大的数字，但也只有一千亿。美国政府的财政赤字已经超过了它。我们过去称巨大的数字为天文数字，现在我们应该称它们为经济数字。-- 理查德·费曼，著名物理学家4、最近，我开了一次讲座。一个听众提问："你们网站不是 web2 吗？为什么不把它转换成 web3？"这让我不知如何回答。web3 这个词似乎没有公认的定义，有人甚至说"它就是你想要的任何东西"。-- 《你们不是 web2 吗？》5、社交媒体越来越像抖音，在那里你看不到你朋友的内容，只看到别人点赞的内容。-- Hacker News 读者历史上的本周2021年（第190期）：产品化思维2020年（第140期）：印度人的工钱是多少？2019年（第88期）：如果你遇到一条蛇2018年（第37期）：小说家的时代，永远地过去了说明周刊每周五发布在我的个人网站和微信公众号《阮一峰的网络日志》，欢迎订阅。周刊是开源的，自由使用，仓库在 GitHub: ruanyf/weekly，投稿请到仓库提交 issue。我们还开设了 《谁在招人？》 服务，欢迎发布或查看程序员招聘信息。商业合作和产品推广，请邮件联系我（Email： [email&#160;protected] ）。鸣谢文档和笔记服务 FlowUs 对周刊提供支持，非常感谢。FlowUS 是新一代知识管理与协作平台，集成了"文档+表格+网盘"，具有写文档、制作主页、管理数据、存储文件等多种用途。周刊开设了 FlowUs 专栏，欢迎大家也去开设自己的专栏和页面。（完）                                                                                                        文档信息版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）发表日期： 2023年1月 6日                                                                  .wwads-content .wwads-text {font-size:1.4em;} .wwads-cn img{ border : none;}    相关文章2025.02.28: 科技爱好者周刊（第 339 期）：代币是什么                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.21: 科技爱好者周刊（第 338 期）：重新思考 6G                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.14: 科技爱好者周刊（第 337 期）：互联网创业几乎没了                                                         这里记录每周值得分享的科技内容，周五发布。                            2025.02.07: 科技爱好者周刊（第 336 期）：面对 AI，互联网正在衰落                                                         这里记录每周值得分享的科技内容，周五发布。                            广告（购买广告位）云手机                                                              留言（70条）                                                                                                    FrankMa 说：                                                        停止寻找的最佳时间 的故事和苏教版小学语文的一篇课文很像, 《最大的麦穗》, 课文的寓意是教学生珍惜机会, 阮老师分享的这个故事提供了一个更具体的方法论, 果然是很贴近生活的数学知识                           2023年1月 6日 09:02 | # | 引用                                                                                                                拉夫德鲁的天空 说：                                                        本周话题李永乐老师几年前也讲过，这只是理性方面的，但人是感性动物，哪怕包装的很好。臆测实际生活中没人用这套。                           2023年1月 6日 09:17 | # | 引用                                                                                                                joiner 说：                                                        2023年的第一期，新年好！                           2023年1月 6日 09:17 | # | 引用                                                                                                                echeverra 说：                                                        37%法则很棒，学习了~                           2023年1月 6日 09:21 | # | 引用                                                                                                                张磊 说：                                                        恐惧来源于未知                           2023年1月 6日 09:24 | # | 引用                                                                                                                刘诏 说：                                                        房子抵抗地震，是不是参考一下故宫。                           2023年1月 6日 09:25 | # | 引用                                                                                                                无忧大侠 说：                                                        数学只是概率性问题，社会上的因素还是很多的。但是还是不错的选择的方式。                           2023年1月 6日 09:26 | # | 引用                                                                                                                YF 说：                                                        唐飞们诠释了当下的心理否认                           2023年1月 6日 09:33 | # | 引用                                                                                                                Hwilu 说：                                                        引用FrankMa的发言：停止寻找的最佳时间 的故事和苏教版小学语文的一篇课文很像, &gt;, 课文的寓意是教学生珍惜机会, 阮老师分享的这个故事提供了一个更具体的方法论, 果然是很贴近生活的数学知识就是那个摘树叶的故事呗                           2023年1月 6日 09:33 | # | 引用                                                                                                                Simula 说：                                                        假如后63%里的人，都比不过前37%里最优秀的那个人，那在面试后63%的人的时候该如何选择？                           2023年1月 6日 09:38 | # | 引用                                                                                                                喵 说：                                                        引用FrankMa的发言：停止寻找的最佳时间 的故事和苏教版小学语文的一篇课文很像, &gt;, 课文的寓意是教学生珍惜机会, 阮老师分享的这个故事提供了一个更具体的方法论, 果然是很贴近生活的数学知识什么柏拉图找麦穗, 什么电梯找钻石, 都是这个意思                           2023年1月 6日 09:42 | # | 引用                                                                                                                无知过客 说：                                                        阮老师贴的是老版的 JsonT.run 截图，新版的需要手动 F12 ，Application -> Service Workers -> unregister 一下 worker 刷新就能看到新版的                           2023年1月 6日 09:52 | # | 引用                                                                                                                三叶 说：                                                        最佳停止时间重要的是它的推导和约束，并反推至物理意义，用来指导生活。如果不知其所以然拿来直接用，并视结论为圭臬，略显愚昧了。                           2023年1月 6日 10:04 | # | 引用                                                                                                                JvaScript 说：                                                        每周五坐等阮老师周刊，看一遍美滋滋                           2023年1月 6日 10:13 | # | 引用                                                                                                                大名 说：                                                        引用Simula的发言：假如后63%里的人，都比不过前37%里最优秀的那个人，那在面试后63%的人的时候该如何选择？录取最后一个                           2023年1月 6日 10:22 | # | 引用                                                                                                                jax 说：                                                        早啊早啊 又学到了很多定律 https://qlily.com/?p=3034                           2023年1月 6日 10:24 | # | 引用                                                                                                                guahunyo 说：                                                        引用Simula的发言：假如后63%里的人，都比不过前37%里最优秀的那个人，那在面试后63%的人的时候该如何选择？我也想问                           2023年1月 6日 10:29 | # | 引用                                                                                                                起风了 说：                                                        AI软件生成伪造视频，生成软件和鉴别软件会像病毒与杀毒软件一样彼此迭代进步。                           2023年1月 6日 10:31 | # | 引用                                                                                                                saint 说：                                                        引用Simula的发言：假如后63%里的人，都比不过前37%里最优秀的那个人，那在面试后63%的人的时候该如何选择？是不是可以套用37%的理论，如果过了37%还没有更优秀的人，那后续就调整为第二次37%筛选的标准                           2023年1月 6日 10:33 | # | 引用                                                                                                                匿名诺夫 说：                                                        如果最合适的候选者偏偏在前面37%里面，那就只能错过了，作为"寻找阶段"不得不付出的成本。最终录取的将是不如前面候选人的次优选择。================这句话并没有说清楚，当我们面临最合适的候选者在前37%里的情况，应该如何找到所谓的“次优选择”。总不至于说“次优选择”就是最后一个候选者吧？                           2023年1月 6日 10:37 | # | 引用                                                                                                                x 说：                                                        24岁之前就确定人生目标有点扯，都没尝试过什么。既然是人生目标，用人均寿命乘以37%还差不多。                           2023年1月 6日 10:42 | # | 引用                                                                                                                匿名诺夫 说：                                                        引用saint的发言：是不是可以套用37%的理论，如果过了37%还没有更优秀的人，那后续就调整为第二次37%筛选的标准假设你已经面试过37个人了，好了，你告诉我，后面的63人有没有更优秀的？或者说，现在要不要开启第二次37%的筛选？                           2023年1月 6日 10:55 | # | 引用                                                                                                                怪诞 说：                                                        这个最佳时间彻底解决了我的完美主义强迫症，感谢感谢！                           2023年1月 6日 11:13 | # | 引用                                                                                                                ANNAN 说：                                                        引用x的发言：24岁之前就确定人生目标有点扯，都没尝试过什么。既然是人生目标，用人均寿命乘以37%还差不多。大多数人在24岁前的选择并不能决定未来的方向，37%法则适用的条件是“你必须立即给出选择”，人生的方向不是立即需要给出答案的。                           2023年1月 6日 11:36 | # | 引用                                                                                                                晚风 说：                                                        引用Simula的发言：假如后63%里的人，都比不过前37%里最优秀的那个人，那在面试后63%的人的时候该如何选择？假如这个优秀程度是递减的，是不是这个方法就没有意义了                           2023年1月 6日 11:52 | # | 引用                                                                                                                产品经理小桂子 说：                                                        引用Simula的发言：假如后63%里的人，都比不过前37%里最优秀的那个人，那在面试后63%的人的时候该如何选择？哈哈，这个是一个这种选择的思路。你都已经全部面试了，自然是选择最优的人！                           2023年1月 6日 12:10 | # | 引用                                                                                                                Duya 说：                                                        引用saint的发言：是不是可以套用37%的理论，如果过了37%还没有更优秀的人，那后续就调整为第二次37%筛选的标准妙啊                           2023年1月 6日 13:54 | # | 引用                                                                                                                ANNAN 说：                                                        引用Simula的发言：假如后63%里的人，都比不过前37%里最优秀的那个人，那在面试后63%的人的时候该如何选择？标准的数学区间有最大值和最小值：[min， max]，37%法则给出了最小值，但没有给出最大值：(37%, ?]37%法则的适用条件是：“你必须立即给出选择”，而面试的本质是“寻找最优解”。甚至为了得到最优解，面试的时候从来都不会立即给出结果，而是告诉候选人“等待通知”。                           2023年1月 6日 14:16 | # | 引用                                                                                                                lofayo 说：                                                        引用saint的发言：是不是可以套用37%的理论，如果过了37%还没有更优秀的人，那后续就调整为第二次37%筛选的标准这样不断细化37%的下去，那你最后是不是就空手而归了？                           2023年1月 6日 14:19 | # | 引用                                                                                                                lofayo 说：                                                        引用saint的发言：是不是可以套用37%的理论，如果过了37%还没有更优秀的人，那后续就调整为第二次37%筛选的标准这样不断细化37%的下去，那你最后是不是就空手而归了？                           2023年1月 6日 14:21 | # | 引用                                                                                                                lofayo 说：                                                        那个凹面镜的大厦，如果第一张图给个斜侧面的，会更好理解些。还以为凹面是经过有利考虑设计的，怎么利用这样的反射光呢，没想到还给了别人赔偿，咳                           2023年1月 6日 14:24 | # | 引用                                                                                                                AmaF 说：                                                        有人问如果最好的就在前37%，那应该选用哪种策略，我觉得这个策略不是这么死板的（原本的策略是只有后面找到好于前37%的一个才选，否则就一直挑到最后一个）。要理解的是前37%是给了你一个标准，就是当你不清楚总量的值区间的时候，依靠前37%你获得了一个可信度还算可以的区间范围，在之后的选择中，你就可以给自己设置一个心理预期。比如一共100个秘书，你面了37个之后，就可以预测这100个人是个什么水平区间，以及在接下来的63个人中，你可以评估每个人在这个区间的什么位置。这样你就可以随时调整自己的心理预期，比如接下来的前30个人，你还可以设置比较高的标准：“我要找到在这个区间顶端10%，或者超过区间最大值的人”，但是如果面过这30个你没找到，只剩下33个了，你就得调低心理预期：“只要区间前30%就行了”，而剩下最后10个的时候，你可能觉得“只要前50%”就行了。这样才可以最大程度的避免错过好的。                           2023年1月 6日 15:04 | # | 引用                                                                                                                Donne 说：                                                        宫崎骏这句话让我想起了《明日战记》。                           2023年1月 6日 15:26 | # | 引用                                                                                                                lqq 说：                                                        三十而立，四十知天命，人生命中的前30%                           2023年1月 6日 16:11 | # | 引用                                                                                                                Apsaram 说：                                                        “一个年轻人想在18岁到24岁，一共7年时间里找到人生方向，确定未来想做什么。那么，他有2.59年（7 * 0.37）的时间自由尝试。也就是说，到了大三下学期就应该初步定下自己的方向，后面除非遇到更有吸引力的事情，否则就不应该转换事业方向。”人生的方向不能用概率论去计算，人终其一生都在寻找方向，能够很早找到方向的人都是幸运的                           2023年1月 6日 16:14 | # | 引用                                                                                                                lljxww 说：                                                        我去找新的出租屋了, 一共有十个房子等我看.从第四个开始,我就要看到好的, 就下手. 但直到看到第10个, 发现它只是第二好的, 最让我心动的在第二个.我打电话给中介, 得知第二套还没租出去.于是我租下来了.                           2023年1月 6日 16:16 | # | 引用                                                                                                                hehe 说：                                                        内容越来越缩水                           2023年1月 6日 16:39 | # | 引用                                                                                                                XX 说：                                                        寻找最佳时间那个，不是科学不是数学也不是概率，是跳大神                           2023年1月 6日 17:06 | # | 引用                                                                                                                devzhi 说：                                                        无人机急救这个 假如可以配合Apple Watch之类的可穿戴设备的检测功能（如车祸检测、心率检测等）就很实用                           2023年1月 6日 17:26 | # | 引用                                                                                                                ANN 说：                                                        引用YF的发言：唐飞们诠释了当下的心理否认在科技周刊键政，脑子瓦特了                           2023年1月 6日 17:55 | # | 引用                                                                                                                Atchison 说：                                                        web3.0现在根本不存在，如果说有一点新技术，那只能称为web2.1,web2.5或者最多web2.8, 想一口吃个胖子是不现实的。                           2023年1月 6日 18:12 | # | 引用                                                                                                                fan 说：                                                        引用Simula的发言：假如后63%里的人，都比不过前37%里最优秀的那个人，那在面试后63%的人的时候该如何选择？选择最后一个幸运儿。                           2023年1月 6日 19:49 | # | 引用                                                                                                                ivu4e.com 说：                                                        web3.0和元宇宙有没有可比性？                           2023年1月 6日 20:45 | # | 引用                                                                                                                岁月漫步 说：                                                        凹面镜的大厦-----应该将错就错。   把下面的焦点圈起来，作为旅游景点，免费煮鸡蛋，物理科普基地   肯定热门，还不用给赔偿   商家没头脑啊，哈哈                           2023年1月 6日 23:08 | # | 引用                                                                                                                岁月漫步 说：                                                        原来这是2023年的第一期，做个纪念                           2023年1月 6日 23:09 | # | 引用                                                                                                                阮小川 说：                                                        三峰日，确实很真实，10-11是刚开始起床后没怎么努力学习，感觉猛学一番，2-3点是睡完午觉清爽了开始搞学习，10-11点是睡觉前，今天又没学什么，补偿补偿。（狗头）                           2023年1月 7日 10:45 | # | 引用                                                                                                                PeterLuo 说：                                                        Apple 当年选择 NeXT，还有一个原因是为了让乔布斯回归吧？水坝那个不仅是 “心理否认” 吧？人们更容易对遥远的未知感到恐惧，对近在眼前的事物感到安心，这种现象在心理学上叫什么？                           2023年1月 7日 14:22 | # | 引用                                                                                                                无名氏 说：                                                        引用echeverra的发言：37%法则很棒，学习了~同意。假设，我们可以活90岁，那么90*0.37 = 33.3岁，作为一个分界线，就要做出决定，自己喜欢做什么，不喜欢做什么。                           2023年1月 7日 18:37 | # | 引用                                                                                                                abitwhy 说：                                                        [css-doodle](https://css-doodle.com/) 优雅得让人赞叹!                           2023年1月 9日 08:58 | # | 引用                                                                                                                小毓 说：                                                        请问，37%法则是否适用于创业？                           2023年1月 9日 10:05 | # | 引用                                                                                                                zerod 说：                                                        引用Simula的发言：假如后63%里的人，都比不过前37%里最优秀的那个人，那在面试后63%的人的时候该如何选择？面试是个双向选择的过程，最优秀的反而可能拒绝offer，所以面试的例子不是很好，我们面试一般是找到符合预期标准之上的就可以停下了。                           2023年1月 9日 10:50 | # | 引用                                                                                                                galelord 说：                                                        研究地震的那位曲哲不是建筑师而是土木工程师37%决策有点像苏格拉底的麦穗理论                           2023年1月 9日 15:08 | # | 引用                                                                                                                Shawww 说：                                                        引用拉夫德鲁的天空的发言：本周话题李永乐老师几年前也讲过，这只是理性方面的，但人是感性动物，哪怕包装的很好。臆测实际生活中没人用这套。其实是有的，这个方法在二手房产交易行业应用很久，它与二手房屋定价策略也有关系。                           2023年1月11日 14:20 | # | 引用                                                                                                                xujhzc 说：                                                        果断下单买了这本推荐的书。                            2023年1月11日 17:12 | # | 引用                                                                                                                蚂蚁托山 说：                                                        37%法则和黄金分割0.618又有什么关联呢                           2023年1月13日 09:48 | # | 引用                                                                                                                Zhangdamin 说：                                                        宫崎骏的话是对卡梅隆说的吗?                           2023年1月16日 13:47 | # | 引用                                                                                                                酷酷的就 说：                                                        引用x的发言：24岁之前就确定人生目标有点扯，都没尝试过什么。既然是人生目标，用人均寿命乘以37%还差不多。现在24岁的小年轻才工作不久，都没有经历社会的毒打，没钱没对象的，怎么能确定人生目标。                           2023年1月17日 19:32 | # | 引用                                                                                                                熊大 说：                                                        中国的债务规模是多少了                           2023年1月18日 09:43 | # | 引用                                                                                                                puffs 说：                                                        感觉37%理论用于人类的行为有一定的不妥以相亲的例子举例：1.对于相亲来讲，相亲是双向选择的，有可能你找到了最优解，但你不是她的最优解。2.人类的心理和行为在短时间内都可以发生较大改变，更不必说长时间的影响。当你初恋和你再婚，你都不是同一个你了。原本是常量的因素(--即评判伴侣好与不好的标准)发生了变化。3.人们在不同的阶段寻找伴侣所花的时间不是相同或线性关系，有的人年轻时找对象时间多，有的人中年找对象时间多，这些都是不确定因素。..感觉37%法则定义太确切了，有种数学的“美”。感觉该法则应该是一个较大的范围，比如20%-50%。可能社会学家或者大数据能缩短这一范围。但我认为单靠数学家的计算，这值不适用多变的人类。                           2023年1月19日 00:44 | # | 引用                                                                                                                TzuHsing 说：                                                        懂了，以后阮老师的周刊，前百分之37内容觉得不好看，就马上关掉                           2023年1月19日 19:19 | # | 引用                                                                                                                不知 说：                                                        37%法则听起来确实很妙，影响不大的事情可以用来参考但生活中很多重要的事是抉择起来是复杂的，让这种选择给框起来仔细想想就有点不靠谱了好多生活中的例子其实是不知道总数的（被除的那个数）                           2023年1月28日 09:40 | # | 引用                                                                                                                张 说：                                                        大坝那个调查有没有可能是幸存者偏差，那些觉得有危险的人已经搬走了，剩下的都是不担心的                           2023年2月 3日 00:50 | # | 引用                                                                                                                jake seru 说：                                                        凹面镜的大厦，为啥不在焦点放太阳能电池板？发电还能赚一笔                           2023年2月 3日 09:21 | # | 引用                                                                                                                刘的 说：                                                        MindFM好评！正需要这个！！这样就不需要在QQ音乐付费会员了                           2023年2月 5日 01:29 | # | 引用                                                                                                                sol 说：                                                        [像写 CSS 一样写 SVG](https://yuanchuan.dev/experimenting-a-new-syntax-to-write-svg)（英文）本文作者曾经为了通过扩展 `CSS` 语法生成 `` 与样式规则集，来生成复杂的图形模式或动画，而创造了 [css-doodle](https://css-doodle.com/) 这个组件库（web component）。css-doodle，可译作 CSS 涂鸦。该组件库通过实现一个 `CSS` 语言超集，达到在同一语言环境中同时操作 DOM 与 CSS 的目的。本文的产生，正是源自作者对 `css-doodle` 组件库功能的延伸思考：既然能够通过近 CSS 语法有限地生成 HTML 标记，不妨更进一步，实现生成有更多属性、更复杂的 SVG 标记。而生成 SVG 标记的需求，源自作者希望手写 SVG 写得不那么痛苦（大佬，徒手撸 SVG 代码。我等普通人一般选择拿来主义，或者绘图工具生成 SVG 代码）。最终写下的应用代码，与 `QtQuick/QML` 有九分神似，或有所借鉴，或殊途同归 ????。小结，XML 表现力强，但谁写谁痛苦（`WPF/XAML`、`android/layout`，即使有 IDE 自动完成和文档注释，也是难写难读），通过 CSS 描述再自动转写，不失为一种优雅的解决方案（`React/JSX` 也是类似的路子）。                           2023年2月15日 00:19 | # | 引用                                                                                                                阮一峰需要改变 说：                                                        我大概说一说，可能是受利益驱使，阮一峰现在的博客没以前用心了，比如开头这个37%法则，典型的就是不具体问题具体分析。10个相亲对象，前3-4个我刷着手机相亲跟我认真倾听对方去相亲，是有明显区别的，不能大而化之，但是现在阮一峰的这个博客，经常性的有意无意的去忽视具体问题具体分析这个方法论，转而直接讨论结论，忽略过程。我不认同。还有，可能是舒适圈释然，阮一峰对自己不感兴趣的领域涉猎极少，谈论的东西大多是具体实施层面的，很少有从一定高度概括或者抽象某些概念去形成一定的观点的东西，很多内容，大概一看他得出的结论，有点幼稚的可怕。                           2023年2月22日 22:13 | # | 引用                                                                                                                ewer3000 说：                                                        @阮一峰需要改变：评论者过一段时间回看自己这段话,会不会惭愧?                           2023年2月23日 10:07 | # | 引用                                                                                                                严明 说：                                                        没有学过统计学的读者可能对37%法则有些误解. 为什么要略过前37%呢? 是因为将这37%的人视作一个抽样调查, 即从面试者中抽取37%的人, 考察它们的总体水平. 这个样本足够大, 可以较好地反映面试者整体的水平. 然后就可以判断出多高水平的面试者可能处于整体排名的前20%、30%或者40%, 然后就可以用这个标准去挑选剩余的面试者了.当然这个问题前提条件是按顺序面试, 每面试一个人都要立即做出决定, 不可回溯. 如果是不满足这个前提条件的场景, 就不应该使用这个方法了. 有人说这样选不到最优秀的人, 问题是这个前提条件下, 无论用什么方法都不可能必定选中最优秀者, 能做的只是用概率统计的方法, 用最大概率去选择更加优秀的候选者.37%这个数字也是用了一些概率学假设, 比如概率分布、随机抽样等, 并不是一个必须遵守的数字, 完全可以依照现实情况进行调整                           2023年12月 6日 11:33 | # | 引用                                                                                                                严明 说：                                                        引用阮一峰需要改变的发言：我大概说一说，可能是受利益驱使，阮一峰现在的博客没以前用心了，比如开头这个37%法则，典型的就是不具体问题具体分析。10个相亲对象，前3-4个我刷着手机相亲跟我认真倾听对方去相亲，是有明显区别的，不能大而化之，但是现在阮一峰的这个博客，经常性的有意无意的去忽视具体问题具体分析这个方法论，转而直接讨论结论，忽略过程。我不认同。还有，可能是舒适圈释然，阮一峰对自己不感兴趣的领域涉猎极少，谈论的东西大多是具体实施层面的，很少有从一定高度概括或者抽象某些概念去形成一定的观点的东西，很多内容，大概一看他得出的结论，有点幼稚的可怕。他只是一个分享者, 为什么要用完人的标准要求他?每个人的观点不同,读者并不是巨婴,他们可以判断作者言论的对错.                           2023年12月 6日 11:35 | # | 引用                                                                                                                云岳 说：                                                        其实就是黄金法则。线段的从右往左就是0.392,从左往右就是0.618。黄金法则是自然法则中的最佳比例。                           2024年4月24日 17:11 | # | 引用                                                我要发表看法                                                                                                                                                                                                        您的留言                    （HTML标签部分可用）                                                                                您的大名：                           &laquo;-必填                                                                电子邮件：                           &laquo;-必填，不公开                                                                个人网址：                           &laquo;-我信任你，不会填写广告链接                                                                                        记住个人信息？                                                                                                                                                正在发表您的评论，请稍候                                  &laquo;- 点击按钮                                                                                                                                                                 Instagram       邮件订阅         Feed       FeedBurner       atom.xml           支付宝：yifeng.ruan@gmail.com-->     授权方式       自由转载-非商用-非衍生-保持署名       微信公号       社交帐号       联系方式     -->                       Weibo |          Twitter |         GitHub                 Email: [email&#160;protected]           function insertLine(e,t){for(var n=0;ne.blob()).then(e=>{t(URL.createObjectURL(e))})}function toDataURL(e,t){var n=new XMLHttpRequest;n.open("get",e),n.responseType="blob",n.onload=function(){var e=new FileReader;e.onload=function(){t(this.result)},e.readAsDataURL(n.response)},n.send()}setTimeout(function(){var e=getImg();e&&(insertLine(e.parentNode,2),toObjectUrl(e.src,function(t){var n=document.createElement("p"),r=document.createElement("img");r.src=t,n.appendChild(r),e.parentNode.parentNode.insertBefore(n,e.parentNode)}))},3e3);                                                                                                                                                                                                                                                                                                                                                                                                                                                       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');var supportImg = document.querySelector('#support-img');if (supportImg && _hmt) {  _hmt.push(['_trackEvent', 'banner', 'load']);  supportImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'banner', 'click']);  }, false);}var homepageImg = document.querySelector('#homepage_sponsor');if (homepageImg && _hmt) {  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);  homepageImg.addEventListener('click', function () {    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);  }, false);}            (function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e9d6d4eb47bcd',t:'MTc0MzI0MzQxOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/blog/2023/01/weekly-issue-238.html
阮一峰的个人网站 - Ruan YiFeng's Personal WebsiteRuan YiFeng&apos;s Personal Website阮一峰的个人网站-->        阮一峰的个人网站 - Ruan YiFeng's Personal Website	html{	width:100%;	height: 100%;	margin:0;	padding:0}body{	background-repeat: no-repeat;	background-attachment:fixed;	-webkit-background-size: cover;    -moz-background-size: cover;    -o-background-size: cover;    background-size: cover;	background-position:50% 50%; 	margin:0;	padding:0;	width:100%;	height:100%;	background-image:url(http://www.ruanyifeng.com/images_pub/pub_0.png);	-webkit-transition: All 2s ease;	-moz-transition: All 2s ease;	-o-transition: All 2s ease;	-ms-transition: All 2s ease;	transition: All 2s ease;}body.one-column #container{	background-color:rgba(0,0,0,0.3);	border-radius: 1.5em;	color: #fefefe;	overflow: auto;     position: absolute;	left: 50%;	top: 50%;	width:auto;	height:auto;	max-height: 80%;	min-width:90%;	-webkit-transform: translate(-50%, -50%);	-moz-transform: translate(-50%, -50%);	-ms-transform: translate(-50%, -50%);	-o-transform: translate(-50%, -50%);	transform: translate(-50%, -50%);        transition: height 1s ease;	transition: top 1s ease;}body.one-column #container p,body.one-column #container a{	color: #fefefe;	text-shadow:0 1px 1px #333}body.one-column #container a:hover{	color: #868686;	text-decoration: underline;}body.one-column #page-alpha p:hover,body.one-column #footer-content a:hover{	background-color: #fefefe;	color: #222;}body.one-column #footer-content a:hover{	padding: 0.25rem;	border-radius: 0.5em;}body.one-column #page-alpha p:hover a{	color: #222;}body.one-column #page-alpha p{	background-color: rgba(0,0,0,0.5);	padding: 0.25rem;	border-radius: 0.5em;	text-shadow:0 1px 1px #333;}body.one-column #header{	/* height: 7rem; */	display: relative;	padding-bottom: 1em;}body.one-column #container h1{	font-size: 1.4rem;	line-height: 90%;	color: #fefefe;	float: none;	margin: auto;	padding-top: 0.4rem;	text-align: center;	font-weight: bolder;	text-shadow:0 1px 1px #333;}body.one-column #header-content:hover h1{	text-decoration: underline;}body.one-column #header-content h1:hover{	cursor:pointer;}/*body.one-column #header-content h1::after{	content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAALVBMVEVkLXAcHBodHRsdHRweHhseHhwfHxwfHx0gIBwgIB0gIB4hIR4hIR8iIiAjIyE9I8U+AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfeAQQHLyUKtZO3AAAAcUlEQVQI12NgAAJWBijQYGBnYIIw2RUYeBQYcINJUQyLGJQWQji8SggJdQTzEJyFrEALwT6kowRXsEjd4ABMQZE6WFyOYZGWUqk2iAm0q0g1KADEVDoEVKAKZrIDVQaVQ2zUVEpSCXIAM5lUlZSVAhgAQrASIJnpI9IAAAAASUVORK5CYII=);	display:inline-block;	background-color: #fefefe;	color: #222;	margin-left: 0.5em;	padding: 5px;	border-radius: 100%;	visibility: hidden;}*/body.one-column #header-content p{	text-align: center;}body.one-column #header-content{	display:block;	text-align: center;	margin: auto;}/*body.one-column #header-content::before{	display: block;	margin: 0.1rem auto;	width: 80px;	height: 80px;	content:url(http://www.ruanyifeng.com/blog/images/person4_s.jpg);	border-radius: 40px;	overflow: hidden;}*/@media (min-width: 641px) and (max-width:770px){	body.one-column #container{		min-width:70%;	}}@media (min-width: 771px){	body.one-column #container{		min-width:40%;	}}#up-arrow{	position: absolute;	right: 5px;	top: 5px;	width: 21px;	height: 21px;	background-image: url(data:image/gif;base64,R0lGODlhFgAVALMAAGNkZuLi44CBg5SVlru8vPb29tjZ2aioqW1ucIqLjOrq6sXFxgAAAAAAAAAAAAAAACH5BAAHAP8ALAAAAAAWABUAAARBUMlJq7046837LYVnJYlIEQBAmEqQpoEpvIAgHnR6dEb+GpsCwpdChDID4muQWShpi8+ARBUIqKTBkcXter9gUwQAOw==);	background-color: #fefefe;	border-radius: 100%;    cursor: n-resize;}body.one-column #container.folded{	top:15px;	margin-top:5px;	height:6px;	overflow:hidden;}          	  body.one-column #container{	background-color: #f5f5d5;	color: #111111;	display: absolute;	width: 50em;	margin: 10% auto;	min-width: 0;	top: 10%;	left:25%;	overflow: hidden;}body.one-column #container h1,body.one-column #container p,body.one-column #container a{	color: #111111;}                                                   			阮一峰的个人网站			Ruan Yifeng's Personal Website                                                                              » Articles | -->网络日志（Blog）  » 文集：未来世界的幸存者  » 文集：前方的路 » Tweets» AboutTaken in 2005-->                                                                                                                                    Contact | ruanyifeng.com                         var pub_img_current_image;function backgroundImage(){var pub_img_path='http://www.ruanyifeng.com/images_pub/';var pub_img_num = 355;var pub_img_current_no=function(){return Math.floor(Math.random()*pub_img_num+1);};var pub_img_url=function(){return pub_img_path+'pub_'+pub_img_current_no()+'.jpg';};if (pub_img_current_image === undefined ) pub_img_current_image = pub_img_url();if ('querySelector' in document) {	var body = document.querySelector('body').style;} else {	var body = document.body.style;}body.backgroundSize = 'cover';body.backgroundRepeat = 'no-repeat';body.backgroundImage = 'url('+ pub_img_current_image +')';var span = document.getElementById('img_placer');span.innerHTML = '';}backgroundImage();var up = document.getElementById('up-arrow');var upStatus = 0;up.addEventListener('click',function(){	if(upStatus === 0){		var container = document.getElementById('container');		container.setAttribute('class', 'folded');		up.style.backgroundImage = 'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAYCAYAAAARfGZ1AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHZSURBVEiJ7ZQ/ixpRFMXPeY6za7IEbbS1EGysUk0TkFjkI1imShFIioVASJsqW2wT8gW2TSsypBCLBLExEBgQ2cxodDdYKBhHDZv5c1Ooi4juGsIWCXvhNo97fu+++857FBHcVKgbI9/C/z84ROQyAahMJnMvn88fAIgB2AegA4guMrJoiAC4qt2UXPU5yT3DMB6l0+kHmqYpEQkWDTAMw8u6MAxJEiIiSikEQRAdjUY/Go3G8XA4HC/rtLVTXBiG0dR1/XkqlXqo6/rPMAw535cQES67XqxRRCKz2cydTqdPVsHAhpnX6/XTyWTy0nXdLyTvRiKRO0qpGMkYyX0AeyR1klEAmud5F7ZtvyiXy+/XWdz2/AuFwv1sNnsSj8dzMi8iyXBxQkUSnuf5rVbrValUOpYNoK1uqVQqn9vt9tPxePxVKbUcC0SESin4vh82m80jx3HebgJfCQcA0zQ/2bb9zHXdbyRBUiml6Pt+4DjOu06n88ayrF/b9Nf63DTND91u99B13e+apsHzPHEc56TX6722LGtylXbrzNejWCw+TiaTR4PB4GO/3z+sVqtn12l2hudyuYNEImEEQdCs1Wrnu2h2hgNzu2y7vL+G/2n8u7/iLXxj/AYhQQQGkT/xPgAAAABJRU5ErkJggg==)';        up.style.cursor = 's-resize'; 	} else{		var container = document.getElementById('container');		container.removeAttribute('class');		up.style.backgroundImage = 'url(data:image/gif;base64,R0lGODlhFgAVALMAAGNkZuLi44CBg5SVlru8vPb29tjZ2aioqW1ucIqLjOrq6sXFxgAAAAAAAAAAAAAAACH5BAAHAP8ALAAAAAAWABUAAARBUMlJq7046837LYVnJYlIEQBAmEqQpoEpvIAgHnR6dEb+GpsCwpdChDID4muQWShpi8+ARBUIqKTBkcXter9gUwQAOw==)';        up.style.cursor = 'n-resize';	}	upStatus = ~ upStatus;});				      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-46829782-1', 'ruanyifeng.com');  ga('send', 'pageview');(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'927e96c09bcdcf45',t:'MTc0MzI0MzE0Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();https://www.boost.org/doc/libs/1_78_0/doc/html/index.html
